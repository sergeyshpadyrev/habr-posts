(()=>{var __webpack_modules__={44897:e=>{e.exports={attachStacktrace:!0,maxBreadcrumbs:20,sampleRate:.1,ignoreErrors:["ResponseError","TypeError: null is not an object (evaluating 'd.frameElement')","Can't find variable: pktAnnotationHighlighter","ReferenceError: Can't find variable: article","top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","Script error.","NS_ERROR_UNEXPECTED","SyntaxError: illegal character U+009E"],denyUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i]}},15377:e=>{e.exports.en={SETTINGS_AGREEMENT_FINISH:"The end",SETTINGS_ACTION_SAVE:"Save preferences",SETTINGS_ARTICLES_ERROR:"You should select at least one language",SETTINGS_ARTICLES_TITLE:"Content",SETTINGS_FEED:"Feed",SETTINGS_FEED_CLASSIC:"Classic",SETTINGS_FEED_COMPACT:"Compact",SETTINGS_EMAIL_LABEL:"I want to receive emails on Habr updates (monthly)",SETTINGS_WELCOME_LABEL:"I want to take an introduction course: 6 emails, how things work on Habr",SETTINGS_DIGEST_LABEL:"How often do you want to receive a newsletter with the most interesting from the hubs you are subscribed to?",SETTINGS_FL_LANG_ENGLISH:"English",SETTINGS_FL_LANG_RUSSIAN:"Russian",SETTINGS_LANG_ENGLISH:"English",SETTINGS_LANG_RUSSIAN:"Русский",SETTINGS_RULES:"site rules",SETTINGS_TITLE:"Page settings",SETTINGS_UI_TITLE:"Interface",SETTINGS_SUCCESS:"Settings were updated successfully",SETTINGS:"Settings",SETTINGS_PROFILE:"Profile settings",SETTINGS_PROFILE_TITLE:"Profile",SETTINGS_SPECS:"Specialization settings",SETTINGS_SPECS_TITLE:"Specialization",SETTINGS_SKILLS_PLACEHOLDER:"Enter skill",SETTINGS_SKILLS_TITLE:"Skills",SETTINGS_SKILLS_HINT:"Select up to ten of your skills and rank them in descending order of importance.",SETTINGS_SPECS_HINT:"Select your specialization.",SETTINGS_SPECS_QUALIFICATION_TITLE:"Qualification",SETTINGS_SPECS_QUALIFICATION_NOT_SELECTED:"Not specified",SETTINGS_SPECS_OTHER_PLACEHOLDER:"Specialization title",SETTINGS_SPECS_OCCUPATION:"Occupation",SETTINGS_SPECS_SUM:"Sum",SETTINGS_SPECS_SALARY:"Desired salary",SETTINGS_SPECS_SALARY_HINT:"Indicate here how much you would like to earn.",SETTINGS_PROFILE_UPGRADE_TITLE:"Upgrade",SETTINGS_PRIVACY_TITLE:"Privacy",SETTINGS_NOTIFICATIONS_TITLE:"Notifications",SETTINGS_APPS_INSTALLED_TITLE:"Installed applications",SETTINGS_APPS_TITLE:"Applications",SETTINGS_APPS_MY_TITLE:"My applications",SETTINGS_APPS_REMOVE:"Remove",SETTINGS_APPS_EDIT:"Edit",SETTINGS_APPS_EMPTY:"You have no applications yet",SETTINGS_APPS_ADD:"Add new application",SETTINGS_APP_EDIT_TITLE:"Edit application",SETTINGS_APP_ADD_TITLE:"Add new application",SETTINGS_APP_IMAGE:"Icon",SETTINGS_APP_TITLE:"Application name",SETTINGS_APP_TITLE_HINT:"Enter application name",SETTINGS_APP_REDIRECT:"Redirect URL",SETTINGS_APP_REDIRECT_HINT:"Specify the URL for the redirect after authorization",SETTINGS_APP_ABOUT_HINT:"Describe your application",SETTINGS_APP_ABOUT:"Short description",SETTINGS_APP_TYPE:"Application type",SETTINGS_APP_TYPE_WEB:"Web application",SETTINGS_APP_TYPE_MOBILE:"Mobile application",SETTINGS_APP_TYPE_BROWSER:"Browser application",SETTINGS_APP_SCOPE:"Access permissions",SETTINGS_APP_READ:"Read only",SETTINGS_APP_READ_BOOKMARK:"Read only + bookmarks",SETTINGS_APP_ALL_RIGHTS:"Full access",SETTINGS_APP_EXTENDED:"Extended rights",SETTINGS_APP_COMPANY_NAME:"Company name",SETTINGS_APP_COMPANY_NAME_HINT:"Enter the developer company name",SETTINGS_APP_COMPANY_URL:"Company’s website",SETTINGS_APP_COMPANY_URL_HINT:"Enter the devepoler company’s website",SETTINGS_APP_TYPE_CHOOSE:"Select type",SETTINGS_APP_SCOPE_CHOOSE:"Select access permissions",SETTINGS_APP_RESET_CLIENT_ID:"Reset Client ID & Client Secret",SETTINGS_APP_RESET_API_KEY:"Reset API Key",SETTINGS_APP_RESET_HINT:"After the reset, all your applications will stop working until you update the settings",SETTINGS_ACCOUNT_TITLE:"Account",SETTINGS_MISC_TITLE:"Other",SETTINGS_PROFILE_AVATAR:"Avatar",SETTINGS_PROFILE_AVATAR_HINT:"Format: jpg, gif, png. '<br/>' Maximal size: 1 MB. '<br/>' Resolution: up to 96x96px.",SETTINGS_PROFILE_REALNAME:"Actual name",SETTINGS_PROFILE_REALNAME_HINT:"Specify your first and last name so that other users can find out what your name is",SETTINGS_PROFILE_WORKPLACE:"Workplace",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER:"Link with the company will be removed after saving the changes.",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER_ACTION:"Restore",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER:"Contact link will be removed after saving the changes.",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER_ACTION:"Restore",SETTINGS_PROFILE_SPECIALITY:"Describe yourself",SETTINGS_PROFILE_SPECIALITY_HINT:"Specify your specialization. For example: Database Administrator",SETTINGS_PROFILE_GENDER:"Gender",SETTINGS_PROFILE_GENDER_NOT_SPECIFIED:"Not specified",SETTINGS_PROFILE_GENDER_MALE:"Male",SETTINGS_PROFILE_GENDER_FEMALE:"Female",SETTINGS_PROFILE_BIRTH_DATE:"Birth date",SETTINGS_PROFILE_BIRTH_DAY:"Day",SETTINGS_PROFILE_BIRTH_MONTH:"Month",SETTINGS_PROFILE_BIRTH_YEAR:"Year",SETTINGS_PROFILE_LOCATION:"Location",SETTINGS_PROFILE_COUNTRY:"Country",SETTINGS_PROFILE_REGION:"Region",SETTINGS_PROFILE_CITY:"City",SETTINGS_PROFILE_CONTACTS:"Contacts and social media",SETTINGS_PROFILE_CONTACTS_HINT:"Specify the username or ID and we will create the link ourselves. If you want the link to be shown in the authors information panel, select it by clicking on the icon on the right.",SETTINGS_PROFILE_CONTACTS_ADD:"Add link",SETTINGS_PROFILE_YANDEX_MONEY:"YooMoney",SETTINGS_PROFILE_YANDEX_MONEY_HINT:"Wallet number 11-20 digits",SETTINGS_PROFILE_PAYPAL:"PayPal.Me",SETTINGS_PROFILE_PAYPAL_HINT:"PayPal.Me identificator. 3 to 20 digits and/or English letters",SETTINGS_PROFILE_WEBMONEY:"Webmoney",SETTINGS_PROFILE_WEBMONEY_HINT:"Wallet number. 12 digits",SETTINGS_PROFILE_SERVICES:"Services",SETTINGS_PROFILE_WALLETS:"Wallets",SETTINGS_PROFILE_DONATIONS:"Donations",SETTINGS_PROFILE_DONATIONS_RADIO_TITLE:"Accept donations via",SETTINGS_PROFILE_DESTREAM_TITLE:"destream",SETTINGS_PROFILE_DESTREAM_CONNECT:"Connect",SETTINGS_PROFILE_WALLETS_NAMES:"YooMoney, PayPal.Me, Webmoney",SETTINGS_PROFILE_ABOUT:"Tell us about yourself",SETTINGS_PROFILE_ABOUT_HINT:"No more than 6 500 characters",SETTINGS_PROFILE_SUBMIT:"Save changes",SETTINGS_PROFILE_SHOW_CONTACTS:"Who can see your websites and social networking accounts",SETTINGS_PROFILE_TO_EVERYONE:"everyone",SETTINGS_PROFILE_TO_FOLLOWING:"only those you are following",SETTINGS_PROFILE_INBOX_ACCESS:"Who can send you direct messages",SETTINGS_PROFILE_FROM_EVERYONE:"everyone",SETTINGS_PROFILE_FROM_FOLLOWERS:"only those you are following",SETTINGS_PROFILE_SHOW_ACTIVITY:"Who can track your activity on Habr (via notifications)",SETTINGS_PROFILE_NOBODY:"nobody",SETTINGS_PROFILE_TO_FOLLOWERS:"only those who following you",SETTINGS_PROFILE_PAYMENTS_INFO:"Specify the details of your wallets or connect destream to receive donations from other users. Depending on the chosen method of receiving donations, users will see the corresponding links.",SETTINGS_NOTIFICATIONS_NEW_COMMENTS:"Notifications about new comments",SETTINGS_NOTIFICATIONS_TO_MY_POSTS:"To my publications",SETTINGS_NOTIFICATIONS_TO_POSTS_WITH_COMMENTS:"To publications I left comments to",SETTINGS_NOTIFICATIONS_TO_BOOKMARKED_POSTS:"To publications I have bookmarked",SETTINGS_NOTIFICATIONS_TRACKER:"Tracker",SETTINGS_NOTIFICATIONS_EMAIL:"Email",SETTINGS_NOTIFICATIONS_SEND_ME_EMAILS:"Send me emails",SETTINGS_NOTIFICATIONS_NEWS:"About Habr news",SETTINGS_NOTIFICATIONS_NEW_EXPERIENCE:"About new opportunities for me on Habr",SETTINGS_NOTIFICATIONS_NEW_MESSAGES:"About new messages in conversations",SETTINGS_NOTIFICATIONS_NEW_COMMENTS_REPLY:"About new replies to my comments",SETTINGS_NOTIFICATIONS_NEW_MENTION:"When I’m mentioned in publications and comments",SETTINGS_NOTIFICATIONS_NEW_FOLLOWER:"When new subscriber added",SETTINGS_NOTIFICATIONS_ARTICLE_STATISTICS:"Statistics of my article",SETTINGS_NOTIFICATIONS_ARTICLE_TOP_STATISTICS:"My article made it to the top",SETTINGS_NOTIFICATIONS_TRACKER_SETTINGS:"Tracker settings",SETTINGS_NOTIFICATIONS_TRACKER_BADGE:"Show the number of unread notifications next to the tracker icon",SETTINGS_NOTIFICATIONS_FOLLOWERS_BOOKMARKS:"Show followers bookmarks in tracker",SETTINGS_NOTIFICATIONS_DIGEST:"How often do you want to receive a newsletter with the most interesting from the hubs you are subscribed to?",SETTINGS_NOTIFICATIONS_DIGEST_NEVER:"Never",SETTINGS_NOTIFICATIONS_DIGEST_DAY:"Every day",SETTINGS_NOTIFICATIONS_DIGEST_WEEK:"Weekly",SETTINGS_NOTIFICATIONS_DIGEST_MONTH:"Monthly",SETTINGS_MISC_INTERACTIONS:"Interaction",SETTINGS_MISC_REFRESH_PANEL:"Show comments update panel",SETTINGS_MISC_HOTKEYS:"Use hotkeys ('<a href=\"/docs/help/hotkeys/\">'list'</a>')",SETTINGS_MISC_DISABLE_ADS:"Disable ads",SETTINGS_MISC_YES_IT_WOULD_BE_NICE:"Yes, that would be great!",SETTINGS_READONLY_UPGRADE:"If you have an invitation code, enter it in a field below to get all the features of the full account.",SETTINGS_INVITE_CODE:"Invitation code",SETTINGS_INVITE_RECALLED:"The invitation was recalled",SETTINGS_INVITE_APPLIED:"Invitation was applied",SETTINGS_INVITE_ALREADY_USED:"The invitation has already been used",SETTINGS_INVITE_USER_ALREADY_FULL:"You are already full-fledged user of Habr, so you can't use invitations",SETTINGS_COLOR_THEME:"View options",SETTINGS_DARK:"Dark",SETTINGS_LIGHT:"Light",SETTINGS_SYSTEM:"System",SETTINGS_UNBLOCK_DARK_MODE:"Unlock dark mode",SETTINGS_CHANGE_THEME_SETTINGS:"Change theme settings"},e.exports.ru={SETTINGS_AGREEMENT_FINISH:"Завершить настройку",SETTINGS_ACTION_SAVE:"Сохранить настройки",SETTINGS_ARTICLES_ERROR:"Должен быть выбран хотя бы один язык",SETTINGS_ARTICLES_TITLE:"Публикации",SETTINGS_FEED:"Вид ленты",SETTINGS_FEED_CLASSIC:"Классический",SETTINGS_FEED_COMPACT:"Компактный",SETTINGS_EMAIL_LABEL:"Хочу получать письма об изменениях на сайте (не чаще раза в месяц)",SETTINGS_WELCOME_LABEL:"Хочу пройти вводный курс: 6 писем, как все устроено на Хабре",SETTINGS_DIGEST_LABEL:"Дайджест о самом интересном по вашим хабам",SETTINGS_FL_LANG_ENGLISH:"Английский",SETTINGS_FL_LANG_RUSSIAN:"Русский",SETTINGS_LANG_ENGLISH:"English",SETTINGS_LANG_RUSSIAN:"Русский",SETTINGS_RULES:"правила сайта",SETTINGS_TITLE:"Настройки страницы",SETTINGS:"Настройки",SETTINGS_PROFILE:"Настройки профиля",SETTINGS_SPECS:"настройки специалиазции",SETTINGS_SPECS_TITLE:"Специализация",SETTINGS_SKILLS_TITLE:"Профессиональные навыки",SETTINGS_SKILLS_HINT:"Выберите до десяти своих профессиональных навыков и расставьте в порядке убывания их важности.",SETTINGS_SKILLS_PLACEHOLDER:"Введите навык",SETTINGS_SPECS_HINT:"Выберите вашу специализацию.",SETTINGS_SPECS_OCCUPATION:"Профессия",SETTINGS_SPECS_QUALIFICATION_TITLE:"Квалификация",SETTINGS_SPECS_QUALIFICATION_NOT_SELECTED:"Не указана",SETTINGS_SPECS_SUM:"Сумма",SETTINGS_SPECS_SALARY:"Желаемая зарплата",SETTINGS_SPECS_SALARY_HINT:"Укажите здесь, сколько вы хотели бы зарабатывать.",SETTINGS_SPECS_OTHER_PLACEHOLDER:"Название специализации",SETTINGS_UI_TITLE:"Интерфейс",SETTINGS_SUCCESS:"Настройки обновлены успешно",SETTINGS_PROFILE_TITLE:"Профиль",SETTINGS_PROFILE_UPGRADE_TITLE:"Апгрейд",SETTINGS_PRIVACY_TITLE:"Приватность",SETTINGS_NOTIFICATIONS_TITLE:"Уведомления",SETTINGS_APPS_INSTALLED_TITLE:"Установленные приложения",SETTINGS_APPS_TITLE:"Приложения",SETTINGS_APPS_MY_TITLE:"Мои приложения",SETTINGS_APPS_REMOVE:"Удалить",SETTINGS_APPS_EDIT:"Редактировать",SETTINGS_APPS_EMPTY:"У вас пока нет приложений",SETTINGS_APPS_ADD:"Добавить приложение",SETTINGS_APP_EDIT_TITLE:"Редактирование приложения",SETTINGS_APP_ADD_TITLE:"Создание приложения",SETTINGS_APP_RESET_CLIENT_ID:"Сбросить Client ID и Client Secret",SETTINGS_APP_RESET_API_KEY:"Сбросить API Key",SETTINGS_APP_RESET_HINT:"Сброс Client ID и Client Secret — это исключительный механизм, который не стоит запускать без необходимости",SETTINGS_APP_IMAGE:"Иконка",SETTINGS_APP_TITLE:"Название",SETTINGS_APP_TITLE_HINT:"Укажите название приложения",SETTINGS_APP_REDIRECT:"Redirect URL",SETTINGS_APP_REDIRECT_HINT:"Укажите url для редиректа после авторизации",SETTINGS_APP_ABOUT_HINT:"Опишите ваше приложение",SETTINGS_APP_ABOUT:"Краткое описание",SETTINGS_APP_TYPE:"Тип",SETTINGS_APP_TYPE_WEB:"Веб приложение",SETTINGS_APP_TYPE_MOBILE:"Мобильное приложение",SETTINGS_APP_TYPE_BROWSER:"Браузерное приложение",SETTINGS_APP_SCOPE:"Права",SETTINGS_APP_READ:"Только чтение",SETTINGS_APP_READ_BOOKMARK:"Только чтение + закладки",SETTINGS_APP_ALL_RIGHTS:"Все права",SETTINGS_APP_EXTENDED:"Расширенные права",SETTINGS_APP_COMPANY_NAME:"Название компании",SETTINGS_APP_COMPANY_NAME_HINT:"Укажите название компании разработчика",SETTINGS_APP_COMPANY_URL:"Сайт компании",SETTINGS_APP_COMPANY_URL_HINT:"Укажите сайт компании разработчика",SETTINGS_APP_TYPE_CHOOSE:"Выберите тип",SETTINGS_APP_SCOPE_CHOOSE:"Выберите права",SETTINGS_ACCOUNT_TITLE:"Аккаунт",SETTINGS_MISC_TITLE:"Другое",SETTINGS_PROFILE_AVATAR:"Аватар",SETTINGS_PROFILE_AVATAR_HINT:"Формат: jpg, gif, png. '<br/>' Максимальный размер файла: 1Mb. '<br/>' Разрешение: до 96x96px.",SETTINGS_PROFILE_REALNAME:"Настоящее имя",SETTINGS_PROFILE_REALNAME_HINT:"Укажите ваши имя и фамилию, чтобы другие пользователи смогли узнать, как вас зовут",SETTINGS_PROFILE_WORKPLACE:"Место работы",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER:"Удалим место работы, после сохрания изменений.",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER_ACTION:"Восстановить",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER:"Удалим контакт, после сохранения изменений.",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER_ACTION:"Восстановить",SETTINGS_PROFILE_SPECIALITY:"Опишите себя",SETTINGS_PROFILE_SPECIALITY_HINT:"Укажите свою специализацию. Например: Администратор баз данных",SETTINGS_PROFILE_GENDER:"Пол",SETTINGS_PROFILE_GENDER_NOT_SPECIFIED:"Не указан",SETTINGS_PROFILE_GENDER_MALE:"Мужской",SETTINGS_PROFILE_GENDER_FEMALE:"Женский",SETTINGS_PROFILE_BIRTH_DATE:"Дата рождения",SETTINGS_PROFILE_BIRTH_DAY:"Число",SETTINGS_PROFILE_BIRTH_MONTH:"Месяц",SETTINGS_PROFILE_BIRTH_YEAR:"Год",SETTINGS_PROFILE_LOCATION:"Местоположение",SETTINGS_PROFILE_COUNTRY:"Страна",SETTINGS_PROFILE_REGION:"Регион",SETTINGS_PROFILE_CITY:"Город",SETTINGS_PROFILE_CONTACTS:"Контактная информация и веб-ресурсы",SETTINGS_PROFILE_CONTACTS_HINT:"Укажите имя пользователя или ID и мы сами сделаем ссылку. Чтобы ссылка появилась в информационной панели автора публикации, отметьте её, кликнув на иконку справа.",SETTINGS_PROFILE_CONTACTS_ADD:"Добавить ссылку",SETTINGS_PROFILE_YANDEX_MONEY:"YooMoney",SETTINGS_PROFILE_YANDEX_MONEY_HINT:"Номер кошелька. От 11 до 20 цифр",SETTINGS_PROFILE_PAYPAL:"PayPal.Me",SETTINGS_PROFILE_PAYPAL_HINT:"Идентификатор PayPal.me От 3 до 20 цифр и/или латинских букв",SETTINGS_PROFILE_WEBMONEY:"Webmoney",SETTINGS_PROFILE_WEBMONEY_HINT:"Номер WMID. 12 цифр",SETTINGS_PROFILE_SERVICES:"Сервисы",SETTINGS_PROFILE_WALLETS:"Кошельки",SETTINGS_PROFILE_DONATIONS:"Донаты",SETTINGS_PROFILE_DONATIONS_RADIO_TITLE:"Принимать донаты через:",SETTINGS_PROFILE_DESTREAM_TITLE:"destream",SETTINGS_PROFILE_DESTREAM_CONNECT:"Привязать",SETTINGS_PROFILE_WALLETS_NAMES:"YooMoney, PayPal.Me, Webmoney",SETTINGS_PROFILE_ABOUT:"Расскажите о себе",SETTINGS_PROFILE_ABOUT_HINT:"Не более 6 500 символов",SETTINGS_PROFILE_SUBMIT:"Сохранить изменения",SETTINGS_PROFILE_SHOW_CONTACTS:"Показывать ваши сайты и аккаунты в соцсетях",SETTINGS_PROFILE_TO_EVERYONE:"всем",SETTINGS_PROFILE_TO_FOLLOWING:"только тем, на кого вы подписаны",SETTINGS_PROFILE_INBOX_ACCESS:"Принимать личные сообщения",SETTINGS_PROFILE_FROM_EVERYONE:"ото всех",SETTINGS_PROFILE_FROM_FOLLOWERS:"только от тех, на кого вы подписаны",SETTINGS_PROFILE_SHOW_ACTIVITY:"Кто может получать уведомления о вашей активности на сайте",SETTINGS_PROFILE_NOBODY:"никто",SETTINGS_PROFILE_TO_FOLLOWERS:"те, кто подписан на вас",SETTINGS_PROFILE_PAYMENTS_INFO:"Укажите данные ваших кошельков или подключите destream для получения вознаграждения от других пользователей. В зависимости от выбранного способа приёма донатов, пользователи увидят соответствующие ссылки.",SETTINGS_NOTIFICATIONS_NEW_COMMENTS:"Уведомления о новых комментариях",SETTINGS_NOTIFICATIONS_TO_MY_POSTS:"К моим публикациям",SETTINGS_NOTIFICATIONS_TO_POSTS_WITH_COMMENTS:"К публикациям, где есть мой комментарий",SETTINGS_NOTIFICATIONS_TO_BOOKMARKED_POSTS:"К публикациям у меня в закладках",SETTINGS_NOTIFICATIONS_TRACKER:"Трекер",SETTINGS_NOTIFICATIONS_EMAIL:"Почта",SETTINGS_NOTIFICATIONS_SEND_ME_EMAILS:"Отправлять мне письма",SETTINGS_NOTIFICATIONS_NEWS:"Об изменениях на сайте",SETTINGS_NOTIFICATIONS_NEW_EXPERIENCE:"О новых для меня возможностях на сайте",SETTINGS_NOTIFICATIONS_NEW_MESSAGES:"О новых сообщениях в Диалогах",SETTINGS_NOTIFICATIONS_NEW_COMMENTS_REPLY:"Об ответах на мои комментарии",SETTINGS_NOTIFICATIONS_NEW_MENTION:"Если меня упомянули в публикации или комментарии",SETTINGS_NOTIFICATIONS_NEW_FOLLOWER:"Если у меня новый подписчик",SETTINGS_NOTIFICATIONS_ARTICLE_STATISTICS:"Со статистикой по моим публикациям",SETTINGS_NOTIFICATIONS_ARTICLE_TOP_STATISTICS:"О выходе моей публикации в топ",SETTINGS_NOTIFICATIONS_TRACKER_SETTINGS:"Настройки трекера",SETTINGS_NOTIFICATIONS_TRACKER_BADGE:"Показывать число непрочитанных уведомлений рядом с иконкой трекера",SETTINGS_NOTIFICATIONS_FOLLOWERS_BOOKMARKS:"Показывать закладки, которые добавили пользователи, на которых я подписан",SETTINGS_NOTIFICATIONS_DIGEST:"Выберите частоту рассылки дайджеста о самом интересном по вашим хабам",SETTINGS_NOTIFICATIONS_DIGEST_NEVER:"Не присылать",SETTINGS_NOTIFICATIONS_DIGEST_DAY:"Каждый день",SETTINGS_NOTIFICATIONS_DIGEST_WEEK:"Раз в неделю",SETTINGS_NOTIFICATIONS_DIGEST_MONTH:"Раз в месяц",SETTINGS_MISC_INTERACTIONS:"Взаимодействие",SETTINGS_MISC_REFRESH_PANEL:"Отображать панель обновления комментариев",SETTINGS_MISC_HOTKEYS:"Использовать горячие клавиши ('<a href=\"/docs/help/hotkeys/\">'список'</a>')",SETTINGS_MISC_DISABLE_ADS:"Отключить рекламу на сайте",SETTINGS_MISC_YES_IT_WOULD_BE_NICE:"Да, это было бы здорово!",SETTINGS_READONLY_UPGRADE:"Если у вас есть приглашение, вы можете написать его в форму ниже и получить все доступные для полноправных аккаунтов возможности.",SETTINGS_INVITE_CODE:"Код приглашения",SETTINGS_INVITE_RECALLED:"Приглашение было отозвано",SETTINGS_INVITE_APPLIED:"Приглашение применено",SETTINGS_INVITE_ALREADY_USED:"Приглашение уже было использовано",SETTINGS_INVITE_USER_ALREADY_FULL:"Вы уже являетесь полноправным пользователем Хабра и не можете использовать приглашения",SETTINGS_COLOR_THEME:"Цветовая тема",SETTINGS_DARK:"Темная",SETTINGS_LIGHT:"Светлая",SETTINGS_SYSTEM:"Системная",SETTINGS_UNBLOCK_DARK_MODE:"Разблокировать темную тему",SETTINGS_CHANGE_THEME_SETTINGS:"Изменить настройки темы"}},35457:e=>{function t({hubs:e}){if(!e)return[];const t=e.filter((e=>"corporative"===e.type));return t.length>0&&t[0].alias}function o(e){const{isCorporative:o,publicationType:n}=e;let{postType:s}=e;n&&(s=n);const a=t(e),i="sandbox"===s,r="megaproject"===s,l={news:"news",megaproject:"specials",article:"articles",post:"posts"};return i?"sandbox":o&&!r?`companies/${a}/${l[s]}`:l[s]}function n(e,t="https://habr.com"){const n=o(e),{lang:s,id:a}=e;return`${t}/${s}/${n}/${a}/`}e.exports={articleCanonical:n}},4344:e=>{function t(e){const t=e.flows?e.flows.map((e=>`f_${e.alias}`)):[],o=[],n=[];return e.hubs&&e.hubs.forEach((e=>{"corporative"===e.type?o.push(`c_${e.alias}`):n.push(`h_${e.id}`)})),[...o,...n,...t].join(",")}e.exports=t},61254:e=>{function t({companySettings:e,isEditorial:t}){if(!e)return t?"edit":"ugc";const{status:o,isStartup:n}=e;return"expired"===o?"company_expired":n?"company_startup":`company_${o}`}e.exports=t},45384:(e,t,o)=>{const{getCurrentInstance:n}=o(70942);function s(e){const t=console[e];console[e]=function(...e){const o=n();let s;if(o){const e=a(o);s=i(e)}const r=[s||"(no comp)\n",...e];t.call(console,...r)}}function a(e,t=[]){const o=e.type.name||e.type.__file;return o?(t.push(o),e.parent&&a(e.parent,t),t):t}function i(e){if(!e.length)return"";const t=e.map(((e,t)=>`${"-".repeat(t)}${e}`)).join("\n");return`Tree:\n${t}\n`}e.exports={addComponentTreeToConsoleMethod:s}},87032:e=>{function t(e){var t;return(null===e||void 0===e||null===(t=e.additional)||void 0===t?void 0:t[0])||null}function o(e){var t,o;return(null===e||void 0===e?void 0:e.errorCode)||(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.reasonKey)||(null===e||void 0===e||null===(o=e.additional)||void 0===o?void 0:o.reasonKey)||null}function n(e){return t(e)||o(e)}function s(e){return(null===e||void 0===e?void 0:e.httpCode)||(null===e||void 0===e?void 0:e.code)||(null===e||void 0===e?void 0:e.status)||null}function a(e){const t=s(e);return t>=400&&t<=499}function i(e){return 403===s(e)}function r(e){return 401===s(e)}function l(e){const t=s(e);return t>=500&&t<=599}function c(e){return i(e)&&e.data&&e.data.userType}function m(e){return i(e)&&e.data&&e.data.reason}function d(e){return i(e)&&"THREAD_DELETED"===e.errorCode}function u(e){return"PPG_REQUIRED"===n(e)&&e.data.program}function p(e){const t=s(e);return!t||t>=500}class h extends Error{constructor({message:e,url:t}){super(e),this.url=t}}class _ extends Error{constructor(){super("Not found"),this.httpCode=404}}class g extends Error{constructor(){super("Forbidden"),this.httpCode=403}}function T(e){return Promise.reject(new h({message:"useAsyncData redirect",url:e}))}function E(){return Promise.reject(new _)}function S(){return Promise.reject(new g)}e.exports={getErrorCode:n,getReasonKey:o,getHttpCode:s,is4xxError:a,is403Error:i,is401Error:r,is5xxError:l,is403WithUserType:c,is403WithReason:m,isPostDeletedError:d,isPPGError:u,NotFoundError:_,ForbiddenError:g,RedirectError:h,redirect:T,forbidden:S,notFound:E,shouldHandleError:p}},92710:e=>{const t=e=>e.split(",").reduce(((e,t)=>{const[o,n]=t.split("=");return{...e,[o]:"on"===n}}),{});function o(e){return"on"==={VUE_APP_RELEASE_VERSION:"2024-04-19-13-44",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.174.0",BASE_URL:"https://assets.habr.com/habr-web/"}[`VUE_APP_FEATURE_${e}`]}function n(e,t={}){return e in t?t[e]:o(e)}e.exports={parseFeaturesSettings:t,getFeatureStatusFromEnv:o,getFeatureFlag:n}},88447:e=>{const t="habr_web_flow_filter_",o="habr_web_hub_filter_",n="news_",s="posts_";function a({flowName:e,hubName:a,isNews:i,isPosts:r}){const l=a?[o]:[t];return i&&l.push(n),r&&l.push(s),a?l.push(a):e&&l.push(e),l.join("")}e.exports={buildCookieName:a}},71355:e=>{e.exports=function(e){return!!e&&"post"===e.publicationType}},183:e=>{const t="([a-f0-9]{15}.[a-f0-9]{8})",o="([a-z\\.0-9-_]+)",n="([0-9a-z_-]+)",s="([a-z0-9\\-_:]+)",a="([0-9]+)",i="([0-9]+|new)",r="([a-f\\d]{24})",l="([a-z]|[a-z0-9][a-z0-9-_]+)",c="(([0-9]+:)?[a-f0-9]{32}|new)",m=a,d=a,u=o,p=a,h=l,_=l,g=a,T=o,E=o,S=a,C=n,v=n,k={POST:"posts",COMPANY:"companies",HUB:"hubs",SANDBOX:"sandbox"},f=Object.values(k).join("|");e.exports={APP_CLIENT_ID_MATCH:t,APP_CLIENT_TOKEN_MATCH:v,PUBLICATION_ID_MATCH:m,BADGE_MATCH:n,COMMENT_ID_MATCH:d,COMPANY_ALIAS_MATCH:u,DOCS_ARTICLE_ALIAS_MATCH:C,EMPLOYEE_REQUEST_ID_MATCH:p,FLOW_ALIAS_MATCH:h,HASH_MATCH:s,HUB_ALIAS_MATCH:_,ID_MATCH:a,INVITE_ID_MATCH:g,LOGIN_MATCH:T,MONGO_OBJECT_ID:r,USER_ALIAS_PARAM_REGEXP:E,USER_ID_MATCH:S,WIDGET_APP_MATCH:c,WIDGET_ID_MATCH:i,PAGE_TYPE:k,PAGE_TYPE_MATCH:f}},33948:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(70942),vuex__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(33907),_components_abbreviation_presenter_abbreviation_presenter_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(58366),_components_article_formatted_body_article_formatted_body_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57394),_components_article_poll_article_poll_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(41175),_components_article_tracking_pixels_article_tracking_pixels_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69749),_guards_article_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(50780),_utils_enovironment_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(35275),_utils_gallery_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(29587),_utils_gallery_slider_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(69904),_utils_routes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(44383),_utils_scroll_to_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(67426),_xhr_article_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(11699);const TMGallery=(0,vue__WEBPACK_IMPORTED_MODULE_0__.defineAsyncComponent)((()=>__webpack_require__.e(5121).then(__webpack_require__.bind(__webpack_require__,5507)))),__WEBPACK_DEFAULT_EXPORT__={name:"TMArticleBody",components:{TMArticlePoll:_components_article_poll_article_poll_vue__WEBPACK_IMPORTED_MODULE_3__.Z,TMGallery,TMArticleFormattedBody:_components_article_formatted_body_article_formatted_body_vue__WEBPACK_IMPORTED_MODULE_2__.Z,TMArticleTrackingPixels:_components_article_tracking_pixels_article_tracking_pixels_vue__WEBPACK_IMPORTED_MODULE_4__.Z,TMAbbreviationPresenter:_components_abbreviation_presenter_abbreviation_presenter_vue__WEBPACK_IMPORTED_MODULE_1__.Z},props:{article:_guards_article_js__WEBPACK_IMPORTED_MODULE_5__.s,isMegapostScriptsLodaded:Boolean},data(){return{galleryImages:[],gallerySliders:[],isLoadingDecline:!1,isLoadingVote:!1}},computed:{...(0,vuex__WEBPACK_IMPORTED_MODULE_10__.Se)("i18n",["msg"]),articleId(){return this.$route.params.id},editorVersion(){return parseInt(this.article.editorVersion,10)},formattedClass(){return this.isMegapostV1?"":"tm-article-body__content_formatted"},isMegapostV1(){return"megaproject"===this.article.postType&&1===this.editorVersion}},watch:{isMegapostScriptsLodaded:{handler(e){e&&_utils_enovironment_js__WEBPACK_IMPORTED_MODULE_6__.Qg&&this.evalMegapostScripts()},immediate:!0}},mounted(){const currentHash=this.$route.hash;if(currentHash){const e=this.$el.querySelector(`a[name="${currentHash.substr(1)}"]`)||this.$el.querySelector(currentHash);e&&((0,_utils_scroll_to_js__WEBPACK_IMPORTED_MODULE_8__.kI)(e),(0,_utils_routes_js__WEBPACK_IMPORTED_MODULE_7__.Tg)())}if(!this.isMegapostV1){this.galleryImages=(0,_utils_gallery_js__WEBPACK_IMPORTED_MODULE_11__.N)(this.$el),this.gallerySliders=(0,_utils_gallery_slider_js__WEBPACK_IMPORTED_MODULE_12__.s)(this.$el);const inlineScripts=Array.from(this.$el.querySelectorAll("script"));if(inlineScripts&&inlineScripts.length){const quizRegexp=/(function initQuiz[\d]+\(\){const t=document.getElementById)/g;inlineScripts.forEach((script=>{const scriptInner=script.innerText;null!==scriptInner.match(quizRegexp)&&eval(scriptInner)}))}}},methods:{...(0,vuex__WEBPACK_IMPORTED_MODULE_10__.OI)("articlesList",["setArticlePoll"]),declineVote({pollId:e}){this.isLoadingDecline=!0,this.sendVote({pollId:e}).then((()=>{this.isLoadingDecline=!1}))},sendVote({variantId:e,pollId:t}){return(0,_xhr_article_js__WEBPACK_IMPORTED_MODULE_9__.Uj)(t,{id:e}).then((e=>this.setArticlePoll({poll:e,articleId:this.articleId}))).catch((e=>{this.$toast.error(e.message),this.isLoadingVote=!1,this.isLoadingDecline=!1}))},evalMegapostScripts(){if(this.$el){const inlineScripts=Array.from(this.$el.querySelectorAll("script"));inlineScripts.forEach((script=>{eval(script.innerText)}))}},getNodesList(e){const t=this.$el.querySelectorAll(e);return[].slice.call(t)},getArticleFlagValue(e){return this.msg(this.flagsValues[e])}}}},95756:(e,t,o)=>{"use strict";o.d(t,{n:()=>i});var n=o(70942),s=o(46186);function a(e,t){return(null===e||void 0===e?void 0:e.isActive)&&!(null!==t&&void 0!==t&&t.isActive)}function i(e,t,o={}){const i=(0,s.c)(),r=(0,n.computed)((()=>({isActive:i.value,target:e()})));return(0,n.watch)(r,((e,n)=>{var s;if(!e.isActive)return;const i=o.immediate&&a(e,n);if(i)return void t(e.target,null===n||void 0===n?void 0:n.target);const r=null===(s=o.equals)||void 0===s?void 0:s.call(o,e.target,null===n||void 0===n?void 0:n.target);r||t(e.target,null===n||void 0===n?void 0:n.target)}),o)}},4218:(e,t,o)=>{"use strict";o.d(t,{FW:()=>i,Kw:()=>r,M$:()=>l,WX:()=>a});var n=o(70942),s=o(33907);const a=(e,t)=>{const o=(0,s.oR)();return e&&t?t.map((t=>(...n)=>o.dispatch(`${e}/${t}`,...n))):e.map((e=>(...t)=>o.dispatch(e,...t)))},i=(e,t)=>{const o=(0,s.oR)();return e&&t?t.map((t=>(0,n.computed)((()=>o.getters[`${e}/${t}`])))):e.map((e=>(0,n.computed)((()=>o.getters[e]))))},r=(e,t)=>{const o=(0,s.oR)();return e&&t?t.map((t=>(0,n.computed)((()=>o.state[e][t])))):e.map((e=>(0,n.computed)((()=>o.state[e]))))},l=(e,t)=>{const o=(0,s.oR)();return e&&t?t.map((t=>(...n)=>o.commit(`${e}/${t}`,...n))):e.map((e=>(...t)=>o.commit(e,...t)))}},46186:(e,t,o)=>{"use strict";o.d(t,{c:()=>s});var n=o(70942);function s(){const e=(0,n.ref)(!0);return(0,n.onActivated)((()=>{e.value=!0})),(0,n.onDeactivated)((()=>{e.value=!1})),e}},21805:(e,t,o)=>{"use strict";o.d(t,{w:()=>l});var n=o(70942),s=o(22201),a=o(33907),i=o(87032);class r extends Error{constructor(e){super("Async Data Error"),this.code=(0,i.getHttpCode)(e)||200,this.httpCode=(0,i.getHttpCode)(e)||200,this.name=e.name,this.message=e.message,this.data=e.data,this.errorCode=(0,i.getErrorCode)(e)}}const l=e=>{var t;const o=(0,n.reactive)({isFetching:!1,isWaitingForGuards:!1,error:null}),l=(0,n.computed)((()=>o.isFetching&&o.isWaitingForGuards)),m=(0,s.tv)(),d=(0,a.oR)(),u=(0,n.getCurrentInstance)();let p=Promise.resolve();const h="server"==={VUE_APP_RELEASE_VERSION:"2024-04-19-13-44",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.174.0",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV,_=()=>(o.isFetching=!0,o.isWaitingForGuards=!0,e.call(void 0,{store:d,redirect:i.redirect,notFound:i.notFound,forbidden:i.forbidden}).then((()=>{d.dispatch("ssr/markDataLoaded"),d.dispatch("pullRefresh/toggleRefresh",!1),o.isFetching=!1,o.isWaitingForGuards=!1})).catch((e=>{h||(o.isFetching=!1,o.isWaitingForGuards=!1,o.error=e),(0,i.isPPGError)(e)&&d.dispatch("me/setPPGDemanded",!0);const t=c(e);if(t)return m.push(t);throw d.dispatch("ssr/showError",{error:e}),h||d.dispatch("ssr/markDataLoaded"),new r(e)}))),g=u.appContext.config.globalProperties.$hasHydrated,T=!h&&u.vnode.el&&!(null===(t=u.vnode.el.dataset)||void 0===t||!t.asyncCalled),E=(h||g.value)&&!T;return E&&(p=_(),h&&(u.attrs=u.attrs||{},u.attrs["data-async-called"]="true")),(0,n.onServerPrefetch)((()=>p)),{isLoading:l,dataPromise:p}};function c(e){if(e instanceof i.RedirectError)return e.url;if((0,i.isPPGError)(e)){const t="comments"===e.data.program?"PPG_COMMENTS":"PPG_SMILES";return{name:t}}const t="SUBSCRIPTIONS_ARE_EMPTY"===(0,i.getErrorCode)(e);return t?{name:"MY_FEED_SETTINGS"}:void 0}},81422:(e,t,o)=>{"use strict";o.d(t,{n:()=>a});var n=o(70942),s=o(99229);const a=(e,t)=>{const o=(0,n.getCurrentInstance)(),{setHash:a,removeHash:i}=(0,s.g)(e,t);return(0,n.onMounted)((()=>{a(),window.addEventListener("popstate",(()=>{o.emit("close")}))})),{setHash:a,removeHash:i}}},99229:(e,t,o)=>{"use strict";o.d(t,{g:()=>s});var n=o(33907);const s=(e,t)=>{const o=(0,n.oR)(),s=()=>t&&o.getters["global/isMobile"],a=()=>{s()&&window.location.hash===e&&window.history.back()},i=()=>{s()&&(window.location.hash=e)};return{removeHash:a,setHash:i}}},51779:(e,t,o)=>{"use strict";o.d(t,{gI:()=>d,p6:()=>c,qv:()=>m});var n=o(72923),s=o.n(n),a=o(90619),i=o.n(a);function r(e){return!e.author||e.author.is_banned}function l(e){return{...e,isUfo:!0}}function c(e){const t=new Date(e),o=e=>i()(e.toString(),2,"0"),n=o(t.getDate()),s=o(t.getMonth()+1),a=o(t.getFullYear()),r=o(t.getHours()),l=o(t.getMinutes());return{date:`${n}.${s}.${a}`,time:`${r}:${l}`}}function m(e){return r(e)?l(e):e}function d(e){const t=s().map(e,{id:s().maybe.nonEmptyString,isSuspended:s().maybe.boolean,isAuthor:s().boolean,isPostAuthor:s().boolean,isNew:s().boolean,score:s().maybe.number,message:s().nonEmptyString,timePublished:s().nonEmptyString});return s().all(t)}},74104:(e,t,o)=>{"use strict";function n(e,t=""){return e.reduce(((e,o)=>({...e,[o]:{errors:[],ref:null,value:t}})),{})}function s(e){return{get(){return this.inputs[e].value},set(t){this.setInputValue({name:e,value:t})}}}o.d(t,{X:()=>s,j:()=>n})},15923:(e,t,o)=>{"use strict";o.d(t,{CJ:()=>m,GD:()=>g,Rl:()=>p,Ye:()=>c,h$:()=>d,tQ:()=>u,vz:()=>_,wY:()=>l});var n=o(21331),s=o(73313),a=o(24440),i=o(38919),r=o(35457);function l(e){return[{property:"og:title",content:e,vmid:"og:title"},{name:"twitter:title",content:e,vmid:"twitter:title"},{name:"aiturec:title",content:e,vmid:"aiturec:title"}]}function c(e){const t=(0,a._)(e);return[{name:"description",content:t,vmid:"description"},{itemprop:"description",content:t,vmid:"description:itemprop"},{property:"og:description",content:t,vmid:"og:description"},{name:"twitter:description",content:t,vmid:"twitter:description"},{property:"aiturec:description",content:t,vmid:"aiturec:description"}]}const m=e=>e&&{property:"vk:image",content:`${e}?format=vk`,vmid:"vk:image"};function d(e){return e?[{itemprop:"image",content:e,vmid:"image:itemprop"},{property:"og:image",content:e,vmid:"og:image"},{property:"og:image:width",content:"1200",vmid:"og:image:width"},{property:"og:image:height",content:"630",vmid:"og:image:height"},{property:"aiturec:image",content:e,vmid:"aiturec:image"},{name:"twitter:image",content:e,vmid:"twitter:image"},m(e)]:null}function u({id:e,date:t}){const o=new Date(t).toISOString();return[{property:"aiturec:item_id",content:e,vmid:"aiturec:item_id"},{property:"aiturec:datetime",content:o,vmid:"aiturec:datetime"}]}function p(e=[]){return e.filter((e=>-1===e.indexOf("stylesheets.mobile.css"))).map((e=>({href:e,rel:"stylesheet"})))}const h={en:"en_US",ru:"ru_RU"},_=(e,t)=>{const o=e.author.alias||e.author.fullname,s=e.isCorporative?e.hubs.find((e=>"corporative"===e.type)).title:e.hubs[0].title,a=(0,i.rp)(new Date(e.timePublished));return t("TITLE_POST_PAGE",{authorName:o,hubName:s,hubsCount:e.hubs.length>1?0:e.hubs.length-1,date:`${(0,n.l4)(e.timePublished)} ${a}`})},g=(e,t)=>{const{titleHtml:o,id:n,lang:a,timePublished:i,metadata:p}=e,g=(0,s.o)(e),T=g?_(e,t):o,{metaDescription:E,shareImageUrl:S,shareImageWidth:C,shareImageHeight:v,vkShareImageUrl:k}=p,f=[...l(T),...c(E),...d(S),m(k),...u({id:n,date:i}),{content:(0,r.articleCanonical)(e),property:"og:url",vmid:"og:url"},{property:"og:type",content:"article",vmid:"og:type"},{property:"og:locale",content:h[a],vmid:"og:locale"},{property:"og:image:width",content:C,vmid:"og:image:width"},{property:"og:image:height",content:v,vmid:"og:image:height"}];return Array.isArray(e.tags)?f.push({name:"keywords",content:e.tags.map((e=>e.titleHtml)).join(", ")}):g&&f.push({name:"keywords",content:e.hubs.map((e=>e.titleHtml)).join(", ")}),f}},50956:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var n=o(80129),s=o.n(n),a=o(11269);class i{constructor(e){this.campaign=e.campaign,this.content=e.content,this.medium=e.medium,this.source=e.source}clone(){return new i(this)}setCampaign(e){return this.campaign=e,this}setContent(e){return this.content=e,this}setMedium(e){return this.medium=e,this}setSource(e){return this.source=e,this}toString(){return s().stringify({utm_campaign:this.campaign,utm_content:this.content,utm_medium:this.medium,utm_source:this.source},{arrayFormat:"indices"})}static isUtm(e){return(0,a.HD)(e.campaign)||(0,a.HD)(e.content)||(0,a.HD)(e.medium)||(0,a.HD)(e.source)}static toUtm(e){return{utm_campaign:e.campaign,utm_content:e.content,utm_medium:e.medium,utm_source:e.source}}static parse(e){return new i(e)}}},66586:(e,t,o)=>{"use strict";o(66337);var n=o(64487),s=o(93096),a=o.n(s),i=o(70942),r=o(23002),l=o(70606),c=o(92324),m=o(74735);const d={id:"app"};function u(e,t,o,n,s,a){const r=(0,i.resolveComponent)("PortalTarget");return(0,i.openBlock)(),(0,i.createElementBlock)("div",d,[((0,i.openBlock)(),(0,i.createBlock)((0,i.resolveDynamicComponent)(a.currentLayout))),(0,i.createVNode)(r,{multiple:"",name:"overlays"})])}var p=o(33907),h=o(21805),_=o(15923);const g=["data-menu-sticky"],T={class:"tm-base-layout__header-wrapper"},E=(0,i.createElementVNode)("br",null,null,-1),S={key:2},C={class:"tm-layout__container"};function v(e,t,o,n,s,a){const r=(0,i.resolveComponent)("router-view"),l=(0,i.resolveComponent)("TMAnalytics"),c=(0,i.resolveComponent)("TMFeature"),m=(0,i.resolveComponent)("TMHeader"),d=(0,i.resolveComponent)("TMPageProgressBar"),u=(0,i.resolveComponent)("TMMainMenu"),p=(0,i.resolveComponent)("TMHeaderUserMenu"),h=(0,i.resolveComponent)("TMPageWidth"),_=(0,i.resolveComponent)("TMScrollTop"),v=(0,i.resolveComponent)("TMButtonBase"),k=(0,i.resolveComponent)("TMNotification"),f=(0,i.resolveComponent)("TMDatetime"),A=(0,i.resolveComponent)("TMUserNotice"),I=(0,i.resolveComponent)("TMRegionalRestriction"),y=(0,i.resolveComponent)("TMPageError"),b=(0,i.resolveComponent)("TMPage"),N=(0,i.resolveComponent)("TMBurgerMenu"),P=(0,i.resolveComponent)("TMSidebar"),L=(0,i.resolveComponent)("TMScrollLockTransition"),B=(0,i.resolveComponent)("TMFooterMenu"),O=(0,i.resolveComponent)("TMFooter"),w=(0,i.resolveComponent)("TMHotKeys"),M=(0,i.resolveComponent)("TMPopup"),R=(0,i.resolveComponent)("TMLayoutMetaWrapper"),V=(0,i.resolveDirective)("hotkey");return(0,i.openBlock)(),(0,i.createBlock)(R,{class:(0,i.normalizeClass)(a.bem("tm-layout__wrapper",{white:a.isLegalBanError}))},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(r,{name:"ads"}),(0,i.createVNode)(l),e.isMobile&&a.isFeatureShown&&!e.isTablet?((0,i.openBlock)(),(0,i.createBlock)(c,{key:0})):(0,i.createCommentVNode)("",!0),a.isBlankPage?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(m,{key:1,"is-feature-shown":a.isFeatureShown,"is-sticky":s.isHeaderSticky&&(e.isMobile||e.isPwa),onShowNavMenu:t[0]||(t[0]=e=>s.navMenuVisible=!0)},null,8,["is-feature-shown","is-sticky"])),(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["tm-layout",{"tm-layout__wrapper_fix-header":e.isPwa}])},[(0,i.createVNode)(d,{"is-finished":e.isDataLoaded,"is-processing":e.isDataLoading},null,8,["is-finished","is-processing"]),e.isPwa||e.isMobile&&!e.isTablet?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:(0,i.normalizeClass)(["tm-base-layout__header",{"tm-base-layout__header_is-sticky":e.isDesktop}]),"data-menu-sticky":e.isDesktop||null},[(0,i.createVNode)(h,null,{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("div",T,[!e.isTablet&&!e.isDesktop||a.isBlankPage?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(u,{key:0})),e.isDesktop?((0,i.openBlock)(),(0,i.createBlock)(p,{key:1,class:"tm-base-layout__user-menu"})):(0,i.createCommentVNode)("",!0)])])),_:1})],10,g)),(0,i.createVNode)(_),(0,i.createVNode)(h,{"no-padding":e.isTablet},{default:(0,i.withCtx)((()=>[s.showRefreshNotice?((0,i.openBlock)(),(0,i.createBlock)(k,{key:0},{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("p",null,(0,i.toDisplayString)(e.msg("REFRESH_TITLE")),1),(0,i.createVNode)(v,{class:"tm-notification-refresh__action","style-size":"small","style-type":"transparent",onClick:a.reloadThePage},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.msg("REFRESH_ACTION")),1)])),_:1},8,["onClick"])])),_:1})):(0,i.createCommentVNode)("",!0),s.showCacheNotice?((0,i.openBlock)(),(0,i.createBlock)(k,{key:1,layout:"minimal"},{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("span",null,[(0,i.createTextVNode)((0,i.toDisplayString)(e.msg("CACHED_DATA_TITLE"))+" ",1),E,(0,i.createTextVNode)(" "+(0,i.toDisplayString)(e.msg("CACHED_DATA"))+" ",1),(0,i.createVNode)(f,{date:new Date(s.cacheTime),"show-full-date-time":!0},null,8,["date"])])])),_:1})):(0,i.createCommentVNode)("",!0),0!==e.notices.length&&a.showUserNotices?((0,i.openBlock)(),(0,i.createElementBlock)("div",S,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(e.notices,((e,t)=>((0,i.openBlock)(),(0,i.createBlock)(A,{key:t,notice:e},null,8,["notice"])))),128))])):(0,i.createCommentVNode)("",!0)])),_:1},8,["no-padding"]),(0,i.createElementVNode)("main",C,[e.error&&!a.isPPGError?((0,i.openBlock)(),(0,i.createBlock)(b,{key:0},{default:(0,i.withCtx)((()=>[a.isLegalBanError?((0,i.openBlock)(),(0,i.createBlock)(I,{key:0,error:e.error},null,8,["error"])):((0,i.openBlock)(),(0,i.createBlock)(y,{key:1,error:e.error},null,8,["error"]))])),_:1})):((0,i.openBlock)(),(0,i.createBlock)(r,{key:1},{default:(0,i.withCtx)((({Component:e})=>[((0,i.openBlock)(),(0,i.createBlock)((0,i.resolveDynamicComponent)(e)))])),_:1}))]),(0,i.createVNode)(L,{name:"fade-sidebar"},{default:(0,i.withCtx)((()=>[s.navMenuVisible&&(e.isMobile||e.isPwa)?((0,i.openBlock)(),(0,i.createBlock)(P,{key:0,position:"left",onClose:t[2]||(t[2]=e=>s.navMenuVisible=!1)},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(N,{onClose:t[1]||(t[1]=e=>s.navMenuVisible=!1)})])),_:1})):(0,i.createCommentVNode)("",!0)])),_:1})],2)),[[V,{"shift+/":a.toggleHotKeysPopup},void 0,{stop:!0}]]),e.isDesktop&&!a.isFooterHidden?((0,i.openBlock)(),(0,i.createBlock)(B,{key:2})):(0,i.createCommentVNode)("",!0),a.isFooterHidden?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(O,{key:3,onLang:t[3]||(t[3]=e=>s.shouldOpenLangSettings=!0)})),s.showHotKeysPopup?((0,i.openBlock)(),(0,i.createBlock)(M,{key:4,title:e.msg("HOT_KEYS"),onClose:a.toggleHotKeysPopup},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(w)])),_:1},8,["title","onClose"])):(0,i.createCommentVNode)("",!0)])),_:1},8,["class"])}function k(e,t,o,n,s,a){return(0,i.openBlock)(),(0,i.createElementBlock)("div")}var f=o(56606),A=o(19913),I=o(70953);function y(e){const t=(0,I.ej)("habr_web_ga_uid")||null;return t||e?{...t?{uid:t}:{},...e?{name:e}:{}}:null}const b={name:"TMAnalytics",computed:{...(0,p.Se)("adblock",["adblockStatus"]),...(0,p.Se)("companies",["getCompanyInfo"]),...(0,p.Se)("articlesList",["getArticleById"]),...(0,p.Se)("me",["userGaType"]),...(0,p.Se)("hubs",["getHubByAlias"]),...(0,p.rn)("ssr",["isDataLoaded"]),companyInfo(){const e=this.$route.params.name;return this.getCompanyInfo(e)},hubName(){return this.$route.params.hubName},hubId(){if(!this.hubName)return null;const e=this.getHubByAlias(this.hubName);return e?e.id:null},trackPageViewOptionalParams(){const e={};return this.hubId&&(e.hub=`h_${this.hubId}`),e}},watch:{$route(e,t){if(this.routesIsDifferent(t,e))if(!this.hubName||this.hubId)setTimeout(this.logPageView);else{const e=this.$watch((()=>this.hubId),(t=>{t&&(e(),this.logPageView())}))}}},mounted(){this.initAnalytics(),this.logPageView()},methods:{routesIsDifferent(e,t){return e.path&&t.path&&e.path!==t.path},initAnalytics(){const e=y();(0,A._k)("G-S28W1WC23F",e),(0,A.uK)((()=>{(0,A.t4)("transport","beacon");const{userGaType:e}=this,t="",o=(0,I.ej)(t),n="true"===o;(0,A.t4)("user_properties",{user_type:e,user_lang:this.langOptions.fl,beta_test:n?o:null,mode:(0,f.Yw)()})}))},logPageView(){const{fullPath:e}=this.$route;(0,A.t4)("page",this.$route.fullPath),this.$route.matched.filter((e=>e.meta.customGA)).length||(0,A.Z0)({fullPath:e,optionalParams:this.trackPageViewOptionalParams})}}};var N=o(83744);const P=(0,N.Z)(b,[["render",k]]),L=P;var B=o(7281),O=o(63599);const w=["href"],M=["src"];function R(e,t,o,n,s,a){return(e.hasLoaded?e.feature:e.isProbablyVisible)?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:(0,i.normalizeClass)(["tm-feature",a.bem("tm-feature",{variant:o.variant})])},[e.feature?((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:0,class:"tm-feature__link",href:e.feature.link.url,rel:"noopener",target:"_blank"},[(0,i.createElementVNode)("img",{alt:"",class:"tm-feature__icon",height:"20",src:e.feature.image.url,width:"20"},null,8,M),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(e.feature.title),1)],8,w)):(0,i.createCommentVNode)("",!0)],2)):(0,i.createCommentVNode)("",!0)}var V=o(25109),D=o(58178);const U={name:"TMFeature",props:{variant:{type:String,default:null}},computed:{...(0,p.rn)("global",["isPwa"]),...(0,p.Se)("i18n",["langOptions"]),...(0,p.rn)("feature",["isProbablyVisible"]),...(0,p.Se)("promoData",["feature"]),...(0,p.rn)("promoData",["hasLoaded"])},watch:{feature:{immediate:!0,handler(e){e&&this.trackView()}}},methods:{bem:V.P,trackView(){const e=this.feature.events&&this.feature.events.view;e&&(0,D.s)([e])}}},$=(0,N.Z)(U,[["render",R]]),x=$,F={class:"tm-footer"},H={class:"tm-footer__container"},G={key:0,class:"tm-footer__title"},W=["href"];function Y(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMSvgImg"),l=(0,i.resolveComponent)("TMSocialIcons"),c=(0,i.resolveComponent)("TMPageSettingsForm"),m=(0,i.resolveComponent)("TMPopupBase"),d=(0,i.resolveComponent)("TMScrollLockTransition"),u=(0,i.resolveComponent)("router-link"),p=(0,i.resolveComponent)("TMFooterCopyright"),h=(0,i.resolveComponent)("TMPageWidth");return(0,i.openBlock)(),(0,i.createElementBlock)("div",F,[(0,i.createVNode)(h,null,{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("div",H,[e.isMobile?((0,i.openBlock)(),(0,i.createElementBlock)("div",G,[(0,i.createElementVNode)("a",{class:"tm-svg-icon__wrapper tm-footer__title-link",href:e.homeUrl},[(0,i.createVNode)(r,{id:e.logoIcon,class:"tm-svg-icon"},null,8,["id"])],8,W)])):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(l,{class:"tm-footer__social"}),((0,i.openBlock)(),(0,i.createBlock)(i.Teleport,{to:"#overlays"},[(0,i.createVNode)(d,{name:"transition-fade"},{default:(0,i.withCtx)((()=>[e.pageSettingsVisible?((0,i.openBlock)(),(0,i.createBlock)(m,{key:0,onClose:t[1]||(t[1]=t=>e.pageSettingsVisible=!1)},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(c,{class:"tm-popup-page-settings__form",onClosePopup:t[0]||(t[0]=t=>e.pageSettingsVisible=!1)})])),_:1})):(0,i.createCommentVNode)("",!0)])),_:1})])),(0,i.createElementVNode)("button",{class:"tm-footer__link",onClick:t[2]||(t[2]=t=>e.pageSettingsVisible=!0)},[e.isMobile?((0,i.openBlock)(),(0,i.createBlock)(r,{key:0,id:"lang",class:"tm-footer__icon"})):(0,i.createCommentVNode)("",!0),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(e.msg("FOOTER_LANG")),1)]),(0,i.createVNode)(u,{class:"tm-footer__link",to:{name:"FEEDBACK"}},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.msg("NAV_FEEDBACK")),1)])),_:1}),(0,i.createVNode)(p)])])),_:1})])}const Z={class:"tm-footer-copyright"},q={class:"tm-copyright"},K={class:"tm-copyright__years"},j={class:"tm-copyright__name"},z=["href"];function Q(e,t,o,n,s,a){return(0,i.openBlock)(),(0,i.createElementBlock)("div",Z,[(0,i.createElementVNode)("span",q,[(0,i.createElementVNode)("span",K,"© 2006–"+(0,i.toDisplayString)(e.currentYear)+", ",1),(0,i.createElementVNode)("span",j,[(0,i.createElementVNode)("a",{class:"tm-copyright__link",href:e.getLink,rel:"noopener",target:"_blank"},"Habr",8,z)])])])}const X={name:"TMFooterCopyright",computed:{...(0,p.Se)("i18n",["langOptions"]),currentYear(){return(new Date).getFullYear()},getLink(){return"ru"===this.langOptions.hl?"https://company.habr.com/":"https://company.habr.com/en/"}}},J=(0,N.Z)(X,[["render",Q]]),ee=J;var te=o(97812),oe=o(37247),ne=o(91003),se=o(40248);function ae(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMSvgIcon");return(0,i.openBlock)(),(0,i.createElementBlock)("div",null,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(a.socialIcons,(t=>((0,i.openBlock)(),(0,i.createBlock)(r,{id:`${a.spriteUrl}#social-logo-${t.key}`,key:t.key,class:"tm-social-icons__icon",href:t.url,rel:"nofollow noopener noreferrer",size:e.isMobile?"36":"24",tag:"a",target:"_blank"},null,8,["id","href","size"])))),128))])}var ie=o(2095);const re={en:[{key:"facebook",url:"https://www.facebook.com/habr.eng"},{key:"twitter",url:"https://twitter.com/habr_eng"},{key:"telegram",url:"https://t.me/habr_eng"}],ru:[{key:"facebook",url:"https://www.facebook.com/habrahabr.ru"},{key:"twitter",url:"https://twitter.com/habr_com"},{key:"vk",url:"https://vk.com/habr"},{key:"telegram",url:"https://telegram.me/habr_com"},{key:"youtube",url:"https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w"},{key:"dzen",url:"https://dzen.ru/habr"}]},le={name:"TMSocialIcons",components:{TMSvgIcon:ie.Z},computed:{...(0,p.Se)("global",["isMobile"]),...(0,p.rn)("i18n",["fl"]),socialIcons(){return this.fl&&this.fl.indexOf("ru")>-1?re.ru:re.en},spriteUrl(){return"/img/new-social-icons-sprite.svg"}}},ce=(0,N.Z)(le,[["render",ae]]),me=ce;var de=o(46206);const ue={name:"TMFooter",components:{TMFooterCopyright:ee,TMSocialIcons:me,TMSvgIcon:ie.Z,TMSvgImg:de.Z,TMPageWidth:oe.Z,TMScrollLockTransition:se.Z,TMPageSettingsForm:te["default"],TMPopupBase:ne["default"]},data(){return{pageSettingsVisible:!1}},computed:{...(0,p.rn)("i18n",["hl"]),...(0,p.rn)("global",["isPwa"]),...(0,p.Se)("global",["isMobile"]),...(0,p.Se)("me",["userAlias"]),...(0,p.Se)("i18n",["langOptions"]),isFlEnglish(){return"en"===this.langOptions.fl},isUserBetaTester(){const e="",t=(0,I.ej)(e);return"true"===t},homeUrl(){return`/${this.hl}/`},logoIcon(){return`/img/habr-logo-${this.hl}.svg#logo`}},methods:{logGa(){(0,A.IZ)("footer_return_to_desktop")}}},pe=(0,N.Z)(ue,[["render",Y]]),he=pe,_e={class:"tm-footer-menu"},ge={class:"tm-footer-menu__container"},Te={class:"tm-footer-menu__block-title"},Ee={class:"tm-footer-menu__block-content"},Se={class:"tm-footer-menu__list"},Ce=["href","rel","target"];function ve(e,t,o,n,s,a){const r=(0,i.resolveComponent)("router-link"),l=(0,i.resolveComponent)("TMPageWidth");return(0,i.openBlock)(),(0,i.createElementBlock)("div",_e,[(0,i.createVNode)(l,null,{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("div",ge,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(a.groupMenuItems,((e,t)=>((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:`group-${t}`,class:"tm-footer-menu__block"},[(0,i.createElementVNode)("p",Te,(0,i.toDisplayString)(e.name),1),(0,i.createElementVNode)("div",Ee,[(0,i.createElementVNode)("ul",Se,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(e.items,((e,t)=>((0,i.openBlock)(),(0,i.createElementBlock)("li",{key:`link-${t}`,class:"tm-footer-menu__list-item"},["_blank"===e.target||"_self"===e.target?((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:0,href:e.link,rel:e.rel,target:e.target},(0,i.toDisplayString)(e.name),9,Ce)):((0,i.openBlock)(),(0,i.createBlock)(r,{key:1,class:"footer-menu__item-link",to:e.link},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.name),1)])),_:2},1032,["to"]))])))),128))])])])))),128))])])),_:1})])}const ke="https://account.habr.com",fe="https://company.habr.com",Ae={name:"TMFooterMenu",components:{TMPageWidth:oe.Z},computed:{...(0,p.Se)("me",["userAlias","isLoggedIn"]),...(0,p.Se)("i18n",["msg","langOptions","currentLocale"]),isFlEnglish(){return"en"===this.langOptions.fl},loginUrl(){const e="/kek/v1/auth/habrahabr/";return`${e}?back=${this.$route.path}&hl=${this.langOptions.hl}`},signUpUrl(){const e="/kek/v1/auth/habrahabr-register/";return`${e}?back=${this.$route.path}&hl=${this.langOptions.hl}`},loggedInAccountItems(){return[{name:this.msg("NAV_PROFILE"),link:{name:"ARTICLES_LIST_BY_USER",params:{login:this.userAlias,hl:this.langOptions.hl}}},{name:this.msg("TRACKER_TITLE"),link:{name:"TRACKER",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_CONVERSATIONS"),link:{name:"CONVERSATIONS",params:{hl:this.langOptions.hl}}},{name:this.msg("SETTINGS"),link:{name:"USER_SETTINGS_PROFILE",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_PPA"),link:{name:"PPA_ROOT",params:{hl:this.langOptions.hl}}}]},loggedOutAccountItems(){return[{name:this.msg("LOG_IN"),link:this.loginUrl,target:"_self",rel:"nofollow"},{name:this.msg("SIGN_UP"),link:this.signUpUrl,target:"_self",rel:"nofollow"}]},groupMenuItems(){const e=this.isLoggedIn?this.loggedInAccountItems:this.loggedOutAccountItems,t="ru"!==this.$route.params.hl||this.isFlEnglish?[]:[{name:this.msg("NAV_COMPANIES"),link:{name:"COMPANIES",params:{hl:this.langOptions.hl}}}];return[{name:this.msg("NAV_ACCOUNT"),items:e},{name:this.msg("NAV_SECTIONS"),items:[{name:this.msg("NAV_ARTICLES"),link:{name:"ARTICLES_LIST_ALL",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_NEWS"),link:{name:"NEWS_LIST_ALL",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_HUBS"),link:{name:"HUBS",params:{hl:this.langOptions.hl}}},...t,{name:this.msg("NAV_AUTHORS"),link:{name:"USERS",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_SANDBOX"),link:{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST",params:{hl:this.langOptions.hl}}}]},{name:this.msg("NAV_INFO"),items:[{name:this.msg("NAV_HELP"),link:{name:"DOCS",params:{alias:"help"}}},{name:this.msg("NAV_FOR_AUTHORS"),link:{name:"DOCS_ARTICLE",params:{alias:"authors",articleAlias:"codex"}}},{name:this.msg("NAV_FOR_COMPANIES"),link:{name:"DOCS_ARTICLE",params:{alias:"companies",articleAlias:"corpblogs"}}},{name:this.msg("NAV_DOCUMENTS"),link:{name:"DOCS_ARTICLE",params:{alias:"docs",articleAlias:"transparency"}}},{name:this.msg("NAV_AGREEMENT"),link:`${ke}/info/agreement/?hl=${this.currentLocale}`,target:"_blank"},{name:this.msg("NAV_CONFIDENTIAL"),link:`${ke}/info/confidential/?hl=${this.currentLocale}`,target:"_blank"}]},{name:this.msg("NAV_SERVICE"),items:[{name:this.msg("NAV_CORPORATE_BLOGS"),link:`${fe}/${this.langOptions.hl}/corporate-blogs/`,target:"_blank"},{name:this.msg("NAV_MEDIA_ADVERTISING"),link:`${fe}/${this.langOptions.hl}/advertising/`,target:"_blank"},{name:this.msg("NAV_NATIVE_ADVERTISING"),link:`${fe}/${this.langOptions.hl}/native-special/`,target:"_blank"},{name:this.msg("NAV_EDUCATION_PROGRAMS"),link:`${fe}/${this.langOptions.hl}/education-programs/`,target:"_blank"},{name:this.msg("NAV_STARTUPS"),link:`${fe}/${this.langOptions.hl}/hello-startup/`,target:"_blank"}]}]}}},Ie=(0,N.Z)(Ae,[["render",ve]]),ye=Ie,be=["data-header-sticky"],Ne={class:"tm-header__container"},Pe={key:0,class:"tm-header__burger-nav","data-test-id":"burger-nav"},Le={class:"tm-header__logo-wrap"},Be=["href"],Oe={class:"tm-header__beta-sign"},we=["onClick"];function Me(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMSvgImg"),l=(0,i.resolveComponent)("TMHabrLogoNyRu"),c=(0,i.resolveComponent)("TMOurProjects"),m=(0,i.resolveComponent)("TMDropdown"),d=(0,i.resolveComponent)("router-link"),u=(0,i.resolveComponent)("TMFeature"),p=(0,i.resolveComponent)("TMTopLink"),h=(0,i.resolveComponent)("TMHeaderUserMenu"),_=(0,i.resolveComponent)("TMPageWidth");return(0,i.openBlock)(),(0,i.createBlock)(i.Transition,{name:"fade"},{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("header",{class:(0,i.normalizeClass)(["tm-header",e.className]),"data-header-sticky":e.isPwa&&!e.isSticky||null,"data-test-id":"header"},[(0,i.createVNode)(_,{"full-width":e.isPwa},{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("div",Ne,[e.isPwa||e.isMobile&&!e.isTablet?((0,i.openBlock)(),(0,i.createElementBlock)("div",Pe,[e.showBackButton&&e.isPwa?((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:0,class:"tm-header__button tm-header__button_back",type:"button",onClick:t[0]||(t[0]=(...t)=>e.goBack&&e.goBack(...t))},[(0,i.createVNode)(r,{id:"arrow-back",class:"icon_arrow-back"})])):((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:1,class:"tm-header__button tm-header__button_burger",type:"button",onClick:t[1]||(t[1]=t=>e.$emit("showNavMenu"))},[(0,i.createVNode)(r,{id:"header-burger",class:"tm-header__icon tm-header__icon-burger"})]))])):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("span",Le,[(0,i.createElementVNode)("a",{class:(0,i.normalizeClass)(["tm-header__logo",e.bem("tm-header__logo",{hl:e.langOptions.hl,ny:e.isNYPeriod})]),href:e.homeUrl},[e.isNYPeriod&&"ru"===e.langOptions.hl?((0,i.openBlock)(),(0,i.createBlock)(l,{key:0,class:"tm-header__icon"})):((0,i.openBlock)(),(0,i.createBlock)(r,{key:1,id:e.logoIcon,class:"tm-header__icon"},null,8,["id"]))],10,Be),(0,i.withDirectives)((0,i.createElementVNode)("span",Oe,"β",512),[[i.vShow,e.isUserBetaTester]])]),e.isPwa||e.isDesktop||e.isTablet?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[e.isPwa||e.isHlEnglish?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(m,{key:0,align:"left","body-offset":-67,class:(0,i.normalizeClass)(["tm-header__projects",{"tm-projects_extra-margin":e.isUserBetaTester}])},{head:(0,i.withCtx)((({toggle:e})=>[(0,i.createElementVNode)("button",{class:"tm-header__dropdown-toggle",onClick:e},[(0,i.createVNode)(r,{id:"arrow-down",class:"tm-header__icon tm-header__icon_dropdown"})],8,we)])),body:(0,i.withCtx)((()=>[(0,i.createVNode)(c,{"show-description":!0})])),_:1},8,["class"])),e.isPwa?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(d,{key:1,class:(0,i.normalizeClass)(["tm-header__become-author-btn",{"tm-header__become-author-btn_extra-margin":e.isUserBetaTester}]),to:{name:"MOST_IMPORTANT_SANBOX_INFO"}},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.msg("NAV_SANDBOX_BECOME_AUTHOR")),1)])),_:1},8,["class"])),e.isFeatureShown?((0,i.openBlock)(),(0,i.createBlock)(u,{key:2,class:"tm-header__feature",variant:"inline"})):(0,i.createCommentVNode)("",!0),e.isHlEnglish||!e.isDesktop||e.isPwa?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(p,{key:3}))],64)):(0,i.createCommentVNode)("",!0),e.isPwa||e.isTablet||e.isMobile?((0,i.openBlock)(),(0,i.createBlock)(h,{key:2,class:"tm-header_user-menu"})):(0,i.createCommentVNode)("",!0)])])),_:1},8,["full-width"])],10,be)])),_:1})}var Re=o(68651),Ve=o(10118),De=o(24423);const Ue=["href"];function $e(e,t,o,n,s,a){return e.topLinkPost&&e.topLinkPost.link.url?((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:0,class:"tm-top-link",href:e.topLinkPost.link.url,style:(0,i.normalizeStyle)(`color: ${e.topLinkPost.color||"#94E379"}`),target:"_blank",onClickCapture:t[0]||(t[0]=(...e)=>a.logTopLinkEvent&&a.logTopLinkEvent(...e))},(0,i.toDisplayString)(e.topLinkPost.title),45,Ue)):(0,i.createCommentVNode)("",!0)}const xe={name:"TMTopLink",data(){return{topLink:null}},computed:{...(0,p.Se)("i18n",["msg","langOptions"]),...(0,p.Se)("promoData",["topLinkPost"])},watch:{topLinkPost:{immediate:!0,handler(e){e&&this.trackView()}}},methods:{logTopLinkEvent(){(0,A.IZ)("habr_top_panel_special")},trackView(){const e=this.topLinkPost.events&&this.topLinkPost.events.view;e&&(0,D.s)([e])}}},Fe=(0,N.Z)(xe,[["render",$e]]),He=Fe;var Ge=o(68171);const We=(0,i.defineAsyncComponent)((()=>o.e(5209).then(o.bind(o,5209)))),Ye={name:"TMHeader",components:{TMDropdown:Re.Z,TMFeature:x,TMSvgImg:de.Z,TMOurProjects:De.Z,TMHeaderUserMenu:Ve.Z,TMTopLink:He,TMPageWidth:oe.Z,TMHabrLogoNyRu:We},props:{isSticky:Boolean,isFeatureShown:Boolean},emits:["showNavMenu","lang"],data(){return{showHeader:!0,lastScrollPosition:0}},computed:{...(0,p.rn)("global",["isPwa"]),...(0,p.Se)("global",["isMobile","isTablet","isDesktop"]),...(0,p.Se)("me",["isLoggedIn"]),...(0,p.Se)("i18n",["langOptions"]),homeUrl(){return this.isPwa?"/pwa/":`/${this.langOptions.hl}/`},logoIcon(){const{hl:e}=this.langOptions;return this.isNYPeriod?`/img/habr-logo-ny-${e}.svg#logo`:`/img/habr-logo-${e}.svg#logo`},isNYPeriod(){const e=new Date,t=(new Date).getFullYear(),o=new Date(t,11,1),n=new Date(t+1,0,15);return e>o&&e<n},isUserBetaTester(){const e="",t=(0,I.ej)(e);return"true"===t},isRootPage(){return this.$route.matched.find((e=>e.meta.rootPage))},showBackButton(){return!this.isRootPage},isMobilePwa(){return this.isPwa&&this.isMobile},toConversations(){return{name:"CONVERSATIONS",params:{hl:this.langOptions.hl}}},isHlEnglish(){return"en"===this.langOptions.hl},className(){return{"tm-header_sticky":this.isSticky&&!this.isPwa,"tm-header_hidden":this.isSticky&&!this.showHeader,"tm-header_fixed":!this.isSticky&&this.isPwa}}},watch:{isSticky:{handler(e){this.$isServer||(e?(this.lastScrollPosition=window.pageYOffset,window.addEventListener("scroll",this.onScroll,{passive:!0})):window.removeEventListener("scroll",this.onScroll))},immediate:!0}},beforeUnmount(){window.removeEventListener("scroll",this.onScroll)},methods:{bem:V.P,onScroll(){const e=window.pageYOffset||document.documentElement.scrollTop,t=Math.abs(e-this.lastScrollPosition);e<0||t<120||(this.showHeader=e<this.lastScrollPosition,this.lastScrollPosition=e)},goBack(){if(window.history&&window.history.length>1)this.$router.go(-1);else{const e=(0,Ge.bc)(this.langOptions);this.$router.push(e)}},onUserMenuLang(){this.$emit("lang")}}},Ze=(0,N.Z)(Ye,[["render",Me]]),qe=Ze;function Ke(e,t,o,n,s,a){return(0,i.openBlock)(),(0,i.createElementBlock)("div",null,[(0,i.renderSlot)(e.$slots,"default")])}const je={name:"TMLayoutMetaWrapper",head(){const e=[];return this.$route.meta.rssLink&&e.push({href:this.rssFullRoute,type:"application/rss+xml",title:this.pageTitlePart,rel:"alternate",name:"rss"}),{htmlAttrs:{lang:this.hl},link:e}},computed:{...(0,p.Se)("me",["rssKey"]),...(0,p.rn)("i18n",["hl","fl"]),pageTitlePart(){return this.$route.meta.title?this.msg(this.$route.meta.title,this.$route.params):""},rssFullRoute(){const{params:e,query:t,meta:{rssLink:o}}=this.$route,n={...e,...t,fl:this.fl,hl:this.hl,...this.rssKey?{rssKey:this.rssKey}:{}},s=new URL(`https://habr.com/${this.hl}${o(n)}`);return s.searchParams.append("fl",this.fl),s.href}}},ze=(0,N.Z)(je,[["render",Ke]]),Qe=ze,Xe={class:"tm-main-menu"},Je={key:0,class:"tm-main-menu__section"},et={class:"tm-main-menu__section-content"},tt=["href"],ot=["href"],nt=["href","onClick"];function st(e,t,o,n,s,a){const r=(0,i.resolveComponent)("router-link");return(0,i.openBlock)(),(0,i.createElementBlock)("div",Xe,[e.flows.length?((0,i.openBlock)(),(0,i.createElementBlock)("div",Je,[(0,i.createElementVNode)("nav",et,[(0,i.createVNode)(r,{custom:"",to:a.routes.feed},{default:(0,i.withCtx)((({href:o,isActive:n})=>[(0,i.createElementVNode)("a",{class:(0,i.normalizeClass)(a.bem("tm-main-menu__item",{"has-new":a.hasNewItems,active:n})),href:o,onClick:t[0]||(t[0]=(0,i.withModifiers)((e=>a.pushRouteTo(a.routes.feed,e)),["prevent"]))},(0,i.toDisplayString)(e.msg("NAV_MY_FEED")),11,tt)])),_:1},8,["to"]),(0,i.createVNode)(r,{custom:"",to:a.routes.articles},{default:(0,i.withCtx)((({href:o})=>[(0,i.createElementVNode)("a",{class:(0,i.normalizeClass)(a.bem("tm-main-menu__item",{active:a.allFlowsLinkActive})),href:o,onClick:t[1]||(t[1]=(0,i.withModifiers)((e=>a.pushRouteTo(a.routes.articles,e)),["prevent"]))},(0,i.toDisplayString)(e.msg("NAV_FLOWS_ALL")),11,ot)])),_:1},8,["to"]),((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(e.flows,(t=>((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:t.id},[s.i18nFlows[t.alias]?((0,i.openBlock)(),(0,i.createBlock)(r,{key:0,custom:"",to:t.route},{default:(0,i.withCtx)((({href:o,isActive:n})=>[(0,i.createElementVNode)("a",{class:(0,i.normalizeClass)(a.bem("tm-main-menu__item",{active:n})),href:o,onClick:(0,i.withModifiers)((e=>a.pushRouteTo(t.route,e)),["prevent"])},(0,i.toDisplayString)(e.msg(s.i18nFlows[t.alias])),11,nt)])),_:2},1032,["to"])):(0,i.createCommentVNode)("",!0)],64)))),128))])])):(0,i.createCommentVNode)("",!0)])}const at=(e,t)=>Object.keys(e).every((o=>e[o]===t[o])),it={name:"TMMainMenu",data(){return{swipeListener:null,i18nFlows:{admin:"NAV_FLOW_ADMIN",design:"NAV_FLOW_DESIGN",develop:"NAV_FLOW_DEVELOP",popsci:"NAV_FLOW_POPSCI",management:"NAV_FLOW_MANAGEMENT",marketing:"NAV_FLOW_MARKETING",misc:"NAV_FLOW_MISC",geektimes:"NAV_FLOW_GEEKTIMES"}}},computed:{...(0,p.rn)("flows",["flows"]),...(0,p.Se)("i18n",["msg","langOptions"]),...(0,p.Se)("me",["isLoggedIn","hasNewPublicationsBySubscription"]),...(0,p.Se)("global",["isDesktop"]),isFlEnglish(){return"en"===this.langOptions.fl},isHLEnglish(){return"en"===this.langOptions.hl},routes(){const e={hl:this.langOptions.hl};return{articles:{name:this.isLoggedIn?"ALL_FLOWS":"ARTICLES_LIST_ALL",params:e},feedback:{name:"FEEDBACK",params:e},feed:{name:"MY_FEED",params:{...e,force:!0}},help:{name:"DOCS",params:{alias:"help",...e}},megaprojects:{name:"MEGAPROJECTS",params:e}}},allFlowsLinkActive(){return this.$route.matched.some((e=>"allFlows"===e.meta.feedType))},hasNewItems(){var e;if(!this.isLoggedIn)return!1;const t=!this.$route.params.pageNum||1===this.$route.params.pageNum,o=null===(e=this.$route.name)||void 0===e?void 0:e.startsWith("MY_FEED");return o?t&&this.hasNewPublicationsBySubscription:this.hasNewPublicationsBySubscription}},methods:{bem:V.P,...(0,p.nv)("pullRefresh",["toggleRefresh"]),pushRouteTo(e,t){if(t.metaKey||t.ctrlKey||t.shiftKey)return;t.preventDefault();const o={FLOW_PAGE:"ARTICLES_LIST_BY_FLOW_ALL",ALL_FLOWS:"ARTICLES_LIST_ALL"},n=o[e.name],s=this.$router.resolve(e),a=n||s.name,i=this.$route.name===a&&at(s.params,this.$route.params);i?(window.scrollTo({top:0}),this.toggleRefresh(!0)):this.$router.push(e).catch((()=>{}))}}},rt=(0,N.Z)(it,[["render",st]]),lt=rt;function ct(e,t,o,n,s,a){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["tm-notification",`${e.inlineClass} ${e.staticClass} ${e.layoutClass}`])},[(0,i.renderSlot)(e.$slots,"default")],2)}const mt={name:"TMNotification",props:{inline:Boolean,static:Boolean,layout:{default:"full",type:String}},computed:{inlineClass(){return this.inline?"tm-notification_inline":""},staticClass(){return this.static?"tm-notification_static":""},layoutClass(){return`tm-notification_${this.layout}`}}},dt=(0,N.Z)(mt,[["render",ct]]),ut=dt;var pt=o(77839);const ht=["innerHTML"];function _t(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMButtonBase"),l=(0,i.resolveComponent)("TMErrorMessage");return(0,i.openBlock)(),(0,i.createBlock)(l,null,{title:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(a.errorTitle),1)])),message:(0,i.withCtx)((()=>[(0,i.createElementVNode)("p",{innerHTML:a.errorMessage},null,8,ht),!e.isPwa&&a.errorAction?((0,i.openBlock)(),(0,i.createBlock)(r,{key:0,class:"tm-error__refresh","style-size":"large","style-type":"transparent",type:"button",onClick:a.errorAction.action},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(a.errorAction.text),1)])),_:1},8,["onClick"])):(0,i.createCommentVNode)("",!0),a.errorActionAlternative?((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:1,class:"tm-error__link",href:"#",onClick:t[0]||(t[0]=(...e)=>a.errorActionAlternative.action&&a.errorActionAlternative.action(...e))},(0,i.toDisplayString)(a.errorActionAlternative.text),1)):(0,i.createCommentVNode)("",!0)])),_:1})}var gt=o(10714),Tt=o(32773),Et=o(20980);let St;function Ct(e){St=e}function vt(e,t,o){if(!St)return"▇▅▄▅▅▄ ▇▄▅";const n=St[e];if(!n)return(0,Et.Z)(t,new Error(`Language "${e}" is not present in the locales cache`)),"▇▅▄▅▅▄ ▇▄▅";const s=n[t];try{const t=new Tt.ZP(s,e,null,{ignoreTag:!0}),n={};return t.ast.filter((({type:e,value:t})=>5===e&&!o[t])).forEach((({value:e})=>{n[e]=null})),t.format({...n,...o})}catch(a){return(0,Et.Z)(t,a),"▇▅▄▅▅▄ ▇▄▅"}}var kt=o(87032);const ft={name:"TMPageError",components:{TMButtonBase:B.Z,TMErrorMessage:gt.Z},props:{error:{type:[Object,Error],required:!0}},computed:{...(0,p.rn)("global",["isPwa"]),...(0,p.rn)("me",["user"]),...(0,p.Se)("me",["isLoggedIn"]),draftParams(){const e=this.error.data.author.login||this.error.data.author.alias;return{userProfileLink:this.getUserProfileLink(e),userName:e}},userLogoutHash(){return this.user&&this.user.crc32},errorMessage(){if((0,kt.isPostDeletedError)(this.error))return this.getTranslation("ERROR_POST_DELETED_DESCRIPTION");if("TimeoutError"===this.error.name)return this.getTranslation("ERROR_PAGE_MESSAGE_TIMEOUT");if((0,kt.is403WithUserType)(this.error))return this.getTranslation(`ERROR_PAGE_MESSAGE_ARTICLE_DRAFT_${this.error.data.userType}`,{reason:this.error.data.reason});if((0,kt.is403Error)(this.error)&&"IN_DRAFTS"===(0,kt.getErrorCode)(this.error))return this.getTranslation("ERROR_PAGE_MESSAGE_ARTICLE_IN_DRAFTS",this.draftParams);if((0,kt.is403WithReason)(this.error))return this.getTranslation(`ERROR_PAGE_MESSAGE_ARTICLE_${this.error.data.reason}`,this.draftParams);if((0,kt.is403Error)(this.error)){const e=(0,kt.getErrorCode)(this.error);if(!e)return this.getTranslation("ERROR_PAGE_TITLE_ARTICLE_IN_DRAFTS");if("COMPANY_ACCESS_LIMIT"===e)return this.getTranslation("ERROR_PAGE_TITLE_UNAUTHORIZED");if("AUTHOR_INACTIVE"===e)return this.getTranslation("ERROR_PAGE_MESSAGE_AUTHOR_INACTIVE");const t=["USER_INACTIVE","TARGET_USER_INACTIVE"];if(t.includes(e)){const e=-1!==this.$route.name.indexOf("USER_")?"ERROR_PAGE_MESSAGE_USER_PROFILE_INACTIVE":"ERROR_PAGE_MESSAGE_ARTICLE_USER_INACTIVE",t=this.error.data.author&&this.error.data.author.alias,o=this.$router.resolve({name:"USER_PROFILE",params:{hl:this.langOptions.hl,login:t}});return this.getTranslation(e,{userProfileLink:o.href,userName:t})}return this.getTranslation(`ERROR_PAGE_${e}`)}return(0,kt.is401Error)(this.error)?this.getTranslation("ERROR_PAGE_MESSAGE_NOT_AUTHORIZED"):(0,kt.is4xxError)(this.error)?this.getTranslation("ERROR_PAGE_MESSAGE_NOT_FOUND"):this.error.message?this.error.message:""},errorTitle(){return(0,kt.isPostDeletedError)(this.error)?this.getTranslation("ERROR_POST_DELETED_TITLE"):"TimeoutError"===this.error.name?this.getTranslation("ERROR_PAGE_TITLE_TIMEOUT"):(0,kt.is403WithReason)(this.error)&&!(0,kt.is403WithUserType)(this.error)?this.getTranslation(`ERROR_PAGE_TITLE_ARTICLE_${this.error.data.reason}`):(0,kt.is403Error)(this.error)?this.getTranslation("ERROR_PAGE_TITLE_UNAUTHORIZED"):(0,kt.is401Error)(this.error)?this.getTranslation("ERROR_PAGE_TITLE_NOT_AUTHORIZED"):(0,kt.is4xxError)(this.error)?this.getTranslation("ERROR_PAGE_TITLE_NOT_FOUND"):this.getTranslation("ERROR_PAGE_TITLE_INTERNAL")},errorAction(){return"TimeoutError"===this.error.name?{text:this.getTranslation("ERROR_PAGE_REFRESH"),action:this.reloadThePage}:(0,kt.is403Error)(this.error)||(0,kt.is403WithReason)(this.error)||(0,kt.is4xxError)(this.error)?{text:this.getTranslation("ERROR_PAGE_BACK_TO_MAIN"),action:this.backToMainPage}:(0,kt.is401Error)(this.error)?{text:this.getTranslation("ERROR_PAGE_AUTH"),action:()=>{const{hl:e}=this.langOptions,t=this.$route.path;window.location.href=`/kek/v1/auth/habrahabr/?back=${t}&hl=${e}`}}:null},errorActionAlternative(){return this.errorAction&&this.errorAction.text===this.getTranslation("ERROR_PAGE_BACK_TO_MAIN")?null:(0,kt.is401Error)(this.error)?{text:this.getTranslation("ERROR_PAGE_BACK_TO_MAIN"),action:()=>{const{hl:e}=this.langOptions;window.location.href=`/kek/v1/auth/logout2/${this.userLogoutHash}/?back=/${e}/all`}}:null}},beforeMount(){const e=(0,kt.getErrorCode)(this.error);(0,kt.is401Error)(this.error)&&"TOKEN_PROBLEM"===e&&(this.setUser(null),this.init(!0),this.reset()),(0,kt.is403Error)(this.error)&&"SUBSCRIPTIONS_ARE_EMPTY"===e&&this.isLoggedIn&&this.$router.push({name:"MY_FEED_SETTINGS"})},mounted(){(0,kt.is401Error)(this.error)&&(0,n.$e)((e=>{e.setTag("error_type",(0,kt.getHttpCode)(this.error)),e.setUser(this.user),e.setLevel("warning"),(0,n.uT)("NOT_AUTHORIZED_401",{extra:this.error,contexts:this.error})}))},methods:{...(0,p.OI)("me",["setUser"]),...(0,p.nv)("me",["init"]),...(0,p.nv)("ssr",["reset"]),getTranslation(e,t){if(t)return this.msg(e,t);const{hl:o}=this.langOptions;return vt(o||"en",e)},getUserProfileLink(e){return`/${this.langOptions.hl}/users/${e}/`},backToMainPage(){this.isPwa?window.location="/pwa/":window.location="/"}}},At=(0,N.Z)(ft,[["render",_t]]),It=At;function yt(e,t,o,n,s,a){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["tm-page-progress-bar",e.className])},null,2)}const bt={name:"TMPageProgressBar",props:{isFinished:Boolean,isProcessing:Boolean},data(){return{haveJustFinished:!1}},computed:{className(){return{"tm-page-progress-bar_finished":this.haveJustFinished,"tm-page-progress-bar_processing":this.isProcessing}}},watch:{isFinished(e,t){e&&!t&&(this.haveJustFinished=!0,setTimeout((()=>{this.haveJustFinished=!1}),300))}}},Nt=(0,N.Z)(bt,[["render",yt]]),Pt=Nt;var Lt=o(68172);const Bt={class:"tm-regional-restriction"},Ot={class:"tm-regional-restriction__title"},wt={class:"tm-regional-restriction__subtitle"},Mt={class:"tm-regional-restriction__list"},Rt={class:"tm-regional-restriction__block"},Vt={class:"tm-regional-restriction__row"},Dt={class:"tm-regional-restriction__label"},Ut={class:"tm-regional-restriction__row"},$t={class:"tm-regional-restriction__label"},xt={key:0,class:"tm-regional-restriction__row"},Ft={class:"tm-regional-restriction__label"},Ht={key:1,class:"tm-regional-restriction__row"},Gt={class:"tm-regional-restriction__label"},Wt={class:"tm-regional-restriction__block"},Yt={key:0,class:"tm-regional-restriction__row"},Zt={class:"tm-regional-restriction__label"},qt={class:"tm-regional-restriction__block"},Kt={class:"tm-regional-restriction__link-container"},jt={class:"tm-regional-restriction__label"},zt=["href","textContent"];function Qt(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMLegalBanIcon"),l=(0,i.resolveComponent)("TMDatetime");return(0,i.openBlock)(),(0,i.createElementBlock)("div",Bt,[(0,i.createVNode)(r,{class:"tm-regional-restriction__image"}),(0,i.createElementVNode)("div",Ot,(0,i.toDisplayString)(e.msg("ERROR_REGIONAL_RESTRICTION_TITLE")),1),(0,i.createElementVNode)("div",wt,(0,i.toDisplayString)(e.msg("ERROR_REGIONAL_RESTRICTION_SUBTITLE"))+": ",1),(0,i.createElementVNode)("div",Mt,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(o.error.data.restrictions,((t,o)=>((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:o,class:"tm-regional-restriction__restrictions"},[(0,i.createElementVNode)("div",Rt,[(0,i.createElementVNode)("div",Vt,[(0,i.createElementVNode)("span",Dt,(0,i.toDisplayString)(e.msg("ERROR_REGIONAL_RESTRICTION_REGION"))+": ",1),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(t.country),1)]),(0,i.createElementVNode)("div",Ut,[(0,i.createElementVNode)("span",$t,(0,i.toDisplayString)(e.msg("ERROR_REGIONAL_RESTRICTION_DATE"))+": ",1),(0,i.createVNode)(l,{"absolute-date":"",date:t.timeStarted},null,8,["date"])]),a.reason(t)?((0,i.openBlock)(),(0,i.createElementBlock)("div",xt,[(0,i.createElementVNode)("span",Ft,(0,i.toDisplayString)(e.msg("ERROR_REGIONAL_RESTRICTION_REASON"))+": ",1),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(a.reason(t)),1)])):(0,i.createCommentVNode)("",!0),a.authority(t)?((0,i.openBlock)(),(0,i.createElementBlock)("div",Ht,[(0,i.createElementVNode)("span",Gt,(0,i.toDisplayString)(e.msg("ERROR_REGIONAL_RESTRICTION_AUTHORITY"))+": ",1),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(t.country)+" / "+(0,i.toDisplayString)(a.authority(t)),1)])):(0,i.createCommentVNode)("",!0)]),(0,i.createElementVNode)("div",Wt,[a.legalBasis(t)?((0,i.openBlock)(),(0,i.createElementBlock)("div",Yt,[(0,i.createElementVNode)("div",Zt,(0,i.toDisplayString)(e.msg("ERROR_REGIONAL_RESTRICTION_LEGAL_BASE"))+": ",1),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(a.legalBasis(t)),1)])):(0,i.createCommentVNode)("",!0)]),(0,i.createElementVNode)("div",qt,[(0,i.createElementVNode)("div",Kt,[(0,i.createElementVNode)("span",jt,(0,i.toDisplayString)(e.msg("ERROR_REGIONAL_RESTRICTION_REFERENCE"))+": ",1),a.legalBasisLink(t)?((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:0,class:"tm-regional-restriction__link",href:a.legalBasisLink(t),target:"_blank",textContent:(0,i.toDisplayString)(a.legalBasisLink(t))},null,8,zt)):(0,i.createCommentVNode)("",!0)])])])))),128))])])}const Xt=(0,i.defineAsyncComponent)((()=>o.e(5629).then(o.bind(o,5629)))),Jt={name:"TMRegionalRestriction",components:{TMDatetime:O.Z,TMLegalBanIcon:Xt},props:{error:{type:Object,required:!0}},methods:{reason(e){var t;return null===(t=e.restrictionReason)||void 0===t?void 0:t.reason},authority(e){var t;return null===(t=e.authority)||void 0===t?void 0:t.shortName},legalBasis(e){return e.legalBasis.text},legalBasisLink(e){return e.legalBasis.url}}},eo=(0,N.Z)(Jt,[["render",Qt]]),to=eo;function oo(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMSvgIcon");return e.isDesktop&&(s.scrolledEnough||s.shouldRestoreScroll)?((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:0,class:"tm-scroll-top",onClick:t[0]||(t[0]=(...e)=>a.performScroll&&a.performScroll(...e))},[(0,i.createVNode)(r,{id:"small-arrow",class:(0,i.normalizeClass)(["tm-scroll-top__arrow",{"tm-scroll-top__arrow_reverted":s.shouldRestoreScroll}]),tag:"span",title:s.shouldRestoreScroll?e.msg("NAV_DOWN"):e.msg("NAV_UP")},null,8,["class","title"])])):(0,i.createCommentVNode)("",!0)}const no=100,so={name:"TMScrollTop",components:{TMSvgIcon:ie.Z},data(){return{storedScrollPosition:0,lastScrollPosition:0,shouldRestoreScroll:!1,scrolledEnough:!1}},computed:{...(0,p.Se)("global",["isDesktop"])},mounted(){requestAnimationFrame((()=>{this.handleScroll(),window.addEventListener("scroll",this.handleScroll,{passive:!0})}))},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{performScroll(){let e=0;this.shouldRestoreScroll?(e=this.storedScrollPosition,this.storedScrollPosition=0):this.storedScrollPosition=document.scrollingElement.scrollTop,this.shouldRestoreScroll=!this.shouldRestoreScroll,window.scrollTo({top:e,left:0,behavior:"smooth"})},handleScroll(){const{scrollTop:e}=document.scrollingElement;this.scrolledEnough=e>no,this.lastScrollPosition<e&&this.shouldRestoreScroll&&(this.shouldRestoreScroll=!1),this.lastScrollPosition=e}}},ao=(0,N.Z)(so,[["render",oo]]),io=ao;var ro=o(43210);const lo=(0,i.defineAsyncComponent)((()=>o.e(6755).then(o.bind(o,86755)))),co=(0,i.defineAsyncComponent)((()=>o.e(5225).then(o.bind(o,25225)))),mo=(0,i.defineAsyncComponent)((()=>Promise.resolve().then(o.bind(o,56255))));function uo(e){const t=/https?:\/\/((?:[\w\d-]+\.)+[\w\d]{2,})/i;return t.exec(e)}const po={components:{TMRegionalRestriction:to,TMPageError:It,TMPage:pt.Z,TMBurgerMenu:lo,TMPageWidth:oe.Z,TMHeaderUserMenu:Ve.Z,TMScrollLockTransition:se.Z,TMPopup:Lt.Z,TMUserNotice:mo,TMButtonBase:B.Z,TMDatetime:O.Z,TMFeature:x,TMFooter:he,TMFooterMenu:ye,TMAnalytics:L,TMHeader:qe,TMHotKeys:co,TMLayoutMetaWrapper:Qe,TMMainMenu:lt,TMNotification:ut,TMPageProgressBar:Pt,TMScrollTop:io,TMSidebar:ro.Z},data(){return{shouldOpenLangSettings:!1,shouldOpenPayments:!1,showRefreshNotice:!1,cacheTime:null,showCacheNotice:!1,isHeaderSticky:!1,showHotKeysPopup:!1,navMenuVisible:!1}},computed:{...(0,p.rn)("navMenu",{isMainMenuOpened:"isOpened",mainMenuDelta:"delta"}),...(0,p.rn)("ssr",["isDataLoaded","isDataLoading"]),...(0,p.Se)("ssr",["error"]),...(0,p.Se)("global",["isMobile","isTablet","isDesktop"]),...(0,p.Se)("me",["isLoggedIn","notices"]),...(0,p.rn)("global",["isPwa"]),isPPGError(){return"PPG_REQUIRED"===(0,kt.getErrorCode)(this.error)},isLegalBanError(){return 451===(0,kt.getHttpCode)(this.error)},isFeatureShown(){return"en"!==this.langOptions.fl&&!this.isPwa},isBlankPage(){return"blank"===this.$route.meta.pageType},isConversationPage(){return"conversation"===this.$route.meta.pageType},isFooterHidden(){return this.isBlankPage||this.isConversationPage},isDisplayStandalone(){return window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone},showUserNotices(){return!this.$route.meta.hideUserNotices}},watch:{$route:{handler(e){this.isHeaderSticky="sticky"===e.meta.header,this.shouldOpenLangSettings=!1},immediate:!0}},mounted(){this.isDisplayStandalone&&this.initPwaMode(),this.initViewport(),window.addEventListener("appinstalled",(()=>{(0,A.IZ)("pwa_add"),this.initPwaMode()})),document.addEventListener("showRefreshNotice",(()=>{this.showRefreshNotice=!0}),{once:!0}),document.addEventListener("showCacheNotice",(e=>{this.cacheTime=parseInt(e.detail,10),this.showCacheNotice=!0,document.addEventListener("click",this.blockOpeningExternalLink)})),document.addEventListener("hideCacheNotice",(()=>{this.cacheTime=null,this.showCacheNotice=!1,document.removeEventListener("click",this.blockOpeningExternalLink)})),window.addEventListener("offline",(()=>{this.cacheTime=new Date,this.showCacheNotice=!0})),window.addEventListener("online",(()=>{this.showCacheNotice=!1})),window.addEventListener("beforeinstallprompt",(e=>(e.preventDefault(),!1)))},methods:{bem:V.P,...(0,p.nv)("me",["init"]),...(0,p.nv)("viewport",{initViewport:"init"}),...(0,p.nv)("global",["initPwaMode"]),reloadThePage(){this.isPwa?window.location="/pwa/":window.location.reload(!0)},blockOpeningExternalLink(e){const{target:t}=e;if("A"===t.tagName||"A"===t.parentNode.tagName){const{href:o}=t.closest("a"),n=uo(o),s=uo(document.location.href);n!==s&&(e.preventDefault(),this.$toast.warning(this.msg("ERROR_PAGE_MESSAGE_NO_INTERNET_LINK")))}},toggleHotKeysPopup(){this.showHotKeysPopup=!this.showHotKeysPopup}}},ho=(0,N.Z)(po,[["render",v]]),_o=ho,go={class:"tm-layout"};function To(e,t){const o=(0,i.resolveComponent)("router-view");return(0,i.openBlock)(),(0,i.createElementBlock)("main",go,[(0,i.createVNode)(o)])}const Eo={},So=(0,N.Z)(Eo,[["render",To]]),Co=So;var vo=o(91296),ko=o.n(vo);function fo(){let e=document.scrollingElement.scrollTop,t=!1;window.addEventListener("scroll",ko()((()=>{t||(e=document.scrollingElement.scrollTop)}),50)),window.addEventListener("fullscreenchange",(()=>{document.fullscreenElement?t=!0:(t=!1,document.scrollingElement.scrollTop=e)}))}function Ao(){document.addEventListener("click",(({target:e})=>{e.classList.contains("habrahidden")&&e.setAttribute("data-show",!0)}))}var Io=o(10836),yo=o(44383);const bo=e=>"ru"===e?"en":"ru",No={components:{TMBaseLayout:_o,TMEmptyLayout:Co},setup(){const e=(0,i.getCurrentInstance)();return(0,i.onMounted)((()=>{e.appContext.config.globalProperties.$hasHydrated.value=!0})),(0,h.w)((({store:e})=>e.dispatch("flows/loadFlows")))},data(){return{isCroppedByOverlay:!1,isLoadingI18n:!1}},head(){return{title:this.pageMetaTitle,titleTemplate:e=>this.pageTitle(e),link:this.pageMetaLinks,meta:this.pageMeta}},computed:{...(0,p.Se)("me",["userAlias"]),...(0,p.Se)("i18n",["langOptions","currentLocale","pageTitle"]),...(0,p.Se)("global",["isHabrCom"]),currentLayout(){return`TM-${this.$route.meta.layout||"base"}-layout`},defaultPreviewImage(){return"ru"===this.langOptions.hl?"/img/habr_ru.png":"/img/habr_en.png"},staticPageMeta(){return[...(0,_.h$)(this.defaultPreviewImage),{property:"fb:app_id",content:"444736788986613"},{property:"fb:pages",content:"472597926099084"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"ru"===this.langOptions.hl?"@habr_com":"@habr_eng"},{property:"og:locale",content:this.currentLocale,vmid:"og:locale"},{property:"og:type",content:"website",vmid:"og:type"},{property:"og:site_name",content:"ru"===this.langOptions.hl?"Хабр":"Habr",vmid:"og:site_name"}]},pageMetaTitle(){const{title:e}=this.$route.meta||{};return e?this.msg(e,this.$route.params):void 0},pageMeta(){const{description:e,noindex:t}=this.$route.meta,o=[...this.staticPageMeta],{href:n}=this.$router.resolve({name:this.$route.name,params:this.$route.params});return t&&o.push({name:"robots",content:"noindex",vmid:"robots"}),e&&(o.push({name:"description",content:this.msg(e,this.$route.params),vmid:"description"}),o.push({property:"og:description",content:this.msg(e,this.$route.params),vmid:"og:description"})),o.push({property:"og:title",content:this.pageTitle(this.pageMetaTitle),vmid:"og:title"},{property:"og:url",content:(0,Io.Z)(n),vmid:"og:url"}),o},pageMetaLinks(){const{renderAlternateMetaTag:e}=this.$route.meta,t=[{rel:"image_src",href:this.defaultPreviewImage,vmid:"image:href"}];let{href:o}=this.$router.resolve({name:this.$route.name,params:this.$route.params});if(this.$route.meta.canonicalRoute)o=this.$router.resolve({name:this.$route.meta.canonicalRoute,params:this.$route.params}).href;else if(this.$route.name&&this.$route.name.match(/_PAGES$/)){const{matched:e,params:t}=this.$route;let n=e[e.length-2];n.redirect&&"object"===typeof n.redirect&&(n=n.redirect),o=this.$router.resolve({...n,params:t}).href}t.push({href:(0,Io.Z)(o),rel:"canonical",vmid:"canonical"});const n=[];if(e){const e=this.$router.resolve({...this.$route,params:{...this.$route.params,hl:bo(this.$route.params.hl)}});n.push({href:`https://habr.com${this.$route.path}`,hreflang:this.$route.params.hl,rel:"alternate",vmid:"hreflang"}),n.push({href:`https://habr.com${e.href}`,hreflang:bo(this.$route.params.hl),rel:"alternate",vmid:"hreflang"})}return[...t,...n]}},watch:{$route(e,t){e.path!==t.path&&this.loadPromoData()}},mounted(){const e=(0,I.ej)("hl"),t=(0,I.ej)("fl"),{fl:o,hl:n}=this.langOptions;n!==e&&(0,I.d8)("hl",n,{expires:365}),o!==t&&(0,I.d8)("fl",o,{expires:365}),this.getUUID(),window.addEventListener("message",(e=>{this.validEmbedOrigin(e)&&(e.data&&e.data.type&&"embed-size"===e.data.type&&this.resizeIframe(e.data),e.data&&e.data.type&&"embed-scroll"===e.data.type&&this.scrollToIframe(e.data),e.data&&e.data.type&&"request-user"===e.data.type&&this.sendUser(e))})),this.$route.hash!==`#${yo.dY}`&&(window.history.scrollRestoration="auto"),this.loadPromoData(),Ao(),fo(),this.openSettings()},methods:{...(0,p.nv)("promoData",["loadPromoData"]),...(0,p.nv)("me",["getUUID"]),...(0,p.nv)("global",["setIsSettingsVisible"]),resizeIframe(e){const t=e.id,o=document.querySelectorAll(`[id="${t}"]`);for(let n=0;n<o.length;n+=1)o[n].height=e.height},scrollToIframe(e){const t=e.id,o=document.querySelector(`[id="${t}"]`);if(o){const e=o.getBoundingClientRect().top+window.pageYOffset-56;window.scrollTo({top:e,behavior:"smooth"})}},sendUser(e){e.source.postMessage({type:"user",alias:this.userAlias},e.origin)},validEmbedOrigin(e){return"https://embedd.srv.habr.com"===e.origin},openSettings(){"#settings"===this.$route.hash&&(this.setIsSettingsVisible({isSettingsVisible:!0}),this.$router.replace({...this.$route,hash:""}))}}},Po=(0,N.Z)(No,[["render",u]]),Lo=Po;var Bo=o(67267),Oo=o(86409),wo=o(27133);function Mo(e){return(0,Oo.Q)((0,wo.k)("fbi/"),e)}var Ro=o(88447);function Vo(e,t){const o=t.getters["i18n/langOptions"],{hl:n}=o;if(e.params.hl!==n)return e.name&&"ERROR_NOT_FOUND"!==e.name?{params:{...e.params,hl:n},name:e.name,query:e.query}:{path:`/${n}${e.fullPath}`,query:e.query};const s="/"===e.path[e.path.length-1];return s?null:{path:`${e.path}/`,query:e.query}}function Do(e,t){const o={FLOW_PAGE:"ARTICLES_LIST_BY_FLOW_ALL",ALL_FLOWS:"ARTICLES_LIST_ALL",NEWS_LIST_BY_FLOW_ALL:"NEWS_LIST_BY_FLOW_ALL",NEWS_LIST_ALL:"NEWS_LIST_ALL",POSTS_ALL:"POSTS_ALL",POSTS_BY_FLOW_ALL:"POSTS_BY_FLOW_ALL",NEWS_BY_HUB_ALL:"NEWS_BY_HUB_ALL",POSTS_BY_HUB_ALL:"POSTS_BY_HUB_ALL",HUB_PAGE:"ARTICLES_LIST_BY_HUB_ALL",ARTICLES_LIST_BY_HUB_ALL:"ARTICLES_LIST_BY_HUB_ALL",ARTICLES_LIST_BY_FLOW_ALL:"ARTICLES_LIST_BY_FLOW_ALL"};let n="";e.beforeEach(((e,s,a)=>{const{name:i,params:r,hash:l}=e,c=o[i],m=c===n,d=!c||m&&c===i;if(n=c,d)return a();const u=Boolean(t.state.me.user);if(!u)return a({name:c,params:r,hash:l});const p=r.flowName||"all",{hubName:h}=r,_=i&&i.startsWith("NEWS"),g=i&&i.startsWith("POSTS"),T=(0,Ro.buildCookieName)({flowName:p,hubName:h,isNews:_,isPosts:g}),E=(0,I.ej)(T),S=`/${r.hl}${E}${l||""}`;return a(E?{path:S}:{name:c,params:r,hash:l})}))}function Uo(e,t){e.beforeResolve(((e,o,n)=>{e.matched.some((e=>"allFlows"===e.meta.feedType))&&t.dispatch("flows/loadUpdates"),t.dispatch("me/loadUpdates"),n()}))}function $o(e,t){e.beforeEach(((e,o,n)=>{const s=e.matched.reduce(((e,t)=>Array.isArray(t.meta.groups)?[...e,...t.meta.groups]:e),[]),a=`/${e.params.hl}/404/`;if(s.length){if(!t.state.me.user)return n({path:a});if(!s.every((e=>t.state.me.user.groups.includes(e))))return n({path:a})}if("/"!==o.path){const o=Vo(e,t);return o?n(o):n()}return n()})),Do(e,t),Uo(e,t),e.afterEach(((e,o)=>{const n="undefined"!==typeof window;t.dispatch("location/updateUrl",{route:e});const{error:s}=t.state.ssr,a="PPG_REQUIRED"===(0,kt.getErrorCode)(s);if(s&&!a&&(t.dispatch("ssr/reset"),t.dispatch("ssr/markDataLoading")),t.state.me&&t.state.me.user&&n){const{path:e}=t.state.location.urlStruct;Mo({url:e}).catch((e=>Bo.Z.notifyException(e)))}Object.assign(e.meta,{prevFullPath:o.fullPath})}))}var xo=o(22201);function Fo(e,t,o,n,s,a){const r=(0,i.resolveComponent)("router-view");return(0,i.openBlock)(),(0,i.createBlock)(r,null,{default:(0,i.withCtx)((({Component:t})=>[((0,i.openBlock)(),(0,i.createBlock)(i.KeepAlive,{exclude:["TMAdBanner"],include:["TMUserPublicationPage","TMArticleCommentsPage"],max:20},[((0,i.openBlock)(),(0,i.createBlock)((0,i.resolveDynamicComponent)(t),(0,i.mergeProps)(e.$attrs,{key:a.routeKey}),null,16))],1024))])),_:1})}const Ho=["utm_source","utm_medium","utm_content","utm_campaign","utm_term"],Go={name:"TMRouterRoot",computed:{routeKey(){const{query:e,hash:t}=this.$route;return Object.keys(e).some((e=>Ho.indexOf(e)>=0))||t?this.$route.path:this.$route.fullPath}}},Wo=(0,N.Z)(Go,[["render",Fo]]),Yo=Wo;var Zo=o(48070),qo=o(183);const Ko=()=>o.e(5631).then(o.bind(o,97646)),jo=()=>o.e(5631).then(o.bind(o,44218)),zo=()=>o.e(5631).then(o.bind(o,64600)),Qo=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,87965)),Xo=(e,t=null,o)=>({components:{default:Ko},props:{default:!0},children:[{name:e,path:"",components:t?{sidebar:t}:{},props:{sidebar:!!t},meta:{pageType:"post_comments",customGA:!0,rssLink:e=>o?`/rss/news/t/${e.id}/`:`/rss/post/${e.id}/`}}],meta:{pageType:"post_comments",customGA:!0,rssLink:e=>o?`/rss/news/t/${e.id}/`:`/rss/post/${e.id}/`}}),Jo=!0,en=[{name:"USER_PROFILE",path:`users/:login${qo.USER_ALIAS_PARAM_REGEXP}/`,components:{default:Qo},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,renderAlternateMetaTag:!0}},{path:`post/:id${qo.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Zo.VU.ARTICLE_COMMENTS}},{...Xo(Zo.VU.ARTICLE_COMMENTS,zo),path:`articles/:id${qo.PUBLICATION_ID_MATCH}/comments/`,alias:`/:hl/p/:id${qo.PUBLICATION_ID_MATCH}/comments/`},{path:`news/t/:id${qo.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Zo.VU.NEWS_COMMENTS}},{...Xo(Zo.VU.NEWS_COMMENTS,zo,Jo),path:`news/:id${qo.PUBLICATION_ID_MATCH}/comments/`},{path:`company/:companyName/blog/:id${qo.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Zo.VU.ARTICLE_OF_COMPANY_COMMENTS}},{...Xo(Zo.VU.ARTICLE_OF_COMPANY_COMMENTS,jo),path:`companies/:companyName/articles/:id${qo.PUBLICATION_ID_MATCH}/comments/`,alias:`/:hl/blogs/:companyName/:id${qo.PUBLICATION_ID_MATCH}/comments/`},{path:`company/:companyName/news/t/:id${qo.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Zo.VU.NEWS_OF_COMPANY_COMMENTS}},{...Xo(Zo.VU.NEWS_OF_COMPANY_COMMENTS,jo,Jo),path:`companies/:companyName/news/:id${qo.PUBLICATION_ID_MATCH}/comments/`},{path:`article/:id${qo.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Zo.VU.SPECIAL_COMMENTS}},{...Xo(Zo.VU.SPECIAL_COMMENTS),path:`specials/:id${qo.PUBLICATION_ID_MATCH}/comments/`}],tn=()=>o.e(2636).then(o.bind(o,2748)),on=(e,t,o)=>{const n={geektimes:"geektimes",mozg:"megamozg"};return(0,Oo.Hm)((0,wo.k)(`migrated/${n[e]}/${t}/${o}`,"v2"),null).then((e=>({pageType:t,targetId:e.alias||e.id})))},nn=(e,t,o,n,s)=>{const{hl:a}=e.params,i=e.fullPath.split("/")[2];return on(i,o,n).then((o=>{if(o){const n=e.params.pathMatch||"",s=e.params.rss?"/rss":"",i=()=>{switch(o.pageType){case qo.PAGE_TYPE.HUB:return"hub";case qo.PAGE_TYPE.COMPANY:return"companies";case qo.PAGE_TYPE.POST:return"articles";default:return o.pageType}};return t({path:`/${a}${s}/${i()}/${o.targetId}/${n}`})}return t()})).catch((e=>(s.dispatch("ssr/showError",{error:e}),t(e))))},sn=e=>[{path:"companies/:alias/:pathMatch(.*)*",component:tn,beforeEnter(t,o,n){return nn(t,n,qo.PAGE_TYPE.COMPANY,t.params.alias,e)},props:{error:"redirect"}},{path:"company/:alias/:pathMatch(.*)*",component:tn,beforeEnter(t,o,n){return nn(t,n,qo.PAGE_TYPE.COMPANY,t.params.alias,e)},props:{error:"redirect"}},{path:"companies/:alias/articles/:id/",component:tn,beforeEnter(t,o,n){return nn(t,n,qo.PAGE_TYPE.POST,t.params.id,e)},props:{error:"redirect"}},{path:"company/:alias/blog/:id/",component:tn,beforeEnter(t,o,n){return nn(t,n,qo.PAGE_TYPE.POST,t.params.id,e)},props:{error:"redirect"}},{path:"hub/:alias/:pathMatch(.*)*",component:tn,beforeEnter(t,o,n){return nn(t,n,qo.PAGE_TYPE.HUB,t.params.alias,e)},props:{error:"redirect"}},{path:"articles/:id/",component:tn,beforeEnter(t,o,n){return nn(t,n,qo.PAGE_TYPE.POST,t.params.id,e)},props:{error:"redirect"}},{path:"post/:id/",component:tn,beforeEnter(t,o,n){return nn(t,n,qo.PAGE_TYPE.POST,t.params.id,e)},props:{error:"redirect"}},{path:"p/:id/",component:tn,beforeEnter(t,o,n){return nn(t,n,qo.PAGE_TYPE.POST,t.params.id,e)},props:{error:"redirect"}},{path:"sandbox/:id/",component:tn,beforeEnter(t,o,n){return nn(t,n,qo.PAGE_TYPE.SANDBOX,t.params.id,e)},props:{error:"redirect"}}],an=e=>[{path:"geektimes/:rss(rss)?",component:tn,children:sn(e),props:{error:"redirect"}},{path:"mozg/:rss(rss)?",component:tn,children:sn(e),props:{error:"redirect"}}];function rn(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMPlaceholder");return(0,i.openBlock)(),(0,i.createElementBlock)("div",null,[(0,i.createVNode)(r,{modificator:"preview",times:7,type:"article"})])}var ln=o(79063);const cn={components:{TMPlaceholder:ln.Z},computed:{...(0,p.Se)("i18n",["langOptions"])},beforeMount(){this.initPwaMode()},mounted(){const e=(0,Ge.bc)(this.langOptions);this.$router.replace(e)},methods:{...(0,p.nv)("global",["initPwaMode"])}},mn=(0,N.Z)(cn,[["render",rn]]),dn=mn,un=[{name:"PWA",path:"/pwa/",component:dn}],pn=()=>o.e(2443).then(o.bind(o,53406)),hn=[{name:"ABOUT",path:"about/",components:{default:pn},meta:{pageType:"blank",layout:"empty"}}];function _n(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMCompanyBranding"),l=(0,i.resolveComponent)("DarkModePromo"),c=(0,i.resolveComponent)("TMAdfoxBanner"),m=(0,i.resolveComponent)("TMCompanyProfileCard"),d=(0,i.resolveComponent)("TMRegionalRestrictionNotice"),u=(0,i.resolveComponent)("TMPlaceholder"),p=(0,i.resolveComponent)("TMBlock"),h=(0,i.resolveComponent)("TMMultiwidgetBlock"),_=(0,i.resolveComponent)("TMCompanyPoll"),g=(0,i.resolveComponent)("TMCompanyInfo"),T=(0,i.resolveComponent)("TMPromoBlock"),E=(0,i.resolveComponent)("TMStories"),S=(0,i.resolveComponent)("TMRandomProjectBlock"),C=(0,i.resolveComponent)("TMPromoPostLink"),v=(0,i.resolveComponent)("TMUserArticleBlocks"),k=(0,i.resolveComponent)("TMUserPublicationPresenter"),f=(0,i.resolveComponent)("TMArticleCorporativeSidebar"),A=(0,i.resolveComponent)("TMPage");return(0,i.openBlock)(),(0,i.createBlock)(A,null,{header:(0,i.withCtx)((()=>[n.companyInfo&&a.showCompanyBranding?((0,i.openBlock)(),(0,i.createBlock)(r,{key:0,class:"tm-company-article__branding","company-info":n.companyInfo},null,8,["company-info"])):(0,i.createCommentVNode)("",!0)])),default:(0,i.withCtx)((()=>[(0,i.createVNode)(k,{"company-info":n.companyInfo,"is-loading":e.isLoading,"is-post":n.isPost,publication:n.article},{beforeBody:(0,i.withCtx)((()=>[e.isMobile&&a.showPromo?((0,i.openBlock)(),(0,i.createBlock)(l,{key:0})):(0,i.createCommentVNode)("",!0),e.userShowAdv&&a.showPromo?((0,i.openBlock)(),(0,i.createBlock)(c,{key:1,"adfox-id":"169815559787254866","div-id":"topBanner",params:{pp:"g",ps:"fnps",p2:"iqny"},variant:"narrow"})):(0,i.createCommentVNode)("",!0),e.isDesktop?((0,i.openBlock)(),(0,i.createBlock)(m,{key:2,class:"tm-company-article__profile-card",company:n.companyInfo},null,8,["company"])):(0,i.createCommentVNode)("",!0),n.article&&n.article.regionalRestrictions&&n.article.regionalRestrictions.length?((0,i.openBlock)(),(0,i.createBlock)(d,{key:3,email:n.article.authorEmail,restrictions:n.article.regionalRestrictions},null,8,["email","restrictions"])):(0,i.createCommentVNode)("",!0)])),footer:(0,i.withCtx)((()=>[(0,i.createVNode)(v,{id:o.id,article:n.article,"is-loading":e.isLoading,"is-show-stories":a.showPromo,"show-similar-articles":a.showSimilarArticlesAndVacanciesOrCourses},(0,i.createSlots)({beforeUserCard:(0,i.withCtx)((()=>[n.companyInfo?((0,i.openBlock)(),(0,i.createBlock)(g,{key:0,"company-info":n.companyInfo},null,8,["company-info"])):(0,i.createCommentVNode)("",!0)])),beforeDailyArticles:(0,i.withCtx)((()=>[a.showPromo?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:0},[e.isMobile?((0,i.openBlock)(),(0,i.createBlock)(E,{key:1,"ga-category":"stories_mobile"})):((0,i.openBlock)(),(0,i.createBlock)(T,{key:0,"ga-type":"post",layout:"article"})),n.article&&n.article.id?((0,i.openBlock)(),(0,i.createBlock)(S,{key:2,"block-id":"project-block-company-article",hubs:e.getArticleHubsTitles(o.id),location:"post",tags:e.getArticleTagsTitles(o.id)},null,8,["hubs","tags"])):(0,i.createCommentVNode)("",!0)],64)):((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[a.showRandomProjectBlock?((0,i.openBlock)(),(0,i.createBlock)(S,{key:0,"block-id":"project-block-company-article",blocks:a.blocks,"career-alias":a.careerAlias,"company-alias":n.companyAlias,"company-title":a.companyTitle,hubs:e.getArticleHubsTitles(o.id),location:"post","school-alias":a.schoolAlias,tags:e.getArticleTagsTitles(o.id)},null,8,["blocks","career-alias","company-alias","company-title","hubs","school-alias","tags"])):(0,i.createCommentVNode)("",!0)],64))])),_:2},[n.article?{name:"afterAuthorBlocks",fn:(0,i.withCtx)((()=>[e.userShowAdv&&a.showPromo?((0,i.openBlock)(),(0,i.createBlock)(c,{key:0,"adfox-id":"169815585631156344","div-id":"articleCentralBanner",params:{pp:"h",ps:"fnps",p2:"iqpa"},variant:"medium-narrow"})):(0,i.createCommentVNode)("",!0),!e.isLoading&&a.companyHasActivePolls?((0,i.openBlock)(),(0,i.createBlock)(_,{key:1,"article-has-polls":a.articleHasPolls,"company-alias":n.companyAlias,"post-lang":n.article.lang,"show-fallback":a.articleHasMultiwidget&&!a.articleHasPolls},{fallback:(0,i.withCtx)((({isLoading:e})=>[e?((0,i.openBlock)(),(0,i.createBlock)(p,{key:0},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(u,{times:1,type:"static_section_name"}),(0,i.createVNode)(u,{times:1,type:"articleCards"})])),_:1})):a.articleHasMultiwidget&&!e?((0,i.openBlock)(),(0,i.createBlock)(h,{key:1,"article-id":n.article.id,blocks:n.article.multiwidget,place:"publication"},null,8,["article-id","blocks"])):(0,i.createCommentVNode)("",!0)])),_:1},8,["article-has-polls","company-alias","post-lang","show-fallback"])):a.articleHasMultiwidget?((0,i.openBlock)(),(0,i.createBlock)(h,{key:2,"article-id":n.article.id,blocks:n.article.multiwidget,place:"publication"},null,8,["article-id","blocks"])):(0,i.createCommentVNode)("",!0)])),key:"0"}:void 0,e.isMobile&&a.showPromo?{name:"afterDailyArticles",fn:(0,i.withCtx)((()=>[(0,i.createVNode)(T,{"ga-type":"post",layout:"article"})])),key:"1"}:void 0,e.dailyTopPromoLink&&a.showPromo?{name:"dailyTopPromoLink",fn:(0,i.withCtx)((()=>[(0,i.createVNode)(C,{appearance:a.isSandboxArticle?"top-daily":"top-daily-card","promo-post":e.dailyTopPromoLink},null,8,["appearance","promo-post"])])),key:"2"}:void 0]),1032,["id","article","is-loading","is-show-stories","show-similar-articles"])])),_:1},8,["company-info","is-loading","is-post","publication"])])),sidebar:(0,i.withCtx)((()=>[(0,i.createVNode)(f,{"company-info":n.companyInfo,"company-name":n.companyAlias},null,8,["company-info","company-name"])])),_:1})}var gn=o(10819),Tn=o(11493),En=o(34592);const Sn={class:"tm-article-author__company"},Cn={class:"tm-article-author__company-card"},vn={class:"tm-article-author__buttons"},kn={key:0,class:"tm-article-author__button"},fn={key:1,class:"tm-article-author__button"},An={class:"tm-article-author__follow-block"},In={key:0,class:"tm-article-author__company-contacts"},yn=["href"],bn=(0,i.createElementVNode)("div",{class:"tm-article-author__separator"},null,-1);function Nn(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMCompanySnippet"),l=(0,i.resolveComponent)("TMAdministrationLinks"),c=(0,i.resolveComponent)("TMButtonFollow");return(0,i.openBlock)(),(0,i.createElementBlock)("div",Sn,[(0,i.createElementVNode)("div",Cn,[(0,i.createVNode)(r,{company:o.companyInfo},null,8,["company"]),(0,i.createElementVNode)("div",vn,[e.isSuperAdmin?((0,i.openBlock)(),(0,i.createElementBlock)("div",kn,[((0,i.openBlock)(),(0,i.createBlock)(i.Suspense,null,{default:(0,i.withCtx)((()=>[(0,i.createVNode)(l,{links:a.companyLinksItems},null,8,["links"])])),_:1}))])):(0,i.createCommentVNode)("",!0),e.isLoggedIn?((0,i.openBlock)(),(0,i.createElementBlock)("div",fn,[(0,i.createElementVNode)("div",An,[(0,i.createVNode)(c,{subscribed:a.isCompanySubscribed,"use-follow-label":!0,onOnToggle:t[0]||(t[0]=t=>e.toggleSubscribeStatus(o.companyInfo.alias))},null,8,["subscribed"])])])):(0,i.createCommentVNode)("",!0)])]),o.companyInfo.contacts&&o.companyInfo.contacts.length?((0,i.openBlock)(),(0,i.createElementBlock)("div",In,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(o.companyInfo.contacts,(e=>((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:e.url,class:"tm-article-author__contact",href:e.url,rel:"noopener",target:"_blank"},(0,i.toDisplayString)(e.title),9,yn)))),128))])):(0,i.createCommentVNode)("",!0),bn])}var Pn=o(79362),Ln=o(28002);const Bn=(0,i.defineAsyncComponent)((()=>o.e(2328).then(o.bind(o,91066)))),On={name:"TMCompanyInfo",components:{TMButtonFollow:Pn.Z,TMAdministrationLinks:Bn,TMCompanySnippet:Ln.Z},props:{companyInfo:{type:Object,required:!0}},computed:{...(0,p.Se)("me",["isLoggedIn","isSuperAdmin"]),companyLinksItems(){const{alias:e}=this.companyInfo,t={en:{EDIT_PROFILE:"Edit profile via CP"},ru:{EDIT_PROFILE:"Редактировать профиль в CP"}},o=`https://habr.com/kek/admin/company/${e}/`;return[{title:t[this.langOptions.hl].EDIT_PROFILE,link:o}]},isCompanySubscribed(){return this.companyInfo.relatedData&&this.companyInfo.relatedData.isSubscribed}},methods:{...(0,p.nv)("companies",["toggleSubscribeStatus"])}},wn=(0,N.Z)(On,[["render",Nn]]),Mn=wn,Rn={key:1};function Vn(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMArticlePoll"),l=(0,i.resolveComponent)("TMBlock");return n.companyPoll?((0,i.openBlock)(),(0,i.createBlock)(l,{key:0,class:"tm-company-poll",spacing:"around",title:e.msg("POLLS_COMPANY")},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(r,{"enabled-for-guests":"","is-loading-decline":n.isLoadingDecline,"is-loading-vote":n.isLoadingVote,poll:n.companyPoll,onDeclineVote:a.declineVote,onSubmitVote:a.sendVote},null,8,["is-loading-decline","is-loading-vote","poll","onDeclineVote","onSubmitVote"])])),_:1},8,["title"])):o.showFallback?((0,i.openBlock)(),(0,i.createElementBlock)("div",Rn,[(0,i.renderSlot)(e.$slots,"fallback",{isLoading:n.isLoadingPolls})])):(0,i.createCommentVNode)("",!0)}var Dn=o(41175),Un=o(95756),$n=o(4218),xn=o(55644);const Fn={name:"TMCompanyPoll",components:{TMArticlePoll:Dn.Z,TMBlock:Tn.Z},props:{companyAlias:{required:!0,type:String},postLang:{required:!0,type:String},articleHasPolls:{required:!0,type:Boolean},showFallback:{required:!0,type:Boolean}},setup(e){const t=(0,i.ref)(null),o=(0,i.ref)(!1),n=(0,i.ref)(!1),s=(0,i.ref)(!0),[a]=(0,$n.Kw)("me",["uuid"]);return(0,i.onMounted)((()=>{(0,Un.n)((()=>a.value),(o=>{o&&(t.value||e.articleHasPolls||(s.value=!0,(0,xn.C1)(e.companyAlias,{postLang:e.postLang}).then((({companyPoll:e})=>{t.value=e})).catch((()=>null)).finally((()=>{s.value=!1}))))}),{immediate:!0})})),{companyPoll:t,isLoadingDecline:o,isLoadingVote:n,isLoadingPolls:s}},computed:{...(0,p.rn)("me",["uuid"])},methods:{saveCompanyPollAnswer(e,t){(0,xn.Wd)(this.companyAlias,e,t).then((e=>{this.companyPoll=e})).catch((e=>{this.$toast.error(e.message)})).finally((()=>{this.isLoadingVote=!1,this.isLoadingDecline=!1}))},declineVote({pollId:e}){this.isLoadingDecline=!0;const t={variants:[]};this.saveCompanyPollAnswer(e,t)},sendVote({variantId:e,pollId:t}){const o={variants:e};this.saveCompanyPollAnswer(t,o)}}},Hn=(0,N.Z)(Fn,[["render",Vn]]),Gn=Hn;var Wn=o(38108),Yn=o(84404),Zn=o(67205),qn=o(51229),Kn=o(57411),jn=o(4789),zn=o(37160),Qn=o(76158);function Xn(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMUserNotice");return(0,i.openBlock)(),(0,i.createBlock)(r,{notice:a.notice,slim:""},null,8,["notice"])}var Jn=o(56255);const es={name:"TMRegionalRestrictionNotice",components:{TMUserNotice:Jn["default"]},props:{restrictions:{type:Array,required:!0},email:{type:String,required:!0}},computed:{notice(){return{level:"error",isPermanent:!0,message:this.msg("PUBLICATION_REGIONAL_RESTRICTION",{countries:this.countries,email:this.email})}},countries(){return this.restrictions.map((e=>e.country)).join(", ")}}},ts=(0,N.Z)(es,[["render",Xn]]),os=ts;var ns=o(60732);function ss(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMArticleAuthor"),l=(0,i.resolveComponent)("TMBlock"),c=(0,i.resolveComponent)("TMArticleListBlock"),m=(0,i.resolveComponent)("TMSimilarAndDailyArticles"),d=(0,i.resolveComponent)("TMArticleBlocks");return(0,i.openBlock)(),(0,i.createBlock)(d,{article:o.article,"is-loading":o.isLoading},{beforeComments:(0,i.withCtx)((()=>[a.userInfo?((0,i.openBlock)(),(0,i.createBlock)(l,{key:0,"body-variant":"balanced"},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(r,{user:a.userInfo,"onChange:isSubscribed":a.onToggleSubscribeStatusArticle},(0,i.createSlots)({_:2},[e.$slots.beforeUserCard&&e.$slots.beforeUserCard()?{name:"beforeCard",fn:(0,i.withCtx)((()=>[(0,i.renderSlot)(e.$slots,"beforeUserCard")])),key:"0"}:void 0]),1032,["user","onChange:isSubscribed"])])),_:3})):(0,i.createCommentVNode)("",!0),(0,i.renderSlot)(e.$slots,"afterAuthorBlocks")])),afterComments:(0,i.withCtx)((()=>[(0,i.renderSlot)(e.$slots,"beforeSimilarArticles"),n.isSandboxArticle&&e.similarList.length?((0,i.openBlock)(),(0,i.createBlock)(c,{key:0,"bookmark-module":"similarList","data-list":e.similarList,"ga-event":e.$options.similarGAEventName,title:e.msg("TITLE_SIMILAR")},null,8,["data-list","ga-event","title"])):o.showSimilarArticles?((0,i.openBlock)(),(0,i.createBlock)(m,{key:1,"article-id":o.id,"is-news":a.isNews},(0,i.createSlots)({_:2},[e.$slots.dailyTopPromoLink?{name:"dailyTopPromoLink",fn:(0,i.withCtx)((()=>[(0,i.renderSlot)(e.$slots,"dailyTopPromoLink")])),key:"0"}:void 0]),1032,["article-id","is-news"])):(0,i.createCommentVNode)("",!0),(0,i.renderSlot)(e.$slots,"beforeDailyArticles"),n.isSandboxArticle&&a.dailyArticles.length?((0,i.openBlock)(),(0,i.createBlock)(c,{key:2,"data-list":a.dailyArticles,"ga-event":e.$options.dailyTopGaEventNames,spacing:"top",title:e.msg("TITLE_TOP_DAILY")},{lastItem:(0,i.withCtx)((()=>[(0,i.renderSlot)(e.$slots,"dailyTopPromoLink")])),_:3},8,["data-list","ga-event","title"])):(0,i.createCommentVNode)("",!0),(0,i.renderSlot)(e.$slots,"afterDailyArticles")])),_:3},8,["article","is-loading"])}const as={class:"tm-article-author","data-test-id":"article-author-info"},is={key:0,class:"tm-article-author__user-contacts","data-test-id":"author-contacts"},rs=["href"];function ls(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMUserCard");return(0,i.openBlock)(),(0,i.createElementBlock)("div",as,[(0,i.renderSlot)(e.$slots,"beforeCard"),(0,i.createVNode)(r,{"avatar-size":40,class:"tm-article-author__user-card","invite-button-visible":!1,user:o.user,variant:"article","onChange:isSubscribed":t[0]||(t[0]=t=>e.$emit("change:isSubscribed",t))},null,8,["user"]),o.user.authorContacts&&o.user.authorContacts.length?((0,i.openBlock)(),(0,i.createElementBlock)("div",is,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(o.user.authorContacts,(e=>((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:e.url,class:"tm-article-author__contact","data-test-id":"author-contact-link",href:e.url,rel:"noopener",target:"_blank"},(0,i.toDisplayString)(e.title),9,rs)))),128))])):(0,i.createCommentVNode)("",!0)])}var cs=o(46898),ms=o(96139);const ds={name:"TMArticleAuthor",components:{TMUserCard:cs.Z},props:{user:ms.Z},emits:["change:isSubscribed"]},us=(0,N.Z)(ds,[["render",ls]]),ps=us;var hs=o(55899),_s=o(14670),gs=o(33117),Ts=o(85725),Es=o(99343);const Ss={name:"ARTICLES_LIST_TOP_PERIOD",params:{period:"daily"},query:{}},Cs={name:"TMUserArticleBlocks",components:{TMSimilarAndDailyArticles:gs.Z,TMArticleListBlock:_s.Z,TMArticleAuthor:ps,TMBlock:Tn.Z,TMArticleBlocks:hs.Z},similarGAEventName:Es.Pr,dailyTopGaEventNames:Es.Ro,props:{article:{type:Object,default:()=>null},id:{type:String,required:!0},isLoading:{type:Boolean,required:!0},isShowStories:{type:Boolean,default:!0},showSimilarArticles:{type:Boolean,default:!0}},setup(e){const[t]=(0,$n.M$)("users",["setUserInfo"]),[o]=(0,$n.WX)("similarList",["loadSimilarList"]),[n]=(0,$n.WX)("articlesList",["loadArticlesList"]),s=(0,i.computed)((()=>e.article&&"sandbox"===e.article.postType));return(0,i.onMounted)((()=>{(0,Un.n)((()=>e.article),(e=>{e&&(t({userAlias:e.author.alias,userData:e.author}),s.value&&(n({route:Ss}),o({articleId:e.id})))}),{immediate:!0})})),{isSandboxArticle:s}},data(){return{similarAndDailyActiveTabs:"daily"}},computed:{...(0,p.Se)("users",["getUserByAlias"]),...(0,p.Se)("similarList",["similarList"]),...(0,p.rn)("articlesList",["articlesIds","articlesList"]),...(0,p.Se)("global",["isMobile"]),...(0,p.Se)("me",["isSuperAdmin"]),userInfo(){return this.article?this.getUserByAlias(this.article.author.alias)||this.article.author:null},dailyArticles(){const e=this.articlesIds[(0,Ts.Z)(Ss)];return e?e.map((e=>this.articlesList[e])):[]},isNews(){return this.article&&"news"===this.article.postType}},methods:{onToggleSubscribeStatusArticle(e){e&&(0,A.IZ)("subscribe_user")}}},vs=(0,N.Z)(Cs,[["render",ss]]),ks=vs;function fs(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMArticleExtraMenu");return(0,i.openBlock)(),(0,i.createBlock)((0,i.resolveDynamicComponent)(a.presenter),(0,i.normalizeProps)((0,i.guardReactiveProps)(a.presenterBinding)),{beforeBody:(0,i.withCtx)((()=>[(0,i.renderSlot)(e.$slots,"beforeBody")])),articleMenu:(0,i.withCtx)((()=>[(0,i.createVNode)(r,{"current-author":o.publication.author,"publication-id":o.publication.id},null,8,["current-author","publication-id"])])),footer:(0,i.withCtx)((()=>[(0,i.renderSlot)(e.$slots,"footer")])),_:3},16)}var As=o(11098),Is=o(44071);const ys={class:"tm-post-presenter"},bs={class:"tm-post-presenter__body","data-test-id":"article-body"},Ns={ref:"article",class:"tm-post-presenter__content"},Ps={key:0,class:"tm-post-presenter__loading"},Ls={class:"tm-post-presenter__header"},Bs={key:0,class:"tm-post-presenter__footer"};function Os(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMPlaceholder"),l=(0,i.resolveComponent)("PostSnippet"),c=(0,i.resolveDirective)("hotkey");return(0,i.openBlock)(),(0,i.createElementBlock)("div",ys,[(0,i.renderSlot)(e.$slots,"beforeBody"),(0,i.createElementVNode)("div",bs,[(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("article",Ns,[o.isLoading?((0,i.openBlock)(),(0,i.createElementBlock)("div",Ps,[(0,i.createVNode)(r,{type:"article"}),(0,i.createVNode)(r,{type:"article"})])):o.post?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[(0,i.createElementVNode)("div",Ls,[(0,i.renderSlot)(e.$slots,"beforeSnippet")]),(0,i.renderSlot)(e.$slots,"body",{},(()=>[(0,i.createVNode)(l,{ref:"postSnippet","compact-view":!1,post:o.post,"show-icons":!0},null,8,["post"])]))],64)):(0,i.createCommentVNode)("",!0)])),[[c,a.hotkeys,void 0,{stop:!0}]])]),(0,i.renderSlot)(e.$slots,"beforeFooter"),e.$slots.footer?((0,i.openBlock)(),(0,i.createElementBlock)("div",Bs,[(0,i.renderSlot)(e.$slots,"footer")])):(0,i.createCommentVNode)("",!0)])}var ws=o(34948),Ms=o(78393),Rs=o(46186),Vs=o(8685),Ds=o(51084),Us=o(89136),$s=o(35457),xs=o(4344),Fs=o.n(xs),Hs=o(61254),Gs=o.n(Hs);const Ws={name:"TMPostPresenter",components:{TMPlaceholder:ln.Z,PostSnippet:Ms.Z},props:{post:{type:Object,default:null},isLoading:{type:Boolean,required:!0},shouldLogPageview:{type:Boolean,default:!0},companyInfo:{type:Object,required:!1,default:null}},setup(e){const t=(0,xo.yj)(),o=(0,i.ref)(!1),[n]=(0,$n.FW)("me",["isLoggedIn"]),[s]=(0,$n.WX)("me",["loadUpdates"]),a=()=>new Promise((n=>{var s;if(o.value)return void n();(0,Us.d1)(e.post.id).catch((e=>{Bo.Z.notifyException(e)})).finally(n);const a={hubs_and_flows:Fs()(e.post)},i=Gs()({companySettings:null===(s=e.companyInfo)||void 0===s?void 0:s.settings,isEditorial:e.post.isEditorial});i&&(a.page_producer=i),(0,A.Z0)({fullPath:t.fullPath,optionalParams:a}),o.value=!0})),r=(0,i.computed)((()=>t.params.companyName)),l=(0,i.computed)((()=>r.value?e.companyInfo&&e.companyInfo.settings&&e.post?{...e.post,settings:e.companyInfo.settings}:null:e.post));return(0,i.onMounted)((()=>{(0,Un.n)((()=>l.value),(e=>{e&&(a().then((()=>{n.value&&s()})),(0,Ds.Df)(),n.value||(0,ws.t8)(e.id,e.statistics.commentsCount))}),{immediate:!0,equals:Vs.wm})})),{isComponentActive:(0,Rs.c)(),hasTrackedPageview:o}},data(){return{hasMounted:!1}},head(){if(!this.post)return{};const{post:e}=this,{lang:t,metadata:o}=e,n=(0,_.vz)(e,this.msg);if(!o)return{title:n};const{shareImageUrl:s,schemaJsonLd:a,amp:i}=o,r=[{href:(0,$s.articleCanonical)(e),rel:"canonical",vmid:"canonical"},{rel:"image_src",href:s,vmid:"image:href"}];return i&&this.langOptions.hl===t&&r.push({rel:"amphtml",href:`https://habr.com/${t}/amp/publications/${e.id}/`}),{title:n,link:r,meta:(0,_.GD)(e,this.msg),script:[{type:"application/ld+json",innerHTML:a,vmid:"ldjson-schema"}]}},computed:{...(0,p.Se)("global",["isMobileOnly"]),...(0,p.rn)("articlesList",["lastVisitedRoute"]),...(0,p.Se)("me",["userAlias"]),hotkeys(){return this.isComponentActive?{"meta+e":this.checkAndOpenPostEdit,"ctrl+e":this.checkAndOpenPostEdit,u:this.goToLastVisitedArticlesList}:{}}},activated(){this.hasTrackedPageview=!1},mounted(){this.hasMounted=!0},methods:{checkAndOpenPostEdit(){this.post.relatedData.canEdit&&this.$refs.postSnippet&&this.$refs.postSnippet.editPost()},goToLastVisitedArticlesList(){const e=(0,Ge.bc)(this.langOptions),t=this.lastVisitedRoute.name?this.lastVisitedRoute:e;this.$router.push(t)},initAdriverPixels(){this.adriverPixels.forEach((e=>{const t=new Image;t.src=e}))}}},Ys=(0,N.Z)(Ws,[["render",Os]]),Zs=Ys;var qs=o(56842);const Ks={name:"TMUserPublicationPresenter",components:{TMArticleExtraMenu:As.Z,TMArticlePresenter:Is.Z,TMPostPresenter:Zs},props:{publication:{type:Object,default:null},isLoading:{type:Boolean,required:!0},isPost:{type:Boolean,required:!0},companyInfo:{type:Object,required:!1,default:null}},setup(e){const t=(0,xo.tv)(),o=(0,xo.yj)(),[n]=(0,$n.FW)("i18n",["langOptions"]),s=()=>{const s=(0,qs.Q)(e.publication,e.publication.id,n.value.hl),a=`${s}`;o.path!==a&&t.replace({path:a,hash:o.hash})};(0,i.onMounted)((()=>{(0,Un.n)((()=>e.publication),(e=>{e&&s()}),{immediate:!0})}))},computed:{presenter(){return this.isPost?"TMPostPresenter":"TMArticlePresenter"},presenterBinding(){return this.isPost?{post:this.publication,isLoading:this.isLoading}:{companyInfo:this.companyInfo,article:this.publication,isLoading:this.isLoading}}},mounted(){const{hash:e}=this.$route;e===`#${yo.B5}`&&this.$toast.success(this.msg("DONATIONS_SUCCESS")),e===`#${yo.de}`&&this.$toast.error(this.msg("DONATIONS_FAILURE"))}},js=(0,N.Z)(Ks,[["render",fs]]),zs=js;function Qs(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMCompanyAdministrationBlock"),l=(0,i.resolveComponent)("TMCompanyBasicInfoBlock"),c=(0,i.resolveComponent)("TMCompanyWidgets"),m=(0,i.resolveComponent)("TMArticleListBlock"),d=(0,i.resolveComponent)("TMStories"),u=(0,i.resolveComponent)("TMLayoutSidebar");return e.isDesktop?((0,i.openBlock)(),(0,i.createBlock)(u,{key:0,"show-adv":a.showPromo},{default:(0,i.withCtx)((()=>[o.companyInfo&&a.showAdministrationBlock?((0,i.openBlock)(),(0,i.createBlock)(r,{key:0,"company-info":o.companyInfo},null,8,["company-info"])):(0,i.createCommentVNode)("",!0),o.companyInfo?((0,i.openBlock)(),(0,i.createBlock)(l,{key:1,"company-info":o.companyInfo},null,8,["company-info"])):(0,i.createCommentVNode)("",!0),o.companyName&&o.companyInfo&&!a.isCompanyExpired?((0,i.openBlock)(),(0,i.createBlock)(c,{key:2,"company-alias":o.companyName},null,8,["company-alias"])):(0,i.createCommentVNode)("",!0),o.companyName&&a.companyBlogList&&a.companyBlogList.length?((0,i.openBlock)(),(0,i.createBlock)(m,{key:3,"data-list":a.companyBlogList,layout:"sidebar",title:e.msg("TITLE_HABR_BLOG")},null,8,["data-list","title"])):(0,i.createCommentVNode)("",!0),a.showPromo?((0,i.openBlock)(),(0,i.createBlock)(d,{key:4,"ga-category":"stories_sidebar","is-sidebar":!0})):(0,i.createCommentVNode)("",!0)])),_:1},8,["show-adv"])):(0,i.createCommentVNode)("",!0)}var Xs=o(68689),Js=o(65242),ea=o(79019),ta=o(67765),oa=o(34565);const na={name:"TMArticleCorporativeSidebar",components:{TMArticleListBlock:_s.Z,TMCompanyAdministrationBlock:Xs.Z,TMCompanyBasicInfoBlock:Js.Z,TMCompanyWidgets:ea.Z,TMLayoutSidebar:ta.Z,TMStories:ns.Z},props:{companyName:{type:String,default:null},companyInfo:{type:Object,default:null}},computed:{...(0,p.Se)("global",["isDesktop"]),...(0,p.Se)("articlesList",["getArticleById","getArticlesList","getCompanyAlias"]),...(0,p.Se)("me",["isSuperAdmin"]),isCompanyExpired(){return(0,oa.fd)(this.companyInfo)},companyBlogList(){const e=(0,Ts.Z)((0,oa.kM)(this.companyName));return this.getArticlesList(e)},showAdministrationBlock(){const e=this.companyInfo?this.companyInfo.aDeskSettings:null;return e&&e.access||this.isSuperAdmin},showPromo(){var e,t,o,n;return(null===(e=this.companyInfo)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.isStartup)||"expired"===(null===(o=this.companyInfo)||void 0===o||null===(n=o.settings)||void 0===n?void 0:n.status)}},mounted(){this.$watch((()=>[this.companyName,this.isDesktop]),(([e,t])=>{t&&e&&this.loadArticlesList({route:(0,oa.kM)(e)})}),{immediate:!0,deep:!0})},methods:{...(0,p.nv)("articlesList",["loadArticlesList"])}},sa=(0,N.Z)(na,[["render",Qs]]),aa=sa;var ia=o(14755),ra=o(73313),la=o(24440);const ca={name:"TMCompanyPublicationPage",components:{DarkModePromo:Yn.Z,TMRegionalRestrictionNotice:os,TMMultiwidgetBlock:Zn.Z,TMPromoPostLink:Qn.Z,TMCompanyPoll:Gn,TMRandomProjectBlock:Kn.Z,TMPromoBlock:zn.Z,TMArticleCorporativeSidebar:aa,TMUserPublicationPresenter:zs,TMUserArticleBlocks:ks,TMCompanyProfileCard:Wn.Z,TMCompanyBranding:En.Z,TMPage:pt.Z,TMCompanyInfo:Mn,TMStories:ns.Z,TMPlaceholder:ln.Z,TMBlock:Tn.Z,TMAdfoxBanner:gn.Z},props:{id:{type:String,required:!0}},setup(e){const[t]=(0,$n.FW)("articlesList",["getArticleById"]),[o]=(0,$n.FW)("companies",["getCompanyInfo"]),n=(0,p.oR)(),s=(0,xo.yj)(),a=(0,i.computed)((()=>(0,ra.E)(s.name))),r=(0,i.computed)((()=>t.value(e.id))),l=(0,i.computed)((()=>{if(!r.value)return null;const e=r.value.hubs.find((e=>"corporative"===e.type));return e?e.alias.toLowerCase():null})),c=(0,i.computed)((()=>l.value?o.value(l.value):null)),m=e=>n.dispatch("articlesList/loadArticle",e);function d(){return n.dispatch("companies/loadCompanyInfo",{alias:l.value}).catch((e=>{const t=(0,kt.getErrorCode)(e);if("NOT_FOUND"!==t)throw e}))}const u=()=>r.value&&r.value.textHtml?Promise.resolve():m({articleId:e.id,isPost:a.value});return(0,i.onMounted)((()=>{(0,Un.n)((()=>c.value),(e=>{e&&(0,ia.X)(e,s.fullPath)}),{immediate:!0,equals:Vs.Uc})})),{...(0,h.w)((()=>u().then(d))),article:r,isPost:a,companyAlias:l,companyInfo:c}},head(){const{article:e}=this;if(!e||!e.metadata||!this.companyInfo)return{};const t=`${e.titleHtml} / ${this.msg("ARTICLE_COMPANY_BLOG",{companyName:this.companyInfo.titleHtml})}`;return{title:(0,la._)(t)}},computed:{blocks(){const e={};return this.schoolAlias&&(e.companyCourses=qn.Z),this.careerAlias&&(e.vacancies=jn.Z),e},...(0,p.Se)("global",["isDesktop","isMobile"]),...(0,p.Se)("companies",["getCompanyStartupStatus"]),...(0,p.Se)("articlesList",["getArticleHubsTitles","getArticleTagsTitles"]),...(0,p.Se)("promoData",["dailyTopPromoLink"]),...(0,p.Se)("me",["isLoggedIn","userShowAdv"]),showCompanyBranding(){var e,t;return null===(e=this.companyInfo.settings)||void 0===e||null===(t=e.branding)||void 0===t?void 0:t.imageUrl},companyTitle(){return this.companyInfo.titleHtml},careerAlias(){return this.companyInfo.careerAlias},schoolAlias(){return this.companyInfo.schoolAlias},showPromo(){return this.getCompanyStartupStatus(this.companyAlias)||(0,oa.fd)(this.companyInfo)},isSandboxArticle(){return this.article&&"sandbox"===this.article.postType},companyHasActivePolls(){var e,t;return null===(e=this.companyInfo)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.hasActivePolls},articleHasPolls(){var e;return(null===(e=this.article.polls)||void 0===e?void 0:e.length)>0},articleHasMultiwidget(){return this.article&&Boolean(this.article.multiwidget)},showSimilarArticlesAndVacanciesOrCourses(){return!!this.companyInfo&&(!this.companyHasActivePolls&&!this.articleHasMultiwidget)},showRandomProjectBlock(){return this.companyInfo&&(this.careerAlias||this.schoolAlias)&&this.article&&this.article.id}}},ma=(0,N.Z)(ca,[["render",_n]]),da=ma;function ua(e,t,o,n,s,a){const r=(0,i.resolveComponent)("DarkModePromo"),l=(0,i.resolveComponent)("TMAdfoxBanner"),c=(0,i.resolveComponent)("TMRegionalRestrictionNotice"),m=(0,i.resolveComponent)("TMPromoBlock"),d=(0,i.resolveComponent)("TMStories"),u=(0,i.resolveComponent)("TMRandomProjectBlock"),p=(0,i.resolveComponent)("TMVacanciesBlock"),h=(0,i.resolveComponent)("TMEventsWidget"),_=(0,i.resolveComponent)("TMPromoPostLink"),g=(0,i.resolveComponent)("TMUserArticleBlocks"),T=(0,i.resolveComponent)("TMUserPublicationPresenter"),E=(0,i.resolveComponent)("TMArticleSidebar"),S=(0,i.resolveComponent)("TMPage");return(0,i.openBlock)(),(0,i.createBlock)(S,null,{default:(0,i.withCtx)((()=>[e.isMobile?((0,i.openBlock)(),(0,i.createBlock)(r,{key:0})):(0,i.createCommentVNode)("",!0),e.userShowAdv?((0,i.openBlock)(),(0,i.createBlock)(l,{key:1,"adfox-id":"169815559787254866","div-id":"topBanner",params:{pp:"g",ps:"fnps",p2:"iqny"},variant:"narrow"})):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(T,{"is-loading":e.isLoading,"is-post":n.isPost,publication:n.article},{beforeBody:(0,i.withCtx)((()=>[n.article&&n.article.regionalRestrictions&&n.article.regionalRestrictions.length?((0,i.openBlock)(),(0,i.createBlock)(c,{key:0,email:n.article.authorEmail,restrictions:n.article.regionalRestrictions},null,8,["email","restrictions"])):(0,i.createCommentVNode)("",!0)])),footer:(0,i.withCtx)((()=>[(0,i.createVNode)(g,{id:o.id,article:n.article,"is-loading":e.isLoading},(0,i.createSlots)({afterAuthorBlocks:(0,i.withCtx)((()=>[e.userShowAdv?((0,i.openBlock)(),(0,i.createBlock)(l,{key:0,"adfox-id":"164725660339535756",class:"tm-page-article__banner","div-id":"articleBottomBanner",params:{pp:"h",ps:"fnps",p2:"hnyb"},variant:"leaderboard"})):(0,i.createCommentVNode)("",!0)])),beforeDailyArticles:(0,i.withCtx)((()=>[e.isMobile?((0,i.openBlock)(),(0,i.createBlock)(d,{key:1,"ga-category":"stories_mobile"})):((0,i.openBlock)(),(0,i.createBlock)(m,{key:0,"ga-type":"post",layout:"article"})),n.article&&n.article.id?((0,i.openBlock)(),(0,i.createBlock)(u,{key:2,"block-id":"project-block-article",hubs:e.getArticleHubsTitles(o.id),location:"post",tags:e.getArticleTagsTitles(o.id)},null,8,["hubs","tags"])):(0,i.createCommentVNode)("",!0)])),dailyTopPromoLink:(0,i.withCtx)((()=>[e.dailyTopPromoLink?((0,i.openBlock)(),(0,i.createBlock)(_,{key:0,appearance:a.isSandboxArticle?"top-daily":"top-daily-card","promo-post":e.dailyTopPromoLink},null,8,["appearance","promo-post"])):(0,i.createCommentVNode)("",!0)])),_:2},[e.isMobile?{name:"afterDailyArticles",fn:(0,i.withCtx)((()=>[(0,i.createVNode)(m,{"ga-type":"post",layout:"article"}),!a.isFlEnglish&&n.article&&n.article.hubs?((0,i.openBlock)(),(0,i.createBlock)(p,{key:0,hubs:n.article.hubs.map((({alias:e})=>e)),spacing:"top"},null,8,["hubs"])):(0,i.createCommentVNode)("",!0),a.isFlEnglish||!n.article||n.article.isCorporative?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(h,{key:1}))])),key:"0"}:void 0]),1032,["id","article","is-loading"])])),_:1},8,["is-loading","is-post","publication"])])),sidebar:(0,i.withCtx)((()=>[(0,i.createVNode)(E,{article:n.article},null,8,["article"])])),_:1})}var pa=o(84667),ha=o(62186);function _a(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMMostReadingBlock"),l=(0,i.resolveComponent)("TMStories"),c=(0,i.resolveComponent)("TMVacanciesBlock"),m=(0,i.resolveComponent)("TMEventsBlock"),d=(0,i.resolveComponent)("TMLayoutSidebar");return e.isDesktop&&o.article&&o.article.id?((0,i.openBlock)(),(0,i.createBlock)(d,{key:0,"show-adv":""},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(r,{"ga-type":"post",layout:"sidebar",spacing:"bottom"}),(0,i.createVNode)(l,{"ga-category":"stories_sidebar","is-sidebar":!0}),!a.isFlEnglish&&o.article.hubs?((0,i.openBlock)(),(0,i.createBlock)(c,{key:0,hubs:o.article.hubs.map((({alias:e})=>e))},null,8,["hubs"])):(0,i.createCommentVNode)("",!0),a.isFlEnglish||o.article.isCorporative?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(m,{key:1}))])),_:1})):(0,i.createCommentVNode)("",!0)}function ga(e,t,o,n,s,a){const r=(0,i.resolveComponent)("TMEventCard"),l=(0,i.resolveComponent)("TMSwiperSlide"),c=(0,i.resolveComponent)("TMSwiper"),m=(0,i.resolveComponent)("TMBlock");return e.events&&e.events.length?((0,i.openBlock)(),(0,i.createBlock)(m,{key:0,class:"block",spacing:"around",title:e.msg("EVENTS_UPCOMING")},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(c,{"active-slide":0,"auto-height":"",class:"slider",navigation:"","slides-per-view":1,"space-between":22,onSlideChange:t[0]||(t[0]=e=>s.currentSlide=e)},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(e.events,(e=>((0,i.openBlock)(),(0,i.createBlock)(l,{key:e.id},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(),(0,i.createBlock)(r,{key:e.id,event:e,"is-widget":"",responsive:!1,onClick:a.logClick},null,8,["event","onClick"]))])),_:2},1024)))),128))])),_:1})])),_:1},8,["title"])):(0,i.createCommentVNode)("",!0)}var Ta=o(46715),Ea=o(61712),Sa=o(3972);const Ca={name:"TMEventsBlock",components:{TMBlock:Tn.Z,TMSwiper:Ea["default"],TMSwiperSlide:Sa["default"],TMEventCard:Ta.Z},setup(){return(0,h.w)((({store:e})=>e.dispatch("events/loadEvents")))},data(){return{currentSlide:0}},computed:{...(0,p.Se)("events",["events"])},methods:{logClick(e){(0,A.IZ)("tm_block_calendar_post",{event_label:e.id})}}},va=(0,N.Z)(Ca,[["render",ga],["__scopeId","data-v-d30b4100"]]),ka=va;var fa=o(5254);const Aa={name:"TMArticleSidebar",components:{TMEventsBlock:ka,TMMostReadingBlock:fa.Z,TMLayoutSidebar:ta.Z,TMVacanciesBlock:ha.Z,TMStories:ns.Z},props:{article:{type:Object,default:null}},computed:{...(0,p.Se)("global",["isDesktop"]),isFlEnglish(){return"en"===this.langOptions.fl}}},Ia=(0,N.Z)(Aa,[["render",_a]]),ya=Ia,ba={name:"TMUserPublicationPage",components:{DarkModePromo:Yn.Z,TMEventsWidget:pa.Z,TMRegionalRestrictionNotice:os,TMPromoPostLink:Qn.Z,TMArticleSidebar:ya,TMRandomProjectBlock:Kn.Z,TMPromoBlock:zn.Z,TMAdfoxBanner:gn.Z,TMPage:pt.Z,TMUserPublicationPresenter:zs,TMUserArticleBlocks:ks,TMVacanciesBlock:ha.Z,TMStories:ns.Z},props:{id:{type:String,required:!0}},setup(e){const[t]=(0,$n.FW)("articlesList",["getArticleById"]),o=(0,i.computed)((()=>t.value(e.id))),n=(0,xo.yj)(),s=(0,i.computed)((()=>(0,ra.E)(n.name))),a=({store:t})=>o.value&&o.value.textHtml?Promise.resolve():t.dispatch("articlesList/loadArticle",{articleId:e.id,isPost:s.value});return{...(0,h.w)(a),isPost:s,article:o}},computed:{...(0,p.Se)("global",["isMobile"]),...(0,p.Se)("me",["userShowAdv"]),...(0,p.Se)("articlesList",["getArticleById","getArticleHubsTitles","getArticleTagsTitles"]),...(0,p.Se)("promoData",["dailyTopPromoLink"]),isFlEnglish(){return"en"===this.langOptions.fl},isSandboxArticle(){return this.article&&"sandbox"===this.article.postType}}},Na=(0,N.Z)(ba,[["render",ua]]),Pa=Na,La=()=>o.e(7478).then(o.bind(o,33281)),Ba=()=>o.e(7478).then(o.bind(o,59508)),Oa=()=>Promise.all([o.e(9931),o.e(269)]).then(o.bind(o,27476)),wa=[{...(0,Zo.g1)(Zo.VU.POST,Pa),path:`posts/:id${qo.PUBLICATION_ID_MATCH}/`},{path:`news/t/:id${qo.PUBLICATION_ID_MATCH}/`,redirect:{name:Zo.VU.NEWS}},{...(0,Zo.g1)(Zo.VU.NEWS,Pa),path:`news/:id${qo.PUBLICATION_ID_MATCH}/`,alias:`/:hl/news/t/:id${qo.PUBLICATION_ID_MATCH}/`},{path:`post/:id${qo.PUBLICATION_ID_MATCH}/`,redirect:{name:Zo.VU.ARTICLE}},{...(0,Zo.g1)(Zo.VU.ARTICLE,Pa),path:`articles/:id${qo.PUBLICATION_ID_MATCH}/`,alias:`/:hl/p/:id${qo.PUBLICATION_ID_MATCH}/`},{path:`company/:companyName/blog/:id${qo.PUBLICATION_ID_MATCH}/`,redirect:{name:Zo.VU.ARTICLE_OF_COMPANY}},{...(0,Zo.g1)(Zo.VU.ARTICLE_OF_COMPANY,da),path:`companies/:companyName/articles/:id${qo.PUBLICATION_ID_MATCH}/`,alias:`/:hl/blogs/:companyName/:id${qo.PUBLICATION_ID_MATCH}/`},{name:Zo.VU.ARTICLE_SANDBOX,path:`sandbox/:id${qo.PUBLICATION_ID_MATCH}/`,components:{default:Oa},meta:{pageType:"sandbox",rssLink:e=>`/rss/post/${e.id}/`}},{path:`company/:companyName/news/t/:id${qo.PUBLICATION_ID_MATCH}/`,redirect:{name:Zo.VU.NEWS_OF_COMPANY}},{...(0,Zo.g1)(Zo.VU.NEWS_OF_COMPANY,da),path:`companies/:companyName/news/:id${qo.PUBLICATION_ID_MATCH}/`},{...(0,Zo.g1)(Zo.VU.POST_OF_COMPANY,da),path:`companies/:companyName/posts/:id${qo.PUBLICATION_ID_MATCH}/`},{path:`article/:id${qo.PUBLICATION_ID_MATCH}/`,redirect:{name:Zo.VU.SPECIAL}},{...(0,Zo.g1)(Zo.VU.SPECIAL,La),path:`specials/:id${qo.PUBLICATION_ID_MATCH}/`},{path:`article/preview/:hash${qo.HASH_MATCH}/`,redirect:{name:Zo.VU.SPECIAL_PREVIEW}},{...(0,Zo.g1)(Zo.VU.SPECIAL_PREVIEW,Ba),path:`specials/preview/:hash${qo.HASH_MATCH}/`}],Ma=()=>o.e(7628).then(o.bind(o,51979)),Ra=()=>o.e(7628).then(o.bind(o,23861)),Va=()=>o.e(7628).then(o.bind(o,73489)),Da=[{path:"beta/",components:{default:Ma},children:[{name:"BETA_TEST",path:"",meta:{title:"BETA_TESTING_TITLE",requiresAuth:!0,rootPage:!0},components:{default:Ra}},{name:"BETA_TEST_ARCHIVED_ANNOUNCEMENT",path:`archieve/:id${qo.ID_MATCH}`,meta:{title:"BETA_TESTING_TITLE"},components:{default:Va}},{path:"welcome/",redirect:e=>({...e,name:"BETA_TEST"})}]}];function Ua(e){return/^page\d+$/i.test(e)}function $a(e){return e.replace(/[^0-9]/g,"")}const xa=()=>Promise.all([o.e(9768),o.e(2614),o.e(2972)]).then(o.bind(o,59212)),Fa=()=>o.e(204).then(o.bind(o,39646)),Ha=()=>o.e(204).then(o.bind(o,94098)),Ga=()=>o.e(204).then(o.bind(o,13357)),Wa=()=>o.e(204).then(o.bind(o,16133)),Ya=()=>o.e(204).then(o.bind(o,21078)),Za=()=>o.e(204).then(o.bind(o,54129)),qa=()=>Promise.all([o.e(9768),o.e(2614),o.e(2972)]).then(o.bind(o,40241)),Ka=()=>Promise.all([o.e(9768),o.e(2614),o.e(2972)]).then(o.bind(o,74803)),ja=()=>Promise.all([o.e(9768),o.e(2614),o.e(2972)]).then(o.bind(o,60567)),za=()=>Promise.all([o.e(9768),o.e(2614),o.e(2972)]).then(o.bind(o,79163)),Qa=()=>Promise.all([o.e(9768),o.e(2614),o.e(2972)]).then(o.bind(o,27872)),Xa=[{name:"COMPANY_ADD",path:"companies/add/",components:{default:Fa},children:[{name:"COMPANY_ADD_AGREEMENT",path:"agreement/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ha}},{name:"COMPANY_ADD_CONTACTS",path:"contacts/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ga}},{name:"COMPANY_ADD_TARIFF",path:"tariff/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Wa}},{name:"COMPANY_ADD_COMPANY",path:"company/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ya}},{name:"COMPANY_ADD_REQUISITES",path:"requisites/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Za}}]},{path:`company/:name${qo.COMPANY_ALIAS_MATCH}/`,redirect:{name:"ARTICLES_LIST_BY_COMPANY"}},{name:"COMPANY_PROFILE_ROOT",path:`companies/:name${qo.COMPANY_ALIAS_MATCH}/`,meta:{pageType:"company",customGA:!0},components:{default:xa},redirect:e=>Ua(`${e.params.name}`)?{...e,params:{...e.params,pageNum:$a(e.params.name)},name:"COMPANIES_PAGES"}:{...e,name:"ARTICLES_LIST_BY_COMPANY"},children:[{name:"COMPANY_PROFILE",path:"profile/",components:{default:ja},meta:{renderAlternateMetaTag:!0}},{name:"COMPANY_BRANDING_PREVIEW",path:`branding/:brandingId${qo.ID_MATCH}/preview/`,components:{default:qa},meta:{showArticleFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_BRANDING_PREVIEW_PAGES",path:"page:pageNum(\\d+)/",meta:{showArticleFilter:!0,navTitle:"NAV_NEW"}}]},{path:"blog/",redirect:{name:"ARTICLES_LIST_BY_COMPANY"}},{name:"POSTS_BY_COMPANY",path:"posts/",components:{default:qa},meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_NEW"},children:[{name:"POSTS_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_NEW"}}]},{name:"POSTS_BY_COMPANY_TOP",path:"posts/top/",pathToRegexpOptions:{strict:!0},components:{default:qa},meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_BEST"},children:[{name:"POSTS_BY_COMPANY_TOP_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_BEST"}}]},{name:"ARTICLES_LIST_BY_COMPANY",path:"articles/",components:{default:qa},meta:{showArticleFilter:!0,navTitle:"NAV_NEW",rssLink:e=>`/rss/companies/${e.name}/articles/`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",meta:{showArticleFilter:!0,navTitle:"NAV_NEW",rssLink:e=>`/rss/companies/${e.name}/articles/`}}]},{name:"ARTICLES_LIST_TOP_BY_COMPANY",path:"articles/top/",components:{default:qa},meta:{showArticleFilter:!0,navTitle:"NAV_BEST",renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_TOP_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",meta:{showArticleFilter:!0,navTitle:"NAV_BEST"}}]},{name:"NEWS_LIST_BY_COMPANY",path:"news/",components:{default:qa},meta:{rssLink:e=>`/rss/companies/${e.name}/articles/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",meta:{rssLink:e=>`/rss/companies/${e.name}/articles/`}}]},{name:"COMPANY_VACANCIES",path:"vacancies/",components:{default:za},children:[{name:"COMPANY_VACANCIES_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"COMPANY_VACANCIES",noindex:!0}}]},{name:"COMPANY_WORKERS",path:"workers/",redirect:{name:"COMPANY_WORKERS_ALL"}},{name:"COMPANY_WORKERS_ALL",path:"workers/all/rating/",components:{default:Qa},meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_ALL"},children:[{name:"COMPANY_WORKERS_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_ALL"}}]},{name:"COMPANY_WORKERS_NEW",path:"workers/new/rating/",components:{default:Qa},meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_WORKERS_NEW_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_NEW"}}]},{name:"COMPANY_FANS",path:"fans/",redirect:{name:"COMPANY_FANS_ALL"}},{name:"COMPANY_FANS_ALL",path:"fans/all/rating/",components:{default:Ka},meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_ALL"},children:[{name:"COMPANY_FANS_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_ALL"}}]},{name:"COMPANY_FANS_NEW",path:"fans/new/rating/",components:{default:Ka},meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_FANS_NEW_PAGES",path:"page:pageNum(\\d+)/",meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_NEW"}}]}]}];function Ja(){const e=["widgets/","vkontakte-groups/","facebook-like-box/","applications/","twitter-stream/","news/","links/"],t=e.reduce(((e,t)=>({...e,[t]:"settings/widgets/"})),{});return{...t,"statistics-summary/":"statistics/summary/","authors-statistics/":"statistics/authors/","hubs-statistics/":"statistics/hubs/","post-list/":"posts/articles/","post-list/page:pageNum(\\d+)/":"posts/articles/page:pageNum/","news-list/":"posts/news/","news-list/page:pageNum(\\d+)/":"posts/news/page:pageNum/","administrators-list/":"company/users/","administrators-list/page:pageNum(\\d+)/":"company/users/page:pageNum/","administrators-list/add/":"company/users/add/","employees-list/":"company/employees/","employees-list/page:pageNum(\\d+)/":"company/employees/page:pageNum/","employees-list/requests/":"company/employees/requests/","employees-list/requests/page:pageNum(\\d+)/":"company/employees/requests/page:pageNum/","employees-list/add/":"company/employees/add/","invites/":"company/invitations/","vacancies/":"company/vacancies/listing/","vacancies/page:pageNum(\\d+)/":"company/vacancies/listing/page:pageNum/","log/":"company/logs/","log/page:pageNum(\\d+)/":"company/logs/page:pageNum/","current-subscription/":"billing/current/","prolongation/":"billing/renewal/","activation-code/":"billing/activation/","requisites/":"billing/requisites/","requisites/add/":"billing/requisites/add","finance/":"billing/finance/","description/":"settings/card/","widgets/":"settings/widgets/","branding/":"settings/branding/","localization/":"settings/localization/","analytics/":"settings/analytics/","documents/faq/":"faq/"}}function ei(){const e=Ja();return Object.keys(e).reduce(((t,o)=>{const n={path:o,redirect:e[o]};return t.concat(n)}),[])}const ti=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,28710)),oi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,83466)),ni=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,1337)),si=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,81619)),ai=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,32279)),ii=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,78226)),ri=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,82221)),li=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,14287)),ci=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,53493)),mi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,31536)),di=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,18657)),ui=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,48577)),pi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,19977)),hi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,34162)),_i=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,33219)),gi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,36695)),Ti=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,3348)),Ei=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,77394)),Si=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,35861)),Ci=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,21335)),vi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,83891)),ki=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,19170)),fi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,63019)),Ai=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,27689)),Ii=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,17044)),yi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,68197)),bi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,48049)),Ni=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,93677)),Pi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,77026)),Li=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,69198)),Bi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,85745)),Oi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,89219)),wi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,76572)),Mi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,39610)),Ri=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,66308)),Vi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,56275)),Di=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,24391)),Ui=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,99977)),$i=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,38451)),xi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,9616)),Fi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,8731)),Hi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,67434)),Gi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,50148)),Wi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,92852)),Yi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,44317)),Zi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,47824)),qi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,45342)),Ki=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,286)),ji=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,24797)),zi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,42101)),Qi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,75305)),Xi=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,91231)),Ji=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,39656)),er=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,38454)),tr=()=>Promise.all([o.e(7240),o.e(2614),o.e(4670)]).then(o.bind(o,86423)),or=[{path:"company/:name/admin/",redirect:{name:"COMPANY_ADMIN"}},{name:"COMPANY_ADMIN",path:"companies/:name/admin/",components:{default:ti},redirect:{name:"COMPANY_ADMIN_STATISTICS"},meta:{rootPage:!0},children:[...ei(),{name:"COMPANY_ADMIN_STATISTICS",path:"statistics/",meta:{requiresAuth:!0},components:{default:oi},redirect:{name:"COMPANY_ADMIN_STATISTICS_SUMMARY"},children:[{name:"COMPANY_ADMIN_STATISTICS_SUMMARY",path:"summary/",components:{default:mi},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_STATISTICS_AUTHORS",path:"authors/",components:{default:di},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_STATISTICS_AUTHORS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_STATISTICS_AUTHORS"}}]},{name:"COMPANY_ADMIN_STATISTICS_HUBS",path:"hubs/",components:{default:ci},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_STATISTICS_HUBS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_STATISTICS_HUBS"}}]}]},{name:"COMPANY_ADMIN_POSTS",path:"posts/",meta:{requiresAuth:!0},components:{default:si},redirect:{name:"COMPANY_ADMIN_POSTS_ARTICLES"},children:[{name:"COMPANY_ADMIN_POSTS_ARTICLES",path:"articles/",components:{default:ai},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_POSTS_ARTICLES_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"COMPANY_ADMIN",activeNavigationSection:"COMPANY_ADMIN_POSTS_ARTICLES"}}]},{name:"COMPANY_ADMIN_POSTS_NEWS",path:"news/",components:{default:ii},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_POSTS_NEWS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"COMPANY_ADMIN",activeNavigationSection:"COMPANY_ADMIN_POSTS_NEWS"}}]}]},{name:"COMPANY_ADMIN_COMPANY",path:"company/",meta:{requiresAuth:!0},components:{default:ni},redirect:{name:"COMPANY_ADMIN_COMPANY_USERS"},children:[{name:"COMPANY_ADMIN_COMPANY_USERS",path:"users/",components:{default:Yi},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_COMPANY_USERS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_USERS"}}]},{path:"employees/",components:{default:$i},redirect:{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES"},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES",path:"",components:{default:xi},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}}]},{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_REQUESTS",path:"requests/",components:{default:Hi},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_REQUESTS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}}]}]},{path:"invitations/",components:{default:qi},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_APPROVED_INVITATIONS",path:"",components:{default:ji},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_APPROVED_INVITATIONS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"}}]},{name:"COMPANY_ADMIN_SENT_INVITATIONS",path:"sent/",components:{default:Ki},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"},children:[{name:"COMPANY_ADMIN_SENT_INVITATIONS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"}}]}]},{name:"COMPANY_ADMIN_COMPANY_NEW_EMPLOYEE",path:"employees/add/",components:{default:Fi},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}},{name:"COMPANY_ADMIN_COMPANY_NEW_INVITATION",path:"invitations/add/",components:{default:zi},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_COMPANY_NEW_USER",path:"users/add/",components:{default:Zi},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_USERS"}},{name:"COMPANY_ADMIN_COMPANY_LOGS",path:"logs/",meta:{requiresAuth:!0},component:pi,children:[{name:"COMPANY_ADMIN_COMPANY_LOGS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_LOGS"}}]},{name:"COMPANY_ADMIN_COMPANY_CAREER",path:"vacancies/",meta:{requiresAuth:!0},redirect:{name:"COMPANY_ADMIN_COMPANY_CAREER_SETTINGS"},component:ui,children:[{name:"COMPANY_ADMIN_COMPANY_CAREER_SETTINGS",path:"settings/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_CAREER"},component:vi},{name:"COMPANY_ADMIN_COMPANY_VACANCIES_LISTING",path:"listing/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_CAREER"},component:ki,children:[{name:"COMPANY_ADMIN_COMPANY_VACANCIES_LISTING_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_CAREER"}}]}]}]},{name:"COMPANY_ADMIN_BILLING",path:"billing/",meta:{requiresAuth:!0},components:{default:ri},redirect:{name:"COMPANY_ADMIN_BILLING_CURRENT"},children:[{name:"COMPANY_ADMIN_BILLING_CURRENT",path:"current/",meta:{requiresAuth:!0},component:Gi},{name:"COMPANY_ADMIN_BILLING_RENEWAL",path:"renewal/",meta:{requiresAuth:!0},components:{default:Wi}},{name:"COMPANY_ADMIN_BILLING_ACTIVATION",path:"activation/",meta:{requiresAuth:!0},components:{default:hi}},{name:"COMPANY_ADMIN_BILLING_REQUISITES",path:"requisites/",meta:{requiresAuth:!0},components:{default:Qi},children:[{name:"COMPANY_ADMIN_BILLING_REQUISITES_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"}}]},{name:"COMPANY_ADMIN_BILLING_REQUISITES_FORM_EDIT",path:"requisites/edit/:id/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"},components:{default:Xi}},{name:"COMPANY_ADMIN_BILLING_REQUISITES_FORM_ADD",path:"requisites/add/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"},components:{default:Xi}},{name:"COMPANY_ADMIN_BILLING_FINANCE",path:"finance/",meta:{requiresAuth:!0},components:{default:_i},children:[{name:"COMPANY_ADMIN_BILLING_FINANCE_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_FINANCE"}}]}]},{name:"COMPANY_ADMIN_SETTINGS",path:"settings/",meta:{requiresAuth:!0},components:{default:li},redirect:{name:"COMPANY_ADMIN_SETTINGS_CARD"},children:[{name:"COMPANY_ADMIN_SETTINGS_CARD",path:"card/",meta:{requiresAuth:!0},components:{default:Si}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_VK",path:"widgets/vk/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Bi}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_BANNER",path:"widgets/banner/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Di}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_LINKS",path:"widgets/links/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Oi}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS",path:"widgets/rss/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:wi}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS_LIST",path:"widgets/rss/:widgetId(new|\\d+)/list/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Mi},children:[{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS_LIST_PAGES",path:"page:pageNum(\\d+)/"}]},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_APPLICATIONS",path:"widgets/applications/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Ri}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_APPLICATION",path:"widgets/application/:widgetId(new|\\d+)/:applicationId/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Vi}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_GALLERY",path:"landing/gallery/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:Ni}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_BANNER",path:"landing/banner/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:Pi}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_TECHNOLOGIES",path:"landing/technologies/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:Li}},{name:"COMPANY_ADMIN_SETTINGS_LANDING",path:"landing/",meta:{requiresAuth:!0},components:{default:bi}},{name:"COMPANY_ADMIN_SETTINGS_WIDGETS",path:"widgets/",meta:{requiresAuth:!0},components:{default:fi}},{name:"COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS",path:"multi-widgets/",meta:{requiresAuth:!0},components:{default:Ai},props:{default:{title:"NAV_COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS",addButtonTitle:"COMPANY_ADMIN_MULTI_WIDGETS_ADD",viewType:"post"}},children:[{name:"COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS_PAGES",path:"page:pageNum(\\d+)"}]},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_MULTIWIDGET",path:"multi-widgets/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS"},components:{default:Ui},props:{default:{viewType:"post"}}},{name:"COMPANY_ADMIN_SETTINGS_FEED_MULTI_WIDGETS",path:"feed-widgets/",meta:{requiresAuth:!0},components:{default:Ai},props:{default:{title:"NAV_COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS_LIST",addButtonTitle:"COMPANY_ADMIN_MULTI_WIDGETS_ADD",viewType:"list"}},children:[{name:"COMPANY_ADMIN_SETTINGS_FEED_MULTI_WIDGETS_PAGES",path:"page:pageNum(\\d+)"}]},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_FEED_WIDGET",path:"feed-widgets/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_FEED_MULTI_WIDGETS"},components:{default:Ui},props:{default:{viewType:"list"}}},{name:"COMPANY_ADMIN_SETTINGS_BANNERS",path:"banners/",meta:{requiresAuth:!0},components:{default:Ii}},{name:"COMPANY_ADMIN_SETTINGS_NEW_BANNER",path:"banners/new/",meta:{requiresAuth:!0},components:{default:yi}},{name:"COMPANY_ADMIN_SETTINGS_EDIT_BANNER",path:"banners/edit/:id/",meta:{requiresAuth:!0},components:{default:yi}},{name:"COMPANY_ADMIN_SETTINGS_BRANDING",path:"branding/",components:{default:Ji},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_NEW_BRANDING",path:"branding/new/",components:{default:er},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_BRANDING"}},{name:"COMPANY_ADMIN_EDIT_BRANDING",path:"branding/edit/:id/",components:{default:er},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_BRANDING"}},{name:"COMPANY_ADMIN_SETTINGS_LOCALIZATION",path:"localization/",meta:{requiresAuth:!0},components:{default:Ci}},{name:"COMPANY_ADMIN_SETTINGS_ANALYTICS",path:"analytics/",meta:{requiresAuth:!0},components:{default:gi}},{name:"COMPANY_ADMIN_SETTINGS_POLLS",path:"polls/",meta:{requiresAuth:!0},components:{default:Ti},children:[{name:"COMPANY_ADMIN_SETTINGS_POLLS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0}}]},{name:"COMPANY_ADMIN_SETTINGS_NEW_POLL",path:"polls/new/",meta:{requiresAuth:!0},components:{default:Ei}},{name:"COMPANY_ADMIN_SETTINGS_EDIT_POLL",path:"polls/edit/:id/",meta:{requiresAuth:!0},components:{default:Ei}}]},{name:"COMPANY_ADMIN_FAQ",path:"faq/",meta:{requiresAuth:!0},components:{default:tr},children:[{name:"COMPANY_ADMIN_FAQ_PAGE",path:":alias/",meta:{requiresAuth:!0}}]}]}],nr=()=>o.e(7576).then(o.bind(o,78177)),sr=[{name:"CONVERSATION_MESSAGES",path:`conversations/:login${qo.USER_ALIAS_PARAM_REGEXP}/`,components:{default:nr},meta:{pageType:"conversation",requiresAuth:!0,hideUserNotices:!0,rootPage:!0}}],ar=()=>o.e(7576).then(o.bind(o,70274)),ir=[{name:"CONVERSATIONS",path:"conversations/",components:{default:ar},meta:{pageType:"conversations",title:"CONVERSATIONS_TITLE",requiresAuth:!0,rootPage:!0},children:[{name:"CONVERSATIONS_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"CONVERSATIONS_TITLE"}}]}],rr=()=>o.e(1163).then(o.bind(o,67966)),lr=[{name:"DOCS",path:`docs/:alias${qo.DOCS_ARTICLE_ALIAS_MATCH}?/`,components:{default:rr},meta:{rootPage:!0},children:[{name:"DOCS_ARTICLE",path:`:articleAlias${qo.DOCS_ARTICLE_ALIAS_MATCH}?/`}]}],cr=()=>o.e(2636).then(o.bind(o,2748)),mr=[{name:"ERROR_INTERNAL",path:"error/500/",component:cr,meta:{HTTPStatus:500,rootPage:!0},props:{error:"internal"}},{name:"ERROR_UNKNOWN",path:"error/unknown/",component:cr,meta:{HTTPStatus:500,rootPage:!0},props:{error:"unknown"}},{name:"ERROR_UNAUTHORIZED",path:"error/403/",component:cr,meta:{HTTPStatus:403,rootPage:!0},props:{error:"unauthorized"}},{path:"/:hl(ru|en)/:pathMatch(.*)*",name:"ERROR_NOT_FOUND",component:cr,meta:{HTTPStatus:404,rootPage:!0},props:{error:"notFound"}}],dr=()=>o.e(2136).then(o.bind(o,47887)),ur=[{name:"EVENTS",path:"events/",components:{default:dr},meta:{pageType:"events",title:"EVENTS_TITLE"}}],pr=()=>o.e(318).then(o.bind(o,63489)),hr=[{path:"feed/",components:{default:pr},name:"INDEX",meta:{pageType:"feed",rootPage:!0},redirect:{name:"MY_FEED"},children:[{name:"MY_FEED",path:"",meta:{customRssLink:!0,pageType:"feed",rootPage:!0}},{name:"MY_FEED_PAGES",path:"page:pageNum(\\d+)/",meta:{customRssLink:!0,pageType:"feed",rootPage:!0}}]}],_r=()=>o.e(6841).then(o.bind(o,28083)),gr=[{name:"MY_FEED_SETTINGS",path:"feed/settings/",components:{default:_r},meta:{title:"TITLE_FEED_SETTINGS",requiresAuth:!0,rootPage:!0}}],Tr=()=>o.e(8656).then(o.bind(o,36421)),Er=[{name:"FEEDBACK",path:"feedback/",components:{default:Tr},meta:{rootPage:!0}}],Sr={class:"tm-page__top"},Cr={class:"tm-flow__subheader"};function vr(e,t,o,n,s,a){const r=(0,i.resolveComponent)("DarkModePromo"),l=(0,i.resolveComponent)("TMAdfoxBanner"),c=(0,i.resolveComponent)("TMSectionName"),m=(0,i.resolveComponent)("TMTabs"),d=(0,i.resolveComponent)("TMRssButton"),u=(0,i.resolveComponent)("TMNavigationFilters"),p=(0,i.resolveComponent)("TMNavigationSearch"),h=(0,i.resolveComponent)("router-view"),_=(0,i.resolveComponent)("TMPage");return(0,i.openBlock)(),(0,i.createBlock)(_,null,{default:(0,i.withCtx)((()=>[a.showDarkMode?((0,i.openBlock)(),(0,i.createBlock)(r,{key:0})):(0,i.createCommentVNode)("",!0),e.userShowAdv?((0,i.openBlock)(),(0,i.createBlock)(l,{key:1,"adfox-id":"169815559787254866","div-id":"topBanner",params:{pp:"g",ps:"fnps",p2:"iqny"},variant:"narrow"})):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("div",Sr,[(0,i.createVNode)(c,{name:a.flowName},null,8,["name"]),(0,i.createVNode)(m,{class:"tm-tabs_page-header",exact:"",tabs:a.tabs},null,8,["tabs"]),(0,i.createElementVNode)("div",Cr,[a.isArticleFilterShown?((0,i.openBlock)(),(0,i.createBlock)(u,{key:0,"extra-options":a.filterExtraOptions,options:a.filterOptions,onApplyFilter:a.saveFlowFilter},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(d)])),_:1},8,["extra-options","options","onApplyFilter"])):(0,i.createCommentVNode)("",!0)]),a.showNavigationSearch?((0,i.openBlock)(),(0,i.createBlock)(p,{key:0})):(0,i.createCommentVNode)("",!0)]),(0,i.createVNode)(h)])),sidebar:(0,i.withCtx)((()=>[(0,i.createVNode)(h,{name:"sidebar"})])),_:1})}var kr=o(51029),fr=o(71759),Ar=o(49303),Ir=o(94675),yr=o(62978),br=o(73833);const Nr={components:{DarkModePromo:Yn.Z,TMNavigationFilters:kr.Z,TMNavigationSearch:fr.Z,TMRssButton:Ar.Z,TMPage:pt.Z,TMSectionName:Ir.Z,TMTabs:yr.Z,TMAdfoxBanner:gn.Z},head(){return{title:this.pageTitlePart,meta:[...this.pageMetaDescription,...this.pageMeta]}},computed:{...(0,p.Se)("i18n",["langOptions","pageTitle"]),...(0,p.Se)("global",["isDesktop","isMobile"]),...(0,p.Se)("me",["userShowAdv"]),isFlEnglish(){return"en"===this.langOptions.fl},showNavigationSearch(){return this.$route.meta.hasSearch},i18nFlows(){return{admin:this.msg("NAV_FLOW_ADMIN"),design:this.msg("NAV_FLOW_DESIGN"),develop:this.msg("NAV_FLOW_DEVELOP"),geektimes:this.msg("NAV_FLOW_GEEKTIMES"),popsci:this.msg("NAV_FLOW_POPSCI"),management:this.msg("NAV_FLOW_MANAGEMENT"),marketing:this.msg("NAV_FLOW_MARKETING"),misc:this.msg("NAV_FLOW_MISC")}},flowName(){return this.i18nFlows[this.$route.params.flowName]},addExtraOptions(){return!this.isNewsRoute&&!this.isPostsRoute},filterExtraOptions(){return this.addExtraOptions?(0,br.r)(this.msg):[]},filterOptions(){return this.isNewsRoute?this.newsFilterOptions:this.isPostsRoute?this.postsFilterOptions:this.articlesFilterOptions},articlesFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"ARTICLES_LIST_BY_FLOW_ALL",params:{}},{label:"≥0",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"0"}},{label:"≥10",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"10"}},{label:"≥25",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"25"}},{label:"≥50",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"50"}},{label:"≥100",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},newsFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"NEWS_LIST_BY_FLOW_ALL",params:{}},{label:"≥0",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"0"}},{label:"≥10",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"10"}},{label:"≥25",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"25"}},{label:"≥50",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"50"}},{label:"≥100",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},postsFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"POSTS_BY_FLOW_ALL",params:{}},{label:"≥0",value:"POSTS_BY_FLOW_SCORE",params:{score:"0"}},{label:"≥10",value:"POSTS_BY_FLOW_SCORE",params:{score:"10"}},{label:"≥25",value:"POSTS_BY_FLOW_SCORE",params:{score:"25"}},{label:"≥50",value:"POSTS_BY_FLOW_SCORE",params:{score:"50"}},{label:"≥100",value:"POSTS_BY_FLOW_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},tabs(){const e="ru"!==this.$route.params.hl||this.isFlEnglish?[]:[{title:this.msg("NAV_COMPANIES"),route:{name:"COMPANIES_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}}];return[{title:this.msg("NAV_ARTICLES"),route:{name:"FLOW_PAGE",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,yo.nz)(this.articlesFilterOptions)},{title:this.msg("NAV_POSTS"),route:{name:"POSTS_BY_FLOW_ALL",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,yo.nz)(this.postsFilterOptions)},{title:this.msg("NAV_NEWS"),route:{name:"NEWS_LIST_BY_FLOW_ALL",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,yo.nz)(this.newsFilterOptions)},{title:this.msg("NAV_HUBS"),route:{name:"HUBS_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}},{title:this.msg("NAV_AUTHORS"),route:{name:"AUTHORS_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}},...e]},isArticleFilterShown(){return!0===this.$route.meta.showFilter},pageMetaDescription(){return this.$route.meta.description?[{vmid:"description",name:"description",content:this.msg(this.$route.meta.description,{...this.$route.params,flowName:this.flowName})},{vmid:"og:description",property:"og:description",content:this.msg(this.$route.meta.description,{...this.$route.params,flowName:this.flowName})}]:[]},pageMeta(){return[{property:"og:title",content:this.pageTitle(this.pageTitlePart),vmid:"og:title"}]},pageTitlePart(){return this.$route.meta.title?this.msg(this.$route.meta.title,{...this.$route.params,flowName:this.flowName}):""},isNewsRoute(){return this.$route.matched.some((e=>e.name&&e.name.startsWith("NEWS_LIST_BY_FLOW_")))},isPostsRoute(){return this.$route.matched.some((e=>e.name&&e.name.startsWith("POSTS_BY_FLOW_")))},showDarkMode(){if("develop"===this.$route.params.flowName){const e=new Date,t=(new Date).getFullYear(),o=new Date(t,3,11,0);return e>o&&this.isMobile}return this.isMobile}},methods:{bem:V.P,saveFlowFilter(e){(0,Ge.YL)({route:this.$router.resolve(e),flowName:this.$route.params.flowName,isNews:this.isNewsRoute,isPosts:this.isPostsRoute})}}},Pr=(0,N.Z)(Nr,[["render",vr]]),Lr=Pr;var Br=o(43995),Or=o(92578);const wr=()=>Promise.all([o.e(9768),o.e(2182),o.e(4634)]).then(o.bind(o,64910)),Mr=()=>Promise.all([o.e(9768),o.e(2182),o.e(4634)]).then(o.bind(o,54997)),Rr=()=>Promise.all([o.e(9768),o.e(2182),o.e(4634)]).then(o.bind(o,85265)),Vr=()=>Promise.all([o.e(9768),o.e(2182),o.e(4634)]).then(o.bind(o,91268)),Dr=()=>Promise.all([o.e(9768),o.e(2182),o.e(4634)]).then(o.bind(o,56315)),Ur=()=>Promise.all([o.e(9768),o.e(2182),o.e(4634)]).then(o.bind(o,64644)),$r=()=>Promise.all([o.e(9768),o.e(2182),o.e(4634)]).then(o.bind(o,6689)),xr=[{path:"flows/geektimes/:pathMatch(.*)*",redirect:e=>({path:`/${e.params.hl}/flows/popsci/${e.params.pathMatch}`})},{path:"flows/:flowName/top/*",redirect:e=>({path:`/${e.params.hl}/flows/:flowName/articles/top/${e.params.pathMatch}`})},{path:"flows/:flowName/:complexity(easy|medium|hard)/*",redirect:e=>({path:`/${e.params.hl}/flows/:flowName/articles/:complexity/${e.params.pathMatch}`})},{path:"flows/:flowName/top:score(0|10|25|50|100)/*",redirect:e=>({path:`/${e.params.hl}/flows/:flowName/articles/rated:score/${e.params.pathMatch}`})},{path:"flows/:flowName/:type(articles|news|posts)/top:score(0|10|25|50|100)/*",redirect:e=>({path:`/${e.params.hl}/flows/:flowName/:type/rated:score/${e.params.pathMatch}`})},{name:"ALL_FLOWS",path:"flows/all/",component:Lr,meta:{rootPage:!0}},{name:"FLOW_PAGE",path:`flows/:flowName${qo.FLOW_ALIAS_MATCH}/`,component:Lr,redirect:{name:"ARTICLES_LIST_BY_FLOW_ALL"},meta:{pageType:"feed",rootPage:!0},children:[{path:"articles",components:{default:Br["default"],sidebar:wr},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL",path:":complexity(easy|medium|hard)?/",components:{default:Br["default"],sidebar:wr},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_FLOW_PAGE_LATEST",rssLink:e=>`/rss/flows/${e.flowName}/articles/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_FLOW_PAGE_LATEST",rssLink:e=>`/rss/flows/${e.flowName}/articles/${e.complexity?`${e.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",path:"rated:score(0|10|25|50|100)/:complexity(easy|medium|hard)?/",components:{default:Br["default"],sidebar:wr},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_FLOW_PAGE_SCORE",rssLink:e=>`/rss/flows/${e.flowName}/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_FLOW_PAGE_SCORE",rssLink:e=>`/rss/flows/${e.flowName}/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_FLOW_TOP",path:"top/",components:{default:Br["default"],sidebar:wr},redirect:e=>({name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{...e.params,period:"daily"}}),children:[{name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/:complexity(easy|medium|hard)?/",meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_FLOW_PAGE_PERIOD",rssLink:e=>`/rss/flows/${e.flowName}/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_FLOW_PAGE_PERIOD",rssLink:e=>`/rss/flows/${e.flowName}/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`}}]}]}]},{path:"posts/",components:{default:$r,sidebar:wr},children:[{name:"POSTS_BY_FLOW_ALL",path:"",components:{default:$r,sidebar:wr},meta:{title:"TITLE_POSTS_FLOW",showFilter:!0,description:"DESCRIPTION_POSTS_FLOW",showCompanyRatingBlock:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/flows/${e.flowName}/posts/`},children:[{name:"POSTS_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"TITLE_POSTS_FLOW",showFilter:!0,description:"DESCRIPTION_POSTS_FLOW",rssLink:e=>`/rss/flows/${e.flowName}/posts/`}},{name:"POSTS_BY_FLOW_SCORE",path:"rated:score(0|10|25|50|100)/",meta:{canonicalRoute:"POSTS_BY_FLOW_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_FLOW_SCORE",rssLink:e=>`/rss/flows/${e.flowName}/posts/rated${e.score}/`},children:[{name:"POSTS_BY_FLOW_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"POSTS_BY_FLOW_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_FLOW_SCORE",rssLink:e=>`/rss/flows/${e.flowName}/posts/rated${e.score}/`}}]}]},{name:"POSTS_BY_FLOW_TOP",path:"top/",components:{default:$r,sidebar:wr},redirect:{name:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},children:[{name:"POSTS_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_FLOW_PERIOD",rssLink:e=>`/rss/flows/${e.flowName}/posts/top/${e.period}/`},children:[{name:"POSTS_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_FLOW_PERIOD",rssLink:e=>`/rss/flows/${e.flowName}/posts/top/${e.period}/`}}]}]}]},{path:"news/",components:{default:Or["default"],sidebar:wr},children:[{name:"NEWS_LIST_BY_FLOW_ALL",path:"",components:{default:Or["default"],sidebar:wr},meta:{title:"FLOW_PAGE_NEWS_META_TITLE",showFilter:!0,description:"FLOW_PAGE_NEWS_META_DESCRIPTION",showCompanyRatingBlock:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/flows/${e.flowName}/news/`},children:[{name:"NEWS_LIST_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_NEWS_META_TITLE",showFilter:!0,description:"FLOW_PAGE_NEWS_META_DESCRIPTION",rssLink:e=>`/rss/flows/${e.flowName}/news/`}},{name:"NEWS_LIST_BY_FLOW_SCORE",path:"rated:score(0|10|25|50|100)/",meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"FLOW_PAGE_NEWS_SCORE_META_DESCRIPTION",rssLink:e=>`/rss/flows/${e.flowName}/news/rated${e.score}/`},children:[{name:"NEWS_LIST_BY_FLOW_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"FLOW_PAGE_NEWS_SCORE_META_DESCRIPTION",rssLink:e=>`/rss/flows/${e.flowName}/news/rated${e.score}/`}}]}]},{name:"NEWS_LIST_BY_FLOW_TOP",path:"top/",components:{default:Or["default"],sidebar:wr},redirect:{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},children:[{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD_FLOW",navTitle:"NAV_TITLE_PERIOD",description:"FLOW_PAGE_NEWS_TOP_META_DESCRIPTION",rssLink:e=>`/rss/flows/${e.flowName}/news/top/${e.period}/`},children:[{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD_FLOW",navTitle:"NAV_TITLE_PERIOD",description:"FLOW_PAGE_NEWS_TOP_META_DESCRIPTION",rssLink:e=>`/rss/flows/${e.flowName}/news/top/${e.period}/`}}]}]}]},{name:"HUBS_BY_FLOW",path:"hubs/",components:{default:Dr,sidebar:Rr},meta:{title:"FLOW_PAGE_HUBS_META_TITLE",description:"FLOW_PAGE_HUBS_META_DESCRIPTION",hasSearch:!0},children:[{name:"HUBS_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_HUBS_META_TITLE",description:"FLOW_PAGE_HUBS_META_DESCRIPTION",hasSearch:!0}}]},{name:"AUTHORS_BY_FLOW",path:"authors/",components:{default:Ur,sidebar:Mr},meta:{title:"FLOW_PAGE_AUTHORS_META_TITLE",description:"FLOW_PAGE_AUTHORS_META_DESCRIPTION",hasSearch:!0},children:[{name:"AUTHORS_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_AUTHORS_META_TITLE",description:"FLOW_PAGE_AUTHORS_META_DESCRIPTION",hasSearch:!0}}]},{name:"COMPANIES_BY_FLOW",path:"companies/",components:{default:Vr,sidebar:Mr},meta:{title:"FLOW_PAGE_COMPANIES_META_TITLE",description:"FLOW_PAGE_COMPANIES_META_DESCRIPTION",hasSearch:!0},children:[{name:"COMPANIES_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_COMPANIES_META_TITLE",description:"FLOW_PAGE_COMPANIES_META_DESCRIPTION",hasSearch:!0}}]}]}],Fr=()=>Promise.all([o.e(9768),o.e(2182),o.e(1231)]).then(o.bind(o,20054)),Hr=()=>Promise.all([o.e(9768),o.e(2182),o.e(1231)]).then(o.bind(o,39955)),Gr=()=>Promise.all([o.e(9768),o.e(2182),o.e(1231)]).then(o.bind(o,69873)),Wr=()=>Promise.all([o.e(9768),o.e(2182),o.e(1231)]).then(o.bind(o,8715)),Yr=()=>Promise.all([o.e(9768),o.e(2182),o.e(1231)]).then(o.bind(o,43995)),Zr=()=>Promise.all([o.e(9768),o.e(2182),o.e(1231)]).then(o.bind(o,91268)),qr=()=>Promise.all([o.e(9768),o.e(2182),o.e(1231)]).then(o.bind(o,56315)),Kr=()=>Promise.all([o.e(9768),o.e(2182),o.e(1231)]).then(o.bind(o,92578)),jr=()=>Promise.all([o.e(9768),o.e(2182),o.e(1231)]).then(o.bind(o,64644)),zr=()=>Promise.all([o.e(9768),o.e(2182),o.e(1231)]).then(o.bind(o,6689)),Qr=[{path:"all/top*",redirect:e=>({path:`/${e.params.hl}/articles/rated${e.params.pathMatch}`})},{path:"all/*",redirect:e=>({path:`/${e.params.hl}/articles/${e.params.pathMatch}`})},{path:"top/*",redirect:e=>({path:`/${e.params.hl}/articles/top/${e.params.pathMatch}`})},{path:":complexity(easy|medium|hard)/*",redirect:e=>({path:`/${e.params.hl}/articles/:complexity/${e.params.pathMatch}`})},{path:":type(news|posts)/top:score(0|10|25|50|100)/*",redirect:e=>({path:`/${e.params.hl}/:type/rated:score/${e.params.pathMatch}`})},{path:"articles/",components:{default:Fr},redirect:{name:"ARTICLES_LIST_ALL"},meta:{pageType:"feed",feedType:"allFlows"},children:[{name:"ARTICLES_LIST_ALL",path:":complexity(easy|medium|hard)?/",components:{default:Yr,sidebar:Hr},meta:{showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_COMPLEXITY",rssLink:e=>"/rss/articles/"+(e.complexity?`${e.complexity}/`:""),renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_COMPLEXITY",rssLink:e=>"/rss/articles/"+(e.complexity?`${e.complexity}/`:"")}}]},{name:"ARTICLES_LIST_ALL_SCORE",path:"rated:score(0|10|25|50|100)/:complexity(easy|medium|hard)?/",components:{default:Yr,sidebar:Hr},meta:{canonicalRoute:"ARTICLES_LIST_ALL",showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_SCORE_AND_COMPLEXITY",rssLink:e=>`/rss/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"ARTICLES_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_SCORE_AND_COMPLEXITY",rssLink:e=>`/rss/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_TOP",path:"top/",components:{default:Yr,sidebar:Hr},redirect:{name:"ARTICLES_LIST_TOP_PERIOD",params:{period:"daily"}},children:[{name:"ARTICLES_LIST_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/:complexity(easy|medium|hard)?/",meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD",rssLink:e=>`/rss/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD",rssLink:e=>`/rss/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`}}]}]}]},{path:"posts/",components:{default:Fr},redirect:{name:"POSTS_ALL"},meta:{pageType:"feed",feedType:"allFlows"},children:[{name:"POSTS_ALL",path:"",components:{default:zr,sidebar:Hr},meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_POSTS",rssLink:()=>"/rss/posts/",renderAlternateMetaTag:!0},children:[{name:"POSTS_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_POSTS",rssLink:()=>"/rss/posts/",renderAlternateMetaTag:!0}},{name:"POSTS_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",meta:{canonicalRoute:"POSTS_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_SCORE",rssLink:e=>`/rss/posts/rated${e.score}/`,renderAlternateMetaTag:!0},children:[{name:"POSTS_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"POSTS_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_SCORE",rssLink:e=>`/rss/posts/rated${e.score}/`}}]}]},{name:"POSTS_TOP",path:"top/",components:{default:zr,sidebar:Hr},redirect:{name:"POSTS_TOP_PERIOD",params:{period:"daily"}},children:[{name:"POSTS_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_PERIOD",rssLink:e=>`/rss/posts/top/${e.period}/`},children:[{name:"POSTS_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_PERIOD",rssLink:e=>`/rss/posts/top/${e.period}/`}}]}]}]},{path:"news/",components:{default:Fr},redirect:{name:"NEWS_LIST_ALL"},meta:{pageType:"feed",feedType:"allFlows"},children:[{name:"NEWS_LIST_ALL",path:"",components:{default:Kr,sidebar:Hr},meta:{showFilter:!0,showCompanyRatingBlock:!0,title:"NEWS_PAGE_META_TITLE",navTitle:"NAV_TITLE_LATEST",description:"NEWS_PAGE_META_DESCRIPTION",rssLink:()=>"/rss/news/",renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0,title:"NEWS_PAGE_META_TITLE",navTitle:"NAV_TITLE_LATEST",description:"NEWS_PAGE_META_DESCRIPTION",rssLink:()=>"/rss/news/",showCompanyRatingBlock:!0}},{name:"NEWS_LIST_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"NEWS_PAGE_SCORE_META_DESCRIPTION",rssLink:e=>`/rss/news/rated${e.score}/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"NEWS_PAGE_SCORE_META_DESCRIPTION",rssLink:e=>`/rss/news/rated${e.score}/`}}]}]},{name:"NEWS_LIST_TOP",path:"top/",components:{default:Yr,sidebar:Hr},redirect:{name:"NEWS_LIST_TOP_PERIOD",params:{period:"daily"}},children:[{name:"NEWS_LIST_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"NEWS_PAGE_TOP_META_DESCRIPTION",rssLink:e=>`/rss/news/top/${e.period}/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"NEWS_PAGE_TOP_META_DESCRIPTION",rssLink:e=>`/rss/news/top/${e.period}/`}}]}]}]},{path:"hubs/",components:{default:Fr},redirect:{name:"HUBS"},meta:{hasSearch:!0,title:"NAV_HUBS",feedType:"allFlows"},children:[{name:"HUBS",path:"",components:{default:qr,sidebar:Hr},meta:{hasSearch:!0,title:"NAV_HUBS"},children:[{name:"HUBS_PAGES",path:"page:pageNum(\\d+)/",meta:{hasSearch:!0,title:"NAV_HUBS"}}]}]},{path:"users/",components:{default:Fr},redirect:{name:"USERS"},meta:{title:"SEARCH_TAB_USERS_LONG",hasSearch:!0,noindex:!0,feedType:"allFlows"},children:[{name:"USERS",path:"",components:{default:jr,sidebar:Gr},meta:{title:"SEARCH_TAB_USERS_LONG",hasSearch:!0,noindex:!0},children:[{name:"USERS_PAGES",path:"page:pageNum(\\d+)/",meta:{hasSearch:!0,title:"SEARCH_TAB_USERS_LONG",noindex:!0}}]}]},{path:"companies/",components:{default:Fr},redirect:{name:"COMPANIES"},meta:{feedType:"allFlows"},children:[{name:"COMPANIES",path:"",components:{default:Zr,sidebar:Wr},meta:{title:"NAV_COMPANIES",hasSearch:!0}},{name:"COMPANIES_CATEGORIES",path:"category/:categoryAlias/",components:{default:Zr,sidebar:Wr},children:[{name:"COMPANIES_CATEGORIES_PAGES",path:"page:pageNum(\\d+)/"}]},{name:"COMPANIES_PAGES",path:"page:pageNum(\\d+)/",meta:{hasSearch:!0,title:"NAV_COMPANIES"},components:{default:Zr,sidebar:Wr}}]}],Xr=()=>Promise.all([o.e(9768),o.e(2182),o.e(6379)]).then(o.bind(o,84402)),Jr=()=>Promise.all([o.e(9768),o.e(2182),o.e(6379)]).then(o.bind(o,39011)),el=()=>Promise.all([o.e(9768),o.e(2182),o.e(6379)]).then(o.bind(o,39131)),tl=()=>Promise.all([o.e(9768),o.e(2182),o.e(6379)]).then(o.bind(o,43995)),ol=()=>Promise.all([o.e(9768),o.e(2182),o.e(6379)]).then(o.bind(o,91268)),nl=()=>Promise.all([o.e(9768),o.e(2182),o.e(6379)]).then(o.bind(o,64644)),sl=()=>Promise.all([o.e(9768),o.e(2182),o.e(6379)]).then(o.bind(o,94567)),al=[{path:"hubs/:hubName/posts/top:score(0|10|25|50|100)/*",redirect:e=>({path:`/${e.params.hl}/hubs/${e.params.hubName}/posts/rated${e.params.score}/${e.params.pathMatch}`})},{path:`hubs/:hubName${qo.HUB_ALIAS_MATCH}/`,name:"HUB_PAGE",component:Xr,redirect:{name:"ARTICLES_LIST_BY_HUB_ALL"},meta:{pageType:"feed"},children:[{path:"articles",components:{default:tl,sidebar:Jr},children:[{name:"ARTICLES_LIST_BY_HUB_ALL",path:":complexity(easy|medium|hard)?/",components:{default:tl,sidebar:Jr},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/hubs/${e.hubName}/articles/${e.complexity?`${e.complexity}/`:""}`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_BY_HUB_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/hubs/${e.hubName}/articles/${e.complexity?`${e.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_HUB_ALL_SCORE",path:"rated:score(0|10|25|50|100)/:complexity(easy|medium|hard)?/",components:{default:tl,sidebar:Jr},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_HUB_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_HUB_TOP",path:"top/",components:{default:tl,sidebar:Jr},redirect:{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD",params:{period:"daily"}},children:[{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/:complexity(easy|medium|hard)?/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`}}]}]}]},{path:"news/",components:{default:tl,sidebar:Jr},children:[{name:"NEWS_BY_HUB_ALL",path:"",components:{default:tl,sidebar:Jr},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/hubs/${e.hubName}/news/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_BY_HUB_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/hubs/${e.hubName}/news/`}}]},{name:"NEWS_BY_HUB_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",components:{default:tl,sidebar:Jr},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/news/rated${e.score}/`},children:[{name:"NEWS_BY_HUB_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/news/rated${e.score}/`}}]},{name:"NEWS_BY_HUB_TOP",path:"top/",components:{default:tl,sidebar:Jr},redirect:{name:"NEWS_BY_HUB_TOP_PERIOD",params:{period:"daily"}},children:[{name:"NEWS_BY_HUB_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/news/top/${e.period}/`},children:[{name:"NEWS_BY_HUB_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/news/top/${e.period}/`}}]}]}]},{path:"posts/",components:{default:sl,sidebar:Jr},children:[{name:"POSTS_BY_HUB_ALL",path:"",meta:{showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/hubs/${e.hubName}/posts/`},children:[{name:"POSTS_BY_HUB_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0,canonicalRoute:"POSTS_BY_HUB_ALL",rssLink:e=>`/rss/hubs/${e.hubName}/posts/`}},{name:"POSTS_BY_HUB_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",meta:{showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/posts/rated${e.score}/`},children:[{name:"POSTS_BY_HUB_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/posts/rated${e.score}/`}}]}]},{name:"POSTS_BY_HUB_TOP",path:"top/",redirect:{name:"POSTS_BY_HUB_TOP_PERIOD",params:{period:"daily"}},children:[{name:"POSTS_BY_HUB_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{showFilter:!0,navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/posts/top/${e.period}/`},children:[{name:"POSTS_BY_HUB_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0,navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/posts/top/${e.period}/`}}]}]}]},{name:"AUTHORS_BY_HUB",path:"authors/",meta:{hasSearch:!0},components:{default:nl,sidebar:el},children:[{name:"AUTHORS_BY_HUB_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",hasSearch:!0}}]},{name:"COMPANIES_BY_HUB",path:"companies/",meta:{hasSearch:!0},components:{default:ol,sidebar:el},children:[{name:"COMPANIES_BY_HUB_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",hasSearch:!0}}]}]}],il=()=>o.e(5996).then(o.bind(o,76306)),rl=[{path:"info/welcome/",components:{default:il},children:[{name:"WELCOME_TOPICS",path:":topic?/",meta:{hideUserNotices:!0}}]},{path:"info/:pathMatch(.*)*",beforeEnter:(e,t,o)=>{const{hl:n,pathMatch:s}=e.params;if(-1!==s.indexOf("welcome"))return o();switch(s){case"company/":return o({path:`/${n}/docs/companies/corpblogs/`});case"authors/":return o({path:`/${n}/docs/authors/codex/`});case"rules/":return o({path:`/${n}/docs/docs/rules/`});case"legal/":return o({path:`/${n}/docs/docs/legal/`});case"topics/how-to/":return o({path:`/${n}/sandbox/start/`});case"topics/madskillz/":return o({path:`/${n}/docs/companies/design/`});case"topics/toolkit/":return o({path:`/${n}/docs/companies/preparations/`});case"help/":return o({path:`/${n}/docs/${e.params.pathMatch}`});case"help/sponsorship-info/":return o({path:`/${n}/docs/companies/sponsorship/`});case"help/others/":return o({path:`/${n}/docs/help/hotkeys/`});case"advert_rules/":case"advert-rules/":return o({path:`/${n}/docs/docs/advert-rules/`});default:}return s.startsWith("help/")?o({path:`/${n}/docs/${s}`}):o({path:`/${n}/docs/`})}}],ll=()=>o.e(5106).then(o.bind(o,76836)),cl=()=>o.e(6453).then(o.bind(o,78307)),ml=[{path:"megapost/admin/",redirect:{name:"MEGAPOST_ADMIN"}},{name:"MEGAPOST_ADMIN",path:"specials/admin/",meta:{title:"MEGAPOSTS_TITLE",requiresAuth:!0,isMegapostPage:!0,groups:["super"]},components:{default:cl},children:[{name:"MEGAPOST_ADMIN_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"MEGAPOSTS_TITLE",requiresAuth:!0,isMegapostPage:!0,groups:["super"]}}]},{name:"PUBLICATION_MEGAPOST",path:"specials/new/",component:ll,meta:{isMegapostPage:!0,rootPage:!0}},{name:"PUBLICATION_MEGAPOST_EDIT",path:"specials/edit/:publicationId/",component:ll,meta:{isMegapostPage:!0}}],dl=()=>o.e(7324).then(o.bind(o,10027)),ul=[{path:"megaprojects/",redirect:{name:"MEGAPROJECTS"}},{name:"MEGAPROJECTS",path:"specials/",components:{default:dl},meta:{title:"NAV_MEGAPROJECTS",description:"MEGAPROJECTS_DESCRIPTION",rootPage:!0,pageType:"feed",rssLink:()=>"/rss/specials/",groups:["super"]},children:[{name:"MEGAPROJECTS_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"NAV_MEGAPROJECTS",description:"MEGAPROJECTS_DESCRIPTION",rssLink:()=>"/rss/specials/",groups:["super"]}}]}],pl=()=>o.e(4306).then(o.bind(o,24269)),hl=()=>o.e(4306).then(o.bind(o,33451)),_l=()=>o.e(4306).then(o.bind(o,94261)),gl=()=>o.e(4306).then(o.bind(o,23976)),Tl=()=>o.e(4306).then(o.bind(o,23805)),El=()=>o.e(4306).then(o.bind(o,89729)),Sl=()=>o.e(4306).then(o.bind(o,48557)),Cl=()=>o.e(4306).then(o.bind(o,14394)),vl=[{name:"PPA_ROOT",path:"ppa/",component:pl,redirect:{name:"PPA_ARTICLE",params:{alias:"faq"}},meta:{rootPage:!0},children:[{name:"PPA_BALANCE",path:"balance/",meta:{title:"PPA_SUBPAGE_BALANCE"},components:{default:Sl,sidebar:gl},children:[{name:"PPA_BALANCE_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"PPA_SUBPAGE_BALANCE"}}]},{name:"PPA_WITHDRAW",path:"withdraw/",components:{default:Cl,sidebar:hl},meta:{title:"PPA_SUBPAGE_FUNDS_WITHDRAWAL"}},{name:"PPA_ABOUT",path:"about/",components:{default:Tl,sidebar:_l},meta:{title:"PPA_SUBPAGE_ABOUT"}},{name:"PPA_ARTICLE",path:`:alias${qo.DOCS_ARTICLE_ALIAS_MATCH}/`,components:{default:El,sidebar:_l}}]}],kl=()=>o.e(7996).then(o.bind(o,14001)),fl=[{name:"PPG_COMMENTS",path:"ppg/comments/",component:kl,meta:{requiresAuth:!0}},{name:"PPG_SMILES",path:"ppg/smiles/",component:kl,meta:{requiresAuth:!0}}],Al=()=>o.e(5106).then(o.bind(o,76836)),Il=()=>o.e(5106).then(o.bind(o,30923)),yl=[{name:"PUBLICATION",path:"publication/new/",redirect:{name:"PUBLICATION_ARTICLE"}},{name:"PUBLICATION_EDIT",path:`publication/edit/:publicationId${qo.PUBLICATION_ID_MATCH}/`,redirect:e=>({name:"PUBLICATION_ARTICLE_EDIT",params:{...e.params}})},{name:"PUBLICATION_ARTICLE",path:"article/new/",component:Al,meta:{rootPage:!0,requiresAuth:!0}},{name:"PUBLICATION_ARTICLE_EDIT",path:`article/edit/:publicationId${qo.PUBLICATION_ID_MATCH}/`,component:Al,meta:{requiresAuth:!0}},{name:"PUBLICATION_NEWS",path:"news/new/",component:Al,meta:{rootPage:!0,requiresAuth:!0}},{name:"PUBLICATION_NEWS_EDIT",path:`news/edit/:publicationId${qo.PUBLICATION_ID_MATCH}/`,component:Al,meta:{requiresAuth:!0}},{name:"PUBLICATION_POST",path:"post/new/",component:Il,meta:{rootPage:!0,requiresAuth:!0}},{name:"PUBLICATION_POST_EDIT",path:`post/edit/:publicationId${qo.PUBLICATION_ID_MATCH}/`,component:Il,meta:{requiresAuth:!0}}],bl=()=>Promise.all([o.e(9931),o.e(7484)]).then(o.bind(o,17327)),Nl=()=>Promise.all([o.e(9931),o.e(7484)]).then(o.bind(o,9478)),Pl=()=>Promise.all([o.e(9931),o.e(7484)]).then(o.bind(o,94529)),Ll=()=>Promise.all([o.e(9931),o.e(7484)]).then(o.bind(o,71880)),Bl=()=>Promise.all([o.e(9931),o.e(7484)]).then(o.bind(o,80925)),Ol=()=>Promise.all([o.e(9931),o.e(7484)]).then(o.bind(o,70033)),wl=()=>Promise.all([o.e(9931),o.e(7484)]).then(o.bind(o,34271)),Ml=()=>o.e(5106).then(o.bind(o,76836)),Rl=[{path:"sandbox/",components:{default:bl},meta:{pageType:"sandbox",rootPage:!0},children:[{name:"MOST_IMPORTANT_SANBOX_INFO",path:"start/",components:{default:wl,sidebar:Bl},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_MOST_IMPORTANT_TITLE"}},{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST",path:"",components:{default:Ol,sidebar:Nl},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_INVITE_AUTHORS_TITLE"},children:[{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_INVITE_AUTHORS_TITLE"}}]},{name:"NEW_AUTHORS_ARTICLES_LIST",path:"invited/",components:{default:Ol,sidebar:Pl},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_NEW_AUTHORS_TITLE",rssLink:()=>"/rss/sandbox/invited/"},children:[{name:"NEW_AUTHORS_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_NEW_AUTHORS_TITLE",rssLink:()=>"/rss/sandbox/invited/"}}]},{name:"MY_SANDBOX_ARTICLES_LIST",path:"my/",components:{default:Ol,sidebar:Ll},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_MY_TITLE"},children:[{name:"MY_SANDBOX_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/"}]},{name:"AWAIT_MODERATION_ARTICLES_LIST",path:"disapproved/",components:{default:Ol,sidebar:Ll},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_MODERATION_TITLE"},children:[{name:"AWAIT_MODERATION_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_MODERATION_TITLE"}}]},{name:"SCHEDULED_SANDBOX_ARTICLES_LIST",path:"scheduled/",components:{default:Ol,sidebar:Ll},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_SCHEDULED_TITLE"},children:[{name:"SCHEDULED_SANDBOX_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_SCHEDULED_TITLE"}}]}]},{name:"PUBLICATION_SANDBOX",path:"sandbox/new/",component:Ml,meta:{isSandboxPage:!0}},{name:"PUBLICATION_SANDBOX_EDIT",path:`sandbox/edit/:publicationId${qo.PUBLICATION_ID_MATCH}/`,component:Ml,meta:{isSandboxPage:!0}}],Vl=()=>Promise.all([o.e(9768),o.e(6464)]).then(o.bind(o,37616)),Dl=()=>Promise.all([o.e(9768),o.e(6464)]).then(o.bind(o,3785)),Ul=()=>Promise.all([o.e(9768),o.e(6464)]).then(o.bind(o,19356)),$l=()=>Promise.all([o.e(9768),o.e(6464)]).then(o.bind(o,82735)),xl=()=>Promise.all([o.e(9768),o.e(6464)]).then(o.bind(o,64983)),Fl=()=>Promise.all([o.e(9768),o.e(6464)]).then(o.bind(o,54737)),Hl=[{path:"search/",props:e=>({currentPageName:e.query.target_type}),component:Vl,meta:{pageType:"search",rootPage:!0},children:[{name:"SEARCH_QUERY_RESULTS",path:"",components:{posts:Dl,users:Ul,companies:$l,hubs:xl,comments:Fl},meta:{rssLink:e=>`/rss/search/?q=${e.q}&order_by=${e.order}&target_type=${e.target_type}&hl=${e.hl}&fl=${e.fl}`},children:[{name:"SEARCH_QUERY_RESULTS_PAGES",path:"page:pageNum(\\d+)/",rssLink:e=>`/rss/search/?q=${e.q}&order_by=${e.order}&target_type=${e.target_type}&hl=${e.hl}&fl=${e.fl}`}]}]}],Gl=()=>o.e(5112).then(o.bind(o,13179)),Wl=()=>o.e(388).then(o.bind(o,58507)),Yl=()=>o.e(388).then(o.bind(o,42512)),Zl=()=>o.e(2047).then(o.bind(o,80361)),ql=()=>o.e(3049).then(o.bind(o,39506)),Kl=[{name:"USER_SETTINGS_ROOT",path:"settings/",pathToRegexpOptions:{strict:!0},components:{default:Gl},meta:{requiresAuth:!0,rootPage:!0},redirect:{name:"USER_SETTINGS_PROFILE"},children:[{name:"USER_SETTINGS_PROFILE",path:"profile/",pathToRegexpOptions:{strict:!0},components:{default:Gl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_UPGRADE",path:"upgrade/:invite/",pathToRegexpOptions:{strict:!0},components:{default:ql},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_PRIVACY",path:"privacy/",pathToRegexpOptions:{strict:!0},components:{default:Gl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_NOTIFICATIONS",path:"notifications/",pathToRegexpOptions:{strict:!0},components:{default:Gl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_SPECS",path:"specialization/",pathToRegexpOptions:{strict:!0},components:{default:Gl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_MISC",path:"others/",pathToRegexpOptions:{strict:!0},components:{default:Gl},meta:{requiresAuth:!0}},{path:"apps/",components:{default:Wl},meta:{requiresAuth:!0},children:[{name:"USER_SETTINGS_APPS",path:"",pathToRegexpOptions:{strict:!0},components:{default:Yl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_MY",path:"my/",pathToRegexpOptions:{strict:!0},components:{default:Yl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_REGISTER",path:"register/",pathToRegexpOptions:{strict:!0},components:{default:Zl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_EDIT",path:"details/:appId/",pathToRegexpOptions:{strict:!0},components:{default:Zl},meta:{requiresAuth:!0}}]}]}],jl=()=>o.e(3839).then(o.bind(o,26036)),zl=[{name:"STARTUP_FORM",path:`startup/form/:requestId${qo.MONGO_OBJECT_ID}/`,components:{default:jl},meta:{requiresAuth:!1}}],Ql=()=>o.e(3193).then(o.bind(o,50791)),Xl=[{name:"STATISTICS_PUBLICATION",path:`statistics/:publicationId${qo.PUBLICATION_ID_MATCH}/`,pathToRegexpOptions:{strict:!0},components:{default:Ql},meta:{requiresAuth:!0}}];function Jl(e,t){return(0,Oo.Hm)((0,wo.k)(`technotexts/${e}`,"v2"),t)}function ec(){return(0,Oo.Hm)((0,wo.k)("technotexts","v2"))}function tc(e,t){return(0,Oo.Hm)((0,wo.k)(`technotexts/${e}/winners`,"v2"),t)}const oc=()=>o.e(3389).then(o.bind(o,57174)),nc=()=>o.e(3389).then(o.bind(o,37226)),sc=[{name:"ARTICLES_LIST_TECHNOTEXT",path:"technotext/",components:{default:oc},beforeEnter:async(e,t,o)=>{if(!e.params.year)try{const{technotexts:t}=await ec();return o(`/${e.params.hl}/technotext/${t[0]}/`)}catch(n){throw n}return o()}},{name:"ARTICLES_LIST_TECHNOTEXT_WINNERS",path:"technotext/:year/winners/",meta:{title:"TITLE_TECHNOTEXT_WINNERS"},components:{default:nc}},{name:"ARTICLES_LIST_TECHNOTEXT_ALL",path:"technotext/:year/",components:{default:oc},meta:{title:"TITLE_TECHNOTEXT",pageType:"feed"},children:[{name:"ARTICLES_LIST_TECHNOTEXT_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"TITLE_TECHNOTEXT"}},{name:"ARTICLES_LIST_TECHNOTEXT_NOMINATION",path:":nomination/",meta:{title:"TITLE_TECHNOTEXT_NOMINATION"},children:[{name:"ARTICLES_LIST_TECHNOTEXT_NOMINATION_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"TITLE_TECHNOTEXT_NOMINATION"}}]}]}],ac=()=>o.e(8778).then(o.bind(o,39046)),ic=()=>o.e(8778).then(o.bind(o,17390)),rc=()=>o.e(8778).then(o.bind(o,91444)),lc=[{name:"TRACKER",path:"tracker/",meta:{pageType:"tracker",rootPage:!0},components:{default:ac},redirect:{name:"TRACKER_PUBLICATIONS"},children:[{name:"TRACKER_PUBLICATIONS",path:"",components:{default:ic}},{name:"TRACKER_PUBLICATIONS_PAGES",path:"page:pageNum(\\d+)/",components:{default:ic}},{name:"TRACKER_MY_PUBLICATIONS",path:"my/",components:{default:ic},children:[{name:"TRACKER_MY_PUBLICATIONS_PAGES",path:"page:pageNum(\\d+)/",components:{default:ic}}]},{name:"TRACKER_BY_CATEGORY",path:":category(subscribers|mentions|notifications|applications)/",components:{default:rc},children:[{name:"TRACKER_BY_CATEGORY_PAGES",path:"page:pageNum(\\d+)/",components:{default:rc}}]}]}],cc=()=>o.e(7086).then(o.bind(o,57198)),mc=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,60189)),dc=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,66498)),uc=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,68858)),pc=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,7823)),hc=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,91297)),_c=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,1412)),gc=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,87965)),Tc=()=>o.e(6504).then(o.bind(o,66781)),Ec=()=>Promise.all([o.e(9931),o.e(8631)]).then(o.bind(o,71787)),Sc=()=>Promise.all([o.e(9931),o.e(8631)]).then(o.bind(o,29954)),Cc=()=>Promise.all([o.e(9931),o.e(8631)]).then(o.bind(o,53902)),vc=()=>Promise.all([o.e(9931),o.e(8631)]).then(o.bind(o,68760)),kc=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,19233)),fc=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,30035)),Ac=()=>Promise.all([o.e(9931),o.e(8631)]).then(o.bind(o,80045)),Ic=()=>Promise.all([o.e(7240),o.e(8463)]).then(o.bind(o,99901)),yc=()=>Promise.all([o.e(7240),o.e(8463)]).then(o.bind(o,21480)),bc=()=>Promise.all([o.e(7240),o.e(8463)]).then(o.bind(o,16984)),Nc=()=>Promise.all([o.e(9768),o.e(734)]).then(o.bind(o,99921)),Pc=[{path:`users/:login${qo.USER_ALIAS_PARAM_REGEXP}/`,components:{default:mc},meta:{pageType:"feed"},children:[{name:"USER_PROFILE",path:"",components:{default:gc},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,renderAlternateMetaTag:!0}},{name:"USER_INVITES",path:"invitations/",components:{default:Tc},meta:{canonicalRoute:"USER_PROFILE",requiresAuth:!0,showFilter:!0}},{name:"USER_NOTES",path:"notes/",components:{default:Ac},meta:{canonicalRoute:"USER_PROFILE",title:"NAV_PROFILE_NOTES",requiresAuth:!0,showFilter:!0},children:[{name:"USER_NOTES_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",title:"NAV_PROFILE_NOTES",requiresAuth:!0,showFilter:!0}}]},{name:"USER_KARMA_RESET",path:"reset/",components:{default:vc},meta:{canonicalRoute:"USER_PROFILE",title:"KARMA_RESET",requiresAuth:!0,showFilter:!0}},{name:"USER_VOTES_COMMENTS",path:"votes-comments/",components:{default:yc,profileAdditionalNav:Nc},meta:{canonicalRoute:"USER_PROFILE",title:"PROFILE_VOTES_COMMENTS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_COMMENTS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_VOTES_COMMENTS",title:"PROFILE_VOTES_COMMENTS_TITLE",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_POSTS",path:"votes-publications/",components:{default:bc,profileAdditionalNav:Nc},meta:{canonicalRoute:"USER_PROFILE",title:"PROFILE_VOTES_POSTS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_POSTS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_VOTES_POSTS",title:"PROFILE_VOTES_POSTS_TITLE",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_KARMA",path:"votes-karma/",components:{default:kc,profileAdditionalNav:Nc},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_KARMA",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_KARMA_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_KARMA",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_USERS",path:"votes-users/",components:{default:fc,profileAdditionalNav:Nc},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_USERS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_USERS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_USERS_TITLE",requiresAuth:!0,showFilter:!0}}]},{path:"publications/articles/",name:"ARTICLES_LIST_BY_USER",components:{default:dc},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:e=>`/rss/users/${e.login}/articles/`},props:{default:{publicationsType:"articles"}},children:[{name:"ARTICLES_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:e=>`/rss/users/${e.login}/articles/`}}]},{path:"publications/news/",name:"NEWS_LIST_BY_USER",components:{default:dc},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:e=>`/rss/users/${e.login}/news/`},props:{default:{publicationsType:"news"}},children:[{name:"NEWS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:e=>`/rss/users/${e.login}/news/`}}]},{path:"publications/posts/",name:"POSTS_LIST_BY_USER",components:{default:dc},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:e=>`/rss/users/${e.login}/posts/`},props:{default:{publicationsType:"posts"}},children:[{name:"POSTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:e=>`/rss/users/${e.login}/posts/`}}]},{name:"ARTICLES_LIST_SANDBOX_BY_USER",path:"publications/sandbox/",components:{default:Sc},meta:{canonicalRoute:"USER_PROFILE",pageType:"feed",showFilter:!0,isSandboxPage:!0},children:[{name:"ARTICLES_LIST_SANDBOX_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",pageType:"feed",showFilter:!0,isSandboxPage:!0}}]},{path:"publications/drafts/",pathToRegexpOptions:{strict:!0},redirect:{name:"ARTICLES_DRAFTS_LIST_BY_USER"},children:[{name:"ARTICLES_DRAFTS_LIST_BY_USER",path:"articles/",components:{default:Ec},props:{default:{publicationsType:"articles"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"ARTICLES_DRAFTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]},{name:"NEWS_DRAFTS_LIST_BY_USER",path:"news/",components:{default:Ec},props:{default:{publicationsType:"news"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"NEWS_DRAFTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]},{name:"POSTS_DRAFTS_LIST_BY_USER",path:"posts/",components:{default:Ec},props:{default:{publicationsType:"posts"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"POSTS_DRAFTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]}]},{path:"publications/scheduled/",pathToRegexpOptions:{strict:!0},redirect:{name:"ARTICLES_PLANNED_LIST_BY_USER"},children:[{name:"ARTICLES_PLANNED_LIST_BY_USER",path:"articles/",pathToRegexpOptions:{strict:!0},components:{default:Cc},props:{default:{publicationsType:"articles"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"ARTICLES_PLANNED_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]},{name:"NEWS_PLANNED_LIST_BY_USER",path:"news/",pathToRegexpOptions:{strict:!0},components:{default:Cc},props:{default:{publicationsType:"news"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"NEWS_PLANNED_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]},{name:"POSTS_PLANNED_LIST_BY_USER",path:"posts/",pathToRegexpOptions:{strict:!0},components:{default:Cc},props:{default:{publicationsType:"posts"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"POSTS_PLANNED_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]}]},{name:"USER_STATISTICS",path:"publications/statistics/",components:{default:Ic},meta:{requiresAuth:!0,showFilter:!0},children:[{name:"USER_STATISTICS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,showFilter:!0}}]},{path:"topics/",children:[{path:"page:pageNum(\\d+)/",redirect:e=>({...e,name:"ARTICLES_LIST_BY_USER_PAGES"})}],redirect:e=>({...e,name:"ARTICLES_LIST_BY_USER"})},{name:"USER_BOOKMARKED",path:"bookmarks/",components:{default:pc},meta:{canonicalRoute:"USER_PROFILE"},redirect:e=>({...e,name:"ARTICLES_LIST_BOOKMARKED"}),children:[{name:"ARTICLES_LIST_BOOKMARKED",path:"articles/",components:{default:uc},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0},props:{default:{publicationsType:"articles"}},children:[{name:"ARTICLES_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0}}]},{name:"COMMENTS_LIST_BOOKMARKED",path:"comments/",components:{default:cc},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"},children:[{name:"COMMENTS_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"}}]},{name:"POSTS_LIST_BOOKMARKED",path:"posts/",components:{default:uc},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"},props:{default:{publicationsType:"posts"}},children:[{name:"POSTS_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"}}]},{name:"NEWS_LIST_BOOKMARKED",path:"news/",components:{default:uc},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"},props:{default:{publicationsType:"news"}},children:[{name:"NEWS_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"}}]}]},{path:"favorites/",children:[{path:"posts/:pathMatch(.*)*",redirect:e=>({...e,name:"ARTICLES_LIST_BOOKMARKED"})},{path:"comments/:pathMatch(.*)*",redirect:e=>({...e,name:"COMMENTS_LIST_BOOKMARKED"})}],redirect:e=>({...e,name:"ARTICLES_LIST_BOOKMARKED"})},{name:"USER_COMMENTS_PUBLICATIONS",path:"comments/",components:{default:cc},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userComments",rssLink:e=>`/rss/users/${e.login}/comments/`},children:[{name:"USER_COMMENTS_PUBLICATIONS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userComments",rssLink:e=>`/rss/users/${e.login}/comments/`}}]},{name:"USER_FOLLOWERS",path:"followers/",meta:{canonicalRoute:"USER_PROFILE"},components:{default:_c},children:[{name:"USER_FOLLOWERS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE"}}]},{name:"USER_FOLLOWED",path:"following/",meta:{canonicalRoute:"USER_PROFILE"},components:{default:hc},children:[{name:"USER_FOLLOWED_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE"}}]}]}],Lc=()=>o.e(9722).then(o.bind(o,91789)),Bc=()=>o.e(9722).then(o.bind(o,84914)),Oc=[{name:"VOICE",path:"voice/new/",component:Lc,meta:{rootPage:!0}},{name:"VOICE_EDIT",path:"voice/edit/:voiceId/",component:Bc}],wc=[...hn,...wa,...en,...Da,...or,...Xa,...ir,...sr,...lr,...gr,...hr,...Er,...xr,...Qr,...al,...rl,...ml,...ul,...lc,...vl,...fl,...yl,...Rl,...Hl,...zl,...sc,...Kl,...Pc,...ur,...Xl,...mr,...Oc],Mc=e=>({path:"/:hl(ru|en)/",children:[...an(e),...wc],components:{default:Yo}});function Rc(e){const t=(0,xo.p7)({strict:!0,history:"server"==={VUE_APP_RELEASE_VERSION:"2024-04-19-13-44",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.174.0",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV?(0,xo.PP)():(0,xo.PO)(),routes:[...un,Mc(e)],scrollBehavior(e,t,o){return!t&&e.hash?{selector:e.hash}:e.fullPath!==t.fullPath&&(o||{left:0,top:0})}}),o=t.resolve;return t.resolve=function(t,n){var s;if(!t)return o.call(this,t,n);const a=e.getters["i18n/langOptions"];if(t&&"object"===typeof t&&(null===(s=t.params)||void 0===s||!s.hl)){const e=t.params||{};e.hl=a.hl,t.params=e}return o.call(this,t,n)},t}var Vc=o(59896),Dc=o(51779),Uc=o(61794);const $c={root:!0},xc={state(){return{lastViewedComment:0,postId:null,lastCommentTimestamp:"",moderated:[],moderatedIds:[],commentRoute:""}},getters:{getModeratedIds:e=>e.moderatedIds},mutations:{saveInfoAboutComments(e,{id:t,last:o}){Object.assign(e,{postId:t,lastViewedComment:o})},setLastCommentTimestamp(e,t){t&&(e.lastCommentTimestamp=t)},setModeratedIds(e,t){e.moderatedIds=t}},actions:{sendComment({commit:e,dispatch:t},{commentBody:o,isPost:n}){const{articleId:s}=o,a=n?"threads":"posts";return(0,Uc.Ir)(s,o,a).then((o=>{const n=(0,Dc.qv)(o.data);return t("comments/addComment",{articleId:s,comment:n},$c),n.isReadonly&&(e("comments/setCommentAccess",{isCanComment:!1,cantCommentReasonKey:"MODERATE_POST_COMMENT_PENDING"},$c),e("setModeratedIds",[n.id])),n.id})).then((t=>(e("articlesList/incrementComments",{articleId:s},$c),t))).catch((e=>{throw e}))},getComments({commit:e,rootGetters:t},{articleId:o,nocount:n,isPost:s}){const a=s?Uc.Mi:Uc.pu;return a(o,t["i18n/langOptions"],n).then((t=>{const{lastCommentTimestamp:n,threads:s,comments:a,moderated:i,commentAccess:r,pinnedCommentIds:l}=t,c=l.reduce(((e,t)=>(e[t]=a[t],e)),{});e("setLastCommentTimestamp",n),e("comments/setComments",{articleId:o,refs:a,root:s},$c),e("comments/setPinnedComments",{articleId:o,commentIds:l,refs:c},$c),Object.keys(i).forEach((t=>e("comments/addComment",{articleId:o,comment:i[t]},$c))),e("comments/setCommentAccess",r,$c),e("setModeratedIds",Object.keys(i)),e("articlesList/resetCommentsUnreadCount",o,$c)}))},getGuestComments({commit:e,rootGetters:t},{articleId:o,isPost:n}){const s=n?Uc.xF:Uc.ID;return s(o,t["i18n/langOptions"]).then((t=>{const{cacheKey:n,lastCommentTimestamp:s,threads:a,commentRefs:i,pinnedCommentIds:r}=t,l=r.reduce(((e,t)=>(e[t]=i[t],e)),{});e("setLastCommentTimestamp",s),e("comments/setComments",{articleId:o,refs:i,root:a,cacheKey:n},$c),e("comments/setPinnedComments",{articleId:o,commentIds:r,refs:l},$c)}))},getGuestCachedComments({commit:e,rootGetters:t},{articleId:o,apiCacheKey:n,isPost:s}){const a=s?Uc.FL:Uc.j4;return a(o,{...t["i18n/langOptions"],cacheKey:n}).then((t=>{const{lastCommentTimestamp:s,threads:a,commentRefs:i,pinnedCommentIds:r=[]}=t,l=r.reduce(((e,t)=>(e[t]=i[t],e)),{});e("setLastCommentTimestamp",s),e("comments/setComments",{articleId:o,refs:i,root:a,cacheKey:n},$c),e("comments/setPinnedComments",{articleId:o,commentIds:r,refs:l},$c)}))},loadNewComments({commit:e,dispatch:t,state:o,rootState:n},{route:s,isPost:a}){const{id:i}=s.params,r=a?Uc.Vy:Uc.M1;return r(i,{timestamp:o.lastCommentTimestamp}).then((o=>{const a=s.params.id,{added:i,moderated:r,lastCommentTimestamp:l}=o;e("setLastCommentTimestamp",l),t("clearModeratedComments",{articleId:s.params.id}),e("setModeratedIds",Object.keys(r));const c={...i,...r};Object.keys(c).forEach((t=>e("comments/addComment",{articleId:a,comment:c[t]},$c)));const{refs:m}=n.comments.articleComments[a],d=Object.keys(m).filter((e=>!m[e].isReadonly)).length;e("articlesList/setArticleCommentsCount",{articleId:a,count:d},$c)}))},clearModeratedComments({commit:e,getters:t},{articleId:o}){const n=new Set(t.getModeratedIds);n.forEach((t=>e("comments/deleteComment",{articleId:o,commentId:t},$c))),e("setModeratedIds",[])},getPinnedComments({commit:e,rootGetters:t},{publicationId:o,isPost:n}){const s=n?Uc.EG:Uc.BL;return s(o,t["i18n/langOptions"]).then((t=>{const{commentRefs:n,commentIds:s}=t;e("comments/setPinnedComments",{articleId:o,commentIds:s,refs:n},$c)}))}}};var Fc=o(35275),Hc=o(14857);const Gc={i8:"2.174.0"};function Wc(e){switch(e.name){case"USER_COMMENTS_PUBLICATIONS":case"USER_COMMENTS_PUBLICATIONS_PAGES":return Hc.aP;case"COMMENTS_LIST_BOOKMARKED":case"COMMENTS_LIST_BOOKMARKED_PAGES":return Hc.Ts;default:return null}}function Yc(e){const t=e?Uc.F9:Uc.w1,o=e?Uc.Ps:Uc.Nj;return{addToFavorites:t,removeFromFavorites:o}}const Zc=(e,t,n,s)=>{let a=`TMArticleComments::v${Gc.i8}:a${e}:k${t}:${n}`;return s?a+=`:HASH${s}`:Fc.v9&&"undefined"!==typeof o.h()&&(a+=`:HASH${o.h()}`),a},qc={namespaced:!0,state(){return{articleComments:{},articlePinnedComments:{},searchCommentsResults:null,pagesCount:null,commentAccess:{},scrollParents:{}}},modules:{pageArticleComments:xc},getters:{getCommentsTreeByArticleId:(e,t)=>o=>e.articleComments[o]?e.articleComments[o].root.map((function e(n){const s=t.getCommentById(o,n);let a;return s.children&&(a=s.children.map(e)),{...s,children:a}})):null,getCommentById:e=>(t,o)=>e.articleComments[t].refs[o],searchCommentsList:e=>e.searchCommentsResults&&Array.isArray(e.searchCommentsResults.root)?e.searchCommentsResults.root.map((t=>e.searchCommentsResults.refs[t])):[],getScrollParents:e=>e.scrollParents,getCommentAccess:e=>e.commentAccess,getCommentsCacheKey:(e,t,o,n)=>(t,o)=>{const{cacheKey:s}=e.articleComments[t]||{};return s?Zc(t,s,n["i18n/langOptions"].hl,o):null},getPinnedCommentsById:e=>t=>e.articlePinnedComments[t]?e.articlePinnedComments[t].commentIds.map((o=>e.articlePinnedComments[t].refs[o])):[]},mutations:{setCommentsRoot(e,{articleId:t,root:o}){e.articleComments={...e.articleComments,[t]:{...e.articleComments[t],root:o}}},setComments(e,{articleId:t,refs:o,root:n,cacheKey:s}){e.articleComments={...e.articleComments,[t]:{refs:o,root:n,cacheKey:s}}},setPinnedComments(e,{articleId:t,refs:o,commentIds:n}){e.articlePinnedComments={...e.articlePinnedComments,[t]:{refs:o,commentIds:n}}},addComment(e,{articleId:t,comment:o}){const n=e.articleComments[t];if(n.refs={...n.refs,[o.id]:o},o.parentId&&"0"!==o.parentId){const e=n.refs[o.parentId];e.children=Array.from(new Set([...e.children,o.id]))}else n.root=Array.from(new Set([...n.root,o.id]));e.articleComments={...e.articleComments,[t]:n}},updateComment(e,{articleId:t,comment:o}){e.articleComments[t].refs={...e.articleComments[t].refs,[o.id]:o},e.articleComments={...e.articleComments},e.articlePinnedComments[t]&&e.articlePinnedComments[t].refs&&e.articlePinnedComments[t].refs[o.id]&&(e.articlePinnedComments[t].refs={...e.articlePinnedComments[t].refs,[o.id]:o})},mergeComments(e,{articleId:t,comments:o}){Object.keys(o).forEach((n=>{const s=e.articleComments[t].refs[n];e.articleComments[t].refs[n]={...s,...o[n]}})),e.articleComments={...e.articleComments}},deleteComment(e,{articleId:t,commentId:o}){const n=e.articleComments[t],s=n.refs[o];if(s.parentId&&"0"!==s.parentId){const e=n.refs[s.parentId],t=e.children.slice(0);t.splice(e.children.indexOf(o),1),e.children=t}else{const e=n.root.slice(0);e.splice(e.indexOf(o),1),n.root=e}e.articleComments={...e.articleComments}},suspendCommentTree(e,{articleId:t,commentId:o}){const n=o=>{const s=e.articleComments[t].refs[o];s.isSuspended=!0,s.children&&s.children.forEach(n)};n(o),e.articleComments={...e.articleComments}},setCommentRead(e,{articleId:t,commentId:o}){const n=e.articleComments[t].refs[o],s=e.articlePinnedComments[t]&&e.articlePinnedComments[t].refs[o];n.isNew=!1,e.articleComments={...e.articleComments},s&&(s.isNew=!1,e.articlePinnedComments={...e.articlePinnedComments})},setFavorite(e,{articleId:t,commentId:o,isFavorite:n}){e.articleComments[t].refs[o].isFavorite=n,e.articleComments={...e.articleComments},e.articlePinnedComments[t]&&e.articlePinnedComments[t].refs&&e.articlePinnedComments[t].refs[o]&&(e.articlePinnedComments[t].refs[o].isFavorite=n)},updateScore(e,t){const{articleId:o,commentId:n,score:s,vote:a,votesCount:i}=t,r=e.articleComments[o].refs[n];r.score=s,r.votesCount=i,r.vote={...r.vote,isCanVote:!1,value:a},e.articleComments={...e.articleComments},e.articlePinnedComments[o]&&e.articlePinnedComments[o].refs&&e.articlePinnedComments[o].refs[n]&&(e.articlePinnedComments[o].refs[n]=r)},clearCommentsList(e,t){const{[t]:o,...n}=e.articleComments;e.articleComments=n},setInputValue(e,{name:t,value:o}){e.inputs[t].value=o},setSearchCommentsResults(e,{refs:t,root:o}){e.searchCommentsResults={refs:t,root:o}},setSearchResultFavorite(e,{commentId:t,isFavorite:o}){e.searchCommentsResults.refs[t].isFavorite=o},setPagesCount(e,t){e.pagesCount=t},clearSearchResults(e){e.searchCommentsResults=null,e.pageCount=null},setCommentAccess(e,t){e.commentAccess={...e.commentAccess,...t}},setScrollParents(e,t){e.scrollParents={...e.scrollParents,[t.parentId]:t.id}},setCommentIsPinned(e,{articleId:t,commentId:o,isPinned:n}){e.articleComments[t].refs[o].isPinned=n,e.articleComments={...e.articleComments}}},actions:{addComment({commit:e},{articleId:t,comment:o}){e("addComment",{articleId:t,comment:o})},updateComment({state:e,commit:t},{articleId:o,comment:n}){const s=(0,Dc.qv)(n),a={...s,children:e.articleComments[o].refs[s.id].children};t("updateComment",{articleId:o,comment:a})},setScrollParents({commit:e},{comment:t}){e("setScrollParents",t)},suspendComment({commit:e},{params:t,isPost:o}){const{commentId:n,articleId:s}=t,a=o?Uc.ZG:Uc.fX;a(s,n).then((()=>{e("suspendCommentTree",{articleId:s,commentId:n})}))},vote({commit:e},{articleId:t,commentId:o,direction:n,isPost:s}){const a="up"===n?1:-1,i=s?Uc.oA:Uc.bj;return i({commentId:o,postId:t,data:{value:a}}).then((n=>{e("me/decrementCommentsCharge",null,{root:!0});const{score:s,votesCount:i}=n;return e("updateScore",{articleId:t,commentId:o,score:s,votesCount:i,vote:a}),n}))},setFavorite({commit:e},{articleId:t,commentId:o,isFavorite:n,isPost:s}){const{addToFavorites:a,removeFromFavorites:i}=Yc(s);return n?a({publicationId:t,commentId:o}).then((()=>{e("setFavorite",{articleId:t,commentId:o,isFavorite:n})})):i({publicationId:t,commentId:o}).then((()=>{e("setFavorite",{articleId:t,commentId:o,isFavorite:n})}))},setSearchResultFavorite({commit:e},{publicationId:t,commentId:o,isFavorite:n,isPost:s}){const{addToFavorites:a,removeFromFavorites:i}=Yc(s);return n?a({publicationId:t,commentId:o}).then((()=>{e("setSearchResultFavorite",{commentId:o,isFavorite:n})})):i({publicationId:t,commentId:o}).then((()=>{e("setSearchResultFavorite",{commentId:o,isFavorite:n})}))},moderateComment({commit:e,getters:t},{postId:o,commentId:n,isApprove:s,isPost:a}){const i=a?Uc.qb:Uc.TH;i(o,n,s).then((({moderatedCommentId:s,data:{comment:a}={}})=>{const i=new Set(t.getModeratedIds);i.delete(n),e("setModeratedIds",Array.from(i)),e("deleteComment",{articleId:o,commentId:n}),s&&e("addComment",{articleId:o,comment:a})}))},loadUserComments({commit:e,rootGetters:t},{route:o}){const n=o.params.pageNum||1,s={...t["i18n/langOptions"],page:n},a=Wc(o);return a(o.params.login,s).then((({comments:t,threads:o,pages:n})=>{e("setPagesCount",n),e("setSearchCommentsResults",{refs:t,root:o})}))},searchComments({commit:e,rootGetters:t},{route:o}){const n={...o.query,...t["i18n/langOptions"],page:o.params.pageNum||1};return(0,Uc.ZQ)(n).then((({commentIds:t,commentRefs:o,pagesCount:n})=>{e("setSearchCommentsResults",{refs:o,root:t}),e("setPagesCount",n)}))},pinComment({commit:e},{articleId:t,commentId:o,isPinned:n,isPost:s}){const a=s?Uc.sQ:Uc.oP;return a({commentId:o,postId:t,data:{pinned:n}}).then((()=>e("setCommentIsPinned",{articleId:t,commentId:o,isPinned:n})))}}};function Kc(e,t,o){return`${e}?ch=${t}&rn=${o}`}function jc(e){return new Promise((t=>{const o=new Image;o.onload=()=>t(!1),o.onerror=()=>{t(!0)},o.src=e}))}function zc(e,t){return Promise.all([jc(Kc(e,1,t)),jc(Kc(e,2,t))]).then((([e,t])=>!e&&t))}let Qc=null;function Xc(){const e=parseInt(1e6*Math.random(),10),t="/img/px.gif";return Qc||(Qc=zc(t,e.toString())),Qc}var Jc=o(42185),em=o(39309);function tm(){const e="zhY4i4nJ9K";return em.Z[e]}function om(){const e="K9Jn4i4Yhz";return(0,Jc.sb)(`#${e}`).then(Boolean)}let nm=0,sm=null;function am(){if(tm())return clearTimeout(sm),om().then((e=>!e));if(nm>=3)return clearTimeout(sm),Promise.resolve(!0);const e=300;return new Promise(((t,o)=>{sm=setTimeout((()=>{nm+=1,am().then(t,o)}),e*nm)}))}const im={CAN_SEE_ACCEPTABLE_ADS:"aa",HAS_ADBLOCK:"yes",SEE_ADS:"no"},rm={namespaced:!0,state(){return{hasAcceptableAdsFilter:!1,hasAdblock:!1}},getters:{adblockStatus(e){return e.hasAdblock?e.hasAcceptableAdsFilter?im.CAN_SEE_ACCEPTABLE_ADS:im.HAS_ADBLOCK:im.SEE_ADS}},mutations:{setAcceptableAds(e,t){e.hasAcceptableAdsFilter=t},setAdblock(e,t){e.hasAdblock=t}},actions:{detectAcceptableAds({commit:e}){return Xc().then((t=>{e("setAcceptableAds",t)}))},detectAdblock({commit:e}){return am().then((t=>e("setAdblock",t)))},findOutAdblockStatus({dispatch:e}){return Promise.all([e("detectAcceptableAds"),e("detectAdblock")])}}};var lm=o(72378),cm=o.n(lm);function mm(){return(0,Oo.Hm)((0,wo.k)("votes/reasons","v2"))}function dm(){return(0,Oo.Hm)((0,wo.k)("votes/thread_reasons","v2"))}function um(){return(0,Oo.Hm)((0,wo.k)("votes/user_reasons","v2"))}const pm={namespaced:!0,state(){return{userReasonsList:null}},actions:{vote({commit:e},{id:t,value:o,reasons:n}){const s=n?{value:o,reasons:n}:{value:o};return(0,Hc.TH)(t,s).then((t=>(e("me/decrementPostsCharge",null,{root:!0}),t)))},loadUserReasonsList({commit:e,state:t}){return t.userReasonsList?Promise.resolve():um().then((t=>{e("setUserReasonsList",t.data)}))}},mutations:{setUserReasonsList(e,t){e.userReasonsList=t}}};var hm=o(11699),_m=o(75027);function gm(e,t){return(0,ra.o)(e)?t?Us.GX:Us.Z1:"news"===e.postType?t?_m.W:_m.Bb:t?hm.uf:hm.bE}const Tm="non-route-key:ARTICLES_LIST_TOP_PERIOD",Em="OTHER_NEWS_LIST";function Sm({pageNum:e=1,perPage:t=20}={}){return{name:Tm,params:{period:"daily",pageNum:e,perPage:t},query:{}}}function Cm(e={}){return{name:Em,params:{news:!0,...e},query:{}}}const vm=Sm(),km=Cm();function fm(e,t){switch(e.name){case"ARTICLES_LIST_TECHNOTEXT_ALL":case"ARTICLES_LIST_TECHNOTEXT_ALL_PAGES":case"ARTICLES_LIST_TECHNOTEXT_NOMINATION":case"ARTICLES_LIST_TECHNOTEXT_NOMINATION_PAGES":return{technotext:!0,nomination:e.params.nomination||"all",year:e.params.year};case"ARTICLES_LIST_ALL":case"ARTICLES_LIST_ALL_PAGES":return{sort:"rating",complexity:e.params.complexity};case"ARTICLES_LIST_ALL_SCORE":case"ARTICLES_LIST_ALL_SCORE_PAGES":return{sort:"rating",score:e.params.score,complexity:e.params.complexity};case"ARTICLES_LIST_BY_COMPANY":case"ARTICLES_LIST_BY_COMPANY_PAGES":return{company:e.params.name};case"COMPANY_BRANDING_PREVIEW":case"COMPANY_BRANDING_PREVIEW_PAGES":return{company:e.params.name};case"ARTICLES_LIST_TOP_BY_COMPANY":case"ARTICLES_LIST_TOP_BY_COMPANY_PAGES":return{company:e.params.name,sort:"rating"};case"ARTICLES_LIST_BY_FLOW_ALL":case"ARTICLES_LIST_BY_FLOW_ALL_PAGES":return{flow:e.params.flowName,complexity:e.params.complexity,sort:"all"};case"ARTICLES_LIST_BY_FLOW_ALL_SCORE":case"ARTICLES_LIST_BY_FLOW_ALL_SCORE_PAGES":return{flow:e.params.flowName,score:e.params.score,complexity:e.params.complexity,sort:"all"};case"ARTICLES_LIST_BY_FLOW_TOP_PERIOD":case"ARTICLES_LIST_BY_FLOW_TOP_PERIOD_PAGES":return{flow:e.params.flowName,period:e.params.period,complexity:e.params.complexity,sort:"all"};case"ARTICLES_LIST_BY_HUB_ALL":case"ARTICLES_LIST_BY_HUB_ALL_PAGES":return{hub:e.params.hubName,complexity:e.params.complexity,sort:"all"};case"ARTICLES_LIST_BY_HUB_ALL_SCORE":case"ARTICLES_LIST_BY_HUB_ALL_SCORE_PAGES":return{hub:e.params.hubName,score:e.params.score,complexity:e.params.complexity,sort:"all"};case"ARTICLES_LIST_BY_HUB_TOP_PERIOD":case"ARTICLES_LIST_BY_HUB_TOP_PERIOD_PAGES":return{hub:e.params.hubName,period:e.params.period,complexity:e.params.complexity,sort:"all"};case"NEWS_BY_HUB_ALL":case"NEWS_BY_HUB_ALL_PAGES":return{hub:e.params.hubName,news:!0};case"NEWS_BY_HUB_ALL_SCORE":case"NEWS_BY_HUB_ALL_SCORE_PAGES":return{hub:e.params.hubName,score:e.params.score,news:!0};case"NEWS_BY_HUB_TOP_PERIOD":case"NEWS_BY_HUB_TOP_PERIOD_PAGES":return{hub:e.params.hubName,period:e.params.period,news:!0};case"POSTS_BY_HUB_ALL":case"POSTS_BY_HUB_ALL_PAGES":return{hub:e.params.hubName,posts:!0,sort:"all"};case"POSTS_BY_HUB_ALL_SCORE":case"POSTS_BY_HUB_ALL_SCORE_PAGES":return{hub:e.params.hubName,score:e.params.score,posts:!0,sort:"all"};case"POSTS_BY_HUB_TOP_PERIOD":case"POSTS_BY_HUB_TOP_PERIOD_PAGES":return{hub:e.params.hubName,period:e.params.period,posts:!0,sort:"top"};case"POSTS_BY_COMPANY":case"POSTS_BY_COMPANY_PAGES":return{company:e.params.name,posts:!0,sort:"all"};case"POSTS_BY_COMPANY_TOP":case"POSTS_BY_COMPANY_TOP_PAGES":return{company:e.params.name,posts:!0,sort:"top"};case"POSTS_ALL":case"POSTS_ALL_PAGES":return{posts:!0,sort:"all"};case"POSTS_TOP_PERIOD":case"POSTS_TOP_PERIOD_PAGES":return{posts:!0,period:e.params.period,sort:"top"};case"POSTS_ALL_SCORE":case"POSTS_ALL_SCORE_PAGES":return{score:e.params.score,posts:!0,sort:"all"};case"ARTICLES_LIST_BY_USER":case"ARTICLES_LIST_BY_USER_PAGES":case"ARTICLES_DRAFTS_LIST_BY_USER":case"ARTICLES_DRAFTS_LIST_BY_USER_PAGES":case"ARTICLES_PLANNED_LIST_BY_USER":case"ARTICLES_PLANNED_LIST_BY_USER_PAGES":return{user:e.params.login};case"NEWS_LIST_BY_USER":case"NEWS_LIST_BY_USER_PAGES":return{user:e.params.login,news:!0};case"NEWS_DRAFTS_LIST_BY_USER":case"NEWS_DRAFTS_LIST_BY_USER_PAGES":return{user:e.params.login,draftType:"news"};case"NEWS_PLANNED_LIST_BY_USER":case"NEWS_PLANNED_LIST_BY_USER_PAGES":return{user:e.params.login,publicationsType:"news"};case"POSTS_LIST_BY_USER":case"POSTS_LIST_BY_USER_PAGES":return{user:e.params.login,posts:!0};case"POSTS_DRAFTS_LIST_BY_USER":case"POSTS_DRAFTS_LIST_BY_USER_PAGES":return{user:e.params.login,draftType:"threads"};case"POSTS_PLANNED_LIST_BY_USER":case"POSTS_PLANNED_LIST_BY_USER_PAGES":return{user:e.params.login,publicationsType:"threads"};case"ARTICLES_LIST_BOOKMARKED":case"ARTICLES_LIST_BOOKMARKED_PAGES":return{user:e.params.login,user_bookmarks:!0};case"POSTS_LIST_BOOKMARKED":case"POSTS_LIST_BOOKMARKED_PAGES":return{user:e.params.login,user_bookmarks_posts:!0};case"NEWS_LIST_BOOKMARKED":case"NEWS_LIST_BOOKMARKED_PAGES":return{user:e.params.login,user_bookmarks_news:!0};case"MY_FEED":case"MY_FEED_PAGES":return{myFeed:!0,...t};case"MEGAPROJECTS":case"MEGAPROJECTS_PAGES":return{megaprojects:!0};case"ARTICLES_LIST_TOP_PERIOD":case"ARTICLES_LIST_TOP_PERIOD_PAGES":case Tm:return{period:e.params.period,complexity:e.params.complexity,sort:"date"};case"SEARCH_QUERY_RESULTS":case"SEARCH_QUERY_RESULTS_PAGES":return{query:e.query.q,order:e.query.order};case"NEWS_LIST_ALL":case"NEWS_LIST_ALL_PAGES":return{news:!0};case"OTHER_NEWS_LIST":return{news:!0,excludedIds:e.params.excludedIds};case"NEWS_LIST_ALL_SCORE":case"NEWS_LIST_ALL_SCORE_PAGES":return{news:!0,score:e.params.score};case"NEWS_LIST_TOP":case"NEWS_LIST_TOP_PERIOD":case"NEWS_LIST_TOP_PERIOD_PAGES":return{news:!0,period:e.params.period};case"NEWS_LIST_BY_COMPANY":case"NEWS_LIST_BY_COMPANY_PAGES":return{companyNews:e.params.name};case"NEWS_LIST_BY_FLOW_ALL":case"NEWS_LIST_BY_FLOW_ALL_PAGES":return{flow:e.params.flowName,flowNews:!0};case"NEWS_LIST_BY_FLOW_SCORE":case"NEWS_LIST_BY_FLOW_SCORE_PAGES":return{flow:e.params.flowName,flowNews:!0,score:e.params.score};case"NEWS_LIST_BY_FLOW_TOP":case"NEWS_LIST_BY_FLOW_TOP_PERIOD":case"NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES":return{flow:e.params.flowName,flowNews:!0,period:e.params.period};case"POSTS_BY_FLOW_ALL":case"POSTS_BY_FLOW_ALL_PAGES":return{flow:e.params.flowName,flowPosts:!0};case"POSTS_BY_FLOW_SCORE":case"POSTS_BY_FLOW_SCORE_PAGES":return{flow:e.params.flowName,flowPosts:!0,score:e.params.score};case"POSTS_BY_FLOW_TOP":case"POSTS_BY_FLOW_TOP_PERIOD":case"POSTS_BY_FLOW_TOP_PERIOD_PAGES":return{flow:e.params.flowName,flowPosts:!0,period:e.params.period};default:return{}}}function Am({hubs:e}){return(e||[]).filter((e=>"collective"===e.type)).map((e=>e.alias))}function Im({tags:e}){return(e||[]).map((e=>e.titleHtml))}const ym={namespaced:!0,state(){return{articlesList:{},articlesIds:{},isLoading:!1,pagesCount:{},route:{},reasonsList:null,postReasonsList:null,view:null,lastVisitedRoute:{},ssrCommentsArticleIds:[],viewedPosts:[],myFeedFilter:{complexity:"all",score:"all",types:["articles","posts","news"]}}},modules:{karma:pm},getters:{isViewedPost:e=>t=>e.viewedPosts.includes(t),getArticleById:e=>t=>e.articlesList[t],getArticlesList:e=>t=>{const o=e.articlesIds[t]||[];return o.map((t=>e.articlesList[t]))},getDailyArticles(e,t){return t.getArticlesList((0,Ts.Z)(vm))},getOtherNews(e,t){return t.getArticlesList((0,Ts.Z)(km))},getArticleOptionsById:e=>t=>{const o=e.articlesList[t]||{},{isCorporative:n}=o,s=o.metadata||{},a=s.scriptUrls&&Boolean(s.scriptUrls.length)&&Boolean(s.stylesUrls.length),i=!(a||n);return{articleMeta:s,isCorporative:n,isMegapost:a,isAdsPermitted:i}},getReasonsList:e=>e.reasonsList,getPostReasonsList:e=>e.postReasonsList,getAllHubsTitles:e=>t=>{const{articlesList:o,articlesIds:n}=e,s=[],a=(0,Ts.Z)(t),i=n[a];return i?(i.forEach((e=>{const t=Am(o[e]);s.push(...t)})),s):[]},getAllTagsNames:e=>t=>{const{articlesList:o,articlesIds:n}=e,s=[],a=(0,Ts.Z)(t),i=n[a];return i?(i.forEach((e=>{s.push(...Im(o[e]))})),s):[]},getArticleHubsTitles:e=>t=>{const o=e.articlesList[t]||{};return Am(o)},getArticleTagsTitles:e=>t=>{const o=e.articlesList[t]||{};return Im(o)},getArticleView:e=>e.view,getPagesCount:e=>t=>e.pagesCount[t],getDailyPagesCount:e=>e.pagesCount[(0,Ts.Z)(vm)],getOtherNewsPagesCount:e=>e.pagesCount[(0,Ts.Z)(km)],getCompanyAlias:(e,t)=>e=>{const o=t.getArticleById(e);if(!o)return null;const{hubs:n}=o;if(!n)return null;const s=n.filter((e=>"corporative"===e.type))[0];return s?s.alias.toLowerCase():null},isSubscribedToTracker:(e,t)=>e=>t.getArticleById(e).relatedData.trackerSubscribed,isSubscribedToEmail:(e,t)=>e=>t.getArticleById(e).relatedData.emailSubscribed,shouldSsrComments:e=>t=>e.ssrCommentsArticleIds.includes(t),compactView:e=>"list"===e.view},mutations:{setPostView(e,t){e.viewedPosts.includes(t)||e.viewedPosts.push(t)},setArticle(e,{article:t}){e.articlesList={...e.articlesList,[t.id]:t}},setArticleCommentsStatus(e,{articleId:t,status:o}){e.articlesList[t].commentsEnabled.status=o},setArticleRulesRemindStatus(e,{articleId:t,status:o}){e.articlesList[t].rulesRemindEnabled=o},incrementComments(e,{articleId:t}){const o=e.articlesList[t];o.statistics.commentsCount+=1},setArticleCommentsCount(e,{articleId:t,count:o}){const n=e.articlesList[t];n&&n.statistics&&(n.statistics.commentsCount=o)},resetCommentsUnreadCount(e,t){const o=e.articlesList[t];o&&o.relatedData&&(o.relatedData.unreadCommentsCount=0)},setArticles(e,{articlesList:t,articlesIds:o}){e.articlesList=cm()(e.articlesList,t),e.articlesIds={...e.articlesIds,...o}},appendArticles(e,{routeKey:t,articlesToSet:o,appendToTop:n=!1}){const{articlesList:s,articlesIds:a}=o,i=a[t]||a;e.articlesList=cm()(e.articlesList,s);let r=[];const l=e.articlesIds[t];r=l?n?i.concat(l):l.concat(i):i,e.articlesIds={...e.articlesIds,[t]:r}},clearArticles(e,t){delete e.articlesIds[t]},setArticlePoll(e,{poll:t,articleId:o}){const n=e.articlesList[o],s=n.polls.findIndex((e=>e.id===t.id));n.polls.splice(s,1,t)},setBookmarked(e,{articleId:t,shouldBookmarked:o}){const n=e.articlesList[t],{statistics:s}=n;s.favoritesCount=o?s.favoritesCount+1:s.favoritesCount-1,n.relatedData={...n.relatedData,bookmarked:o}},setBookmarkedMultiwidget(e,{refArticleId:t,articleId:o,shouldBookmarked:n}){const s=e.articlesList[t];if(!s)return;if(!Array.isArray(s.multiwidget))return;const a=s.multiwidget.map((e=>{if("post"!==e.type)return e;if(e.content.id!==o)return e;const{statistics:t}=e.content;return t.favoritesCount=n?t.favoritesCount+1:t.favoritesCount-1,{...e,content:{...e.content,relatedData:{...e.content.relatedData,bookmarked:n}}}}));e.articlesList[t]={...s,multiwidget:a}},setLoading(e,t){e.isLoading=t},setPagesCount(e,t){e.pagesCount={...e.pagesCount,...t}},setRating(e,t){const{articleId:o,score:n,value:s,votesCount:a}=t,i=e.articlesList[o];i.relatedData.vote.value=s,i.statistics.score=n,i.statistics.votesCount=a},setCanVote(e,{articleId:t,isEnabled:o}){const n=e.articlesList[t];n.relatedData.canVotePlus=o,n.relatedData.canVoteMinus=o},setRouteCache(e,t){e.route.name=t.name,e.route.params=t.params,e.route.query=t.query},setReasonsList(e,t){e.reasonsList=t},setPostReasonsList(e,t){e.postReasonsList=t},setArticleView(e,t){e.view=t},setLastVisitedRoute(e,t){e.lastVisitedRoute=t},setIsInBlacklist(e,{authorAlias:t,value:o}){Object.keys(e.articlesList).forEach((n=>{const s=e.articlesList[n];s.author&&s.author.alias===t&&(e.articlesList[n]={...s,isInBlacklist:o,author:{...s.author,isInBlacklist:o}})}))},updateArticleRelatedData(e,{articleId:t,relatedData:o}){e.articlesList[t].relatedData={...e.articlesList[t].relatedData,...o}},setSsrCommentsArticleIds(e,t){e.ssrCommentsArticleIds=t},removeSsrCommentsArticleId(e,t){const o=new Set(e.ssrCommentsArticleIds);o.delete(t),e.ssrCommentsArticleIds=Array.from(o)},removePost(e,{postId:t,routeKey:o}){if(!e.articlesIds[o])return;const n=e.articlesIds[o].filter((e=>e!==t));e.articlesIds={...e.articlesIds,[o]:n},delete e.articlesList[t]},setMyFeedFilter(e,{filter:t}){e.myFeedFilter=t}},actions:{loadArticlesList({state:e,commit:t,rootGetters:o},{route:n,force:s,append:a=!1,params:i={}}){const r=(0,Ts.Z)(n,a),l=e.articlesIds[r],c=Boolean(Object.keys(n.query).length),m=o["pullRefresh/getRefreshState"];if(l&&!c&&!m&&!s)return!0;!a&&(c||m||s)&&t("clearArticles",r),t("setLoading",!0);const d=n.params.pageNum||1,u=n.params.perPage||20,p={...fm(n,i),...o["i18n/langOptions"],page:d,perPage:u};return(0,hm.rM)(p).then((e=>{const{pagesCount:o,publicationRefs:s,publicationIds:i}=e,l={[r]:i},c={[r]:o},m={articlesIds:l,articlesList:s};return a?t("appendArticles",{routeKey:r,articlesToSet:m}):t("setArticles",m),t("setPagesCount",c),t("setRouteCache",n),t("setLoading",!1),e}))},loadOtherNews({dispatch:e},{pageNum:t,append:o,force:n,perPage:s,excludedIds:a}={pageNum:1}){const i=Cm({pageNum:t,perPage:s,excludedIds:a});return e("loadArticlesList",{route:i,append:o,force:n})},loadDailyArticles({dispatch:e},{pageNum:t,append:o,force:n,perPage:s}={pageNum:1}){const a=Sm({pageNum:t,perPage:s});return e("loadArticlesList",{route:a,append:o,force:n})},loadMyFeed({dispatch:e,state:t,commit:o},{pageNum:n,applyFilters:s,force:a=!1}={pageNum:1}){const i=s?{...t.myFeedFilter}:{},r={name:"MY_FEED",params:{pageNum:n},query:{}};return e("loadArticlesList",{route:r,params:i,force:a}).then((e=>{const{myFeedFilter:t}=e;t&&o("setMyFeedFilter",{filter:t})}))},loadDrafts({state:e,commit:t,rootGetters:o},{route:n,force:s,append:a=!1}){const i=(0,Ts.Z)(n),r=e.articlesIds[i],l=Boolean(Object.keys(n.query).length),c=o["pullRefresh/getRefreshState"];if(r&&!l&&!c&&!s)return!0;!a&&(l||c||s)&&t("clearArticles",i),t("setLoading",!0);const m=n.params.pageNum||1,d=n.params.perPage||20,u={draftType:"posts",...fm(n),...o["i18n/langOptions"],page:m,perPage:d};return(0,hm.Oe)(u).then((e=>{const{publicationIds:o,pagesCount:s,publicationRefs:r}=e,l={[i]:o},c={[i]:s},m={articlesIds:l,articlesList:r};a?t("appendArticles",{routeKey:i,articlesToSet:m}):t("setArticles",m),t("setPagesCount",c),t("setRouteCache",n),t("setLoading",!1)}))},loadPlannedArticles({state:e,commit:t,rootGetters:o},{route:n}){const s=(0,Ts.Z)(n),a=o["pullRefresh/getRefreshState"];if(s in e.articlesIds&&!a)return Promise.resolve();t("setLoading",!0);const i=n.params.pageNum||1,r={publicationsType:"posts",...fm(n),...o["i18n/langOptions"],page:i};return(0,hm.ws)(r).then((e=>{const{publicationIds:o,publicationRefs:a,pagesCount:i}=e,r={[s]:o},l={[s]:i},c={articlesIds:r,articlesList:a};t("setArticles",c),t("setPagesCount",l),t("setRouteCache",n),t("setLoading",!1)}))},loadArticle({commit:e,rootGetters:t},{articleId:o,isPost:n=!1}){const s=n?Us.xl:hm.fq;return s(o,t["i18n/langOptions"]).then((t=>{e("setArticle",{article:t})}))},loadArticlePreview({commit:e,rootGetters:t},{hash:o}){return(0,hm.vG)(o,t["i18n/langOptions"]).then((t=>{e("setArticle",{article:{...t,id:o}})}))},toggleArticleBookmark({commit:e},{article:t,bookmarkModule:o}){const n=!t.relatedData.bookmarked,s=gm(t,n);return s(t.id).then((()=>{e(`${o}/setBookmarked`,{articleId:t.id,shouldBookmarked:n},{root:!0})}))},downvote({commit:e},{article:t,reason:o}){const{id:n}=t,s=(0,ra.o)(t)?Us.wl:hm.UJ;return s(n,{reason:o}).then((t=>{const{vote:o,canVote:s,score:a,votesCount:i,chargeSettings:r}=t,{value:l}=o;e("setRating",{articleId:n,score:a,value:l,votesCount:i}),e("setCanVote",{articleId:n,isEnabled:s}),e("me/setChargeSettings",r,{root:!0})}))},upvote({commit:e},{article:t}){const{id:o}=t,n=(0,ra.o)(t)?Us.qu:hm.Y9;return n(o).then((t=>{const{vote:n,canVote:s,score:a,votesCount:i,chargeSettings:r}=t,{value:l}=n;e("setRating",{articleId:o,score:a,value:l,votesCount:i}),e("setCanVote",{articleId:o,isEnabled:s}),e("me/setChargeSettings",r,{root:!0})}))},loadReasonsList({commit:e,getters:t},{isPost:o=!1}){return o?t.getPostReasonsList?Promise.resolve():dm().then((t=>{e("setPostReasonsList",t.data)})):t.getReasonsList?Promise.resolve():mm().then((t=>{e("setReasonsList",t.data)}))},setArticleView({commit:e},{view:t}){(0,I.d8)("habr_article_view",t,{expires:365}),e("setArticleView",t)},toggleArticleView({dispatch:e,getters:t}){const o="cards"===t.getArticleView?"list":"cards";e("setArticleView",{view:o})},setLastVisitedRoute({commit:e},t){e("setLastVisitedRoute",t)},setArticleCommentsStatus({commit:e},{articleId:t,status:o}){e("setArticleCommentsStatus",{articleId:t,status:o})},setArticleRulesRemindStatus({commit:e},{articleId:t,status:o}){e("setArticleRulesRemindStatus",{articleId:t,status:o})},toggleSubscriptionStatus({commit:e},{articleId:t,tracker:o,email:n,isPost:s}){const a=s?Us.B4:hm.wZ;return a({articleId:t,tracker:o,email:n}).then((({emailSubscribed:o,trackerSubscribed:n})=>{e("updateArticleRelatedData",{articleId:t,relatedData:{emailSubscribed:o,trackerSubscribed:n}})}))},setPost({state:e,commit:t},{postId:o,post:n,routeKey:s}){if(e.articlesList[o])t("setArticle",{article:n});else{const e={articlesIds:{[s]:[o]},articlesList:{[o]:n}};t("appendArticles",{routeKey:s,articlesToSet:e,appendToTop:!0})}},removePost({commit:e},{postId:t,routeKey:o}){e("removePost",{postId:t,routeKey:o})}}};function bm({flowRefs:e}){const t=[];return Object.keys(e).forEach((o=>{const n=e[o];t.push({alias:n.alias,id:n.id,route:{name:"FLOW_PAGE",params:{flowName:n.alias}}})})),t}function Nm(e){return(0,Oo.Hm)((0,wo.k)("refs/flows","v2"),e).then(bm)}function Pm(e,t){return(0,Oo.Hm)((0,wo.k)(`flows/${e}/authors`,"v2"),t)}var Lm=o(81752);const Bm=(e,t)=>`${t}_${e}`.toLowerCase(),Om={namespaced:!0,state(){return{authors:{}}},getters:{getAuthorContributionsByAlias:e=>(t,o="flow")=>{const n=Bm(t,o);return e.authors[n]||[]}},mutations:{setAuthorContribution(e,{authors:t,key:o}){e.authors={...e.authors,[o]:t.authorIds.map((e=>t.authorRefs[e]))}}},actions:{loadAuthorContributions({state:e,commit:t},{flowName:o,hubName:n}){const s=o||n,a=o?"flow":"hub",i=Bm(s,a),r={page:1,perPage:10};if(e.authors[i])return e.authors[i];const l=o?Pm:Lm.yp;return l(s,r).then((e=>(t("setAuthorContribution",{authors:e,key:i}),e.authorIds)))}}},wm={namespaced:!0,state(){return{articleRefs:{},articleIds:{},pagesCount:{},route:{},viewsCount:[],maxStatsCount:{}}},getters:{getArticlesList:e=>t=>{const o=e.articleIds[t]||[];return o.map((t=>e.articleRefs[t]))}},mutations:{setArticleRefs(e,t){e.articleRefs={...e.articleRefs,...t}},setArticleIds(e,{routeKey:t,articleIds:o}){e.articleIds={...e.articleIds,[t]:o}},setPagesCount(e,{routeKey:t,pagesCount:o}){e.pagesCount={...e.pagesCount,[t]:o}},setRouteCache(e,t){e.route.name=t.name,e.route.params=t.params,e.route.query=t.query},setViewsCount(e,t){e.viewsCount=t},setStatisticsMaxCounts(e,t){e.maxStatsCount={...t}}},actions:{loadArticlesStatistics({commit:e},t){const o=t.params.login.toLowerCase(),n=t.params.pageNum||1,s=(0,Ts.Z)(t);return(0,Hc.UZ)(o,{page:n}).then((o=>{const{articleRefs:n,articleIds:a,pagesCount:i}=o,[r,l,c,m]=a.reduce(((e,t)=>{const{statistics:o}=n[t],{commentsCount:s,favoritesCount:a,readingCount:i,votesCount:r}=o,l=[s,a,i,r];return e.map(((e,t)=>Math.max(e,l[t])))}),[0,0,0,0]),d={comments:r,favorites:l,readings:c,votes:m};e("setArticleRefs",n),e("setArticleIds",{routeKey:s,articleIds:a}),e("setPagesCount",{routeKey:s,pagesCount:i}),e("setRouteCache",t),e("setStatisticsMaxCounts",d)}))},loadArticlesViewCount({commit:e},{alias:t,period:o}){return(0,Hc.ZB)(t.toLowerCase(),{period:o}).then((({data:t})=>{const o=t.map((e=>({x:e.date,y:e.count})));e("setViewsCount",o)}))}}};function Mm({fl:e,hl:t}){return(0,Oo.Hm)((0,wo.k)("beta/announcements/current","v2"),{fl:e,hl:t})}function Rm({experimentId:e,fl:t,hl:o}){return(0,Oo.Hm)((0,wo.k)(`beta/announcements/${e}`,"v2"),{fl:t,hl:o})}function Vm({experimentId:e,nocount:t=0}){return(0,Oo.Hm)((0,wo.k)(`beta/announcements/${e}/comments`,"v2"),{nocount:t})}function Dm({experimentId:e,text:t,parentId:o}){return(0,Oo.Q)((0,wo.k)(`beta/announcements/${e}/comments`,"v2"),{text:t,parentId:o})}function Um({experimentId:e,commentId:t,mark:o}){return(0,Oo.Q)((0,wo.k)(`beta/announcements/${e}/comments/${t}`,"v2"),{mark:o})}function $m({fl:e,hl:t,perPage:o=20,pageNum:n=1}){return(0,Oo.Hm)((0,wo.k)("beta/announcements/finished","v2"),{fl:e,hl:t,perPage:o,pageNum:n})}function xm(){return(0,Oo.Q)((0,wo.k)("beta","v2"))}const Fm={namespaced:!0,state(){return{currentAnnouncement:null,announcements:{},announcementCards:null,announcementComments:{},announcementCommentThreads:{},announcementCommentingStatuses:{},archivedList:[]}},getters:{archivedAnnouncements:e=>e.announcementCards?e.archivedList.map((t=>e.announcementCards[t])):[],getAnnouncementById:e=>t=>e.announcements[t],getCommentingStatusById:e=>t=>e.announcementCommentingStatuses[t],getAnnouncementCommentsTreeById:e=>t=>(e.announcementCommentThreads[t]||[]).map((function o(n){const s=e.announcementComments[t][n];return{...s,children:s.children.map(o)}}))},mutations:{setHasJoinedBetaTesting(e,t){e.hasJoinedBetaTesting=t},setCurrentAnnouncement(e,t){e.currentAnnouncement=t},setArchivedAnnouncements(e,{announcements:t,list:o}){e.announcementCards={...e.announcementCards,...t},e.archivedList=o},addAnnouncement(e,{experimentId:t,announcement:o}){e.announcements={...e.announcements,[t]:o}},addAnnouncementComments(e,{experimentId:t,comments:o,threads:n}){e.announcementComments={...e.announcementComments,[t]:o},e.announcementCommentThreads={...e.announcementCommentThreads,[t]:n}},addAnnouncementComment(e,{experimentId:t,comment:o}){const{id:n,parentId:s}=o;if(e.announcementComments={...e.announcementComments,[t]:{...e.announcementComments[t],[n]:o}},s){const o=e.announcementComments[t][s];o.children=Array.from(new Set([...o.children,n]))}else e.announcementCommentThreads={...e.announcementCommentThreads,[t]:Array.from(new Set([...e.announcementCommentThreads[t],n]))}},setCommentingStatus(e,{experimentId:t,commentAccess:o}){e.announcementCommentingStatuses={...e.announcementCommentingStatuses,[t]:o}},patchComment(e,{experimentId:t,commentId:o,newValues:n}){e.announcementComments={...e.announcementComments,[t]:{...e.announcementComments[t],[o]:{...e.announcementComments[t][o],...n}}}}},actions:{loadCurrentAnnouncement({state:e,commit:t,rootGetters:o}){return e.currentAnnouncement?Promise.resolve():Mm(o["i18n/langOptions"]).then((({announcement:e})=>{t("setCurrentAnnouncement",e)}))},loadAnnouncement({state:e,commit:t,rootGetters:o},n){return e.announcements[n]?Promise.resolve():Rm({experimentId:n,...o["i18n/langOptions"]}).then((({announcement:e})=>{t("addAnnouncement",{experimentId:n,announcement:e})}))},loadAnnouncementComments({state:e,commit:t},o){return e.announcementComments[o]?Promise.resolve():Vm({experimentId:o}).then((({commentAccess:e,data:{comments:n,threads:s}})=>{t("setCommentingStatus",{experimentId:o,commentAccess:e}),t("addAnnouncementComments",{experimentId:o,comments:n,threads:s})}))},postAnnouncementComment({commit:e},{experimentId:t,text:o,parentId:n}){return Dm({experimentId:t,text:o,parentId:n}).then((({commentAccess:o,data:n})=>{e("setCommentingStatus",{experimentId:t,commentAccess:o}),e("addAnnouncementComment",{experimentId:t,comment:n.comment})}))},loadArchivedAnnouncementsList({state:e,commit:t,rootGetters:o}){return e.announcementCards?Promise.resolve():$m(o["i18n/langOptions"]).then((({announcementRefs:e,announcementExperimentIds:o})=>{t("setArchivedAnnouncements",{announcements:e,list:o})}))},voteForComment({commit:e},{experimentId:t,commentId:o,direction:n}){const s="up"===n?1:-1;return Um({experimentId:t,commentId:o,mark:s}).then((({score:n,votesCount:s,vote:a})=>{const i={score:n,votesCount:s,vote:a};e("patchComment",{experimentId:t,commentId:o,newValues:i})}))}}};function Hm(e){return(0,Oo.Hm)((0,wo.k)("seo-landings-hubs"),e)}const Gm={namespaced:!0,state(){return{seoLandings:[],hubs:""}},mutations:{setSeoLandings(e,t){e.seoLandings=t},setHubs(e,t){e.hubs=t},clearSeoLandings(e){e.seoLandings=[]}},actions:{loadSeoLandings({state:e,commit:t},{hubs:o}){return e.hubs===o?null:(t("clearSeoLandings"),Hm({hubs:o}).then((e=>{t("setSeoLandings",e),t("setHubs",o)})))}}},Wm={namespaced:!0,state(){return{companyRefs:{},companyIds:{},companyTopIds:{},pagesCount:{},companyProfiles:{},companiesCategories:[],companiesCategoriesTotalCount:0,companiesWidgets:{},companiesWorkers:{},companiesFans:{},multiwidgets:{},route:{},isLoading:!1,companyWorkersLoading:!1,companyFansLoading:!1,multiwidgetLoading:!1,vacancies:{},companiesGalleries:{},companiesBanners:{},companiesLandingVacancies:{},companiesTechnologies:{},workplaceInfo:null}},getters:{getCompanyInfo:e=>t=>e.companyRefs[t]||null,getCompanyGallery:e=>t=>e.companiesGalleries[t]||null,getCompanyBanner:e=>t=>e.companiesBanners[t]||null,getCompanyLandingVacancies:e=>t=>e.companiesLandingVacancies[t]||null,getCompanyTechnologies:e=>t=>e.companiesTechnologies[t]||null,getCompanyStartupStatus:e=>t=>{const o=e.companyRefs[t]||null;return!(!o||!o.settings)&&o.settings.isStartup},getProfileInfo:e=>t=>e.companyProfiles[t]||null,companiesTopRating:e=>{const{companyTopIds:t}=e;return t&&t.length?t.map((t=>e.companyRefs[t])):[]},getCompanyVacancies:e=>t=>e.vacancies[t],getCompanyMultiwidget:e=>t=>e.multiwidgets[t]},mutations:{setCompanyRefs(e,t){e.companyRefs={...e.companyRefs,...t}},setCompanyIds(e,{routeKey:t,companyIds:o}){e.companyIds={...e.companyIds,[t]:o}},setCompanyTopIds(e,t){e.companyTopIds=t},setCompanyInfo(e,{companyInfo:t,alias:o}){e.companyRefs={...e.companyRefs,[o]:{...e.companyRefs[o],...t,statistics:{...t.statistics,...e.companyRefs[o]?e.companyRefs[o].statistics:{}}}}},setProfileInfo(e,t){e.companyProfiles={...e.companyProfiles,...t}},setCompaniesCategories(e,t){e.companiesCategories=t},setCompaniesCategoriesTotalCount(e,t){e.companiesCategoriesTotalCount=t},setSubscriptionStatus(e,{alias:t,isSubscribed:o}){e.companyRefs[t].relatedData.isSubscribed=o},setPagesCount(e,{routeKey:t,pagesCount:o}){e.pagesCount={...e.pagesCount,[t]:o}},setRouteCache(e,t){e.route.name=t.name,e.route.params=t.params,e.route.query=t.query},clearCompanies(e,t){e.companyIds[t]&&(e.companyIds[t]=[])},setLoading(e,t){e.isLoading=t},setCompanyWidgets(e,{alias:t,widgets:o}){e.companiesWidgets={...e.companiesWidgets,[t]:o}},setCompanyWorkers(e,{alias:t,data:o}){e.companiesWorkers={...e.companiesWorkers,[t]:o}},setCompanyWorkersLoading(e,t){e.companyWorkersLoading=t},setCompanyFans(e,{alias:t,data:o}){e.companiesFans={...e.companiesFans,[t]:o}},setCompanyFansLoading(e,t){e.companyFansLoading=t},setCompanyVacancies(e,{alias:t,vacancies:o,totalPages:n}){e.vacancies={...e.vacancies,[t]:{vacancies:o,totalPages:n}}},setWorkplaceInfo(e,t){e.workplaceInfo=t},setCompanyGallery(e,{alias:t,galleryHtml:o}){e.companiesGalleries={...e.companiesGalleries,[t]:o}},setCompanyBanner(e,{alias:t,banner:o}){e.companiesBanners={...e.companiesBanners,[t]:o}},setCompanyLandingVacancies(e,{alias:t,status:o}){e.companiesLandingVacancies={...e.companiesLandingVacancies,[t]:o}},setCompanyTechnologies(e,{alias:t,technologies:o}){e.companiesTechnologies={...e.companiesTechnologies,[t]:o}},setMultiwidget(e,{alias:t,multiwidget:o}){e.multiwidgets={...e.multiwidgets,[t]:o}},setMultiwidgetLoading(e,t){e.multiwidgetLoading=t},setBookmarked(e,{articleId:t,shouldBookmarked:o}){const n=Object.values(e.multiwidgets);n.forEach((({blocks:e})=>{e.forEach((e=>{if("post"===e.type&&e.content&&e.content.id===t){const t=e.content,{relatedData:n,statistics:s}=t;s.favoritesCount=o?s.favoritesCount+1:s.favoritesCount-1,n.bookmarked=o}}))}))}},actions:{loadCompanies({commit:e,state:t,rootGetters:o},{route:n}){const s={title:"abc",rating:"rating"},a={...n.query,page:n.params.pageNum||1,perPage:n.query.perPage||20,sector:n.params.categoryAlias||null,order:s[n.query.sort]||"rating",orderDirection:n.query.order||"desc"},{q:i}=n.query,r=i?xn.Fy:xn.gu;let l={};i||(n.params.flowName&&(l={flowAlias:n.params.flowName}),n.params.hubName&&(l={hubAlias:n.params.hubName}));const c=(0,Ts.Z)(n),m=t.companyIds[c],d=Boolean(Object.keys(n.query).length),u=JSON.stringify(t.route.query)===JSON.stringify(n.query),p=n.params.hubName||n.params.flowName;return!(!(m&&m.length&&u)||i||p)||((d&&!u||p)&&e("clearCompanies",c),e("setLoading",!0),r({...a,...l,...o["i18n/langOptions"]}).then((({companyRefs:t,companyIds:o,pagesCount:s})=>(e("setCompanyRefs",t),e("setCompanyIds",{routeKey:c,companyIds:o}),e("setPagesCount",{routeKey:c,pagesCount:i?1:s}),e("setRouteCache",n),e("setLoading",!1),{companyRefs:t,companyIds:o,pagesCount:s}))))},searchCompanies({state:e,commit:t},{route:o}){const n={...o.query,page:o.params.pageNum||1},s=(0,Ts.Z)(o),a=JSON.stringify(e.route.query)===JSON.stringify(o.query),i=Boolean(Object.keys(o.query).length);return i&&!a&&t("clearCompanies",s),t("setLoading",!0),(0,xn.Fy)(n).then((({companyRefs:e,companyIds:n,pagesCount:a})=>(t("setCompanyRefs",e),t("setCompanyIds",{routeKey:s,companyIds:n}),t("setPagesCount",{routeKey:s,pagesCount:a}),t("setRouteCache",o),t("setLoading",!1),{companyRefs:e,companyIds:n,pagesCount:a})))},loadTopCompanies({commit:e,state:t,rootGetters:o}){const{companyTopIds:n}=t;if(n&&n.length)return t.companyTopIds;const s={page:1,perPage:10,sector:null,order:"rating",orderDirection:"desc"};return(0,xn.gu)({...s,...o["i18n/langOptions"]}).then((({companyRefs:t,companyIds:o})=>(e("setCompanyTopIds",o),e("setCompanyRefs",t),{companyRefs:t,companyIds:o})))},loadCompanyInfo({rootGetters:e,state:t,commit:o},{alias:n}){const s=e["i18n/langOptions"],a=t.companyRefs[n],i=a&&a.location,r=e["pullRefresh/getRefreshState"];return i&&!r?Promise.resolve():(0,xn.Yy)(n,s).then((e=>{o("setCompanyInfo",{companyInfo:e,alias:n})}))},updateCompanyInfo({rootGetters:e,commit:t},{alias:o}){const n=e["i18n/langOptions"];return(0,xn.Yy)(o,n).then((e=>{t("setCompanyInfo",{companyInfo:e,alias:o})}))},getEmployeeStatus({rootGetters:e,commit:t},{alias:o}){const n=e["i18n/langOptions"],s=e["me/userAlias"];return t("setWorkplaceInfo",{isUserEmployee:!1,employeeRequest:null}),(0,xn.Py)(o,s,n).then((e=>e.ok?(t("setWorkplaceInfo",{isUserEmployee:!0,employeeRequest:null}),Promise.resolve(null)):(0,Hc.FM)(s,o).then((({employeeRequest:e})=>{e?t("setWorkplaceInfo",{isUserEmployee:!1,employeeRequest:e}):Promise.resolve(null)})))).catch((()=>t("setWorkplaceInfo",null)))},updateWorkplaceInfo({commit:e},t){e("setWorkplaceInfo",t)},loadProfileInfo({rootGetters:e,state:t,commit:o},{alias:n}){const s=e["i18n/langOptions"],a=t.companyProfiles[n],i=e["pullRefresh/getRefreshState"];return a&&!i?Promise.resolve(a):(0,xn.Dz)(n,s).then((e=>{const t={[n]:{...e}};return o("setProfileInfo",t),e}))},loadCompaniesCategories({commit:e,state:t}){return t.companiesCategories.length?Promise.resolve(t.companiesCategories):(e("setCompaniesCategories",[]),(0,xn.Tr)().then((({countByCategories:t,totalCount:o})=>{e("setCompaniesCategoriesTotalCount",o),e("setCompaniesCategories",t)})))},toggleSubscribeStatus({commit:e,state:t},o){const{isSubscribed:n}=t.companyRefs[o].relatedData,s=!n;return e("setSubscriptionStatus",{alias:o,isSubscribed:s}),(0,xn.US)(o).catch((t=>{throw e("setSubscriptionStatus",{alias:o,isSubscribed:!s}),t}))},loadCompanyWidgets({commit:e,state:t,rootGetters:o},n){if(t.companiesWidgets[n])return Promise.resolve();const s=o["i18n/langOptions"];return(0,xn.Cg)(n,s).then((({widgetRefs:t})=>{e("setCompanyWidgets",{alias:n,widgets:t})}))},loadCompanyMultiwidget({commit:e,state:t,rootGetters:o},{route:n}){const s=n.params.name.toLowerCase();if(t.multiwidgets[s])return Promise.resolve();const a=o["i18n/langOptions"];return e("setMultiwidgetLoading",!0),(0,xn.fh)(s,a).then((t=>{e("setMultiwidget",{alias:s,multiwidget:t})})).finally((()=>{e("setMultiwidgetLoading",!1)}))},loadCompanyWorkers({commit:e,state:t},o){const n=o.name===t.route.name,s=JSON.stringify(o.params)===JSON.stringify(t.route.params);if(n&&s)return Promise.resolve();e("setRouteCache",o);const a=o.params.name.toLowerCase(),i=o.params.pageNum||1,r="COMPANY_WORKERS_NEW"===o.name?"new":"all";return e("setCompanyWorkersLoading",!0),(0,xn.$Y)(a,r,{page:i}).then((t=>{e("setCompanyWorkers",{alias:a,data:t}),e("setCompanyWorkersLoading",!1)}))},loadCompanyFans({commit:e,state:t},o){const n=o.name===t.route.name,s=JSON.stringify(o.params)===JSON.stringify(t.route.params);if(n&&s)return Promise.resolve();e("setRouteCache",o);const a=o.params.name.toLowerCase(),i=o.params.pageNum||1,r="COMPANY_FANS_NEW"===o.name?"new":"all";return e("setCompanyFansLoading",!0),(0,xn.WY)(a,r,{page:i}).then((t=>{e("setCompanyFans",{alias:a,data:t}),e("setCompanyFansLoading",!1)}))},loadCompanyVacancies({commit:e},{alias:t,page:o=1}){return(0,xn.sS)(t,{page:o}).then((({vacancies:o,pagesCount:n})=>{e("setCompanyVacancies",{alias:t,totalPages:n,vacancies:o})}))},loadCompanyGallery({commit:e,rootGetters:t},{alias:o}){const n=t["i18n/langOptions"];return(0,xn.dq)(o,n).then((({galleryHtml:t})=>{e("setCompanyGallery",{alias:o,galleryHtml:t})}))},loadCompanyBanner({commit:e,rootGetters:t},{alias:o}){const n=t["i18n/langOptions"];return(0,xn.oz)(o,n).then((t=>{e("setCompanyBanner",{alias:o,banner:t})}))},loadCompanyLandingVacancies({commit:e,rootGetters:t},{alias:o}){const n=t["i18n/langOptions"];return(0,xn.TY)(o,n).then((({status:t})=>{e("setCompanyLandingVacancies",{alias:o,status:t})}))},loadCompanyTechnologies({commit:e,rootGetters:t},{alias:o}){const n=t["i18n/langOptions"];return(0,xn.Kv)(o,n).then((({technologies:t})=>{e("setCompanyTechnologies",{alias:o,technologies:t})}))}}},Ym={namespaced:!0,state(){return{hubs:{},flows:{},companyRefs:{}}},getters:{getCompaniesHubsContributionByAlias:e=>t=>{const o=t.toLowerCase();return e.hubs[o]?e.hubs[o].map((t=>e.companyRefs[t])):[]},getCompaniesFlowsContributionByAlias:e=>t=>{const o=t.toLowerCase();return e.flows[o]?e.flows[o].map((t=>e.companyRefs[t])):[]}},mutations:{setCompaniesHubsContribution(e,{companyRefs:t,companyIds:o,key:n}){e.companyRefs={...e.companyRefs,...t},e.hubs={...e.companyIds,[n]:o}},setCompaniesFlowsContribution(e,{companyRefs:t,companyIds:o,key:n}){e.companyRefs={...e.companyRefs,...t},e.flows={...e.companyIds,[n]:o}}},actions:{loadHubsContributions({state:e,commit:t},o){const n=o.toLowerCase();return e.hubs[n]?e.hubs[n]:(0,xn.c2)(o).then((({companyRefs:e,companyIds:o})=>{t("setCompaniesHubsContribution",{companyRefs:e,companyIds:o,key:n})}))},loadFlowsContributions({state:e,commit:t},o){const n=o.toLowerCase();return e.flows[n]?e.flows[n]:(0,xn._H)(o).then((({companyRefs:e,companyIds:o})=>{t("setCompaniesFlowsContribution",{companyRefs:e,companyIds:o,key:n})}))}}};var Zm=o(79479);const qm={inactive:0,ready:1,visible:2},Km=()=>!!window.jivo_api,jm={super:"COMPANY_ADMIN_EVENT_ROLE_super",admin:"COMPANY_ADMIN_EVENT_ROLE_admin",author:"COMPANY_ADMIN_EVENT_ROLE_author",editor:"COMPANY_ADMIN_EVENT_ROLE_editor"},zm={namespaced:!0,state(){return{companyInfo:null,companyInfoLoading:!1,faqArticles:null,brandingPreviewImageUrl:null,jivoStatus:qm.inactive,adminNotifications:null}},mutations:{setCompanyInfo(e,t){e.companyInfo=t},setCompanyInfoLoading(e,t){e.companyInfoLoading=t},setFaqNavigationList(e,t){e.faqNavigationList=t},setHasStartupProlongationFlag(e,t){e.companyInfo&&e.companyInfo.tariffData&&(e.companyInfo.tariffData.hasStartupProlongationRequest=t)},setFaqArticles(e,t){e.faqArticles=t},setBrandingPreviewImageUrl(e,t){e.brandingPreviewImageUrl=t},setJivoStatus(e,t){e.jivoStatus=t},setAdminNotifications(e,t){e.adminNotifications=t}},actions:{loadCompanyInfo({state:e,rootGetters:t,commit:o},{alias:n}){const s=t["i18n/langOptions"];return e.companyInfo&&e.companyInfo.alias===n?Promise.resolve(null):(o("setCompanyInfoLoading",!0),Promise.all([(0,xn.mp)(n,s),(0,xn.Yy)(n,s)]).then((([e,t])=>{const n={...t,...e};o("setCompanyInfo",n)})).finally((()=>{o("setCompanyInfoLoading",!1)})))},loadFaqData({commit:e,rootGetters:t,state:o}){const n=t["i18n/langOptions"];return o.faqArticles?Promise.resolve():(0,xn.rd)(n).then((({articlesList:e})=>Promise.all([...e.map((e=>(0,xn.KD)(e.alias,n)))]))).then((t=>{e("setFaqArticles",t)}))},setBrangingPreviewImage({commit:e},t){e("setBrandingPreviewImageUrl",t)},initializeJivoSiteChat({state:e,commit:t}){return new Promise(((o,n)=>{if(e.jivoStatus===qm.visible)o();else if(Km())return window.jivo_init(),void o();const s=document.createElement("script");s.src="//code-ya.jivosite.com/widget/43McEsqDSt",s.async=!0,s.addEventListener("error",n),document.body.append(s),window.jivo_onLoadCallback=()=>{t("setJivoStatus",qm.ready),o()}}))},sendJivoData({state:e,rootState:t,getters:o},{companyBlogUrl:n,userRole:s}){if(!Km())return;window.jivo_api.setContactInfo({name:t.me.user.fullname,email:t.me.user.email});const a=[{title:"Название блога компании",content:e.companyInfo.titleHtml},{title:"Ссылка на блог",content:n},{title:"Логин пользователя",content:t.me.user.alias}];if(e.companyInfo.tariffData){const[t,o]=[e.companyInfo.tariffData.startedAt,e.companyInfo.tariffData.endedAt].map((e=>new Date(e).toLocaleDateString("ru-RU")));a.push({title:"Текущий тариф",content:e.companyInfo.tariffData.title},{title:"Срок действия текущего тарифа",content:`${t} - ${o}`})}s&&a.push({title:"Роль в панели администрирования",content:s&&o.getUserRoleTitle(s)}),window.jivo_api.setCustomData(a)},destroyJivo({commit:e}){Km()&&(window.jivo_destroy(),e("setJivoStatus",qm.ready))},loadAdminNotifications({rootGetters:e,commit:t},{alias:o}){const n=e["i18n/langOptions"];return(0,xn._w)(o,n).then((e=>{t("setAdminNotifications",e.notifications)}))}},getters:{getUserRoleTitle(e,t,o,n){return e=>n["i18n/msg"](jm[e])}}},Qm={state(){return{hubRefs:{},hubIds:{}}},getters:{getHubsContributionsByAlias:e=>t=>{const o=t.toLowerCase();return e.hubIds[o]?e.hubIds[o].map((t=>e.hubRefs[t])):[]}},mutations:{setHubsContribution(e,{hubs:t,key:o}){e.hubRefs={...e.hubRefs,...t.hubRefs},e.hubIds={...e.hubIds,[o]:t.hubIds}}}},Xm={namespaced:!0,modules:{contributionRefs:Qm},actions:{loadCompanyHubsContributions({state:e,commit:t},o){const n=o.toLowerCase();return e.contributionRefs.hubIds[n]?e.contributionRefs.hubIds[n]:(0,xn.oP)(o).then((e=>{t("setHubsContribution",{hubs:e,key:n})}))}}},Jm={namespaced:!0,state(){return{messages:[],respondent:null,isLoadMore:!1}},mutations:{setMessages(e,t){e.messages=t},addMessage(e,t){e.messages.push(t)},setRespondent(e,t){e.respondent=t},setLoadMoreStatus(e,t){e.isLoadMore=t},cleanState(e){e.messages=[],e.respondent=null,e.isLoadMore=!1}},actions:{fillState({commit:e},{messages:t,respondent:o,isLoadMore:n}){e("setLoadMoreStatus",!!n),e("setMessages",t),e("setRespondent",o)},updateMassagesList({state:e,commit:t},{messages:o,isLoadMore:n}){const s=o.concat(e.messages);t("setLoadMoreStatus",!!n),t("setMessages",s)},addMessage({commit:e},t){e("addMessage",t)},cleanState({commit:e}){e("cleanState")}}},ed={namespaced:!0,state(){return{conversations:[],pagesCount:0}},mutations:{setConversations(e,t){e.conversations=t},setPagesCount(e,t){e.pagesCount=t},cleanState(e){e.conversations=[],e.pagesCount=0}},actions:{fillState({commit:e},{conversations:t,pagesCount:o}){e("setPagesCount",o),e("setConversations",t)},cleanState({commit:e}){e("cleanState")}}};var td=o(57745);const od=e=>{const{alias:t,articleAlias:o}=e;return`${t}/${o}`},nd={namespaced:!0,state(){return{menu:{},articles:{},mainMenu:[],loading:{main:!1,dropdown:!1,article:!1}}},mutations:{setMenu(e,{alias:t,articlesList:o}){e.menu={...e.menu,[t]:o}},setArticle(e,{route:t,article:o}){e.articles={...e.articles,[od(t)]:o}},setMainMenu(e,t){e.mainMenu=t},setLoadingState(e,t){const{name:o,value:n}=t;e.loading[o]=n}},getters:{getMenuByAlias:e=>t=>e.menu[t],getArticleByAlias:e=>t=>e.articles[od(t)]},actions:{getDropdownList({commit:e,state:t,rootGetters:o},{alias:n}){return n?t.menu[n]?Promise.resolve():(e("setLoadingState",{name:"dropdown",value:!0}),(0,td.dP)(n,o["i18n/langOptions"]).then((t=>{const{articlesList:o}=t;return e("setMenu",{alias:n,articlesList:o}),e("setLoadingState",{name:"dropdown",value:!1}),o}))):Promise.resolve()},getArticle({commit:e,state:t,rootGetters:o},n){const{alias:s,articleAlias:a}=n;if(!a)return Promise.resolve();const i=od(n);return t.articles[i]?Promise.resolve():(e("setLoadingState",{name:"article",value:!0}),(0,td.Vk)(s,a,o["i18n/langOptions"]).then((t=>{e("setArticle",{route:n,article:t}),e("setLoadingState",{name:"article",value:!1})})))},getMainMenu({state:e,commit:t,rootGetters:o}){return 0===e.mainMenu.length?(t("setLoadingState",{name:"main",value:!0}),(0,td.IX)(o["i18n/langOptions"]).then((e=>{t("setMainMenu",e),t("setLoadingState",{name:"main",value:!1})}))):Promise.resolve()}}};function sd(e){return(0,Oo.Hm)((0,wo.k)("events"),e)}const ad={namespaced:!0,state:{events:null},mutations:{saveEvents(e,t){e.events=t}},actions:{loadEvents({commit:e}){return sd().then((t=>{e("saveEvents",t.events)}))}},getters:{events(e){return e.events}}},id={namespaced:!0,state(){return{isProbablyVisible:!1}},mutations:{setIsProbablyVisible(e,t){e.isProbablyVisible=t}}};function rd(e){return(0,Oo.Hm)((0,wo.k)("feed/counters","v2"),e)}const ld={namespaced:!0,state(){return{flows:[],updates:{}}},mutations:{setFlows(e,t){e.flows=t},setUpdates(e,t){e.updates=t}},actions:{loadFlows({commit:e,state:t}){return t.flows.length?Promise.resolve(t.flows):(e("setFlows",[]),Nm().then((t=>(e("setFlows",t),t))))},loadUpdates({commit:e,rootGetters:t}){const o=t["i18n/langOptions"];return rd(o).then((t=>(e("setUpdates",t),t))).catch((e=>{(0,Vc.T)(e)}))}}},cd={namespaced:!0,state(){return{isPwa:!1,device:null,isHabrCom:null,isSettingsVisible:!1}},getters:{isMobileOnly(e){return"mobile"===e.device},isMobile(e){return"mobile"===e.device||"tablet"===e.device},isTablet(e){return"tablet"===e.device},isDesktop(e){return"desktop"===e.device},isHabrCom(e){return!!e.isHabrCom},isSettingsVisible(e){return e.isSettingsVisible}},mutations:{setPwaMode(e){e.isPwa=!0},setDevice(e,t){e.device=t},setIsHabrCom(e,t){e.isHabrCom=t},setIsSettingsVisible(e,t){e.isSettingsVisible=t}},actions:{initPwaMode({commit:e}){e("setPwaMode"),Fc.W6||"serviceWorker"in navigator&&window.navigator.serviceWorker.ready.then((e=>{e.active.postMessage({runCache:!0})}))},setDevice({commit:e},{device:t}){e("setDevice",t)},setIsHabrCom({commit:e},{isHabrCom:t}){e("setIsHabrCom",t)},setIsSettingsVisible({commit:e},{isSettingsVisible:t}){e("setIsSettingsVisible",t)}}},md={namespaced:!0,state(){return{hubRefs:{},hubIds:{},pagesCount:{},isLoading:!1,route:{}}},getters:{getHubByAlias:e=>t=>e.hubRefs[t.toLowerCase()]||null},mutations:{setHubRefs(e,t){e.hubRefs={...e.hubRefs,...t}},setHubIds(e,{routeKey:t,hubIds:o}){e.hubIds={...e.hubIds,[t]:o}},clearHubs(e,t){e.hubIds[t]&&(e.hubIds[t]=[])},setLoading(e,t){e.isLoading=t},setRouteCache(e,t){e.route.name=t.name,e.route.params=t.params,e.route.query=t.query},setPagesCount(e,{routeKey:t,pagesCount:o}){e.pagesCount={...e.pagesCount,[t]:o}},setHubInfo(e,{hubAlias:t,hubInfo:o}){e.hubRefs={...e.hubRefs,[t]:o}},setSubscriptionStatus(e,{alias:t,isSubscribed:o}){e.hubRefs[t].relatedData.isSubscribed=o}},actions:{loadHubs({state:e,commit:t},{route:o}){const n={...o.query,page:o.params.pageNum||1,flowAlias:o.params.flowName},{q:s}=o.query,a=s?Lm.PL:Lm._C,i=(0,Ts.Z)(o),r=e.hubIds[i],l=Boolean(Object.keys(o.query).length),c=JSON.stringify(e.route.query)===JSON.stringify(o.query);return!(!(r&&r.length&&c)||s)||(l&&!c&&t("clearHubs",i),t("setLoading",!0),a(n).then((({hubRefs:e,hubIds:n,pagesCount:a})=>(t("setHubRefs",e),t("setHubIds",{routeKey:i,hubIds:n}),t("setPagesCount",{routeKey:i,pagesCount:s?1:a}),t("setRouteCache",o),t("setLoading",!1),{hubRefs:e,hubIds:n,pagesCount:a}))))},searchHubs({state:e,commit:t},{route:o}){const n={...o.query,page:o.params.pageNum||1},s=(0,Ts.Z)(o),a=JSON.stringify(e.route.query)===JSON.stringify(o.query),i=Boolean(Object.keys(o.query).length);return i&&!a&&t("clearHubs",s),t("setLoading",!0),(0,Lm.PL)(n).then((({hubRefs:e,hubIds:n,pagesCount:a})=>(t("setHubRefs",e),t("setHubIds",{routeKey:s,hubIds:n}),t("setPagesCount",{routeKey:s,pagesCount:a}),t("setRouteCache",o),t("setLoading",!1),{hubRefs:e,hubIds:n,pagesCount:a})))},loadHub({rootGetters:e,state:t,commit:o},{alias:n}){const s=e["i18n/langOptions"],a=n.toLowerCase(),i=t.hubRefs[a],r=i&&i.fullDescriptionHtml,l=e["pullRefresh/getRefreshState"];return r&&!l?Promise.resolve(i):(0,Lm.dx)(n,s).then((e=>(o("setHubInfo",{hubInfo:e,hubAlias:a}),e)))},toggleSubscribeStatus({commit:e,state:t},o){const n=o.toLowerCase(),{isSubscribed:s}=t.hubRefs[n].relatedData,a=!s;return e("setSubscriptionStatus",{alias:n,isSubscribed:a}),(0,Lm.PY)(o).catch((()=>{e("setSubscriptionStatus",{alias:n,isSubscribed:!a})}))}}},dd={namespaced:!0,state(){return{hubRefs:{},hubIds:{}}},getters:{getBlockHubsListByAlias:e=>(t="all")=>e.hubIds[t]?e.hubIds[t].map((t=>e.hubRefs[t])):[]},mutations:{setHubsBlock(e,{hubs:t,flowName:o}){e.hubRefs={...e.hubRefs,...t.hubRefs},e.hubIds={...e.hubIds,[o]:t.hubIds}}},actions:{loadHubsBlock({state:e,commit:t},{flowName:o="all"}){const n={page:1,flowAlias:"all"===o?null:o,perPage:10};return e.hubIds[o]?e.hubIds[o]:(0,Lm._C)(n).then((e=>(t("setHubsBlock",{hubs:e,flowName:o}),e.hubIds)))}}};var ud=o(21540),pd=o.n(ud);const hd={en:"en_US",ru:"ru_RU"},_d={namespaced:!0,state(){return{fl:null,hl:null}},getters:{isEnglishContentEnabled:e=>e.fl&&e.fl.indexOf("en")>-1,isRussianContentEnabled:e=>e.fl&&e.fl.indexOf("ru")>-1,langOptions:e=>({fl:e.fl,hl:e.hl}),currentLocale:(e,t)=>hd[t.langOptions.hl],msg(e,t){return(e,o={})=>vt(t.langOptions.hl,e,o)},pageTitle(e,t){return(...e)=>pd()([...e.filter(Boolean),t.msg("SITENAME")].join(" / "))}},mutations:{setFl(e,t){e.fl=t},setHl(e,t){e.hl=t},setLangParams(e,{fl:t,hl:o}){e.fl=t,e.hl=o}}};function gd(e,t){return(0,Oo.Hm)((0,wo.k)(`info/welcome/${e}`),t)}const Td=e=>e.params.topic?`welcome-${e.params.topic}`:"welcome-index",Ed={namespaced:!0,state(){return{welcomePage:{},isLoading:!0}},getters:{welcomePage:e=>t=>{const o=Td(t);return e.welcomePage[o]},getWelcomePage:e=>t=>e.welcomePage[t]||null},mutations:{setPage(e,t){e.welcomePage={...e.welcomePage,...t}},setIsLoading(e,t){e.isLoading=t}},actions:{loadWelcomePage({commit:e,getters:t,rootGetters:o},{route:n}){const{topic:s=""}=n.params,a=Td(n);return t.getWelcomePage(a)?t.getWelcomePage(a):(e("setIsLoading",!0),gd(s,o["i18n/langOptions"]).then((({data:t})=>(e("setIsLoading",!1),e("setPage",{[a]:t}),t))))}}},Sd={namespaced:!0,state(){return{urlStruct:(0,Ds.au)((0,Ds.j4)())}},mutations:{setUrl(e,t){e.urlStruct=t}},actions:{updateUrl({commit:e},{route:t}){const o=(0,Ds.j4)()||t.fullPath,n=(0,Ds.au)(o);n.path=t.path,n.pathname=t.path,Object.assign(n.query,t.query),delete n.search,e("setUrl",n)}}},Cd={namespaced:!0,state(){return{mostReadingListIds:[],mostReadingListRefs:null,promoPost:null}},getters:{mostReadingList:e=>e.mostReadingListIds.map((t=>e.mostReadingListRefs[t]))},mutations:{setMostReadingList(e,{articleIds:t,articleRefs:o}){e.mostReadingListIds=t,e.mostReadingListRefs=o},setBookmarked(e,{articleId:t,shouldBookmarked:o}){const n=e.mostReadingListRefs[t],{relatedData:s,statistics:a}=n;a.favoritesCount=o?a.favoritesCount+1:a.favoritesCount-1,s.bookmarked=o},setPromoPost(e,t){e.promoPost=t}},actions:{loadMostReadingList({commit:e,getters:t,rootGetters:o}){return t.mostReadingList.length?t.mostReadingList:(0,hm.TH)(o["i18n/langOptions"]).then((t=>{e("setMostReadingList",t)}))}}};var vd=o(96090);const kd={namespaced:!0,state(){return{articles:{},card:null,transactions:null,totalTransactions:null,isAccessible:null}},mutations:{setArticle(e,{articleAlias:t,article:o}){e.articles={...e.articles,[t]:o}},setCard(e,{ppaCard:t,isAccessible:o}){e.card=t,e.isAccessible=o},patchCard(e,t){e.card={...e.card,...t}},setTransactions(e,{transactions:t,pagesCount:o}){e.transactions=t,e.totalTransactions=o},updateTest(e,t){e.test.test=t}},getters:{getArticleByAlias:e=>t=>e.articles[t],isJustCreated:e=>e.card&&"just_created"===e.card.status},actions:{getArticle({commit:e,state:t,rootGetters:o},n){const s=o["i18n/langOptions"];return t.articles[n]?Promise.resolve():(0,vd.qK)(n,s).then((t=>{e("setArticle",{articleAlias:n,article:t})}))},getCard({state:e,commit:t,rootGetters:o}){if(e.card)return Promise.resolve();const n=o["me/userAlias"];return(0,vd.pV)(n).then((({ppaCard:e,isAccessible:o})=>{t("setCard",{ppaCard:e,isAccessible:o})}))},getTransactions({state:e,commit:t,rootGetters:o},n){if(e.transactions)return Promise.resolve();const s=o["me/userAlias"];return(0,vd.ny)(s,n).then((({transactions:e,pagesCount:o})=>{t("setTransactions",{transactions:e,pagesCount:o})}))},postWithdrawEnabled({commit:e},t){return e("patchCard",{withdrawEnabled:t}),(0,vd.Zx)(t)},joinPpa({dispatch:e}){return(0,vd.s5)().then((()=>e("getCard")))}}},fd=e=>{if(0===e.length)return null;const t=e.slice(0).sort((([,e],[,t])=>e-t)),o=100*Math.random();let n=0,s=e[0][0];return t.forEach((([e,t])=>{n<=o&&(s=e),n+=t})),s},Ad={namespaced:!0,state(){return{activeBlocks:{}}},mutations:{registerBlock(e,{name:t,id:o}){e.activeBlocks={...e.activeBlocks,[t]:o}},unregisterBlock(e,t){e.activeBlocks={...e.activeBlocks,[t]:""}}},getters:{getRandomBlockName(e){return t=>{const o=t.filter((t=>!e.activeBlocks[t])).map(((e,t,o)=>[e,Math.floor(100/o.length)]));return fd(o)}},getRegisteredBlockById(e){return t=>Object.keys(e.activeBlocks).find((o=>e.activeBlocks[o]===t))}}},Id={namespaced:!0,state:{isLoading:!1,hasLoaded:!1,featurer:null,megaposts:null,promoLinks:null,promoPosts:null},mutations:{setLoadingFlag(e,t){e.isLoading=t,t||(e.hasLoaded=!0)},savePromoData(e,t){Object.keys(t).forEach((o=>{e[o]=t[o].adverts}))}},actions:{loadPromoData({rootGetters:e,commit:t}){const{fl:o,hl:n}=e["i18n/langOptions"],s=n,a=o.split(","),i={version:"1.0",queries:{promoPosts:{type:"promopost",filter:{langs:a},count:3,view:{lang:s}},featurer:{type:"featurer",view:{lang:s}},megaposts:{type:"megapost",filter:{langs:a},count:1},promoLinks:{type:"promolink",filter:{langs:a},count:1,view:{lang:s}}}};return t("setLoadingFlag",!0),(0,D.H)(i).then((e=>{e&&e.results&&t("savePromoData",e.results)})).finally((()=>{t("setLoadingFlag",!1)}))}},getters:{feature({featurer:e}){return e&&e.length?e[0]:null},topLinkPost({megaposts:e}){return e&&e.length?e[0]:null},promoBlockPosts({promoPosts:e}){return e&&e.length?e:null},mostReadingPromoLink({promoLinks:e}){return e&&e.length?e[0]:null},dailyTopPromoLink({promoLinks:e},{mostReadingPromoLink:t}){return e&&e.length>1?e[1]:t}}};function yd(e){return(0,Oo.Hm)((0,wo.k)(`stats/${e}/info`,"v2"))}function bd(e,t){return(0,Oo.Hm)((0,wo.k)(`stats/${e}/funnels`,"v2"),t)}const Nd={namespaced:!0,state(){return{statsInfo:{},statsFunnels:{}}},getters:{getStatsInfoById:e=>t=>e.statsInfo[t],getStatsFunnelsById:e=>t=>e.statsFunnels[t]},mutations:{setStatsInfo(e,{publicationId:t,statsInfo:o}){e.statsInfo[t]=o},setStatsFunnels(e,{publicationId:t,statsFunnels:o}){e.statsFunnels[t]=o}},actions:{async getPublicationStatsInfo({commit:e},t){const o=await yd(t);e("setStatsInfo",{publicationId:t,statsInfo:o.statistics})},async getPublicationStatsFunnels({commit:e},{publicationId:t,period:o}){const n=await bd(t,{period:o});e("setStatsFunnels",{publicationId:t,statsFunnels:n.statistics})}}},Pd={namespaced:!0,state(){return{shouldRefresh:!1}},mutations:{setRefresh(e,t){e.shouldRefresh=t}},getters:{getRefreshState(e){return e.shouldRefresh}},actions:{toggleRefresh({commit:e},t){e("setRefresh",t)}}};function Ld(e,t){switch(e.name){case"NEW_AUTHORS_ARTICLES_LIST":case"NEW_AUTHORS_ARTICLES_LIST_PAGES":return{sandbox:"new_authors_posts"};case"AWAIT_INVITE_AUTHORS_ARTICLES_LIST":case"AWAIT_INVITE_AUTHORS_ARTICLES_LIST_PAGES":return{sandbox:"awaiting_invite_posts"};case"MOST_IMPORTANT_SANBOX_INFO":return{sandbox:"new_authors_posts",perPage:5};case"AWAIT_MODERATION_ARTICLES_LIST":case"AWAIT_MODERATION_ARTICLES_LIST_PAGES":return{sandbox:"awaiting_approval_posts"};case"SCHEDULED_SANDBOX_ARTICLES_LIST":case"SCHEDULED_SANDBOX_ARTICLES_LIST_PAGES":return{sandbox:"awaiting_publishing_posts"};case"MY_SANDBOX_ARTICLES_LIST":case"MY_SANDBOX_ARTICLES_LIST_PAGES":case"ARTICLES_LIST_SANDBOX_BY_USER":case"ARTICLES_LIST_SANDBOX_BY_USER_PAGES":return{sandbox:"by_author",userAlias:t};default:return{}}}const Bd={namespaced:!0,state(){return{articleIds:[],articleRefs:{},pagesCount:null,route:{},lastVisitedRoute:{},isLoading:!1}},getters:{getArticlesByRouteKey:e=>t=>{const o=e.articleIds[t]||[];return o.map((t=>e.articleRefs[t]))},getArticleById:e=>t=>e.articleRefs[t]||{}},mutations:{setArticles(e,{articleIds:t,articleRefs:o}){e.articleRefs={...e.articleRefs,...o},e.articleIds={...e.articleIds,...t}},setArticle(e,{article:t}){e.articleRefs={...e.articleRefs,[t.id]:t}},setPagesCount(e,t){e.pagesCount={...e.pagesCount,...t}},setRouteCache(e,t){e.route.name=t.name,e.route.params=t.params,e.route.query=t.query},setLastVisitedRoute(e,t){e.lastVisitedRoute=t},setLoading(e,t){e.isLoading=t},removeArticleFromList(e,t,o){const n=e.articleIds[t].findIndex((({id:e})=>o===e));e.articleIds[t].splice(n,1)},clearArticles(e,t){delete e.articleIds[t]},markArticleAsScheduled(e,{id:t,plannedDateTime:o}){e.articleRefs[t]&&(e.articleRefs[t]={...e.articleRefs[t],plannedPublishTime:o,status:"sbAwaitingPublishing"})},removeArticleScheduledPublishing(e,{id:t}){e.articleRefs[t]&&(e.articleRefs[t]={...e.articleRefs[t],plannedPublishTime:null,status:"sbInvitePending"})}},actions:{loadArticleslist({commit:e,state:t,rootGetters:o},{route:n,force:s}){const a=(0,Ts.Z)(n),i=t.articleIds[a],r=Boolean(Object.keys(n.query).length),l=JSON.stringify(t.route.query)===JSON.stringify(n.query),c=o["pullRefresh/getRefreshState"];if(i&&l&&!c&&!s)return!0;(r&&!l||c||s)&&e("clearArticles",a),e("setLoading",!0);const m=n.params.userAlias||n.params.login||o["me/userAlias"],d=o["me/isLoggedIn"],u=(0,hm.rM)({...Ld(n,m),...o["i18n/langOptions"],page:n.params.pageNum||1}),p=d?u.then((({publicationIds:e})=>e&&e.length?(0,hm.YM)({articleIds:e.join(",")}):Promise.resolve([]))):[];return Promise.all([u,p]).then((([{publicationIds:t,publicationRefs:o,pagesCount:s},{notes:i}])=>{const r={[a]:t},l={[a]:s};return i&&i.length&&i.forEach((e=>{o[e.postId].moderationComment=e})),e("setArticles",{articleIds:r,articleRefs:o}),e("setPagesCount",l),e("setRouteCache",n),e("setLoading",!1),{articleIds:t,articleRefs:o,pagesCount:s}}))},loadArticle({commit:e,rootGetters:t,state:o},{force:n,route:s,snippetOnly:a}){const i=s.params.id,r=o.articleRefs&&o.articleRefs[i],l=t["pullRefresh/getRefreshState"],c=t["me/isLoggedIn"];return!r||n||l||!r.textHtml&&!a?Promise.all([(0,hm.fq)(i,{...t["i18n/langOptions"],isSandbox:!0}),...c?[(0,hm.YM)({articleIds:[i]})]:[]]).then((([t,o])=>{const n=o&&o.notes.length?o.notes[0]:null;return e("setArticle",{article:{...t,moderationComment:n}}),e("setRouteCache",s),t})):Promise.resolve()},updateArticlesList({commit:e},{route:t,id:o}){const n=(0,Ts.Z)(t);e("removeArticleFromList",n,o)},setLastVisitedRoute({commit:e},t){e("setLastVisitedRoute",t)}}},Od={namespaced:!0,state:{searchQueryError:null},mutations:{setSearchQueryError(e,t){e.searchQueryError=t}}};var wd=o(74104);const Md={namespaced:!0,state(){return{inputs:{...(0,wd.j)(["uiLang"],""),...(0,wd.j)(["articlesLangEnglish","articlesLangRussian"],!1),...(0,wd.j)(["agreement"],!1),...(0,wd.j)(["email"],!0),...(0,wd.j)(["digest"],!0)}}},getters:{formData:({inputs:e})=>({fl:[e.articlesLangEnglish.value?"en":"",e.articlesLangRussian.value?"ru":""].filter(Boolean).join(","),hl:e.uiLang.value,agreement:e.agreement.value,email:e.email.value,digest:e.digest.value})},mutations:{setInputValue(e,{name:t,value:o}){e.inputs[t].value=o}},actions:{setInputValue({commit:e},{name:t,value:o}){e("setInputValue",{name:t,value:o})}}},Rd={namespaced:!0,state(){return{similarListIds:[],similarListRefs:null}},getters:{similarList:e=>e.similarListIds.map((t=>e.similarListRefs[t]))},mutations:{setSimilarList(e,{articleIds:t,articleRefs:o}){e.similarListIds=t,e.similarListRefs=o},setBookmarked(e,{articleId:t,shouldBookmarked:o}){const n=e.similarListRefs[t],{relatedData:s,statistics:a}=n;a.favoritesCount=o?a.favoritesCount+1:a.favoritesCount-1,s.bookmarked=o}},actions:{loadSimilarList({commit:e,rootGetters:t},{articleId:o,count:n}){return(0,hm.lA)(o,{...t["i18n/langOptions"],count:n}).then((t=>(e("setSimilarList",t),t)))}}},Vd={namespaced:!0,state(){return{error:null,isDataLoaded:!1,isDataLoading:!1,isHydrationFailed:!1,isServer:!1}},getters:{isServer(e){return e.isServer},error(e){return e.error}},mutations:{setDataLoaded(e,t){e.isDataLoaded=t},setDataLoading(e,t){e.isDataLoading=t},setEnvironment(e,t){e.isServer=t},setError(e,t){e.error=t},setHydrationFailed(e,t){e.isHydrationFailed=t}},actions:{markDataLoaded({commit:e}){e("setDataLoaded",!0),e("setDataLoading",!1)},markDataLoading({commit:e}){e("setDataLoading",!0)},markHydrationFailed({commit:e}){e("setHydrationFailed",!0)},setSsrError({commit:e},t){e("setDataLoaded",!0),e("setDataLoading",!1),e("setError",t)},showError({commit:e},{error:t}){return e("setError",t),Promise.reject(t)},reset({commit:e}){e("setDataLoaded",!1),e("setError",null)}}};function Dd(e){return(0,Oo.Hm)((0,wo.k)("stories"),e)}const Ud={namespaced:!0,state:{stories:null},mutations:{saveStories(e,t){e.stories=t}},actions:{loadStories({rootGetters:e,commit:t}){const o=e["i18n/langOptions"];return Dd(o).then((e=>{t("saveStories",e)})).catch((()=>{}))}},getters:{stories(e,t,o,n){const{fl:s}=n["i18n/langOptions"],a=s.split(",");return e.stories?e.stories.filter((e=>a.includes(e.lang))):null}}},$d={namespaced:!0,mutations:{setTechnotextInfo(e,t){e.technotextInfo=t},setTechnotextInfoLoading(e,t){e.technotextInfoLoading=t},setTechnotextWinnersLoading(e,t){e.technotextWinnersLoading=t},setTechnotextWinners(e,t){e.technotextWinners=t},setYears(e,t){e.years=t},setTechnotextDocForNominees(e,t){e.technotextDocForNominees=t},setTechnotextDocForWinners(e,t){e.technotextDocForWinners=t}},getters:{currentTechnotextApplicationUrl(e){return Boolean(e.technotextInfo&&e.technotextInfo.isActive)&&e.technotextInfo.applicationUrl},docForNominees(e){return e.technotextDocForNominees},docForWinners(e){return e.technotextDocForWinners}},state(){return{years:[],technotextDocForNominees:null,technotextDocForWinners:null,technotextInfo:{},technotextInfoLoading:!1,technotextWinners:{},technotextWinnersLoading:!1}},actions:{loadTechnotextWinners({commit:e},{year:t}){return e("setTechnotextWinners",{}),e("setTechnotextWinnersLoading",!0),tc(t).then((t=>{e("setTechnotextWinners",t)}))},loadTechnotextYears({commit:e,state:t}){return t.years.length?t.years:ec().then((({technotexts:t})=>{e("setYears",t)}))},loadTechnotextInfo({commit:e,rootGetters:t,state:o},{year:n}){if(o.technotextInfo.year===n)return null;e("setTechnotextInfo",{}),e("setTechnotextDocForNominees",null),e("setTechnotextDocForWinners",null),e("setTechnotextInfoLoading",!0);const s=t["i18n/langOptions"];return Jl(n,{...s}).then((t=>{e("setTechnotextInfo",t);const o=[],n=t.docForNominees,a=(n||"").split("/");a[0]&&a[1]&&o.push((0,td.Vk)(a[0],a[1],{...s}).then((t=>{e("setTechnotextDocForNominees",t)})).catch((()=>null)));const i=t.docForWinners,r=(i||"").split("/");return r[0]&&r[1]&&o.push((0,td.Vk)(r[0],r[1],{...s}).then((t=>{e("setTechnotextDocForWinners",t)})).catch((()=>null))),Promise.all(o)})).finally((()=>{e("setTechnotextInfoLoading",!1)}))}}},xd={notifications:"system",mentions:"mentions",subscribers:"subscribers",applications:"applications"};function Fd(e){const{perPage:t,pageNum:o,hl:n,category:s}=e;return(0,Oo.Hm)((0,wo.k)("me/notifications","v2"),{per_page:t,page_num:o,hl:n,category:xd[s]})}function Hd({ids:e,category:t}){return(0,Oo.Q)((0,wo.k)("me/notifications/read","v2"),{ids:e,category:xd[t]})}function Gd(e){const{perPage:t,pageNum:o,byAuthor:n}=e;return(0,Oo.Hm)((0,wo.k)("tracker/publications","v2"),{perPage:t,pageNum:o,byAuthor:n})}function Wd(e){return(0,Oo.Q)((0,wo.k)("tracker/publications/read","v2"),{ids:e})}function Yd(e){return(0,Oo.ZI)((0,wo.k)("tracker/publications","v2"),{ids:e})}const Zd={namespaced:!0,state(){return{notificationsLoading:!1,notificationsList:[],notificationsPageCount:0,pendingMarkNotificationsRead:[],publicationsLoading:!0,publicationsList:[],publicationsPageCount:0,pendingDeletePublications:!1,pendingMarkPublicationsRead:!1}},mutations:{setNotificationsLoading(e,t){e.notificationsLoading=t},setNotificationsData(e,{notificationsList:t,pagesCount:o}){e.notificationsList=t,e.notificationsPageCount=o},setPublicationsLoading(e,t){e.publicationsLoading=t},setPublicationsData(e,{publicationsList:t,pagesCount:o}){e.publicationsList=t,e.publicationsPageCount=o},markNotificationsRead(e,t){e.notificationsList=e.notificationsList.map((e=>t.includes(e.id)||0===t.length?{...e,unread:!1}:e))},setDeletePublicationsPending(e,t){e.pendingDeletePublications=t},setMarkPublicationsReadPending(e,t){e.pendingMarkPublicationsRead=t},setMarkNotificationsReadPending(e,t){e.pendingMarkNotificationsRead=[...e.pendingMarkNotificationsRead,...t]},removeMarkNotificationsReadPending(e,t){e.pendingMarkNotificationsRead=e.pendingMarkNotificationsRead.filter((e=>!t.includes(e)))}},actions:{loadPublications({commit:e},{params:t,silent:o=!1}){return o||(e("setPublicationsLoading",!0),e("setPublicationsData",{publicationsList:[],pagesCount:0})),Gd(t).then((t=>{const{publicationIds:o,publicationRefs:n,pagesCount:s,unreadCounters:a}=t;e("me/setUnreadCounters",a,{root:!0}),e("setPublicationsData",{publicationsList:o.filter((e=>e)).map((e=>n[e])),pagesCount:s})})).finally((()=>{e("setPublicationsLoading",!1)}))},loadNotifications(e,t){const{commit:o}=e;return o("setNotificationsLoading",!0),o("setNotificationsData",{notificationsList:[],pagesCount:0}),Fd(t).then((e=>{const{itemRefs:t,itemIds:n,pagesCount:s,unreadCounters:a}=e;o("setNotificationsData",{notificationsList:n.map((e=>t[e])),pagesCount:s}),o("me/setUnreadCounters",a,{root:!0})})).finally((()=>{o("setNotificationsLoading",!1)}))},async deletePublications({commit:e,dispatch:t},{ids:o,updateParams:n=null}){e("setDeletePublicationsPending",!0);try{const{unreadCounters:s}=await Yd(o);n&&await t("loadPublications",n),e("me/setUnreadCounters",s,{root:!0})}catch(s){throw s}finally{e("setDeletePublicationsPending",!1)}},async markTrackerPublicationsRead({commit:e,dispatch:t},{ids:o,updateParams:n=null}){e("setMarkPublicationsReadPending",!0);try{const{unreadCounters:s}=await Wd(o);n&&await t("loadPublications",n),e("me/setUnreadCounters",s,{root:!0})}catch(s){throw s}finally{e("setMarkPublicationsReadPending",!1)}},markNotificationsAsRead({commit:e},{ids:t=[],category:o}){e("setMarkNotificationsReadPending",t);const n=!(null!==t&&void 0!==t&&t.length)||Boolean(o),s={ids:t};return o&&(s.category=o),Hd(s).then((({unreadCounters:o})=>{e("markNotificationsRead",n?[]:t),e("me/setUnreadCounters",o,{root:!0})})).finally((()=>{e("removeMarkNotificationsReadPending",t)}))}},getters:{pendingMarkNotificationsRead:e=>t=>e.pendingMarkNotificationsRead.includes(t)}};var qd=o(38335);const Kd={namespaced:!0,state(){return{user:null,uuid:null,ppgDemanded:!1,karmaResetInfo:{canReincarnate:null,wasReincarnated:null,currentScore:null},notes:null,userUpdates:{feeds:{newPostsCount:null,newThreadsCount:null,newNewsCount:null,newCount:null},conversationUnreadCount:0}}},getters:{isLoggedIn(e){return Boolean(e.user)},isSuperAdmin(e){return e.user&&-1!==e.user.groups.indexOf("super")},isCorrector(e){return e.user&&-1!==e.user.groups.indexOf("corrector")},isModerator(e){return e.user&&-1!==e.user.groups.indexOf("moderator")},isReadOnly(e){return e.user&&-1!==e.user.groups.indexOf("readonly")},isCommentsManual(e){return e.user&&-1!==e.user.groups.indexOf("comments_manual")},isReadOnlyOrReadAndComment(e){return e.user&&(-1!==e.user.groups.indexOf("readonly")||-1!==e.user.groups.indexOf("comments_manual")||-1!==e.user.groups.indexOf("comments"))},isReadOnlyOrCommentsManual(e,t){return e.user&&(t.isReadOnly||t.isCommentsManual)},userAlias(e){return e.user&&e.user.alias},userShowAdv(e){return!e.user||e.user&&!e.user.settings.miscSettings.hideAdv},userGaType(e,t){return t.isLoggedIn?-1!==e.user.groups.indexOf("comments_manual")||-1!==e.user.groups.indexOf("comments")?"readcomment":-1!==e.user.groups.indexOf("readonly")?"readonly":"habrauser":"guest"},ppaBalance(e){return e.user?e.user.ppaBalance:null},lastKarmaResetDate:e=>e.karmaResetInfo.wasReincarnated,karmaResetScore:e=>e.karmaResetInfo.currentScore,canCancelKarmaReset:({karmaResetInfo:e})=>e.canReincarnate,notesList:e=>e.notes?e.notes.noteIds.map((t=>e.notes.noteRefs[t])):[],notesPagesCount:e=>e.notes&&e.notes.pagesCount,rssKey(e){return e.user&&e.user.rssKey},companiesAdmin(e){return e.user&&e.user.companiesAdmin},hasJoinedBetaTesting(e){return e.user&&e.user.groups.includes("tester")},canSendComplaint(e,t){return e.user&&e.user.settings.permissionSettings.canAddComplaints||t.isSuperAdmin},notices(e){return e.user?e.user.notices:[]},canPostVoice(e){return e.user&&e.user.settings.permissionSettings.canCreateVoices},useMarkdownInComments(e){return e.user&&e.user.settings.miscSettings.useMarkdownInComments},useMarkdownInArticles(e){return e.user&&e.user.settings.miscSettings.useMarkdownInArticles},useMarkdownInPosts(e){return e.user&&e.user.settings.miscSettings.useMarkdownInPosts},blockReasonWithDate(e){var t;return null===(t=e.user)||void 0===t?void 0:t.block},notificationUnreadCounters(e){var t;return(null===(t=e.user)||void 0===t?void 0:t.notificationUnreadCounters)||null},totalUnreadNotifications(e){var t,o;return(null===(t=e.user)||void 0===t||null===(o=t.notificationUnreadCounters)||void 0===o?void 0:o.total)||0},karma(e){var t,o;return(null===(t=e.user)||void 0===t||null===(o=t.scoreStats)||void 0===o?void 0:o.score)||0},unreadConversations(e){var t;return(null===(t=e.userUpdates)||void 0===t?void 0:t.conversationUnreadCount)||0},hasNewPublicationsBySubscription(e){var t,o;return(null===(t=e.userUpdates)||void 0===t||null===(o=t.feeds)||void 0===o?void 0:o.newCount)>0}},mutations:{setUser(e,t){e.user=t},setUserUpdates(e,t){e.userUpdates.conversationUnreadCount=t.conversationUnreadCount,e.userUpdates.feeds=t.feeds,e.user={...e.user,notificationUnreadCounters:{...e.user.notificationUnreadCounters,total:t.trackerUnreadCount}}},setUserFeedUpdates(e,t){e.userUpdates.feeds={...e.userUpdates.feeds,...t}},setUUID(e,t){e.uuid=t},setPPGDemanded(e,t){e.ppgDemanded=t},setChargeSettings(e,t){e.user.settings.chargeSettings=t},decrementPostsCharge(e){e.user.settings.chargeSettings={...e.user.settings.chargeSettings,postVoteCount:e.user.settings.chargeSettings.postVoteCount-1}},decrementCommentsCharge(e){e.user.settings.chargeSettings={...e.user.settings.chargeSettings,commentVoteCount:e.user.settings.chargeSettings.commentVoteCount-1}},setKarmaResetInfo(e,t){e.karmaResetInfo=t},setUserNotes(e,t){e.notes=t},setHasJoinedBetaTesting(e,t){if(t){const t=new Set(e.user.groups);t.add("tester"),e.user.groups=Array.from(t)}else e.user.groups=e.user.groups.filter((e=>"tester"!==e))},setAvailableInvitesCount(e,t){e.user.availableInvitesCount=t},setUserUseMarkdown(e,t){e.user.settings.miscSettings={...e.user.settings.miscSettings,...t}},setUnreadCounters(e,t){e.user&&(e.user={...e.user,notificationUnreadCounters:t})}},actions:{init({commit:e,getters:t,dispatch:o},n){return t.isLoggedIn&&!n?Promise.resolve(null):(0,qd.jo)().then((t=>t?(e("setUser",t),t.ppg&&e("setPPGDemanded",!0),o("logUserToGA"),t):null))},loadKarmaResetInfo({commit:e}){return(0,qd.t)().then((t=>{e("setKarmaResetInfo",t)}))},loadUpdates({commit:e,getters:t}){return t.isLoggedIn?(0,qd.sY)().then((t=>{e("setUserUpdates",t)})).catch((e=>{(0,Vc.T)(e)})):Promise.resolve(null)},cancelKarmaReset({dispatch:e}){return(0,qd.J5)().then((()=>e("loadKarmaResetInfo")))},resetKarma({dispatch:e}){return(0,qd.lW)().then((()=>e("loadKarmaResetInfo")))},loadMyUserNotes({commit:e},{route:t}){const o={page:t.params.pageNum||1};return(0,qd.TR)(o).then((t=>{e("setUserNotes",t)}))},toggleBetaTestParticipation({commit:e}){return xm().then((({betaTester:t})=>{e("setHasJoinedBetaTesting",t)}))},setPPGDemanded({commit:e},t){e("setPPGDemanded",t)},issueInviteByUserAlias({state:e,commit:t},o){return(0,Hc.HM)(o).then((()=>{t("setAvailableInvitesCount",e.user.availableInvitesCount-1)}))},updateUseMarkdown({commit:e},t){return(0,Hc.K9)(t).then((t=>{e("setUserUseMarkdown",t)}))},getUUID({commit:e}){return(0,qd.Fs)().then((t=>{e("setUUID",t.uuid)})).catch((()=>null))}}},jd={namespaced:!0,modules:{contributionRefs:Qm},actions:{loadUserHubsContributions({state:e,commit:t},{login:o}){const n=o,s=n.toLowerCase(),a={page:1,perPage:10};return e.contributionRefs.hubIds[s]?e.contributionRefs.hubIds[s]:(0,Hc.V6)(n,a).then((e=>{t("setHubsContribution",{hubs:e,key:s})}))}}},zd={namespaced:!0,state(){return{availableInvites:0,usedInvitesIds:[],usedInvitesRefs:{},usedInvitesPagesCount:0,unusedInvitesIds:[],unusedInvitesRefs:{},unusedInvitesPagesCount:0}},getters:{usedInvites:e=>e.usedInvitesIds.length?e.usedInvitesIds.map((t=>e.usedInvitesRefs[t])):[],unusedInvites:e=>e.unusedInvitesIds.length?e.unusedInvitesIds.map((t=>e.unusedInvitesRefs[t])):[]},mutations:{setAvailableInvites(e,t){e.availableInvites=t},setUsedInvites(e,{userIds:t,userRefs:o,pagesCount:n}){e.usedInvitesIds=t,e.usedInvitesRefs={...e.usedInvitesRefs,...o},e.usedInvitesPagesCount=n},setUnusedInvites(e,{inviteIds:t,inviteRefs:o,pagesCount:n}){e.unusedInvitesIds=t,e.unusedInvitesRefs={...e.unusedInvitesRefs,...o},e.unusedInvitesPagesCount=n},revokeInvite(e,t){e.unusedInvitesIds.splice(t,1)},clearState(e){e.availableInvites=0,e.sedInvitesIds=[],e.usedInvitesRefs=null,e.usedInvitesPagesCount=0,e.unusedInvitesIds=[],e.unusedInvitesRefs=null,e.unusedInvitesPagesCount=0}},actions:{loadInvitesList({commit:e}){return Promise.all([(0,qd.sE)(),(0,qd.KW)(),(0,qd.iX)()]).then((([t,o,n])=>{const{availableInvitesCount:s}=t;return e("setAvailableInvites",s),e("setUsedInvites",o),e("setUnusedInvites",n),{usedInvites:o,unusedInvites:n}}))},loadMoreUsedInvites({commit:e,state:t},o){return(0,qd.KW)(o).then((o=>{const n=[...t.usedInvitesIds,...o.userIds];e("setUsedInvites",{...o,userIds:n})}))},loadMoreUnusedInvites({commit:e,state:t},o){return(0,qd.iX)(o).then((o=>{const n=[...t.unusedInvitesIds,...o.inviteIds];e("setUnusedInvites",{...o,inviteIds:n})}))},putInvite({commit:e},t){return(0,qd.HM)(t).then((({inviteCount:t})=>{e("setAvailableInvites",t)}))},revokeInvite({commit:e},{id:t,index:o}){return(0,qd.jA)(t).then((({inviteCount:t})=>{e("setAvailableInvites",t),e("revokeInvite",o)}))},clearState({commit:e}){e("clearState")}}};function Qd(e){const t=e?Uc.F9:Uc.w1,o=e?Uc.Ps:Uc.Nj;return{addToFavorites:t,removeFromFavorites:o}}const Xd={namespaced:!0,state(){return{karmaVotesList:[],karmaVotesPagesCount:null,karmaVotesListLoading:!1,commentsVotesList:[],commentsVotesPagesCount:null,commentsVotesListLoading:!1,postsVotesList:[],postsVotesPagesCount:null,postsVotesListLoading:!1,userVotesList:[],userVotesPagesCount:null,userVotesListLoading:!1}},mutations:{setKarmaVotesListLoading(e,t){e.karmaVotesListLoading=t},setKarmaVotes(e,{votes:t,pagesCount:o}){e.karmaVotesList=t,e.karmaVotesPagesCount=o},setCommentsVotesListLoading(e,t){e.commentsVotesListLoading=t},setCommentsVotes(e,{list:t,pagesCount:o}){e.commentsVotesList=t,e.commentsVotesPagesCount=o},setVotedCommentFavorite(e,{commentId:t,isFavorite:o}){const n=e.commentsVotesList.find((({id:e})=>t===e));n.isFavorite=o},setPostsVotesListLoading(e,t){e.postsVotesListLoading=t},setPostsVotes(e,{list:t,pagesCount:o}){e.postsVotesList=t,e.postsVotesPagesCount=o},setBookmarked(e,{articleId:t,shouldBookmarked:o}){const n=e.postsVotesList.find((({id:e})=>e===t));if(!n)return;const{relatedData:s,statistics:a}=n;a.favoritesCount=o?a.favoritesCount+1:a.favoritesCount-1,s.bookmarked=o},setUserVotes(e,{votes:t,pagesCount:o}){e.userVotesList=t,e.userVotesPagesCount=o},setUserVotesListLoading(e,t){e.userVotesListLoading=t}},actions:{loadKarmaVotes({commit:e},{login:t,query:o}){return e("setKarmaVotesListLoading",!0),(0,Hc.GL)(t,o).then((t=>{e("setKarmaVotes",t)})).finally((()=>{e("setKarmaVotesListLoading",!1)}))},loadCommentsVotes({commit:e},{login:t,query:o}){return e("setCommentsVotesListLoading",!0),(0,Hc.yG)(t,o).then((t=>{e("setCommentsVotes",{list:t.commentIds.map((e=>t.commentRefs[e])),pagesCount:t.pagesCount})})).finally((()=>{e("setCommentsVotesListLoading",!1)}))},setVotedCommentFavorite({commit:e},{publicationId:t,commentId:o,isFavorite:n,isPost:s}){const{addToFavorites:a,removeFromFavorites:i}=Qd(s);return n?a({publicationId:t,commentId:o}).then((()=>{e("setVotedCommentFavorite",{commentId:o,isFavorite:n})})):i({publicationId:t,commentId:o}).then((()=>{e("setVotedCommentFavorite",{commentId:o,isFavorite:n})}))},loadPostsVotes({commit:e},{login:t,query:o}){return e("setPostsVotesListLoading",!0),(0,Hc.Hm)(t,o).then((t=>{e("setPostsVotes",{list:t.articleIds.map((e=>t.articleRefs[e])),pagesCount:t.pagesCount})})).finally((()=>{e("setPostsVotesListLoading",!1)}))},loadUserVotes({commit:e},{login:t,query:o}){return e("setUserVotesListLoading",!0),(0,Hc.Yv)(t,o).then((t=>{e("setUserVotes",t)})).finally((()=>{e("setUserVotesListLoading",!1)}))}}},Jd={namespaced:!0,state(){return{authorRefs:{},authorIds:{},pagesCount:{},authorProfiles:{},userHubs:{},userInvitations:{},authorFollowers:{},authorFollowed:{},userSpecialization:{},karmaStats:[],statistics:null,isLoading:!1,authorFollowersLoading:!1,authorFollowedLoading:!1,userHubsLoading:!1,userInvitationsLoading:!1,route:{}}},getters:{getUserByAlias:e=>t=>e.authorRefs[t.toLowerCase()]||null,getProfileInfo:e=>t=>e.authorProfiles[t.toLowerCase()]||null,getUserInvitations:e=>t=>e.userInvitations[t.toLowerCase()]||null,getUserHubs:e=>t=>e.userHubs[t.toLowerCase()]||null,getUserSpecialization:e=>t=>e.userSpecialization[t.toLowerCase()]||null},mutations:{setAuthorRefs(e,t){e.authorRefs={...e.authorRefs,...t}},setAuthorIds(e,{routeKey:t,authorIds:o}){e.authorIds={...e.authorIds,[t]:o}},setUserInfo(e,{userAlias:t,userData:o}){const n=t.toLowerCase();e.authorRefs={...e.authorRefs,[n]:{...e.authorRefs[n],...o}}},setUserKarmaData(e,{userAlias:t,karmaData:o}){e.authorRefs={...e.authorRefs,[t]:{...e.authorRefs[t],scoreStats:o.scoreStats,relatedData:{...e.authorRefs[t].relatedData,vote:o.vote}}}},setProfileInfo(e,{profileData:t,userAlias:o}){e.authorProfiles={...e.authorProfiles,[o]:{...e.authorProfiles[o],...t}}},setPagesCount(e,{routeKey:t,pagesCount:o}){e.pagesCount={...e.pagesCount,[t]:o}},clearAuthors(e,t){e.authorIds[t]&&(e.authorIds[t]=[])},setLoading(e,t){e.isLoading=t},setRouteCache(e,t){e.route.name=t.name,e.route.params=t.params,e.route.query=t.query},setSubscriptionStatus(e,{alias:t,isSubscribed:o}){e.authorRefs[t.toLowerCase()].relatedData.isSubscribed=o},setFollowersCount(e,{alias:t,count:o}){e.authorRefs[t].followStats.followersCount=o},setUsersStatisticsData(e,t){e.statistics=t},setUsersKarmaStatsData(e,t){e.karmaStats=t},setUserFollowers(e,{alias:t,data:o}){e.authorFollowers={...e.authorFollowers,[t]:o}},setUserFollowersLoading(e,t){e.authorFollowersLoading=t},setUserFollowed(e,{alias:t,data:o}){e.authorFollowed={...e.authorFollowed,[t]:o}},setUserFollowedLoading(e,t){e.authorFollowedLoading=t},setUserInvitationsLoading(e,t){e.userInvitationsLoading=t},setUserInvitations(e,{invitations:t,alias:o,page:n}){const s=e.userInvitations[o]||{},a=s.invitationsRefs||{};e.userInvitations={...e.userInvitations,[o]:{invitationsRefs:{...a,...t.userRefs},pagesCount:t.pagesCount,currentPage:n}}},setUserHubsLoading(e,t){e.userHubsLoading=t},setUserSpecialization(e,{specialization:t,alias:o}){e.userSpecialization={...e.userSpecialization,[o]:t}},setUserHubs(e,{hubs:t,alias:o,page:n}){const s=e.userHubs[o]||{},a=s.hubRefs||{};e.userHubs={...e.userHubs,[o]:{hubRefs:{...a,...t.hubRefs},pagesCount:t.pagesCount,currentPage:n}}}},actions:{loadUserInfo({commit:e,state:t,rootGetters:o},{alias:n,snippet:s,force:a}){const i=n.toLowerCase(),r=t.authorRefs[i],l=o["pullRefresh/getRefreshState"],c=o["i18n/langOptions"],m=o["me/userAlias"],d=m?m.toLowerCase():null,u=o["me/isLoggedIn"],p=i===d;if(r&&r.counterStats&&!l&&!a)return Promise.resolve(r);if(s&&!a){const t=s.alias.toLowerCase();return e("setUserInfo",{userAlias:t,userData:s}),s}return Promise.all([(0,Hc.bG)(n,c),...u&&!p?[(0,Hc.jS)(n)]:[]]).then((([t,o])=>{const n=t.alias.toLowerCase(),a={...r,...s,...t,note:o};return e("setUserInfo",{userAlias:n,userData:a}),a}))},loadUserSpecialization({commit:e,state:t},{alias:o}){const n=o.toLowerCase(),s=t.userSpecialization[n];return s?Promise.resolve(s):(0,Hc.Es)(n).then((t=>{e("setUserSpecialization",{specialization:t,alias:n})})).catch((e=>{throw e}))},loadUserInvitations({commit:e,state:t},{alias:o,page:n=1}){const s=o.toLowerCase(),a=t.userInvitations[s];return a&&a.currentPage>=n?Promise.resolve(a):(e("setUserInvitationsLoading",!0),(0,Hc.OR)(s,{page:n}).then((t=>{e("setUserInvitations",{invitations:t,alias:s,page:n}),e("setUserInvitationsLoading",!1)})).catch((t=>{throw e("setUserInvitationsLoading",!1),t})))},loadUserHubs({commit:e,state:t},{alias:o,page:n=1}){const s=o.toLowerCase(),a=t.userHubs[s];return a&&a.currentPage>=n?Promise.resolve(a):(e("setUserHubsLoading",!0),(0,Hc.YI)(s,{page:n}).then((t=>{e("setUserHubs",{hubs:t,alias:s,page:n})})).finally((()=>{e("setUserHubsLoading",!1)})))},loadProfileInfo({commit:e,state:t,rootGetters:o},n){const s=o["i18n/langOptions"],a=t.authorProfiles[n],i=o["pullRefresh/getRefreshState"];return a&&!i?Promise.resolve(a):Promise.all([(0,Hc.Lt)(n,s),(0,Hc.LD)(n)]).then((([o,s])=>{const a=n.toLowerCase(),i={...t.authorProfiles[a],...o,companies:s};return e("setProfileInfo",{profileData:i,userAlias:a}),o}))},searchUsers({state:e,commit:t},{route:o}){const n={...o.query,page:o.params.pageNum||1},s=(0,Ts.Z)(o),a=e.authorIds[s],i=Boolean(Object.keys(o.query).length),r=JSON.stringify(e.route.query)===JSON.stringify(o.query),l=JSON.stringify(e.route.params)===JSON.stringify(o.params);return!!(r&&a&&l)||(i&&!r&&t("clearAuthors",s),t("setLoading",!0),(0,Hc.d9)(n).then((({userRefs:e,userIds:n,pagesCount:a})=>(t("setAuthorRefs",e),t("setAuthorIds",{routeKey:s,authorIds:n}),t("setPagesCount",{routeKey:s,pagesCount:a}),t("setRouteCache",o),t("setLoading",!1),{userRefs:e,userIds:n,pagesCount:a}))))},loadUsers({state:e,commit:t,rootGetters:o},{route:n}){const s={...n.query,page:n.params.pageNum||1},{q:a}=n.query,i=(0,Ts.Z)(n),r=e.authorIds[i],l=Boolean(Object.keys(n.query).length),c=JSON.stringify(e.route.query)===JSON.stringify(n.query),m=n.params.hubName||n.params.flowName;if(r&&r.length&&c&&!a&&!m)return!0;(l&&!c||m)&&t("clearAuthors",i),t("setLoading",!0);let d=a?Hc.d9:Hc.Fp;const u=[{...s,...o["i18n/langOptions"]}];return a||(n.params.flowName&&(d=Pm,u.unshift(n.params.flowName)),n.params.hubName&&(d=Lm.yp,u.unshift(n.params.hubName))),d(...u).then((({authorRefs:e,authorIds:o,userRefs:s,userIds:r,pagesCount:l})=>{t("setAuthorRefs",e||s),t("setAuthorIds",{routeKey:i,authorIds:o||r}),t("setPagesCount",{routeKey:i,pagesCount:a?1:l}),t("setRouteCache",n),t("setLoading",!1)}))},toggleSubscribeStatus({commit:e},{alias:t,isSubscribed:o}){return e("setSubscriptionStatus",{alias:t,isSubscribed:!o}),(0,Hc.JI)(t).then((({isSubscribed:o})=>{e("setSubscriptionStatus",{alias:t,isSubscribed:o})}))},updateFollowersCounter({commit:e,state:t},o){const n=o.toLowerCase(),{isSubscribed:s}=t.authorRefs[n].relatedData,{followersCount:a}=t.authorRefs[n].followStats,i=s?a+1:a-1;e("setFollowersCount",{alias:n,count:i})},addUserNote({commit:e,state:t},{alias:o,note:n}){return(0,Hc.C1)(o,{text:n.text}).then((n=>{const s=o.toLowerCase(),a={...t.authorRefs[s],note:n};e("setUserInfo",{userAlias:s,userData:a})}))},updateKarmaInfo({commit:e},{userAlias:t,karmaData:o}){const n=t.toLowerCase();e("setUserKarmaData",{userAlias:n,karmaData:o})},loadUsersStatistics({state:e,commit:t}){return e.statistics?e.statistics:(0,Hc.xS)().then((e=>(t("setUsersStatisticsData",e),e)))},loadKarmaStats({state:e,commit:t}){return e.karmaStats.length?Promise.resolve():(0,Hc.xm)().then((e=>t("setUsersKarmaStatsData",e)))},loadUserFollowers({commit:e},t){const o=t.params.login.toLowerCase(),n=t.params.pageNum||1;return e("setUserFollowersLoading",!0),(0,Hc.dX)(o,{page:n}).then((t=>{e("setUserFollowers",{alias:o,data:t}),e("setUserFollowersLoading",!1)}))},loadUserFollowed({commit:e},t){const o=t.params.login.toLowerCase(),n=t.params.pageNum||1;return e("setUserFollowedLoading",!0),(0,Hc.Ct)(o,{page:n}).then((t=>{e("setUserFollowed",{alias:o,data:t}),e("setUserFollowedLoading",!1)}))}}};var eu=o(17187);const tu=em.Z,ou={SCROLL:"scroll"},nu=new eu.EventEmitter;function su(){nu.emit(ou.SCROLL)}if(tu.addEventListener){const e=100,t=a()(su,e);tu.addEventListener("scroll",t)}function au(e){nu.on(ou.SCROLL,e)}var iu=o(30121);const ru={namespaced:!0,state(){return{prevScrollY:{},scrollY:0,width:0}},mutations:{setPrevScrollY(e,{prevScrollY:t,fullPath:o}){e.prevScrollY[o]=t},setScrollY(e,t){e.scrollY=t},setWidth(e,t){e.width=t}},actions:{init({commit:e}){e("setWidth",window.innerWidth),window.addEventListener("resize",(()=>{e("setWidth",window.innerWidth)})),au((()=>{(0,Jc.AD)().then((t=>e("setScrollY",t)))}))},restorePrevScrollY({state:e},{fullPath:t}){e.prevScrollY[t]&&(0,iu.X5)(e.prevScrollY[t])},setPrevScrollY({commit:e,state:t},{fullPath:o}){e("setPrevScrollY",{prevScrollY:t.scrollY,fullPath:o})}}};var lu=o(37281);const cu={namespaced:!0,state(){return{WYSIWYGRulesRefs:null}},mutations:{setWYSIWYGRulesRefs(e,t){e.WYSIWYGRulesRefs=t}},actions:{async getWYSIWYGRulesRefsIfNotExist({commit:e,state:t}){if(!t.WYSIWYGRulesRefs){const{wysiwygRuleRefs:t}=await(0,lu.e)();e("setWYSIWYGRulesRefs",t)}}}},mu={adblock:rm,articlesList:ym,authorContribution:Om,betaTest:Fm,authorStatistics:wm,career:Gm,comments:qc,companies:Wm,companyAdmin:zm,companyAdd:Zm.ZP,companiesContribution:Ym,companyHubsContribution:Xm,conversation:Jm,conversations:ed,docs:nd,feature:id,flows:ld,global:cd,hubs:md,hubsBlock:dd,i18n:_d,info:Ed,location:Sd,me:Kd,mostReadingList:Cd,ppa:kd,projectsBlocks:Ad,promoData:Id,pullRefresh:Pd,sandbox:Bd,search:Od,settingsOther:Md,similarList:Rd,ssr:Vd,stories:Ud,technotext:$d,userHubsContribution:jd,userInvites:zd,userVotes:Xd,users:Jd,viewport:ru,tracker:Zd,events:ad,wysiwyg:cu,publicationStatistics:Nd};function du(){return(0,p.MT)({modules:mu})}var uu=o(13406);const pu={created(){const e=(0,i.getCurrentInstance)();if(!e)return;const t=e.type;if(!t||!("head"in t))return;const o="function"===typeof t.head?()=>t.head.call(e.proxy):t.head;hu(o)}};function hu(e,t={}){const o=(0,l.i)();if(o)return o.ssr?o.push(e,t):_u(o,e,t)}function _u(e,t,o={}){const n=(0,i.ref)(!1),s=(0,i.ref)({}),a=(0,i.getCurrentInstance)();(0,i.watchEffect)((()=>{s.value=n.value?{}:Tu(t)}),{flush:"post"});const r=e.push(s.value,o);return(0,i.watch)(s,(e=>{r.patch(e)})),a&&((0,i.onBeforeUnmount)((()=>{r.dispose()})),(0,i.onDeactivated)((()=>{n.value=!0})),(0,i.onActivated)((()=>{n.value=!1}))),r}function gu(e){return"function"===typeof e?e():(0,i.unref)(e)}function Tu(e,t=""){if(e instanceof Promise)return e;const o=gu(e);return e&&o?Array.isArray(o)?o.map((e=>Tu(e,t))):"object"===typeof o?Object.fromEntries(Object.entries(o).map((([e,t])=>"titleTemplate"===e||e.startsWith("on")?[e,(0,i.unref)(t)]:[e,Tu(t,e)]))):o:o}var Eu=o(90928);function Su(){const e=du(),t=Rc(e),o=(0,l.c)();t.isReady().then((()=>$o(t,e)),(e=>{throw e}));const n=(0,i.createSSRApp)({setup(){n.config.globalProperties.$hasHydrated=(0,i.ref)(!1),n.config.globalProperties.$toast=(0,r.pm)();const t="server"==={VUE_APP_RELEASE_VERSION:"2024-04-19-13-44",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.174.0",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV;let o;t&&(o=(0,i.useSSRContext)()),(0,i.onErrorCaptured)((t=>{o?o.error=t:e.dispatch("ssr/showError",{error:t}).catch((()=>{}))}))},render:()=>(0,i.h)(Lo)});return(0,Vc.j)(n,t),n.use(t),n.use(e),n.use(m.ZP),n.use(c.ZP),n.mixin((0,Eu.Z)()),n.use(o),n.mixin(pu),(0,uu.rg)(n),(0,uu.RX)(n),(0,uu.AS)(n),(0,uu.wv)(n),{app:n,router:t,store:e,head:o}}(0,i.configureCompat)({MODE:3,RENDER_FUNCTION:!1,INSTANCE_ATTRS_CLASS_STYLE:!1,GLOBAL_MOUNT_CONTAINER:!1});var Cu=o(13862),vu=o(95916),ku=o(66482),fu=o(77208);function Au(e){const t=[];return(0,ku.shouldPolyfill)()&&t.push(o.e(9616).then(o.bind(o,38210)),o.e(9616).then(o.t.bind(o,1329,23)),o.e(9616).then(o.t.bind(o,66037,23))),(0,fu.shouldPolyfill)()&&(t.push(o.e(9616).then(o.bind(o,74462))),"ru"===e?t.push(o.e(9616).then(o.t.bind(o,45542,23))):t.push(o.e(9616).then(o.t.bind(o,17689,23)))),t}function Iu(e){let t=Promise.resolve();return(0,vu.shouldPolyfill)()&&(t=o.e(9616).then(o.bind(o,31942))),t.then((()=>Promise.all(Au(e))))}var yu=o(47820);function bu(){let e=Promise.resolve();return(0,yu.Z)()||(e=Promise.all([o.e(1830).then(o.t.bind(o,39989,23)),o.e(2341).then(o.t.bind(o,55594,23)).then((e=>{window.fetchStream=e.default}))])),e}var Nu=o(95205);"serviceWorker"in navigator&&(0,Nu.z)("https://habr.com/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Pu=o(45384),Lu=o(92710);const Bu=e=>{const t=(0,Cu.Z)();e.state.global.device!==t&&e.dispatch("global/setDevice",{device:t})},Ou=!0,{app:wu,router:Mu,store:Ru}=Su();wu.config.globalProperties.$isStreaming=!1,(0,uu.Iz)(wu,(0,Lu.parseFeaturesSettings)((0,I.ej)("features")||"")),Fc.v9&&((0,Pu.addComponentTreeToConsoleMethod)("warn"),(0,Pu.addComponentTreeToConsoleMethod)("error")),window.__INITIAL_STATE__&&(Ru.replaceState(window.__INITIAL_STATE__),window.__INITIAL_STATE__=null),window.addEventListener("resize",a()((()=>Bu(Ru)),100),!1),Ru.state.global.isPwa&&"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.active.postMessage({runCache:!0})})),(0,n.av)({username:Ru.state.me.user?Ru.state.me.user.alias:"HABR_GUEST"}),Promise.all([window.i18nFetch,Iu(Ru.state.i18n.hl),bu(),Ru.dispatch("adblock/findOutAdblockStatus")]).then((([e])=>{Ct(e),Mu.isReady().then((()=>{wu.mount("#mount"),Bu(Ru)}),(e=>{throw e}))}));const Vu=e=>{Ou?(0,Vc.T)(e):console.error(e)};wu.config.errorHandler=Vu,Mu.onError=Vu,window.onerror=Vu,window.onunhandledrejection=({reason:e})=>Vu(e)},50780:(e,t,o)=>{"use strict";function n(){return!0}o.d(t,{s:()=>s});const s={required:!0,type:Object,validator:n}},96139:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(11269);function s(e){return(0,n.HD)(e.alias)&&((0,n.HD)(e.avatarUrl)||null===e.avatarUrl||(0,n.HD)(e.image))}const a={required:!0,type:Object,validator:s}},59896:(e,t,o)=>{"use strict";o.d(t,{T:()=>p,j:()=>u});var n=o(12699),s=o(81646),a=o(21577),i=o(51035),r=o(64816),l=o(64487),c=o(44897),m=o.n(c);const d=!0;function u(e,t){(0,a.S)({...m(),app:e,dsn:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",environment:"production",release:"2024-04-19-13-44",integrations:[new n.S,new s.m,new i.gE({routingInstrumentation:(0,r.x)(t)})],allowUrls:d?[/https?:\/\/((www)\.)?(m\.)?habr\.com/,"https://assets.habr.com/habr-web/"]:[]})}function p(e){"string"!==typeof e?"TimeoutError"!==e.name?((0,l.e)((e=>{e.setTag("app_version","2.174.0")})),(0,l.Tb)(e)):(0,l.$e)((t=>{t.setFingerprint(["TimeoutError"]),(0,l.Tb)(e)})):(0,l.$e)((t=>{t.setLevel("info"),(0,l.uT)(e)}))}},79479:(e,t,o)=>{"use strict";o.d(t,{$m:()=>a,Vi:()=>i,ZP:()=>r});var n=o(84962),s=o(57745);const a={agreement:"COMPANY_ADD_AGREEMENT",contacts:"COMPANY_ADD_CONTACTS",tariff:"COMPANY_ADD_TARIFF",company:"COMPANY_ADD_COMPANY",requisites:"COMPANY_ADD_REQUISITES"},i=Object.keys(a),r={namespaced:!0,state(){return{currentStep:"",stepsData:{},uncompletedSteps:[],isStepLoading:!0,isStepCommitting:!1,isInitialized:!1,agreementContent:""}},mutations:{setCurrentStep(e,t){e.currentStep=t},setStepData(e,{step:t,stepData:o}){e.stepsData={...e.stepsData,[t]:{...o}}},setUncompletedSteps(e,t){e.uncompletedSteps=t},setStepLoading(e,t){e.isStepLoading=t},setStepCommitting(e,t){e.isStepCommitting=t},setInitialized(e,t){e.isInitialized=t},setAgreementContent(e,t){e.agreementContent=t}},actions:{getCurrentStepData({commit:e,state:t,rootGetters:o}){return e("setStepLoading",!0),"agreement"===t.currentStep?Promise.all([(0,n.LQ)(t.currentStep),(0,s.Vk)("service","company_add_start",{...o["i18n/langOptions"]})]).then((([o,n])=>{e("setStepData",{step:t.currentStep,stepData:o}),e("setAgreementContent",n.content)})).finally((()=>{e("setStepLoading",!1)})):(0,n.LQ)(t.currentStep).then((o=>{const{currentStep:n}=t;e("setStepData",{step:n,stepData:o})})).finally((()=>{e("setStepLoading",!1)}))},commitCurrentStepData({commit:e,state:t},{forceValidation:o}){e("setStepCommitting",!0);const{currentStep:s}=t,a="agreement"===s?{agreementAccepted:!0}:t.stepsData[s];return(0,n.l2)(s,a,o).finally((()=>{e("setStepCommitting",!1)}))},getUncompletedSteps({commit:e}){return(0,n.uV)().then((({steps:t})=>{e("setUncompletedSteps",t)})).catch((e=>{throw e})).finally((()=>{e("setStepLoading",!1),e("setInitialized",!0)}))}},getters:{firstUncompletedStep(e){var t;return null===(t=e.uncompletedSteps)||void 0===t?void 0:t[0]},currentStepIndex(e){return i.findIndex((t=>t===e.currentStep))},nextStep(e,t){return i[t.currentStepIndex+1]},prevStep(e,t){return i[t.currentStepIndex-1]}}}},13406:(e,t,o)=>{"use strict";o.d(t,{AS:()=>u,Iz:()=>m,RX:()=>p,rg:()=>c,wv:()=>d});var n=o(70942),s=o(23002),a=o(33907),i=o(7281),r=o(14857),l=o(92710);function c(e){e.config.globalProperties.$getFeatureFlag=function(e){return(0,l.getFeatureFlag)(e,this.$features)}}function m(e,t){e.config.globalProperties.$features=t}function d(e){e.component("TMSpecs",(0,n.defineAsyncComponent)((()=>o.e(2129).then(o.bind(o,12129))))),e.component("TMSimilarSkills",(0,n.defineAsyncComponent)((()=>o.e(5051).then(o.bind(o,75051))))),e.component("TMMDLeadtext",(0,n.defineAsyncComponent)((()=>o.e(7188).then(o.bind(o,7188))))),e.component("TMAppReset",{components:{TMButtonBase:i.Z},emits:["update:data"],computed:{...(0,a.Se)("i18n",["msg"])},methods:{resetUserApp(e){const t=this.$route.params.appId,o={clientId:t};return(0,r.Uu)(o,t,e).then((t=>{this.$emit("update:data",t),"credentials"===e&&this.$router.replace({...this.$route,params:{...this.$route.params,appId:t.clientId}}),this.$toast.success(this.msg("SETTINGS_SUCCESS"))})).catch((e=>{this.isSubmitLoading=!1,this.$toast.error(e.message)}))}},render(){const e={props:{"style-size":"medium","style-type":"transparent"},class:"tm-user-app__reset-button"},t=(0,n.h)(i.Z,{...e,on:{click:()=>this.resetUserApp("credentials")}},[this.msg("SETTINGS_APP_RESET_CLIENT_ID")]),o=(0,n.h)(i.Z,{...e,on:{click:()=>this.resetUserApp("apikey")}},[this.msg("SETTINGS_APP_RESET_API_KEY")]),s=(0,n.h)("p",{class:"tm-user-app__reset-hint"},[this.msg("SETTINGS_APP_RESET_HINT")]);return(0,n.h)("div",{class:"tm-user-app__reset"},[t,o,s])}})}function u(e){e.config.globalProperties.$isServer="server"==={VUE_APP_RELEASE_VERSION:"2024-04-19-13-44",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.174.0",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV}function p(e){const t=(e,t)=>!t.some((t=>t.type===e.type&&t.content===e.content))&&e,o={closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!1,position:"top-center",draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:!1,newestOnTop:!0,icon:!1,filterBeforeCreate:t};e.use(s.ZP,o)}},56842:(e,t,o)=>{"use strict";o.d(t,{Q:()=>s});var n=o(73313);const s=(e,t,o)=>{const s=(0,n.o)(e),a="news"===e.postType,i="megaproject"===e.postType,r=e.hubs.filter((e=>"corporative"===e.type)),l=r.length&&r[0].alias;let c=`/${o}/articles/${t}/`;return a&&(c=`/${o}/news/${t}/`),e.isCorporative&&(c=`/${o}/companies/${l}/articles/${t}/`),a&&e.isCorporative&&(c=`/${o}/companies/${l}/news/${t}/`),s&&(c=`/${o}/posts/${t}/`),s&&e.isCorporative&&(c=`/${o}/companies/${l}/posts/${t}/`),i&&(c=`/${o}/specials/${t}/`),c}},73833:(e,t,o)=>{"use strict";o.d(t,{r:()=>n});const n=e=>[{label:e("NAV_COMPLEXITY"),value:"ARTICLES_LIST_COMPLEXITY",children:[{label:e("NAV_ALL"),params:{}},{label:e("NAV_COMPLEXITY_LOW"),params:{complexity:"easy"}},{label:e("NAV_COMPLEXITY_MEDIUM"),params:{complexity:"medium"}},{label:e("NAV_COMPLEXITY_HIGH"),params:{complexity:"hard"}}]}]},1714:(e,t,o)=>{"use strict";o.d(t,{e:()=>s});var n=o(3682);const s={beforeMount(e){(0,n.Z)(e)},mounted(e){n.Z.update(e)},updated(e){n.Z.update(e)},unmounted(e){n.Z.destroy(e)}}},25109:(e,t,o)=>{"use strict";o.d(t,{P:()=>n});const n=(e,t)=>{const o=Object.keys(t),n=[];return o.forEach((o=>{const s=t[o];if(s)if(Array.isArray(s))s.forEach((t=>{n.push(`${e}_${o}-${t}`)}));else{const t="boolean"===typeof s?o:`${o}-${s}`;n.push(`${e}_${t}`)}})),[e,n]}},13370:(e,t,o)=>{"use strict";function n(e){return e?"https://career.habr.com/companies/{company}/vacancies".replace("{company}",e):"https://career.habr.com/catalog"}function s(e){return e?"https://career.habr.com/education_centers/{company}/active_courses".replace("{company}",e):"https://career.habr.com/education_centers"}o.d(t,{B:()=>s,M:()=>n})},85725:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var n=o(70942);function s(e,t=!1){const o=(0,n.unref)(e.params);let s=(0,n.unref)(e.name);const a=o.flowName||o.hubName||o.login||o.name,i=!t&&o.pageNum&&1!==o.pageNum?o.pageNum:null,r=o.score,l=o.period,c=o.complexity,m=o.categoryAlias,d=o.nomination,u=o.year,p=[a,r,l,i,c,m,d,u].filter(Boolean);return s=p.length?`${s}_${p.join("_")}`:s,s.toUpperCase()}},85993:(e,t,o)=>{"use strict";o.d(t,{O:()=>a});var n=o(11125);const s=(e,t)=>{const o=e.parentElement&&"FIGURE"===e.parentElement.tagName,n=e.getAttribute("inline");if((o||n)&&(e.setAttribute("src","/img/no-image.png"),e.setAttribute("width",24),e.setAttribute("height",24),e.setAttribute("title",t),e.removeAttribute("data-blurred"),o)){const o=document.createElement("div");o.setAttribute("class","tm-empty-image");const n=document.createElement("span");n.innerText=t,o.append(e.cloneNode(!0)),o.append(n),e.replaceWith(o)}},a=(e,t)=>{const o=(0,n.Jx)(e),a=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){let o=e.target,s=new Image;const i=(0,n.V0)(o.getAttribute("data-src")||o.src);s.setAttribute("src",i);const r=()=>{"/img/image-loader.svg"===o.getAttribute("src")&&o.removeAttribute("src"),o.setAttribute("src",i);const e=o.getAttribute("data-width");e&&o.setAttribute("width",e),setTimeout((()=>{o.removeAttribute("data-blurred"),s.removeEventListener("load",r),s.removeEventListener("error",l),s=null,o=null}),0)},l=()=>{o.setAttribute("src",null),o.setAttribute("alt",t),o.removeAttribute("data-blurred"),s.removeEventListener("load",r),s.removeEventListener("error",l),s=null,o=null};s.addEventListener("load",r),s.addEventListener("error",l),a.unobserve(e.target)}}))}),{rootMargin:"500px"});return o.forEach((e=>{const o=e.getAttribute("data-src"),n=e.getAttribute("src");if(n||s(e,t),o){const t=o.split(".").pop(),n=["jpg","jpeg"];-1!==n.indexOf(t)&&a.observe(e)}})),()=>a.disconnect()}},4788:(e,t,o)=>{"use strict";function n(e){if(!e)throw new Error("Missed spoilerBlock param!");const t=e.querySelector(".spoiler_title"),o=()=>{e.classList.toggle("spoiler_open")};return t.addEventListener("click",o),()=>{t.removeEventListener("click",o)}}o.d(t,{y:()=>l});const s=()=>o.e(7417).then(o.bind(o,22116)),a=e=>s().then((t=>t.default(e)));function i(e){const t=document.createElement("div");t.className="table table_wrapped",t.appendChild(e.cloneNode(!0)),e.parentNode.replaceChild(t,e)}function r(e){const t=document.createElement("iframe"),o=e.getAttribute("id");t.setAttribute("frameborder",0),t.setAttribute("scrolling","no"),t.setAttribute("allowfullscreen",!0);const n=e.getAttribute("data-src");if(n&&t.setAttribute("src",n),t.setAttribute("style",e.getAttribute("data-style")),t.setAttribute("width",e.getAttribute("width")),t.setAttribute("id",o),e.parentNode.replaceChild(t,e),o.match(/^habrQuiz\d+$/)){var s,a;const e=o.replace("habr","init");null===(s=(a=window)[e])||void 0===s||s.call(a)}}const l=e=>{const t=e.querySelectorAll(".tm-iframe_temp"),o=e.querySelectorAll("table"),s=e.querySelectorAll("pre code"),l=e.querySelectorAll("div.spoiler");s.length&&[...s].forEach(a),l.length&&[...l].forEach(n),t.length&&[...t].forEach(r),o.length&&[...o].forEach(i)}},47820:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var n=o(35275);function s(){return n.Qg&&!n.Cg&&window.ReadableStream}},56606:(e,t,o)=>{"use strict";o.d(t,{Hs:()=>c,Lr:()=>m,Yw:()=>l});var n=o(70953);const s="light",a="system",i="dark",r="theme";function l(){return(0,n.ej)(r)?(0,n.ej)(r):s}function c(e){(0,n.d8)(r,e,{expires:365})}function m(e){const t=document.querySelector("#dark-colors"),o=document.querySelector("#light-colors");e===a?(o.media="(prefers-color-scheme: light)",o.disabled=!1,t.media="(prefers-color-scheme: dark)",t.disabled=!1):e===s?(o.media="all",o.disabled=!1,t.media="not all",t.disabled=!0):e===i&&(t.media="all",t.disabled=!1,o.media="not all",o.disabled=!0)}},51737:(e,t,o)=>{"use strict";o.d(t,{_6:()=>a,dE:()=>l,ev:()=>i,ve:()=>r});var n=o(87575);function s(e){Object.assign(e.meta,{isRedirected:!0})}function a(e){Object.assign(e.meta,{isRedirected:!1})}function i(e){var t;return null===(t=e.meta)||void 0===t?void 0:t.isRedirected}function r(e){var t;return!1===(null===(t=e.meta)||void 0===t?void 0:t.isRedirected)}function l(e,t,o){e.hash&&(0===e.hash.indexOf("#comment")||(0,n.rG)(e.hash))&&s(e),o()}},95865:(e,t,o)=>{"use strict";o.d(t,{J7:()=>S,RC:()=>E,bP:()=>l,lp:()=>C,v2:()=>a});var n=o(27204),s=o(66676);const a=e=>{const[,t]=e.getAttribute("name").split("comment_");return t},i=e=>e.offsetParent,r=()=>{const e=Array.from(document.querySelectorAll("[data-comment-new]"));if(0===e.length)return[];const t=e.filter(i);return 0===t.length?e:t},l=()=>{const e=r();return 0===e.length?null:e[0]},c=()=>Array.from(document.querySelectorAll("[data-selected-comment]")).forEach((e=>{delete e.dataset.selectedComment})),m=e=>{e.dataset.selectedComment="true"},d=e=>{c(),m(e)},u=()=>document.querySelector("[data-selected-comment]"),p=()=>{const{top:e}=document.documentElement.getBoundingClientRect(),t=window.scrollY-Math.abs(e);return t<5},h=()=>{const e=r();if(0===e.length)return null;let t;if(p())t=e.indexOf(u())-1;else{const o=(0,s.p)(e);if(!o)return null;t=e.indexOf(o)-1}return e[t]||e[e.length-1]},_=()=>{const e=r();if(0===e.length)return null;let t;if(p())t=e.indexOf(u())+1;else{const o=(0,s.p)(e);if(!o)return null;const n=0===o.getBoundingClientRect().top,a=e.indexOf(o);t=n?a+1:a}return e[t]||e[0]},g=e=>e?i(e)?e:g(e.parentElement):null,T=e=>t=>{if(t instanceof n.Fv){const t=g(e).querySelector("[data-comment-collapsed-thread]");(0,n.Jn)(t,"start")}},E=e=>{if(e.parentElement){const t=e.parentElement.querySelector("[data-comment-header]");t&&t.focus()}},S=()=>{const e=_();e&&(0,n.Jn)(e).then((()=>{d(e),E(e)})).catch(T(e))},C=()=>{const e=h();e&&(0,n.Jn)(e).then((()=>{d(e),E(e)})).catch(T(e))}},39520:(e,t,o)=>{"use strict";o.d(t,{Cl:()=>a,Hx:()=>n,Ng:()=>s,Yi:()=>i,ZZ:()=>r});const n=300,s=300,a=300,i=300,r=3e3},14755:(e,t,o)=>{"use strict";o.d(t,{X:()=>i});var n=o(19913);const s={ym:"yandex",ga:"google"};function a(e={}){const{analyticsSettings:t=[]}=e;return t.reduce(((e,{type:t,trackingId:o})=>({...e,[s[t]]:o})),{})}function i(e,t){const{settings:o}=e;if(!o)return;const s=a(o);if(!s)return;const{google:i,yandex:r}=s;i&&(0,n.uK)((()=>{(0,n._k)(i,{name:"company"}),(0,n.Z0)({fullPath:t,trackerName:"company"}),(0,n.gE)("company")})),r&&window.ym&&(window.ym(r,"init",{defer:!0,webvisor:!1,clickmap:!1}),window.ym(r,"hit",t))}},34565:(e,t,o)=>{"use strict";o.d(t,{Kf:()=>l,R0:()=>a,SO:()=>m,eD:()=>c,fd:()=>s,kM:()=>n,yB:()=>r,yK:()=>i});const n=e=>({name:"ARTICLES_LIST_BY_COMPANY",query:{},params:{name:e}});function s(e){return e&&e.settings&&"expired"===e.settings.status}function a(e,t){if(e&&Array.isArray(e.sectors)){const o=e.sectors.map((({title:e})=>e));return[t,...o].join(", ")}return""}function i(e){return e&&e.metadata&&Array.isArray(e.metadata.keywords)?e.metadata.keywords.join(", "):""}const r=new Date(2018,5,1),l=30,c=["postCount","readingCount","commentsCount","favoritesCount","score"],m=(e,t="id")=>e.map((e=>({name:e.title,value:e[t]})))},43059:(e,t,o)=>{"use strict";function n(e){const t=document.createElement("input");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}o.d(t,{Z:()=>n})},21331:(e,t,o)=>{"use strict";function n(e){return e.toISOString().slice(0,10)}function s(e){const t=new Date,o=new Date(t.getTime()-86400*e*1e3);return{date_from:n(o),date_to:n(t)}}function a(e){return+new Date(e)/1e3}function i(e,t){return new Date(e.getTime()+1e3*t*60*60*24)}function r(e){const t=new Date(e);let o=t.getDate();o<10&&(o=`0${o}`);let n=t.getMonth()+1;return n<10&&(n=`0${n}`),`${o}.${n}`}function l(e){const t=new Date(e);return new Date(+t+60*t.getTimezoneOffset()*1e3)}function c(e){const t=new Date(e),o=new Date(0);return o.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),o.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),o.toISOString()}o.d(t,{AH:()=>n,E4:()=>i,Rn:()=>a,bl:()=>c,iH:()=>l,ic:()=>s,l4:()=>r})},61446:(e,t,o)=>{"use strict";function n(e){const t="sandbox"===e.postType?"sandbox":"topic";return`https://habr.com/${t}/edit/${e.id}/`}o.d(t,{B:()=>n})},13862:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a,b:()=>i});const n=768,s=1024,a=()=>{const e=window.innerWidth;return e<n?"mobile":e<s?"tablet":"desktop"},i=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},21676:(e,t,o)=>{"use strict";o.d(t,{i:()=>l,y:()=>c});const n=[];let s=!1;const a={LEFT:50,RIGHT:-50};function i(e){return{delta:e,isLeft:e>a.LEFT,isRight:e<a.RIGHT}}function r(e){return{delta:e}}function l(e){if(n.push(e),!s){let e=0;s=!0,window.addEventListener("touchstart",(t=>{const o=t.changedTouches[0];e=o.pageX})),window.addEventListener("touchmove",(t=>{const o=t.changedTouches[0],s=e-o.pageX,a=r(s);n.forEach((e=>e(a)))})),window.addEventListener("touchend",(t=>{const o=t.changedTouches[0];e-=o.pageX;const s=i(e);n.forEach((e=>e(s)))}))}return e}function c(e){let t=null;n.some(((o,n)=>o===e&&(t=n,!0))),null!==t&&n.splice(t)}},35275:(e,t,o)=>{"use strict";o.d(t,{Cg:()=>r,QO:()=>l,Qg:()=>a,W6:()=>i,Yu:()=>c,v9:()=>s});const n="production",s="development"===n,a="undefined"!==typeof window,i="undefined"===typeof window,r="test"===n,l="https://qna.habr.com",c="https://career.habr.com"},52767:(e,t,o)=>{"use strict";o.d(t,{C5:()=>a,JV:()=>i,TU:()=>s,zg:()=>n.getErrorCode});var n=o(87032);function s(e){const t=(0,n.getErrorCode)(e);return"FORM_ERRORS"===t&&e.data?e.data:null}function a(e,t){var o,s;return"FORM_ERRORS"===(0,n.getErrorCode)(e)&&null!==(o=e.data)&&void 0!==o&&null!==(s=o[t])&&void 0!==s&&s.length?e.data[t][0]:null}function i(e){return e&&e.data instanceof Blob?e.data.text().then((e=>JSON.parse(e))):Promise.resolve(e)}},75846:(e,t,o)=>{"use strict";o.d(t,{W:()=>m});const n=["https://habr.com","https://m.habr.com","https://habrahabr.ru","https://habr.com","https://habr.com"];let s=!1,a=!1;function i(e){return["Control","Meta"].includes(e)}function r(e){i(e.key)&&(s=!1)}function l(e){i(e.key)&&(s=!0)}function c(){a||(document.addEventListener("keyup",r),document.addEventListener("keydown",l),a=!0)}const m=(e,t)=>{c();const o=e.querySelectorAll("a");if(!o.length)return()=>{};const a=[];return o.forEach((e=>{if(-1!==n.indexOf(e.origin)&&!e.hash){const o=o=>{1!==o.button&&(s||t(o,e))};e.addEventListener("click",o),a.push((()=>{e.removeEventListener("click",o)}))}})),()=>{a.forEach((e=>e()))}}},87934:(e,t,o)=>{"use strict";let n,s;o.d(t,{O:()=>a,j:()=>i});const a=e=>(n||(n=new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"})),n.format(e)),i=e=>(s||(s=new Intl.NumberFormat("en-US",{useGrouping:!1,signDisplay:"exceptZero"})),s.format(e))},99343:(e,t,o)=>{"use strict";o.d(t,{I$:()=>a,Pr:()=>s,Ro:()=>n,aF:()=>i});const n={post:"tm_block_top_daily_post_post",comment:"tm_block_top_daily_post_comment"},s="tm_block_similar_post_common",a=(e,t)=>{const o="top_daily"===e?"topdaily_post":"similar_post";return`tm_block_${o}_${t}`},i=e=>`tm_block_other_news_${e}`},69904:(e,t,o)=>{"use strict";o.d(t,{s:()=>l});var n=o(30172),s=o(95186),a=o(52997),i=o(20732);const r=e=>{const t=e.getElementsByClassName("gallery-wrapper"),o=[].slice.call(t);return o},l=e=>{n.Z.use([s.Z,a.Z,i.Z]);const t=r(e),o=[],l=[];return t.forEach((e=>{const t=e.querySelector(".thumb-gallery"),s=Array.from(t.querySelectorAll(".swiper-slide")).length>8;t&&!s&&t.classList.add("thumb-gallery_nav_off");const a=new n.Z(t,{spaceBetween:12,slidesPerView:"auto",freeMode:!0,threshold:10,multipleActiveThumbs:!1,watchSlidesProgress:!0,observer:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}});l.push(a);const i=new n.Z(e.querySelector(".gallery"),{slidesPerView:1,spaceBetween:0,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},thumbs:{swiper:a}});o.push(i)})),o}},29587:(e,t,o)=>{"use strict";function n(e){return"a"===e.parentNode.tagName.toLowerCase()}function s(e,t=0){const o=n(e);return!!o||!(t>1)&&s(e.parentNode,t+1)}o.d(t,{N:()=>i});var a=o(11125);const i=e=>(0,a.Jx)(e).filter((e=>!s(e)))},10976:(e,t,o)=>{"use strict";function n(e){if("string"!==typeof e)return null;const t={article:"article",news:"news",post:"post",voice:"voice",specials:"specials",megaproject:"specials",sandbox:"sandbox",unknown:"unknown"};return t[e]||null}function s(e){if(!e)return null;const{publicationType:t,postType:o}=e;return t?n(t):o?n(o):null}o.d(t,{T:()=>s})},19913:(e,t,o)=>{"use strict";o.d(t,{IZ:()=>c,Lq:()=>p,Z0:()=>_,_k:()=>u,gE:()=>d,t4:()=>m,uK:()=>l});var n=o(51084);function s(e,t,o){return e?t&&t(e):o&&o()}function a(){const e=(0,n.au)((0,n.j4)());return e?e.path:""}function i(e){const t=(0,n.au)((0,n.j4)());return`${t.protocol}//${t.host}${e}`}const r=new Map,l=(e,t)=>s(window.gtag,e,t);function c(e,t={},o){const n=40;if(e.length>n)throw new Error("eventName should be shorter!");l((n=>{n("event",e,{send_to:r.get(o),...t})}))}function m(e,t){l((o=>{o("set",e,t)}))}function d(e){r.delete(e)}function u(e,t){e&&l((o=>{const n={send_page_view:!1},s=["config",e];if(t){s.push({...n,...t});const o=t.name;o&&r.set(o,e)}else s.push(n);o(...s)}))}function p(e){const{lang:t}=e,o=e.publicationType||e.postType;let n="ugc";return e.isEditorial&&(n="editorial"),e.isCorporative&&(n="corp"),[o,n,t].join("_").replace("megaproject","special")}function h(){const{location:e,history:t}=window;if(-1!==e.search.indexOf("utm_")){const o=new URL(e),n=Array.from(o.searchParams.keys()).filter((e=>e.startsWith("utm_")));n.forEach((e=>o.searchParams.delete(e))),t.replaceState({},null,o)}}function _({fullPath:e,trackerName:t,optionalParams:o={}}){const n=e||a(),s="G-S28W1WC23F";l((e=>{e("event","page_view",{page_location:i(n),...o,send_to:t?r.get(t):s})})),h()}},23719:(e,t,o)=>{"use strict";o.d(t,{c:()=>c});var n=o(93096),s=o.n(n),a=o(66676);function i(e){return Array.from(document.querySelectorAll(e))}function r(e){e.focus({preventScroll:!0}),window.scrollTo({top:e.offsetTop,behavior:"smooth"})}function l({navigatableSelector:e,onPrevNavigationEnd:t,onNextNavigationEnd:o,onFocusedInteraction:n}){const l=s()(r,400);return{h:()=>{const[o]=i(e);o===document.activeElement?t():l(o)},l:()=>{const t=i(e),n=t[t.length-1];n===document.activeElement?o():l(n)},k:()=>{const o=i(e),{activeElement:n}=document,s=o.indexOf(n),r=-1===s?(0,a.p)(o):o[s-1];r?l(r):t()},j:()=>{const t=i(e),{activeElement:n}=document,s=t.indexOf(n),r=-1===s?(0,a.p)(t):t[s+1];r?l(r):o()},o:()=>{const t=i(e),{activeElement:o}=document,s=t.indexOf(o);-1!==s&&n(document.activeElement)}}}function c({toggleArticleView:e}={}){const t=l({navigatableSelector:"[data-navigatable]",onFocusedInteraction(e){const t=e.querySelector("[data-article-link]");t&&t.click()},onPrevNavigationEnd(){const e=document.querySelector("[data-pagination-prev]");e&&e.click()},onNextNavigationEnd(){const e=document.querySelector("[data-pagination-next]");e&&e.click()}});return e&&(t.t=e),t}},15891:(e,t,o)=>{"use strict";function n(e,t){return Math.floor(e+Math.random()*(t+1-e))}o.d(t,{r:()=>n})},87994:(e,t,o)=>{"use strict";function n(e){return`https://tmtm.ru/megapost/habr/preview/${e}/`}function s(e){return`https://tmtm.ru/megapost/habr/edit/${e}/`}o.d(t,{c:()=>s,w:()=>n})},10836:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});const n="https://habr.com",s=(e,t=n)=>{const o=new URL(e,t);return`${o.origin}${o.pathname}`}},90928:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var n=o(33907);const s=()=>({computed:{...(0,n.Se)("i18n",["langOptions","msg"])}})},8685:(e,t,o)=>{"use strict";o.d(t,{Uc:()=>s,_B:()=>a,wm:()=>n});const n=(e,t)=>e&&t&&e.id===t.id,s=(e,t)=>e&&t&&e.alias===t.alias,a=e=>JSON.parse(JSON.stringify(e))},73313:(e,t,o)=>{"use strict";o.d(t,{E:()=>i,o:()=>s.a});var n=o(71355),s=o.n(n),a=o(48070);function i(e){return[a.VU.POST,a.VU.POST_OF_COMPANY].includes(e)}},48070:(e,t,o)=>{"use strict";o.d(t,{VU:()=>a,g1:()=>i});var n=o(51737);function s({id:e}){return`/rss/publications/${e}/`}const a={ARTICLE:"PUB_ARTICLE",ARTICLE_COMMENTS:"PUB_ARTICLE_COMMENTS",ARTICLE_OF_COMPANY:"PUB_ARTICLE_OF_COMPANY",ARTICLE_OF_COMPANY_COMMENTS:"PUB_ARTICLE_OF_COMPANY_COMMENTS",ARTICLE_SANDBOX:"PUB_ARTICLE_SANDBOX",NEWS:"PUB_NEWS",NEWS_COMMENTS:"PUB_NEWS_COMMENTS",NEWS_OF_COMPANY:"PUB_NEWS_OF_COMPANY",NEWS_OF_COMPANY_COMMENTS:"PUB_NEWS_OF_COMPANY_COMMENTS",POST:"PUB_POST",POST_OF_COMPANY:"PUB_POST_OF_COMPANY",SPECIAL:"PUB_SPECIAL",SPECIAL_COMMENTS:"PUB_SPECIAL_COMMENTS",SPECIAL_PREVIEW:"PUB_SPECIAL_PREVIEW"};function i(e,t){return{name:e,components:{default:t},props:{default:!0},meta:{pageType:"post",customGA:!0,rssLink:e=>s({id:e.id})},beforeEnter:n.dE}}},86598:(e,t,o)=>{"use strict";o.d(t,{CW:()=>r,I5:()=>T,RC:()=>h,Ro:()=>_,Zl:()=>S,cv:()=>p,dV:()=>u,fM:()=>C,fp:()=>m,k5:()=>g,ms:()=>l,y7:()=>E});var n=o(61446),s=o(73313);const a=e=>{let t=0;return e.content&&e.content.forEach((e=>{e.text&&(t+=e.text.length)})),t},i=1500,r=({json:e})=>{const t=[];if(e){const o=e.content||[];let n=0;for(let e=0;e<o.length;e+=1)if("paragraph"===o[e].type){if(!(n<i))return t;n+=a(o[e]),n>0&&t.push(o[e])}else if(t.length>0)return t}return t},l=({json:e})=>{const t=null;if(e){const t=e.content||[];for(let e=0;e<t.length;e+=1)if("image"===t[e].type)return t[e].attrs.src}return t},c=e=>JSON.parse(localStorage.getItem(e)||"{}"),m=(e,t)=>{const o=c(e);return o[t]},d=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},u=(e,t)=>{const o=c(e);delete o[t],d(e,o)},p=(e,t,o,n,s)=>{const a=c(n),i={};a[t]&&(i[t]=a[t],delete a[t]);const r=Object.keys(a),l=r.sort(((e,t)=>new Date(a[e].savedDate)>new Date(a[t].savedDate)?-1:1)).slice(0,s);l.forEach((e=>{i[e]=a[e]})),d(n,{...i,[o]:e})},h=e=>{const t={};return Object.entries(e).forEach((([e,o])=>{"preview"===e?(o.source&&(t.preview=o.source),o.feedCover&&(t.feedCover=o.feedCover)):t[e]=o})),t},_=new Date;_.setDate((new Date).getDate()+1);const g=e=>{let t;switch(e.postType){case"news":t="PUBLICATION_NEWS_EDIT";break;case"sandbox":t="PUBLICATION_SANDBOX_EDIT";break;default:t="PUBLICATION_ARTICLE_EDIT"}return{name:t,params:{publicationId:e.id}}},T=(e,t)=>{const{relatedData:o,postType:s}=e,a=(null===o||void 0===o?void 0:o.canEdit)&&"megaproject"!==s;if(!a)return;const i=parseInt(e.editorVersion,10),r=2===i,l=(0,n.B)(e);r?t.push(g(e)):window.location=l};function E(e,t){switch(e){case"news":return t("NAV_NEWS");case"posts":return t("NAV_POSTS");default:return t("NAV_ARTICLES")}}function S(e){const{id:t,lang:o}=e;return(0,s.o)(e)?`https://habr.com/${o}/posts/${t}/`:`https://habr.com/p/${t}/`}function C(e,t){return"free_blog"===e.tariffId?e.postsLeft?t("PUBLICATION_HUBS_FREE_BLOG_POSTS_LIMIT",e):t("PUBLICATION_HUBS_FREE_BLOG_POSTS_LIMIT_EXCEEDED",e):e.postsLeft?t("PUBLICATION_HUBS_POSTS_LIMIT",e):t("PUBLICATION_HUBS_POSTS_LIMIT_EXCEEDED",e)}},11125:(e,t,o)=>{"use strict";o.d(t,{Jx:()=>l,V0:()=>m,dv:()=>r});const n="habrastorage.org",s=/\/r\/w\w+\//,a=780,i=[390,780,1560];function r(e,t=120,o=!1){const a=e,i=o?"q1":"",r=a&&"string"===typeof a&&"gif"===e.toLowerCase().split(".").pop();return r?a:a&&-1!==a.indexOf(n)?a.replace(s,"/").replace(`${n}/`,`${n}/r/w${t}${i}/`):a}function l(e){const t=e.getElementsByTagName("img"),o=[].slice.call(t);return o}function c(){if(window){const{innerWidth:e,devicePixelRatio:t}=window,o=e*t,n=i.reduce(((e,t)=>Math.abs(t-o)<Math.abs(e-o)?t:e));return n}return a}function m(e){const t=c();return r(e,t)}},44383:(e,t,o)=>{"use strict";o.d(t,{B5:()=>h,Tg:()=>E,YO:()=>T,dY:()=>p,de:()=>_,nz:()=>u,tz:()=>S,uT:()=>d,ym:()=>m});var n=o(48070),s=o(10976);const a={corp:{news:n.VU.NEWS_OF_COMPANY,specials:n.VU.SPECIAL,default:n.VU.ARTICLE_OF_COMPANY,post:n.VU.POST_OF_COMPANY},regular:{sandbox:n.VU.ARTICLE_SANDBOX,specials:n.VU.SPECIAL,news:n.VU.NEWS,post:n.VU.POST,default:n.VU.ARTICLE}};function i({isCorporative:e,postType:t}){const o=e?a.corp:a.regular;return o[t]||o.default}const r={corp:{default:n.VU.ARTICLE_OF_COMPANY_COMMENTS,post:n.VU.POST_OF_COMPANY,news:n.VU.NEWS_OF_COMPANY_COMMENTS},regular:{default:n.VU.ARTICLE_COMMENTS,news:n.VU.NEWS_COMMENTS,specials:n.VU.SPECIAL_COMMENTS,post:n.VU.POST}};function l({isCorporative:e,postType:t}){const o=e?r.corp:r.regular;return o[t]||o.default}function c(e){return e.find((e=>"corporative"===e.type)).alias}function m(e,t){const{hubs:o,id:n,isCorporative:a}=e,i=(0,s.T)(e);return{name:l({isCorporative:a,postType:i}),params:{companyName:a?c(o):null,id:n,hl:t}}}function d(e,t){const{hubs:o,id:n,isCorporative:a}=e,r=(0,s.T)(e);return{name:i({isCorporative:a,postType:r}),params:{companyName:a?c(o):null,id:n,hl:t}}}function u(e){const t=e.flatMap((e=>[e.value,...e.children?u(e.children):[]]));return Array.from(new Set(t))}const p="more-news",h="donate-success",_="donate-failure",g=e=>{const{history:t}=globalThis;t&&t.replaceState(t.state,null,e)},T=e=>{const{location:t}=globalThis;if(t){const o=new URL(t);o.hash=e,g(o)}},E=()=>{const{location:e}=globalThis;e&&g(e.pathname)},S=(e,t)=>{const{history:o}=e.options;if(!o.state)return;const n=o.state[t],s={...o.state};delete s[t];const{location:a}=o;return o.replace(a,s),n}},68171:(e,t,o)=>{"use strict";o.d(t,{YL:()=>r,bc:()=>c,qV:()=>l});var n=o(70953),s=o(88447);function a(e){const{period:t,score:o}=e;return(!t||!o)&&(t?["daily","weekly","monthly","yearly","alltime"].includes(t):!o||["0","10","25","50","100"].includes(o))}function i(e){return e.replace(/^\/(en|ru)/,"")}function r({route:e,flowName:t,hubName:o,isNews:r,isPosts:l}){const{params:c,href:m}=e;if(!a(c))return;const d=(0,s.buildCookieName)({flowName:t,hubName:o,isNews:r,isPosts:l}),u=i(m);(0,n.d8)(d,u,{expires:365})}function l(e){const{path:t}=e,o=i(t);(0,n.d8)("habr_web_home_feed",o,{expires:365})}function c(e){const t=(0,n.ej)("habr_web_home_feed")||"/all/";return`/${e.hl}${t}`}},87575:(e,t,o)=>{"use strict";o.d(t,{dY:()=>d,fo:()=>m,m2:()=>u,rG:()=>i});var n=o(95865),s=o(67426),a=o(42185);function i(e){return"#first_unread"===e}function r(e){return e.indexOf("#comment_")>-1||i(e)}function l(e){return e.split("#comment_")[1]}const c=12;function m(e){if(!r(e))return Promise.resolve(!1);let t;if(r(e)){const o=l(e);t=`[name="comment_${o}"]`}if(i(e)){const e=(0,n.bP)();e&&(t=`[name="${e.getAttribute("name")}"]`)}return(0,a.br)(t).then((e=>{if(e&&((0,s.Zu)(e,c),e.parentElement)){const t=e.parentElement.querySelector("[data-comment-header]");t&&t.focus()}}))}function d(e){r(e.hash)&&setTimeout((()=>{m(e.hash)}),300)}function u(e){const t=document.querySelector(`[name="comment_${e}"]`),o=document.querySelector("[data-height-limiter]");if(!o)return!0;const n=t.getBoundingClientRect(),s=o.getBoundingClientRect();return n.top+n.height<s.top}},67426:(e,t,o)=>{"use strict";o.d(t,{Ab:()=>l,Ex:()=>r,Zu:()=>i,kI:()=>a});var n=o(30121);function s(){const e=document.querySelector("[data-header-sticky]"),t=document.querySelector("[data-menu-sticky]");return t?t.getBoundingClientRect().height:e?e.getBoundingClientRect().height:0}function a(e){const t=e.getBoundingClientRect().top,o=t+(0,n.wA)(),a=s();return a>0?(0,n.X5)(o-a):(0,n.X5)(o)}function i(e,t=0){const o=e.getBoundingClientRect().top,s=o+(0,n.wA)();return(0,n.X5)(s-t)}function r(e){const t=e.getBoundingClientRect().top,o=t+(0,n.wA)();return(0,n.X5)(o)}function l(e=document.body){const t=[".base-input__error",".tm-input__error",".tm-md-leadtext__description_error",".editor__error"],o=e.querySelector(t.join(", "));o&&o.scrollIntoView({behavior:"smooth",block:"center"})}},27204:(e,t,o)=>{"use strict";o.d(t,{Fv:()=>a,Jn:()=>l});var n=o(30121);const s=12;class a extends Error{constructor(){super("Element is not focusable")}}class i extends Error{constructor(){super("Scroll to the element has been prevented")}}const r=e=>new Promise(((t,o)=>{let n;const s=()=>{o(new i),n&&n.disconnect(),window.removeEventListener("wheel",s)};n=new IntersectionObserver((e=>{const[o]=e;o.isIntersecting&&(t(),n.disconnect(),window.removeEventListener("wheel",s))})),n.observe(e),window.addEventListener("wheel",s)})),l=e=>new Promise(((t,o)=>{if(null===e.offsetParent)return void o(new a);const{top:i}=e.getBoundingClientRect();if(0===i)return void t(!0);const l=e.getBoundingClientRect().top,c=l+(0,n.wA)();(0,n.X5)(c-s),t(r(e))}))},24440:(e,t,o)=>{"use strict";function n(e){const t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}function s(e){return e.replace(/(<([^>]+)>)/gi,"")}o.d(t,{V:()=>n,_:()=>s})},70953:(e,t,o)=>{"use strict";o.d(t,{d8:()=>r,ej:()=>l,h2:()=>i,nJ:()=>c});var n=o(31955),s=o(39309);const a=s.Z;function i(){return"undefined"!==typeof a.document&&"string"===typeof a.document.cookie}function r(e,t,o){i()&&n.Z.set(e,t,o)}function l(e){return i()?n.Z.get(e):null}function c(e,t){return n.Z.remove(e,t)}},38919:(e,t,o)=>{"use strict";o.d(t,{SI:()=>i,gO:()=>d,rp:()=>r,sG:()=>a,zk:()=>m});var n=o(90619),s=o.n(n);function a(e){return new Date(e)}function i(e){const t=e.getFullYear(),o=s()(e.getMonth()+1,2,"0"),n=s()(e.getDate(),2,"0");return`${t}-${o}-${n}`}function r(e){const t=s()(e.getHours(),2,"0"),o=s()(e.getMinutes(),2,"0");return`${t}:${o}`}function l(e,t){return e.getFullYear()===t.getFullYear()}function c(e,t){return!!l(e,t)&&e.getMonth()===t.getMonth()}function m(e,t){return c(e,t)&&e.getDate()===t.getDate()}function d(e,t){return c(e,t)&&e.getDate()>=t.getDate()-1}},42185:(e,t,o)=>{"use strict";o.d(t,{AD:()=>r,br:()=>c,sb:()=>l});var n=o(39309);const s=n.Z;let a={};function i(){return s.document&&(a=s.document),Promise.resolve(a)}function r(){return i().then((e=>Math.max(s.pageYOffset,e.documentElement.scrollTop,e.body.scrollTop)))}function l(e){return i().then((t=>t.querySelector(e)))}function c(e,t=0,o=5){const n=300;return l(e).then((s=>{if(s||t>=o)return s;const a=t+1;return new Promise((t=>{setTimeout((()=>{t(c(e,a,o))}),n*a)}))}))}},67267:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var n=o(20980);const s="Install platform specific error tracker";let a={notifyException(e){(0,n.Z)(e),(0,n.Z)(new Error(s))}};function i(e){a=e}function r(e,t){a.notifyException(e,t)}const l={install:i,notifyException:r}},39309:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});const n=()=>{};function s(){return"undefined"!==typeof window?window:"undefined"!==typeof o.g?o.g:{console:{error:n,log:n}}}const a=s()},50807:(e,t,o)=>{"use strict";o.d(t,{l:()=>r,q:()=>i});var n=o(39309);const s=n.Z,a=s.history;function i(e){a&&a.pushState({},"",e)}function r(e){a&&a.replaceState({},"",e)}},51084:(e,t,o)=>{"use strict";o.d(t,{Df:()=>p,au:()=>d,j4:()=>m});var n=o(80129),s=o.n(n),a=o(8575),i=o(39309),r=o(50807);const l=i.Z,{location:c}=l;function m(){return c?c.href:""}function d(e){return a.parse(e,!0)}function u(){const e=m(),t=d(e),o={...t.query};if(!o.utm_campaign)return null;delete o.utm_campaign,delete o.utm_medium,delete o.utm_source,t.query=o;const n=s().stringify(o);return n?`${t.pathname}?${n}${t.hash||""}`:`${t.pathname}${t.hash||""}`}function p(){const e=u();e&&(0,r.l)(e)}},30121:(e,t,o)=>{"use strict";o.d(t,{X5:()=>i,kI:()=>r,wA:()=>a});var n=o(67339);function s(){return document.scrollingElement||document.documentElement||document.body}function a(){const e=s();return e.scrollTop}function i(e,t=200){if("undefined"===typeof window)return;const o=s();(0,n.top)(o,e,{duration:t})}function r(e){const t=e.getBoundingClientRect().top,o=t+a();i(o)}},20980:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(39309);function s(...e){n.Z.console.error(...e)}const a=s},11269:(e,t,o)=>{"use strict";function n(e){return"undefined"===typeof e}function s(e){return!n(e)}function a(e){return"string"===typeof e}o.d(t,{HD:()=>a,Xq:()=>s})},61739:(e,t,o)=>{"use strict";o.d(t,{z:()=>s});const n={USD:"$",RUB:"₽",EUR:"€"},s={location(e,t){return e.remoteFriendly?t("VACANCY_REMOTE_FRIENDLY"):e.location},salary(e,t){if(!e.salary)return t("VACANCY_NEGOTIATED_SALARY");const{from:o,to:s,currency:a}=e.salary,i=n[a];return o?s?t("VACANCY_SALARY",{from:o,to:s,currency:i}):t("VACANCY_SALARY_FROM",{from:o,currency:i}):t("VACANCY_SALARY_TO",{to:s,currency:i})},tags(e){const t=[];return e.qualification&&t.push(e.qualification),t.push(...e.divisions.map((e=>e.title)),...e.properties),t}}},99691:(e,t,o)=>{"use strict";o.d(t,{H:()=>s,o:()=>n});const n=e=>t=>e.includes(t),s=e=>t=>!t||n(e)(t)},66676:(e,t,o)=>{"use strict";function n(e){return e.map((e=>[e,e.getBoundingClientRect()])).reduce(((e,t)=>Math.abs(t[1].top)<Math.abs(e[1].top)?t:e))[0]}o.d(t,{p:()=>n})},86409:(e,t,o)=>{"use strict";o.d(t,{ZI:()=>v,Hm:()=>T,Q:()=>C,Cm:()=>k});var n=o(9669),s=o.n(n),a=o(80129),i=o.n(a);const r=e=>{const t=new URL(e.url);return"https://habr.com"!==t.origin?e:{...e,headers:{...e.headers,"x-app-version":"2.174.0"}}};var l=o(35275),c=o(70953);function m(e){if(!e)return;const t=document.querySelector('meta[name="habr-version"]'),o=t?t.getAttribute("content"):"",[,n]=o.split("."),[,s]=e.split(".");if(s-n>1){const e=(0,c.ej)("target-minor-version");e&&e===s||((0,c.d8)("target-minor-version",s,{expires:30}),window.location.reload(!0))}if(s!==n){const e=new CustomEvent("showRefreshNotice");document.dispatchEvent(e)}}function d(e){if(e){const t=new CustomEvent("showCacheNotice",{detail:e});document.dispatchEvent(t)}else{const e=new CustomEvent("hideCacheNotice");document.dispatchEvent(e)}}const u=(e={})=>({...e,withCredentials:!0});function p(e,t,o){this.name=this.constructor.name,this.message=e.message,Object.assign(this,e),this.stack=o||t.stack||(new Error).stack}s().interceptors.request.use(r),p.prototype=Object.create(Error.prototype),p.prototype.constructor=p;const h=(e,t)=>{const{response:o}=e;return o?o.data&&o.data.message?new p(o.data,e,t):new p(e.response,e,t):e},_=(e,t)=>t<2&&(!e.response||408===e.response.status);function g(e){!l.v9&&l.Qg&&(m(e["server-habr-version"]),d(e["x-sw-cache"]))}function T(e,t={},o=0,n=!0,a="json"){const r={responseType:a,params:{...t},paramsSerializer:e=>i().stringify(e,{arrayFormat:"indices"})},l=n?u(r):r,{stack:c}=new Error;return s().get(e,l).then((e=>(g(e.headers),e.data))).catch((s=>{if(_(s,o))return new Promise((s=>setTimeout((()=>s(T(e,t,o+1,n),2e3)))));throw h(s,c)}))}function E(){const e=document.querySelector('meta[name="csrf-token"]');return e&&e.getAttribute("content")}function S(){const e=E(),t=e?{headers:{"csrf-token":e}}:{};return t}function C(e,t={},o=!0,n=!0){const a=n?S():{},i=o?u(a):a,{stack:r}=new Error;return s().post(e,t,i).then((e=>(g(e.headers),e.data))).catch((e=>{throw h(e,r)}))}function v(e,t={},o=!0,n=!0){const{stack:a}=new Error,i=n?S():{},r=o?u(i):i;return s()({method:"DELETE",url:e,data:t,...r}).then((e=>e.data)).catch((e=>{throw h(e,a)}))}function k(e,t={},o=!0,n=!0){const a=n?S():{},i=o?u(a):a,{stack:r}=new Error;return s()({method:"SEARCH",url:e,data:t,...i}).then((e=>(g(e.headers),e.data))).catch((e=>{throw h(e,r)}))}},11699:(e,t,o)=>{"use strict";o.d(t,{$K:()=>f,Ai:()=>v,Az:()=>d,Dz:()=>N,KZ:()=>P,Mc:()=>h,Oe:()=>i,TH:()=>S,UJ:()=>u,Uj:()=>T,Y9:()=>p,YM:()=>A,Yc:()=>y,bE:()=>g,fo:()=>C,fq:()=>l,hx:()=>L,jL:()=>b,lA:()=>E,mZ:()=>m,rM:()=>a,sI:()=>k,uf:()=>_,vG:()=>c,wZ:()=>I,ws:()=>r,x1:()=>B});var n=o(86409),s=o(27133);function a(e){return(0,n.Hm)((0,s.k)("articles/","v2"),e)}function i(e){return(0,n.Hm)((0,s.k)("articles/drafts","v2"),e)}function r(e){return(0,n.Hm)((0,s.k)("articles/planned","v2"),e)}function l(e,t){return(0,n.Hm)((0,s.k)(`articles/${e}/`,"v2"),t)}function c(e,t){return(0,n.Hm)((0,s.k)(`articles/preview/${e}/`,"v2"),t)}function m(e,t="posts"){return(0,n.ZI)((0,s.k)(`articles/drafts/${e}/${t}`,"v2"))}function d(e){if(!e)throw new Error("Article ID is undefined!");return(0,n.Q)((0,s.k)(`articles/${e}/pageview`,"v2"))}function u(e,t){return(0,n.Q)((0,s.k)(`articles/${e}/votes/down`,"v2"),t)}function p(e){return(0,n.Q)((0,s.k)(`articles/${e}/votes/up`,"v2"))}function h(e){return(0,n.Hm)((0,s.k)(`articles/${e}/reasons/stats`,"v2"))}function _(e){return(0,n.Q)((0,s.k)(`articles/${e}/bookmarks`,"v2"))}function g(e){return(0,n.ZI)((0,s.k)(`articles/${e}/bookmarks`,"v2"))}function T(e,t){return(0,n.Q)((0,s.k)(`polls/${e}/vote`,"v2"),t)}function E(e,t){return(0,n.Hm)((0,s.k)(`articles/${e}/similar`,"v2"),t)}function S(e){return(0,n.Hm)((0,s.k)("articles/most-reading","v2"),e)}function C(e,t){return(0,n.Q)((0,s.k)(`articles/${e}/complaint`,"v2"),t)}function v(e,t){return(0,n.Q)((0,s.k)(`articles/${e}/misprint`,"v2"),t)}function k(e,t){return(0,n.Hm)((0,s.k)(`articles/${e}/recommendation/template`,"v2"),t)}function f(e){return(0,n.Hm)((0,s.k)("refs/post/recommendations","v2"),e)}function A(e){return(0,n.Hm)((0,s.k)("articles/moderation-comments","v2"),e)}function I({articleId:e,email:t,tracker:o}){return(0,n.Q)((0,s.k)(`articles/${e}/subscription`,"v2"),{emailSubscribed:t,trackerSubscribed:o})}function y(e){return(0,n.Q)((0,s.k)(`articles/${e}/rules_remind/`,"v2"))}function b(e){return(0,n.ZI)((0,s.k)(`articles/${e}/rules_remind/`,"v2"))}function N(e,t){return(0,n.Q)((0,s.k)(`articles/${e}/published`,"v2"),t)}function P(e,t){return(0,n.Q)((0,s.k)(`articles/${e}/trackingPix`,"v2"),t)}function L(e,t){return(0,n.Q)((0,s.k)(`articles/${e}/defer`,"v2"),t)}function B(e){return(0,n.Hm)((0,s.k)("shared-count/facebook","v2"),e)}},61794:(e,t,o)=>{"use strict";o.d(t,{BL:()=>f,DF:()=>T,EG:()=>L,F9:()=>F,FI:()=>u,FL:()=>D,ID:()=>i,Ir:()=>d,M1:()=>c,Mi:()=>N,Nj:()=>I,Ps:()=>H,QF:()=>w,SE:()=>B,TH:()=>C,Vy:()=>R,YS:()=>U,ZG:()=>O,ZQ:()=>m,bj:()=>v,eT:()=>M,fX:()=>E,fp:()=>g,j4:()=>r,nE:()=>b,nN:()=>y,oA:()=>$,oP:()=>k,oc:()=>_,pD:()=>l,pu:()=>a,qb:()=>x,sQ:()=>P,w1:()=>A,x1:()=>h,xF:()=>V,yw:()=>S,zT:()=>p});var n=o(86409),s=o(27133);function a(e,t,o){let a=`articles/${e}/comments/`;return o&&(a+="?nocount=1"),(0,n.Hm)((0,s.k)(a,"v2"),t)}function i(e,t){return(0,n.Hm)((0,s.k)(`articles/${e}/comments/split/guest`,"v2"),t)}function r(e,t){return(0,n.Hm)((0,s.k)(`articles/${e}/comments/split/guest/cache`,"v2"),t)}function l({id:e,hl:t}){return(0,n.Hm)((0,s.k)(`articles/${e}/comments/split/user`,"v2"),{hl:t})}function c(e,t){return(0,n.Hm)((0,s.k)(`articles/${e}/comments/new`,"v2"),t)}function m(e){return(0,n.Hm)((0,s.k)("comments/search","v2"),e)}function d(e,t,o){return(0,n.Q)((0,s.k)(`comments/${o}/${e}/add`,"v2"),t)}function u(e,t,o){return(0,n.Q)((0,s.k)(`comments/${o}/${e}/preview`,"v2"),t)}function p(e){return(0,n.Q)((0,s.k)(`articles/${e}/comments/reset`,"v2"))}function h(e,t){return(0,n.Q)((0,s.k)(`articles/${e}/comments/disable`,"v2"),t)}function _(e){return(0,n.Q)((0,s.k)(`articles/${e}/comments/enable`,"v2"))}function g(e,t,o){return(0,n.Hm)((0,s.k)(`articles/${e}/comments/${t}/source`,"v2"),o)}function T(e,t,o){return(0,n.Q)((0,s.k)(`articles/${e}/comments/${t}`,"v2"),o)}function E(e,t){return(0,n.Q)((0,s.k)(`articles/${e}/comments-suspend/${t}`,"v2"))}function S(e,t,o,a){return(0,n.Q)((0,s.k)(`${a}/${e}/comment-complaint/${t}`,"v2"),o)}function C(e,t,o){const a=o?"approve":"reject";return(0,n.Q)((0,s.k)(`articles/${e}/comments/${t}/moderate/${a}`,"v2"))}function v({postId:e,commentId:t,data:o}){return(0,n.Q)((0,s.k)(`articles/${e}/comments/${t}/votes`,"v2"),o)}function k({postId:e,commentId:t,data:o}){return(0,n.Q)((0,s.k)(`articles/${e}/comments/${t}/pinned`,"v2"),o)}function f(e){return(0,n.Hm)((0,s.k)(`articles/${e}/comments/pinned`,"v2"))}function A({publicationId:e,commentId:t}){return(0,n.Q)((0,s.k)(`articles/${e}/comments/${t}/bookmarks`,"v2"))}function I({publicationId:e,commentId:t}){return(0,n.ZI)((0,s.k)(`articles/${e}/comments/${t}/bookmarks`,"v2"))}function y(e){return(0,n.Q)((0,s.k)(`articles/${e}/comments/read`,"v2"))}async function b({articleId:e,hl:t,cacheKey:o,isPost:n}){const s={hl:t,isPost:n};o&&(s.cacheKey=o);const a=new URLSearchParams(s),i=`/ssr/comments/${e}?${a.toString()}`,r=window.fetchStream||fetch,l=await r(i),{body:c,ok:m}=l;return m?c:Promise.reject(l)}function N(e,t,o){let a=`threads/${e}/comments/`;return o&&(a+="?nocount=1"),(0,n.Hm)((0,s.k)(a,"v2"),t)}function P({postId:e,commentId:t,data:o}){return(0,n.Q)((0,s.k)(`threads/${e}/comments/${t}/pinned`,"v2"),o)}function L(e){return(0,n.Hm)((0,s.k)(`threads/${e}/comments/pinned`,"v2"))}function B(e,t,o){return(0,n.Hm)((0,s.k)(`threads/${e}/comments/${t}/source`,"v2"),o)}function O(e,t){return(0,n.Q)((0,s.k)(`threads/${e}/comments-suspend/${t}`,"v2"))}function w(e,t,o){return(0,n.Q)((0,s.k)(`threads/${e}/comments/${t}`,"v2"),o)}function M(e){return(0,n.Q)((0,s.k)(`threads/${e}/comments/read`,"v2"))}function R(e,t){return(0,n.Hm)((0,s.k)(`threads/${e}/comments/new`,"v2"),t)}function V(e,t){return(0,n.Hm)((0,s.k)(`threads/${e}/comments/split/guest`,"v2"),t)}function D(e,t){return(0,n.Hm)((0,s.k)(`threads/${e}/comments/split/guest/cache`,"v2"),t)}function U({id:e,hl:t}){return(0,n.Hm)((0,s.k)(`threads/${e}/comments/split/user`,"v2"),{hl:t})}function $({postId:e,commentId:t,data:o}){return(0,n.Q)((0,s.k)(`threads/${e}/comments/${t}/votes`,"v2"),o)}function x(e,t,o){const a=o?"approve":"reject";return(0,n.Q)((0,s.k)(`threads/${e}/comments/${t}/moderate/${a}`,"v2"))}function F({publicationId:e,commentId:t}){return(0,n.Q)((0,s.k)(`threads/${e}/comments/${t}/bookmarks`,"v2"))}function H({publicationId:e,commentId:t}){return(0,n.ZI)((0,s.k)(`threads/${e}/comments/${t}/bookmarks`,"v2"))}},84962:(e,t,o)=>{"use strict";o.d(t,{LQ:()=>a,NM:()=>l,l2:()=>i,uV:()=>r});var n=o(86409),s=o(27133);function a(e){return(0,n.Hm)((0,s.k)(`companies/add/get/${e}`,"v2"))}function i(e,t={},o){const a=o?"?forceValidation=true":"";return(0,n.Q)((0,s.k)(`companies/add/commit/${e}${a}`,"v2"),t)}function r(){return(0,n.Hm)((0,s.k)("companies/add/status","v2"))}function l(){return(0,n.Q)((0,s.k)("companies/add/create","v2"))}},55644:(e,t,o)=>{"use strict";o.d(t,{$Y:()=>g,AL:()=>X,Az:()=>kt,Bj:()=>We,C1:()=>h,C5:()=>et,CW:()=>tt,Cg:()=>u,DR:()=>M,Dz:()=>m,E9:()=>L,EJ:()=>ht,EV:()=>lt,F5:()=>Y,FN:()=>W,FY:()=>st,Fl:()=>vt,Fy:()=>r,Fz:()=>Je,GL:()=>Le,Gu:()=>Q,HJ:()=>nt,Hu:()=>pe,I1:()=>ft,IA:()=>ce,J:()=>at,J9:()=>mt,Jb:()=>Z,Jj:()=>ge,KD:()=>qe,KO:()=>Re,KW:()=>y,Kv:()=>Et,L$:()=>Ve,LX:()=>_t,Mk:()=>we,Mp:()=>pt,N_:()=>Se,OS:()=>w,PC:()=>be,Py:()=>Ke,Qh:()=>ze,Qs:()=>oe,RS:()=>ne,RX:()=>K,Rp:()=>At,SU:()=>$e,Sp:()=>I,T1:()=>Ct,TN:()=>Oe,TY:()=>ut,Tj:()=>he,Tr:()=>l,US:()=>d,W7:()=>me,WW:()=>z,WY:()=>D,Wd:()=>_,Wu:()=>je,X$:()=>N,Xl:()=>re,Xn:()=>Xe,Xw:()=>B,YZ:()=>Ne,Yn:()=>Ee,Yv:()=>E,Yy:()=>c,Z2:()=>bt,Z4:()=>De,ZA:()=>Pe,_:()=>se,_H:()=>$,_w:()=>yt,ar:()=>A,b6:()=>St,bj:()=>O,c2:()=>U,ct:()=>T,d7:()=>Fe,dE:()=>V,dU:()=>P,dc:()=>le,dq:()=>ot,ep:()=>Te,ey:()=>Me,fh:()=>p,go:()=>Ge,gu:()=>i,h6:()=>ue,hA:()=>Be,hE:()=>ke,hS:()=>de,iG:()=>S,iJ:()=>xe,iX:()=>_e,iv:()=>b,jC:()=>Pt,jY:()=>ve,jq:()=>it,k5:()=>ae,kC:()=>Ie,ke:()=>Ye,kw:()=>C,l:()=>H,m_:()=>te,mp:()=>G,oP:()=>x,oU:()=>j,om:()=>J,oz:()=>rt,p6:()=>ye,q9:()=>Ce,qQ:()=>wt,qT:()=>f,qU:()=>Bt,qV:()=>k,rD:()=>ct,rL:()=>Ae,rd:()=>Ze,rw:()=>v,sS:()=>F,sn:()=>gt,tF:()=>ee,uH:()=>q,uW:()=>Ue,ur:()=>Lt,vk:()=>It,wO:()=>Nt,wX:()=>R,xE:()=>ie,xg:()=>fe,xt:()=>Tt,xz:()=>Ot,yF:()=>Qe,yz:()=>He,zc:()=>dt});var n=o(21331),s=o(86409),a=o(27133);function i(e={}){const{flowAlias:t,hubAlias:o}=e;let n="companies/";return t&&(n=`flows/${t}/companies`),o&&(n=`hubs/${o}/companies`),(0,s.Hm)((0,a.k)(n,"v2"),e)}function r(e){return(0,s.Hm)((0,a.k)("companies/search","v2"),e)}function l(e){return(0,s.Hm)((0,a.k)("companies/company_categories/","v2"),e)}function c(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/card/`,"v2"),t)}function m(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/whois/`,"v2"),t)}function d(e){return(0,s.Q)((0,a.k)(`companies/${e}/subscription`,"v2"))}function u(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/widgets/`,"v2"),t)}function p(e,t){return(0,s.Hm)((0,a.k)("inset/multiwidget","v2"),{...t,company:e})}function h(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/polls/unanswered`,"v2"),t)}function _(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/polls/${t}`,"v2"),o)}function g(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/workers/${t}`,"v2"),o)}function T(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/widgets`,"v2"),t)}function E(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/multiwidgets`,"v2"),t)}function S(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/multiwidgets/${t}`,"v2"),o)}function C(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/applications`,"v2"),o)}function v(e,t,o){return(0,s.ZI)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/applications/${o}`,"v2"))}function k(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/widgets/${t}/${o}/form`,"v2"))}function f(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/multiwidgets/${t}/form`,"v2"))}function A(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/multiwidgets/${t}`,"v2"))}function I(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/applications/${o}/form`,"v2"))}function y(e,t,o,n){return(0,s.Q)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/applications/${o}`,"v2"),n)}function b(e,t,o,n){return(0,s.Q)((0,a.k)(`companies/${e}/admin/widgets/${t}/${o}`,"v2"),n)}function N(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/widgets/${t}/published`,"v2"),o)}function P(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/multiwidgets/${t}/published`,"v2"),o)}function L(e,t,o){return(0,s.ZI)((0,a.k)(`companies/${e}/admin/widgets/${t}/${o}`,"v2"))}function B(e,t){return(0,s.ZI)((0,a.k)(`companies/${e}/admin/multiwidgets/${t}`,"v2"))}function O(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/widgets_ordering`,"v2"),t)}function w(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/ordering`,"v2"),o)}function M(e,t,o,n){return(0,s.Q)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/applications/${o}/published`,"v2"),n)}function R(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/widget_news/${t}/items`,"v2"),o)}function V(e,t,o,n){return(0,s.Q)((0,a.k)(`companies/${e}/admin/widget_news/${t}/items/${o}/published`,"v2"),n)}function D(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/fans/${t}`,"v2"),o)}function U(e){return(0,s.Hm)((0,a.k)(`companies/top/by_hub/${e}`,"v2"))}function $(e){return(0,s.Hm)((0,a.k)(`companies/top/by_flow/${e}`,"v2"))}function x(e){return(0,s.Hm)((0,a.k)(`companies/${e}/investment/hubs`,"v2"))}function F(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/vacancies/`,"v2"),t)}function H(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/branding/${t}`,"v2"))}function G(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/info`,"v2"),t)}function W(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/profile/form`,"v2"),t)}function Y(){return(0,s.Hm)((0,a.k)("refs/company_categories","v2"))}function Z(){return(0,s.Hm)((0,a.k)("refs/human_resources","v2"))}function q(){return(0,s.Hm)((0,a.k)("refs/company_contact_types","v2"))}function K(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/profile`,"v2"),t)}function j(e,t){const o=t.period||"month",i={rating:"rating",views:"posts_views",followers:"subscribers"},r={week:7,month:30,quarter:90,halfyear:180,year:365,twoyears:730},l=r[o],c=(0,n.ic)(l);return(0,s.Hm)((0,a.k)(`companies/${e}/indicators/`,"v2"),{...c,type:i[t.type]})}function z(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/statistics/authors`,"v2"),t)}function Q(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/statistics/hubs`,"v2"),t)}function X(e,{page:t,perPage:o}){return(0,s.Hm)((0,a.k)(`companies/${e}/career/vacancies/`,"v2"),{page_num:t,per_page:o})}function J(e){return(0,s.Hm)((0,a.k)(`companies/${e}/career/settings/form`,"v2"))}function ee(e){return(0,s.Q)((0,a.k)(`companies/${e.companyAlias}/career/settings`,"v2"),{...e,alias:e.careerAlias})}function te({companyAlias:e,vacancyId:t,isActive:o}){return(0,s.Q)((0,a.k)(`companies/${e}/career/vacancy`,"v2"),{id:t,isActive:o})}function oe(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/log`,"v2"),t)}function ne(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/tariff/code`,"v2"),t)}function se(e){return(0,s.Hm)((0,a.k)(`companies/${e}/analytics/settings/form`,"v2"))}function ae(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/analytics/settings`,"v2"),t)}function ie(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/localization/form`,"v2"),t)}function re(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/localization`,"v2"),t)}function le(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/finance/list`,"v2"),t)}function ce(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/employees`,"v2"),t)}function me(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/employees`,"v2"),t)}function de(e,t){return(0,s.ZI)((0,a.k)(`companies/${e}/admin/employees/${t}/`,"v2"))}function ue(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/employee_requests`,"v2"),t)}function pe(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/employee_requests/${t}/approve`,"v2"),null)}function he(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/employee_requests/${t}/reject`,"v2"),null)}function _e(e){return(0,s.Hm)((0,a.k)(`companies/${e}/tariff/current`,"v2"))}function ge(e){return(0,s.Hm)((0,a.k)(`companies/${e}/tariff/list`,"v2"))}function Te(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/tariff/prolong`,"v2"),t)}function Ee(e){return(0,s.Q)((0,a.k)(`companies/${e}/admin/startup/prolong`,"v2"))}function Se(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/manager/list`,"v2"),t)}function Ce(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/manager`,"v2"),t)}function ve(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/manager/${t}/role`,"v2"),o)}function ke(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/manager/${t}/settings`,"v2"),o)}function fe(e,t){return(0,s.ZI)((0,a.k)(`companies/${e}/admin/manager/${t}/`,"v2"))}function Ae(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/invites/count`,"v2"),t)}function Ie(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/invites/used`,"v2"),t)}function ye(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/invites/unused`,"v2"),t)}function be(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/invites/${t}/`,"v2"))}function Ne(e,t){return(0,s.ZI)((0,a.k)(`companies/${e}/invites/${t}/`,"v2"))}function Pe(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/invites/by_email`,"v2"),t)}function Le(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/invites/by_login`,"v2"),t)}function Be(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/requisites/list`,"v2"),t)}function Oe(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/requisites/${t}/current`,"v2"))}function we(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/requisites`,"v2"),t)}function Me(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/requisites/${t}`,"v2"),o)}function Re(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/requisites/${t}`,"v2"))}function Ve(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/statistics/posts/`,"v2"),t)}function De(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/statistics/news/`,"v2"),t)}function Ue(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/branding/list`,"v2"),t)}function $e(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/branding/list/`,"v2"),t)}function xe(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/branding/list/${t}/`,"v2"),o)}function Fe(e,t){return(0,s.ZI)((0,a.k)(`companies/${e}/admin/branding/list/${t}/`,"v2"))}function He(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/branding/list/${t}/form/`,"v2"),o)}function Ge(e){return(0,s.ZI)((0,a.k)(`companies/${e}/admin/branding/current/`,"v2"))}function We(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/branding/current/`,"v2"),t)}function Ye(){return(0,s.Hm)((0,a.k)("refs/application_platforms","v2"))}function Ze(e){return(0,s.Hm)((0,a.k)("companies/faq/","v2"),e)}function qe(e,t){return(0,s.Hm)((0,a.k)(`companies/faq/${e}`,"v2"),t)}function Ke(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/workers/all/${t}`,"v2"),o)}function je(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/employees_suggest`,"v2"),t)}function ze(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/managers_suggest`,"v2"),t)}function Qe(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/invites/by_login/suggest`,"v2"),t)}function Xe(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/statistics/posts/export`,"v2"),t,0,!0,"blob")}function Je(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/statistics/news/export`,"v2"),t,0,!0,"blob")}function et(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/finance/files/${t}`,"v2"),o,0,!0,"blob")}function tt(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/landing/profile`,"v2"),t)}function ot(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/landing/gallery`,"v2"),t)}function nt(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/landing/gallery`,"v2"),t)}function st(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/landing/gallery/form`,"v2"),t)}function at(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/landing/gallery`,"v2"),t)}function it(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/landing/gallery/published`,"v2"),t)}function rt(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/landing/banner`,"v2"),t)}function lt(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/landing/banner`,"v2"),t)}function ct(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/landing/banner/form`,"v2"),t)}function mt(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/landing/banner/published`,"v2"),t)}function dt(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/landing/banner`,"v2"),t)}function ut(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/landing/vacancies`,"v2"),t)}function pt(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/landing/vacancies`,"v2"),t)}function ht(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/landing/vacancies/published`,"v2"),t)}function _t(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/landing/technology/form`,"v2"),t)}function gt(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/landing/technology`,"v2"),t)}function Tt(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/landing/technology`,"v2"),t)}function Et(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/landing/technology`,"v2"),t)}function St(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/landing/technology/published`,"v2"),t)}function Ct(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/post_banners`,"v2"),t)}function vt(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/post_banners/${t}/form`,"v2"),o)}function kt(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/post_banners`,"v2"),t)}function ft(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/post_banners/${o}`,"v2"),t)}function At(e,t){return(0,s.ZI)((0,a.k)(`companies/${e}/admin/post_banners/${t}`,"v2"))}function It(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/post_banners/${t}/published`,"v2"),o)}function yt(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/notifications`,"v2"),t)}function bt(e,t){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/polls`,"v2"),t)}function Nt(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/polls/${t}/form`,"v2"),o)}function Pt(e,t,o){return(0,s.Hm)((0,a.k)(`companies/${e}/admin/polls/${t}`,"v2"),o)}function Lt(e,t){return(0,s.Q)((0,a.k)(`companies/${e}/admin/polls`,"v2"),t)}function Bt(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/polls/${o}`,"v2"),t)}function Ot(e,t){return(0,s.ZI)((0,a.k)(`companies/${e}/admin/polls/${t}`,"v2"))}function wt(e,t,o){return(0,s.Q)((0,a.k)(`companies/${e}/admin/polls/${t}/published`,"v2"),o)}},57745:(e,t,o)=>{"use strict";o.d(t,{IX:()=>r,Vk:()=>i,dP:()=>a});var n=o(86409),s=o(27133);function a(e,t){return(0,n.Hm)((0,s.k)(`docs/${e}/menu`,"v2"),t)}function i(e,t,o){return(0,n.Hm)((0,s.k)(`docs/${e}/${t}`,"v2"),o)}function r(e){return(0,n.Hm)((0,s.k)("docs/","v2"),e)}},81752:(e,t,o)=>{"use strict";o.d(t,{PL:()=>i,PY:()=>c,_C:()=>a,dx:()=>r,f3:()=>m,lm:()=>d,yp:()=>l});var n=o(86409),s=o(27133);function a(e){let t=(0,s.k)("hubs/","v2");return e.flowAlias&&(t=(0,s.k)(`hubs/${e.flowAlias}/`,"v2")),(0,n.Hm)(t,e)}function i(e){return(0,n.Hm)((0,s.k)("hubs/search","v2"),e)}function r(e,t){return(0,n.Hm)((0,s.k)(`hubs/${e}/profile`,"v2"),t)}function l(e,t){return(0,n.Hm)((0,s.k)(`hubs/${e}/authors`,"v2"),t)}function c(e){return(0,n.Q)((0,s.k)(`hubs/${e}/subscription`,"v2"))}function m(e){return(0,n.Hm)((0,s.k)("presets/list","v2"),e)}function d(e){return(0,n.Q)((0,s.k)("presets/subscription","v2"),e)}},27133:(e,t,o)=>{"use strict";function n(e,t="v1"){return encodeURI(`https://habr.com/kek/${t}/${e}`)}o.d(t,{k:()=>n})},38335:(e,t,o)=>{"use strict";o.d(t,{C0:()=>g,Fs:()=>k,HM:()=>u,J5:()=>C,KW:()=>m,TR:()=>v,dA:()=>f,iX:()=>d,jA:()=>p,jo:()=>r,lW:()=>S,ln:()=>h,mp:()=>T,sE:()=>c,sY:()=>l,sZ:()=>_,t:()=>E});var n=o(9669),s=o.n(n),a=o(86409),i=o(27133);function r(){return(0,a.Hm)((0,i.k)("me","v2"))}function l(){return(0,a.Hm)((0,i.k)("me/updates","v2"))}function c(){return(0,a.Hm)((0,i.k)("me/invites/available","v2"))}function m(e){return(0,a.Hm)((0,i.k)("me/invites/used","v2"),e)}function d(e){return(0,a.Hm)((0,i.k)("me/invites/unused","v2"),e)}function u(e){return(0,a.Q)((0,i.k)("me/invites/all","v2"),e)}function p(e){return(0,a.Q)((0,i.k)(`me/invites/all/${e}`,"v2"))}function h(e){return(0,a.Q)((0,i.k)(`me/invites/all/${e}/resend`,"v2"),{id:e})}function _(e){return(0,a.Q)((0,i.k)("me/invites/check","v2"),{invite:e})}function g(e){return(0,a.Q)((0,i.k)("me/invites/apply","v2"),{invite:e})}function T(e){return(0,a.Q)((0,i.k)("me/ppg","v2"),{program:e})}function E(){return(0,a.Hm)((0,i.k)("me/karma/reset","v2"))}function S(){return(0,a.Q)((0,i.k)("me/karma/reset","v2"))}function C(){return(0,a.ZI)((0,i.k)("me/karma/reset","v2"))}function v(e){return(0,a.Hm)((0,i.k)("me/notes","v2"),e)}function k(){const e={VUE_APP_RELEASE_VERSION:"2024-04-19-13-44",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.174.0",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_BACKEND_URL&&"default"!=={VUE_APP_RELEASE_VERSION:"2024-04-19-13-44",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.174.0",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_BACKEND_URL?{VUE_APP_RELEASE_VERSION:"2024-04-19-13-44",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.174.0",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_BACKEND_URL:"https://habr.com",t=`${e}/uuid/`;return s().post(t,null,{withCredentials:!0}).then((({data:e})=>(e.uuid&&s().interceptors.request.use((t=>{const o=new RegExp("^https://habr.com/kek/");return o.test(t.url)?{...t,headers:{...t.headers,"habr-user-uuid":e.uuid}}:t})),e)))}function f(e,t=20){return(0,a.Hm)((0,i.k)("me/blacklist","v2"),{page_num:e,per_page:t})}},75027:(e,t,o)=>{"use strict";o.d(t,{Bb:()=>r,Pq:()=>a,W:()=>i});var n=o(86409),s=o(27133);function a(e){return(0,n.Hm)((0,s.k)("news/context","v2"),e)}function i(e){return(0,n.Q)((0,s.k)(`news/${e}/bookmarks`,"v2"))}function r(e){return(0,n.ZI)((0,s.k)(`news/${e}/bookmarks`,"v2"))}},89136:(e,t,o)=>{"use strict";o.d(t,{$X:()=>m,B4:()=>E,GX:()=>d,W1:()=>a,Z1:()=>u,d1:()=>_,d9:()=>S,fR:()=>r,k3:()=>l,qT:()=>g,qu:()=>h,s1:()=>i,sv:()=>T,wl:()=>p,xl:()=>c});var n=o(86409),s=o(27133);function a(e,t){const o=t?`threads/save/${t}`:"threads/save";return(0,n.Q)((0,s.k)(o,"v2"),e)}function i(e){return(0,n.Q)((0,s.k)("threads/preview","v2"),e)}function r(e){return(0,n.ZI)((0,s.k)(`threads/${e}`,"v2"))}function l(e,t){return(0,n.Hm)((0,s.k)(`threads/${e}/form`,"v2"),t)}function c(e,t){return(0,n.Hm)((0,s.k)(`threads/${e}/`,"v2"),t)}function m(e){return(0,n.Hm)((0,s.k)(`threads/${e}/reasons/stats`,"v2"))}function d(e){return(0,n.Q)((0,s.k)(`threads/${e}/bookmarks/add`,"v2"))}function u(e){return(0,n.Q)((0,s.k)(`threads/${e}/bookmarks/remove`,"v2"))}function p(e,t){return(0,n.Q)((0,s.k)(`threads/${e}/votes/down`,"v2"),t)}function h(e){return(0,n.Q)((0,s.k)(`threads/${e}/votes/up`,"v2"))}function _(e){return(0,n.Q)((0,s.k)(`threads/${e}/pageview`,"v2"))}function g(e){return(0,n.Q)((0,s.k)(`threads/${e}/rules_remind/`,"v2"))}function T(e){return(0,n.ZI)((0,s.k)(`threads/${e}/rules_remind/`,"v2"))}function E({articleId:e,email:t,tracker:o}){return(0,n.Q)((0,s.k)(`threads/${e}/subscription`,"v2"),{emailSubscribed:t,trackerSubscribed:o})}function S(e,t){return(0,n.Q)((0,s.k)(`threads/${e}/complain`,"v2"),t)}},96090:(e,t,o)=>{"use strict";o.d(t,{YB:()=>m,Zx:()=>l,hg:()=>c,ny:()=>r,pV:()=>i,qK:()=>a,s5:()=>d});var n=o(86409),s=o(27133);function a(e,t){return(0,n.Hm)((0,s.k)(`docs/ppa/${e}`,"v2"),t)}function i(e){return(0,n.Hm)((0,s.k)(`ppa/cards/${e}`,"v2"))}function r(e,t){return(0,n.Hm)((0,s.k)(`ppa/transactions/${e}`,"v2"),{page_num:t})}function l(e){return(0,n.Q)((0,s.k)("ppa/withdraw","v2"),{value:e})}function c(e){return(0,n.Q)((0,s.k)("ppa/profile","v2"),e)}function m(e){return(0,n.Q)((0,s.k)("ppa/profile/update","v2"),e)}function d(){return(0,n.Q)((0,s.k)("ppa/join","v2"))}},83385:(e,t,o)=>{"use strict";o.d(t,{NN:()=>l,Sr:()=>r,ge:()=>i,l9:()=>c,uC:()=>a});var n=o(86409),s=o(27133);function a(e={}){const{count:t,hubs:o=[],tags:a=[],companyAlias:i,hl:r}=e;return(0,n.Hm)((0,s.k)("inset/vacancies","v2"),{count:t,hubs:o.slice(0,10).join(","),tags:a.slice(0,10).join(","),companyAlias:i,hl:r})}function i(e={}){const{count:t,hubs:o,tags:a,hl:i}=e;return(0,n.Hm)((0,s.k)("inset/tasks","v2"),{count:t,hubs:o.slice(0,10).join(","),tags:a.slice(0,10).join(","),hl:i})}function r(e={}){const{hubs:t=[],tags:o=[]}=e;return(0,n.Hm)((0,s.k)("inset/courses","v2"),{...e,hubs:t.slice(0,10).join(","),tags:o.slice(0,10).join(",")})}function l({count:e,tags:t=[],hl:o}){return(0,n.Hm)((0,s.k)("inset/questions","v2"),{count:e,tags:t.slice(0,5).join(","),hl:o})}function c(){return(0,n.Hm)((0,s.k)("inset/salary_distribution","v2"))}},58178:(e,t,o)=>{"use strict";o.d(t,{H:()=>a,s:()=>i});var n=o(59896),s=o(86409);function a(e={}){const t="https://effect.habr.com/a";return(0,s.Cm)(t,JSON.stringify(e),!1,!1).then((e=>{if(e.error)throw new Error(e.error.message);return e})).catch((e=>(0,n.T)(e)))}function i(e=[]){const t="https://effect.habr.com/a",o={version:"1.0",events:e};return(0,s.Q)(t,JSON.stringify(o),!1,!1).then((e=>{if(e.error)throw new Error(e.error.message);return e})).catch((e=>(0,n.T)(e)))}},37281:(e,t,o)=>{"use strict";o.d(t,{D5:()=>u,EC:()=>_,K$:()=>S,Ki:()=>E,P7:()=>m,Y2:()=>d,aW:()=>C,d7:()=>k,e:()=>a,f$:()=>c,fR:()=>f,in:()=>p,mj:()=>i,pG:()=>h,uI:()=>v,wO:()=>r,xx:()=>l});var n=o(86409),s=o(27133);function a(){return(0,n.Hm)((0,s.k)("publication/wysiwyg-rules","v2"))}function i(e){return(0,n.Hm)((0,s.k)("publication/suggest-tags","v2"),e)}function r(e){return(0,n.Hm)((0,s.k)("publication/suggest-customers","v2"),e)}function l(e){return(0,n.Hm)((0,s.k)("publication/suggest-authors","v2"),e)}function c(e){return(0,n.Hm)((0,s.k)("publication/suggest-megapost-companies","v2"),e)}function m(e){return(0,n.Hm)((0,s.k)("publication/suggest-inner-tags","v2"),e)}function d(e){return(0,n.Q)((0,s.k)("publication/upload","v2"),e)}function u(e,t){const o=t?`publication/save/${t}`:"publication/save";return(0,n.Q)((0,s.k)(o,"v2"),e)}function p(e,t){const o=t?`megapost/save/${t}`:"megapost/save";return(0,n.Q)((0,s.k)(o,"v2"),e)}function h(e){return(0,n.Hm)((0,s.k)(`megapost/post-data/${e}`,"v2"))}function _(e){return(0,n.Hm)((0,s.k)(`publication/post-data/${e}`,"v2"))}const g=(e,t)=>e.filter((e=>-1===t.indexOf(e.id))).map((e=>({name:e.title,alias:e.id.toString(),aliasName:e.alias,postsLeft:Number.isInteger(e.postsLeft)?e.postsLeft:null,tariffId:e.tariffId,isCorporative:e.isCorporative}))),T=e=>{const t=[],o=e.byPost?e.byPost.map((e=>(t.push(e.id),{name:e.title,alias:e.id.toString(),aliasName:e.alias,postsLeft:Number.isInteger(e.postsLeft)?e.postsLeft:null,tariffId:e.tariffId,isCorporative:e.isCorporative}))):[],n=e.collective?g(e.collective,t):[],s=e.corporative?g(e.corporative,t):[],a=e.offtopic?g(e.offtopic,t):[];return[{list:o,name:"PUBLICATION_HUBS_BYPOST"},{list:s,name:"PUBLICATION_HUBS_CORPORATIVE"},{list:n,name:"PUBLICATION_HUBS_COLLECTIVE"},{list:a,name:"PUBLICATION_HUBS_OFFTOPIC"}]};function E(e){return(0,n.Hm)((0,s.k)("megapost/suggest-company-blog","v2"),e).then(T)}function S(e){return(0,n.Hm)((0,s.k)("megapost/suggest-hubs","v2"),e).then(T)}function C(e){return(0,n.Hm)((0,s.k)("publication/suggest-hubs","v2"),e).then(T)}function v(e){return(0,n.Hm)((0,s.k)("publication/suggest-banners","v2"),e)}function k(e){return(0,n.Q)((0,s.k)("publication/preview","v2"),e)}function f(e){return(0,n.Hm)((0,s.k)("publication/suggest-multiwidgets","v2"),e)}},43188:(e,t,o)=>{"use strict";o.d(t,{q:()=>r});var n=o(9669),s=o.n(n),a=o(59896);const i=s().create({baseURL:"https://stats.habr.com"});function r(e,t){return i.post(e,t).then((({data:e})=>e)).catch((e=>{(0,a.T)(e),console.error(e.message)}))}},14857:(e,t,o)=>{"use strict";o.d(t,{$B:()=>H,C1:()=>b,C7:()=>U,Ct:()=>L,Es:()=>O,FM:()=>ee,Fp:()=>a,GL:()=>S,HM:()=>P,Hm:()=>ne,JI:()=>v,JO:()=>M,Jj:()=>G,K9:()=>$,KE:()=>k,L5:()=>W,LD:()=>m,Lt:()=>T,OR:()=>u,S6:()=>h,T3:()=>V,TH:()=>E,Ts:()=>c,UZ:()=>A,Uu:()=>D,V6:()=>l,WU:()=>p,XW:()=>F,YI:()=>_,Yv:()=>C,ZB:()=>f,_X:()=>x,aP:()=>r,bG:()=>g,bq:()=>ae,cZ:()=>I,d1:()=>j,d9:()=>i,dX:()=>B,dZ:()=>N,fK:()=>te,h8:()=>K,hf:()=>ie,jS:()=>y,l$:()=>q,lp:()=>w,mH:()=>Y,qN:()=>d,qq:()=>z,ri:()=>se,tZ:()=>Z,w9:()=>J,wS:()=>R,xS:()=>Q,xm:()=>X,yG:()=>oe});var n=o(86409),s=o(27133);function a(e){return(0,n.Hm)((0,s.k)("users/","v2"),e)}function i(e){return(0,n.Hm)((0,s.k)("users/search","v2"),e)}function r(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/comments`,"v2"),t)}function l(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/investment/hubs`,"v2"),t)}function c(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/bookmarks/comments`,"v2"),t)}function m(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/subscriptions/companies`,"v2"),t)}function d(e,t,o){return(0,n.Hm)((0,s.k)(`users/${e}/flow/${t}/subscriptions/hubs`,"v2"),o)}function u(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/invited`,"v2"),t)}function p(e){return(0,n.Hm)((0,s.k)(`users/${e}/ppg`,"v2"))}function h(e,t){return(0,n.Q)((0,s.k)(`users/${e}/ppg`,"v2"),{program:t})}function _(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/subscriptions/hubs`,"v2"),t)}function g(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/card`,"v2"),t)}function T(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/whois`,"v2"),t)}function E(e,t){return(0,n.Q)((0,s.k)(`users/${e}/votes`,"v2"),t)}function S(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/votes_for`,"v2"),t)}function C(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/votes_from`,"v2"),t)}function v(e){return(0,n.Q)((0,s.k)(`users/${e}/following/toggle`,"v2"))}function k(e){return(0,n.Q)((0,s.k)("settings/i18n","v2"),e)}function f(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/statistics/viewcount`,"v2"),t)}function A(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/statistics/posts`,"v2"),t)}function I(e){return(0,n.Q)((0,s.k)("settings/subscription","v2"),e)}function y(e){return(0,n.Hm)((0,s.k)(`users/${e}/note`,"v2"))}function b(e,t){return(0,n.Q)((0,s.k)(`users/${e}/note`,"v2"),t)}function N(e){return(0,n.Q)((0,s.k)(`users/${e}/invites`,"v2"))}function P(e){return(0,n.Q)((0,s.k)(`users/${e}/issue_invite`,"v2"))}function L(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/followed`,"v2"),t)}function B(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/followers`,"v2"),t)}function O(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/occupation`,"v2"),t)}function w(e){return(0,n.Hm)((0,s.k)(`settings/${e}/form`,"v2"))}function M(e){return(0,n.Hm)((0,s.k)(`settings/oauth/${e}`,"v2"))}function R(e){return(0,n.Q)((0,s.k)(`settings/oauth/delete/${e}`,"v2"))}function V(e){return(0,n.Q)((0,s.k)("settings/oauth/clients","v2"),e)}function D(e,t,o){return(0,n.Q)((0,s.k)(`settings/oauth/clients/${t}/${o}`,"v2"),e)}function U(e){return(0,n.Hm)((0,s.k)(`settings/oauth/clients/${e}/form`,"v2"))}function $(e){return(0,n.Q)((0,s.k)("settings/use_markdown","v2"),e)}function x(){return(0,n.Hm)((0,s.k)("refs/user_contact_types","v2"))}function F(){return(0,n.Hm)((0,s.k)("refs/geo","v2"))}function H(e){return(0,n.Hm)((0,s.k)("refs/geo","v2"),{countryId:e})}function G(e,t){return(0,n.Hm)((0,s.k)("refs/geo","v2"),{countryId:e,regionId:t})}function W(){return(0,n.Hm)((0,s.k)("refs/specializations","v2"))}function Y(){return(0,n.Hm)((0,s.k)("refs/currencies","v2"))}function Z(){return(0,n.Hm)((0,s.k)("refs/qualifications","v2"))}function q(e){return(0,n.Hm)((0,s.k)("suggest/skills","v2"),e)}function K(e){return(0,n.Hm)((0,s.k)("suggest/skills/similar","v2"),{skills:e})}function j(e,t){return(0,n.Q)((0,s.k)(`settings/${t}`,"v2"),e)}function z(e){return(0,n.Q)((0,s.k)("upload","v2"),e)}function Q(){return(0,n.Hm)((0,s.k)("statistics/users","v2"))}function X(){return(0,n.Hm)((0,s.k)("karma-stats"))}function J(e,t){return(0,n.Q)((0,s.k)(`users/${e}/employee_requests`,"v2"),t)}function ee(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/employee_requests/${t}`,"v2"))}function te(e,t){return(0,n.ZI)((0,s.k)(`users/${e}/employee_requests/${t}/`,"v2"))}function oe(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/comments/votes`,"v2"),t)}function ne(e,t){return(0,n.Hm)((0,s.k)(`users/${e}/posts/votes`,"v2"),t)}function se(e,t){return(0,n.Q)((0,s.k)(`users/${e}/donations/destream`,"v2"),t)}function ae(e,t){return(0,n.Q)((0,s.k)(`users/${e}/blacklist/add`,"v2"),t)}function ie(e){return(0,n.Q)((0,s.k)(`users/${e}/blacklist/toggle`,"v2"),null)}},58366:(e,t,o)=>{"use strict";o.d(t,{Z:()=>Z});var n=o(70942);const s={class:"abbreviation-presenter"},a={key:0,class:"abbreviation-presenter__image-container"},i={key:2,class:"abbreviation-presenter__text"},r={key:0,class:"abbreviation-presenter__abbr"};function l(e,t,o,l,c,m){const d=(0,n.resolveComponent)("TMLoadingImage"),u=(0,n.resolveComponent)("TMCardImage"),p=(0,n.resolveComponent)("TMFormattedText"),h=(0,n.resolveComponent)("TMPositionedPopup");return(0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[(0,n.createVNode)(h,{"bounding-element":o.contentRef,"get-final-content-size":m.getFinalContentSize,hash:"#abbr","horizontal-alignment":"center",show:!!c.currentAbbr,"target-element":c.abbrElement,"track-in-history":"","vertical-position":"under",onClickOutside:m.maybeCloseAbbr,onClose:m.closeAbbr},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",s,[e.isMobileOnly&&c.currentAbbr.image?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createVNode)(d,{alt:c.currentAbbr.textTitle,class:"abbreviation-presenter__image",height:c.currentAbbr.imageHeight,src:c.currentAbbr.image,width:c.currentAbbr.imageWidth},null,8,["alt","height","src","width"])])):((0,n.openBlock)(),(0,n.createBlock)(u,{key:1,alt:c.currentAbbr.textTitle,"card-width":320,image:c.currentAbbr.image,"image-height":m.imageHeight,"image-width":c.currentAbbr.imageWidth,"initial-height":m.initialImageHeight,"max-height":160},null,8,["alt","image","image-height","image-width","initial-height"])),m.hasText?((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[c.currentAbbr.abbr?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,(0,n.toDisplayString)(c.currentAbbr.abbr),1)):(0,n.createCommentVNode)("",!0),c.currentAbbr.title?((0,n.openBlock)(),(0,n.createBlock)(p,{key:1,"article-text":c.currentAbbr.title,class:"abbreviation-presenter__title",version:o.version},null,8,["article-text","version"])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)])])),_:1},8,["bounding-element","get-final-content-size","show","target-element","onClickOutside","onClose"])])}var c=o(33907);function m(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMLoadingImage");return(0,n.openBlock)(),(0,n.createBlock)(n.Transition,{appear:"",name:"expand"},{default:(0,n.withCtx)((()=>[o.image?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,alt:o.alt,class:(0,n.normalizeClass)(["tm-card-image",a.loading&&"loads"]),height:o.imageHeight,src:o.image,style:(0,n.normalizeStyle)(i.style),width:o.imageWidth},null,8,["alt","class","height","src","style","width"])):(0,n.createCommentVNode)("",!0)])),_:1})}const d=["alt","height","src","width"];function u(e,t,o,s,a,i){return o.src?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,ref:"image",alt:o.alt,height:o.height,src:o.src,width:o.width,onLoad:t[0]||(t[0]=(...e)=>i.showImage&&i.showImage(...e))},null,40,d)):(0,n.createCommentVNode)("",!0)}const p={name:"TMLoadingImage",props:{src:{type:String,default:null},alt:{type:String,default:null,visible:Boolean},height:{type:[Number,String],required:!0},width:{type:[Number,String],required:!0}},data(){return{loading:!0}},watch:{src(){this.$refs.image.classList.add("loads")}},mounted(){this.$refs.image&&(this.$refs.image.addEventListener("load",this.showImage),this.$refs.image.complete&&this.showImage())},methods:{showImage(){this.$refs.image.classList.remove("loads")}}};var h=o(83744);const _=(0,h.Z)(p,[["render",u]]),g=_,T={name:"TMCardImage",components:{TMLoadingImage:g},props:{image:{type:String,default:null},alt:{type:String,default:null,visible:Boolean},initialHeight:{type:Number,required:!0},imageHeight:{type:Number,required:!0},imageWidth:{type:[Number,String],required:!0}},data(){return{loading:!0}},computed:{style(){return{"--initial-height":`${this.initialHeight}px`,"--image-height":`${this.imageHeight}px`}}},watch:{image(){this.loading=!0}},methods:{showImage(){this.loading=!1}}},E=(0,h.Z)(T,[["render",m]]),S=E;var C=o(73642);function v(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMBottomSheet"),l=(0,n.resolveComponent)("TMScrollLockTransition"),c=(0,n.resolveComponent)("TMPositionedWindow");return!e.isTablet&&e.isMobile?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,appear:"",name:"slide-fade"},{default:(0,n.withCtx)((()=>[o.show?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,card:"",title:o.title,onClose:t[0]||(t[0]=t=>e.$emit("close"))},{body:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"body")])),default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["title"])):(0,n.createCommentVNode)("",!0)])),_:3})):((0,n.openBlock)(),(0,n.createBlock)(n.Transition,{key:1,appear:"",name:"transition-fade"},{default:(0,n.withCtx)((()=>[o.show?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"bounding-element":o.boundingElement,"get-final-content-size":o.getFinalContentSize,hash:o.hash,"horizontal-alignment":o.horizontalAlignment,"target-element":o.targetElement,title:o.title,"track-in-history":o.trackInHistory,"vertical-position":o.verticalPosition,onClickOutside:t[1]||(t[1]=t=>e.$emit("click-outside",t)),onClose:t[2]||(t[2]=t=>e.$emit("close"))},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["bounding-element","get-final-content-size","hash","horizontal-alignment","target-element","title","track-in-history","vertical-position"])):(0,n.createCommentVNode)("",!0)])),_:3}))}var k=o(37717);const f={class:"tm-positioned-window__wrapper"},A={key:0,class:"tm-positioned-window__content"};function I(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgImg"),l=(0,n.resolveDirective)("hotkey");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"windowRef",class:"tm-positioned-window",style:(0,n.normalizeStyle)(a.style)},[(0,n.createElementVNode)("div",f,[(0,n.createElementVNode)("button",{class:"tm-positioned-window__close",type:"button",onClick:t[0]||(t[0]=(...e)=>s.close&&s.close(...e))},[(0,n.createVNode)(r,{id:"close",size:"12"})]),e.$slots.default?((0,n.openBlock)(),(0,n.createElementBlock)("div",A,[(0,n.renderSlot)(e.$slots,"default")])):(0,n.createCommentVNode)("",!0)])],4)),[[l,{esc:s.close}]])}var y=o(33929),b=o(93096),N=o.n(b),P=o(46206),L=o(81422),B=o(99691);const O=8,w=40,M={name:"TMPositionedWindow",components:{TMSvgImg:P.Z},props:{verticalPosition:{type:String,default:null,validator:(0,B.H)(["above","under"])},horizontalAlignment:{type:String,default:"left",validator:(0,B.H)(["left","center"])},boundingElement:{type:null,default:null},targetElement:{type:null,required:!0},getFinalContentSize:{type:Function,default:null},hash:{type:String,default:""},trackInHistory:{type:Boolean}},emits:["close","click-outside"],setup(e,{emit:t}){const o=(0,n.ref)(null);(0,y.i9H)(o,(e=>{t("click-outside",e)}));const{setHash:s,removeHash:a}=(0,L.n)(e.hash,e.trackInHistory);return{close(){t("close")},removeHash:a,setHash:s,windowRef:o}},data(){return{style:{top:null,left:null,"--max-abbr-height":"auto"}}},watch:{targetElement(){this.$nextTick().then((()=>{this.updateWindowBox()}))}},mounted(){this.updateWindowBox(),window.addEventListener("resize",this.throttledUpdateWindowBox)},beforeUnmount(){window.removeEventListener("resize",this.throttledUpdateWindowBox),this.removeHash()},methods:{throttledUpdateWindowBox:N()((function(){this.updateWindowBox()}),300),updateWindowBox(){const e=this.getMaxContentHeight(),t=this.targetElement.getBoundingClientRect(),o=this.windowRef.getBoundingClientRect(),n=this.getFinalContentSize?this.getFinalContentSize(o):o;n.height>e&&(n.height=e),this.positionWindow(n,t),this.alignWindow(n,t),this.containWithinBounds(n),this.addScroll(n),this.style={left:`${n.x}px`,top:`${n.y}px`,"--max-positioned-window-height":`${e}px`}},alignWindow(e,t){"center"===this.horizontalAlignment&&(e.x-=(e.width-t.width)/2)},positionWindow(e,t){e.x=t.left,e.y=t.top,this.applyWindowPlacement(e,t,this.verticalPosition);const o=this.getOptimalPlacement(e,t);o!==this.verticalPosition&&this.applyWindowPlacement(e,t,o)},applyWindowPlacement(e,t,o){"under"===o?e.y=t.bottom+O:"above"===o&&(e.y=t.top-e.height-O)},getOptimalPlacement(e,t){const o=this.getSpaceUnder(e,t),n=this.getSpaceAbove(e,t);return"under"===this.verticalPosition?o>0||o>n?"under":"above":n>0||n>o?"above":"under"},getSpaceUnder(e,t){return visualViewport.height-(t.bottom+O+e.height)},getSpaceAbove(e,t){return t.top-O-e.height},containWithinBounds(e){if(this.boundingElement){const t=this.boundingElement.getBoundingClientRect();this.containHorizontally(e,t)}},containHorizontally(e,t){let o=0;e.left<t.left&&(o=t.left-e.left),e.right>t.right&&(o=t.right-e.right),e.x+=o},addScroll(e){e.x+=document.documentElement.scrollLeft,e.y+=document.documentElement.scrollTop},getMaxContentHeight(){return visualViewport.height/2-w}}},R=(0,h.Z)(M,[["render",I]]),V=R;var D=o(40248);const U={name:"TMPositionedPopup",components:{TMPositionedWindow:V,TMBottomSheet:k.Z,TMScrollLockTransition:D.Z},props:{title:{type:String,default:null},verticalPosition:{type:String,default:null,validator:(0,B.H)(["above","under"])},horizontalAlignment:{type:String,default:"left",validator:(0,B.H)(["left","center"])},boundingElement:{type:null,default:null},targetElement:{type:null,required:!0},getFinalContentSize:{type:Function,default:null},hash:{type:String,default:""},trackInHistory:{type:Boolean},show:Boolean},emits:["close","click-outside"],computed:{...(0,c.Se)("global",["isMobile","isTablet"])}},$=(0,h.Z)(U,[["render",v]]),x=$,F=180,H=320,G="habraabbr",W={name:"TMAbbreviationPresenter",components:{TMLoadingImage:g,TMFormattedText:C.Z,TMCardImage:S,TMPositionedPopup:x},props:{contentRef:{type:null,required:!0},version:{type:[String,Number],default:null}},emits:["close"],data(){return{prevAbbr:null,currentAbbr:null,disposeAbbrs:null,abbrElement:null}},computed:{...(0,c.Se)("global",["isMobileOnly"]),hasText(){return this.currentAbbr&&(this.currentAbbr.title||this.currentAbbr.abbr)},imageHeight(){return this.currentAbbr&&this.currentAbbr.image?this.constrainImageHeight(this.currentAbbr.imageWidth,this.currentAbbr.imageHeight):0},prevImageHeight(){return this.prevAbbr&&this.prevAbbr.image?this.constrainImageHeight(this.prevAbbr.imageWidth,this.prevAbbr.imageHeight):0},initialImageHeight(){return this.prevAbbr?this.prevImageHeight:this.imageHeight}},mounted(){this.getAbbrElements().forEach((e=>{e.setAttribute("data-text-title",e.getAttribute("title")),e.removeAttribute("title"),e.addEventListener("click",this.abbrClickHandler)}))},beforeUnmount(){this.getAbbrElements().forEach((e=>{e.removeEventListener("click",this.abbrClickHandler)}))},methods:{getAbbrElements(){return this.contentRef.querySelectorAll(`.${G}`)},async abbrClickHandler(e){const t=e.currentTarget;this.setAbbrElement(t)},setAbbrElement(e){this.abbrElement=e;const{dataset:t}=e;this.prevAbbr=this.currentAbbr,this.currentAbbr={title:t.title,image:t.image,abbr:t.abbr,textTitle:t.textTitle,imageWidth:t.imageWidth,imageHeight:t.imageHeight}},getFinalContentSize(e){return new DOMRect(e.x,e.y,e.width,this.getNextWindowHeight(e.height))},getNextWindowHeight(e){return this.prevAbbr?e-this.prevImageHeight+this.imageHeight:e},constrainImageHeight(e,t){return Math.min(t*(H/e),F)},closeAbbr(){this.currentAbbr=null,this.prevAbbr=null},maybeCloseAbbr(e){e.target.className!==G&&this.closeAbbr()}}},Y=(0,h.Z)(W,[["render",l]]),Z=Y},10819:(e,t,o)=>{"use strict";o.d(t,{Z:()=>S});var n=o(70942);const s={class:"tm-adfox-banner__container"},a=["id"];function i(e,t,o,i,r,l){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[((0,n.openBlock)(),(0,n.createElementBlock)("div",{id:l.containerId,key:r.uniqueDivId,ref:"adBanner",class:(0,n.normalizeClass)(["tm-adfox-banner",l.bem("tm-adfox-banner",{variant:o.variant})])},null,10,a))])}var r=o(33907);const l=(e={},t={},o={})=>{let n=[];const{hubs:s}=e;return n=n.concat(s?s.map((e=>`h_${e.alias}`)):[]),o.params.hubName&&t&&n.push(`h_${t.alias}`),n},c=(e={},t={},o={})=>{let n=[];const{flows:s}=e;return n=n.concat(s?s.map((e=>`f_${e.alias}`)):[]),o.params.hubName&&t.flow&&t.flow.alias&&n.push(`f_${t.flow.alias}`),o.params.flowName&&n.push(`f_${o.params.flowName}`),n};var m=o(25109),d=o(67267);let u="1";function p(e){return(parseInt(e,10)+1).toString()}function h(e=""){const t=u;return u=p(u),t===u&&d.Z.notifyException("Strings should be unique",{extra:{baseString:u}}),e+u}var _=o(99691);const g={name:"TMAdfoxBanner",props:{adfoxId:{type:String,required:!0},divId:{type:String,default:h("adbanner")},variant:{type:String,required:!0,validator:(0,_.H)(["half-page","leaderboard","medium-rectangle","narrow","medium-narrow"])},params:{type:Object,required:!0}},data(){return{uniqueDivId:h(this.divId)}},computed:{...(0,r.Se)("articlesList",["getArticleById"]),...(0,r.Se)("hubs",["getHubByAlias"]),...(0,r.rn)("adblock",["hasAcceptableAdsFilter"]),...(0,r.rn)("i18n",["fl","hl"]),articleId(){return this.$route.params.id},hubAlias(){return this.$route.params.hubName},hub(){return this.hubAlias&&this.getHubByAlias(this.hubAlias)},article(){return this.articleId&&this.getArticleById(this.articleId)},containerId(){return`adfox_${this.adfoxId}`},pageType(){let e="default";return this.$route.matched.forEach((t=>{t.meta&&t.meta.pageType&&(e=t.meta.pageType)})),e}},mounted(){this.displayAds()},methods:{bem:m.P,displayAds(){window.yaContextCb.push((()=>{const e=c(this.article,this.hub,this.$route),t=l(this.article,this.hub,this.$route),o={puid1:this.pageType,puid2:e.join(":"),puid3:t.join(":"),puid4:this.hasAcceptableAdsFilter?"yes":"no",puid5:this.$route.path,puid6:"en"===this.fl?"en":"ru"};Ya.adfoxCode.create({ownerId:406261,containerId:this.containerId,params:{...this.params,...o}})}))}}};var T=o(83744);const E=(0,T.Z)(g,[["render",i]]),S=E},77748:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s={class:"tm-align-center"},a={key:0,class:"tm-align-center__start"},i={class:"tm-align-center__content"},r={key:1,class:"tm-align-center__end"};function l(e,t,o,l,c,m){return(0,n.openBlock)(),(0,n.createElementBlock)("span",s,[e.$slots.start?((0,n.openBlock)(),(0,n.createElementBlock)("span",a,[(0,n.renderSlot)(e.$slots,"start")])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("span",i,[(0,n.renderSlot)(e.$slots,"default")]),e.$slots.end?((0,n.openBlock)(),(0,n.createElementBlock)("span",r,[(0,n.renderSlot)(e.$slots,"end")])):(0,n.createCommentVNode)("",!0)])}const c={name:"TMAlignCenter"};var m=o(83744);const d=(0,m.Z)(c,[["render",l]]),u=d},55899:(e,t,o)=>{"use strict";o.d(t,{Z:()=>Ae});var n=o(70942);const s={class:"tm-article-blocks"},a={key:1,class:"tm-article-blocks__comments"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMEditoralSubscription"),m=(0,n.resolveComponent)("TMPlaceholder"),d=(0,n.resolveComponent)("TMCommentsWrapper"),u=(0,n.resolveComponent)("TMArticlePageComments");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(c),(0,n.renderSlot)(e.$slots,"beforeComments"),o.isLoading||!o.article?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(m,{times:3,type:"comment"})])),_:1})):((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createVNode)(u,{article:o.article},null,8,["article"])])),(0,n.renderSlot)(e.$slots,"afterComments")])}const r={id:"publication-comments",class:"tm-article-page-comments"};function l(e,t,o,s,a,i){const l=(0,n.resolveComponent)("TMArticleCommentsDisabledNotice"),c=(0,n.resolveComponent)("TMArticleCommentsServerRendered"),m=(0,n.resolveComponent)("TMArticleCommentsOffloaded"),d=(0,n.resolveComponent)("TMHeightLimiter"),u=(0,n.resolveComponent)("TMArticleCommentsClientRendered"),p=(0,n.resolveComponent)("TMArticleCommentsCounterButton"),h=(0,n.resolveComponent)("TMIntersectionSwitch");return(0,n.openBlock)(),(0,n.createElementBlock)("div",r,[i.commentsEnabled?i.shouldSsrArticleComments?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,"article-id":i.articleId,"can-cache-comments":i.canCacheComments,"is-post":i.isPost},null,8,["article-id","can-cache-comments","is-post"])):((0,n.openBlock)(),(0,n.createBlock)(h,{key:2,"root-margin":"1000px 0px 1000px 0px",onIntersected:i.onIntersected},{default:(0,n.withCtx)((()=>[i.canStreamComments?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0,"expand-title":e.msg("COMMENTS_SHOW_ALL",{count:o.article.statistics.commentsCount}),"max-height":a.isExpandedLimiter?null:i.commentsInitialHeight},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(m,{"article-id":i.articleId,"can-cache-comments":i.canCacheComments,ssr:i.shouldSsrArticleComments,onExpandLimiter:t[0]||(t[0]=e=>a.isExpandedLimiter=!0)},null,8,["article-id","can-cache-comments","ssr"])])),_:1},8,["expand-title","max-height"])):((0,n.openBlock)(),(0,n.createBlock)(u,{key:1,article:o.article,onLoaded:i.onCommentsLoaded},null,8,["article","onLoaded"]))])),fallback:(0,n.withCtx)((()=>[(0,n.createVNode)(p,{article:o.article},null,8,["article"])])),_:1},8,["onIntersected"])):((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,reason:o.article.commentsEnabled.reason,onToggleCommentsState:i.enableArticleComments},null,8,["reason","onToggleCommentsState"]))])}var c=o(33907);const m={class:"tm-article-comments-client-rendered"};function d(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMArticleComments"),l=(0,n.resolveComponent)("TMArticleCommentsCounterButton");return(0,n.openBlock)(),(0,n.createElementBlock)("div",m,[i.shouldClientRenderComments?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,"article-id":o.article.id,"is-loading":a.isLoadingComments},null,8,["article-id","is-loading"])):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1,article:o.article},null,8,["article"]))])}var u=o(34008);function p(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMArticleCommentsCounterLink"),l=(0,n.resolveDirective)("hotkey");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(r,{ref:"commentsLink",article:o.article,class:"tm-article-comments-counter-button","comments-count":o.article.statistics.commentsCount,"unread-count":o.article.relatedData&&o.article.relatedData.unreadCommentsCount,variant:"button"},null,8,["article","comments-count","unread-count"])),[[l,i.hotkeys,void 0,{stop:!0}]])}var h=o(39701),_=o(46186);const g={name:"TMArticleCommentsCounterButton",components:{TMArticleCommentsCounterLink:h.Z},props:{article:{type:Object,required:!0}},setup(){return{isComponentActive:(0,_.c)()}},computed:{hotkeys(){return this.isComponentActive?{c:this.handleCommentsKey}:{}}},methods:{handleCommentsKey(){this.isComponentActive&&this.$refs.commentsLink.click()}}};var T=o(83744);const E=(0,T.Z)(g,[["render",p]]),S=E;var C=o(51737),v=o(39520),k=o(73313);const f={name:"TMArticleCommentsClientRendered",components:{TMArticleComments:u.Z,TMArticleCommentsCounterButton:S},props:{article:{type:Object,required:!0}},emits:["loaded"],data(){return{isLoadingComments:!0}},computed:{shouldClientRenderComments(){return this.article.statistics.commentsCount<=v.Hx}},mounted(){this.shouldClientRenderComments&&this.loadComments()},methods:{...(0,c.nv)("comments",["getComments"]),loadComments(){const e=(0,C.ve)(this.$route),t=(0,k.E)(this.$route.name);this.isLoadingComments=!0,this.getComments({articleId:this.article.id,isPost:t,nocount:e}).then((()=>{this.$emit("loaded"),this.isLoadingComments=!1})).catch((e=>{this.isLoadingComments=!1,this.$toast.error(e.message)}))}}},A=(0,T.Z)(f,[["render",d]]),I=A;var y=o(24229),b=o(18052);function N(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMArticleComments");return(0,n.openBlock)(),(0,n.createBlock)(r,{"article-id":o.articleId,"cache-key":o.canCacheComments?i.cacheKey:null,"is-loading":e.isLoading},null,8,["article-id","cache-key","is-loading"])}var P=o(22201),L=o(4218),B=o(21805),O=o(61794);const w={name:"TMArticleCommentsServerRendered",components:{TMArticleComments:u.Z},props:{articleId:{type:String,required:!0},canCacheComments:{type:Boolean,default:!1},isPost:{type:Boolean,required:!0}},setup(e){const t=(0,P.yj)(),[o,n]=(0,L.WX)("comments",["getComments","getGuestComments"]);return(0,B.w)((()=>{const s=(0,k.E)(t.name),a=[];return e.canCacheComments?a.push(n({articleId:e.articleId,isPost:s})):a.push(o({articleId:e.articleId,nocount:!0,isPost:s})),Promise.all(a)}))},computed:{...(0,c.Se)("me",["isLoggedIn"]),...(0,c.Se)("comments",["getCommentsCacheKey"]),cacheKey(){return this.getCommentsCacheKey(this.articleId)}},mounted(){this.readVisitorComments()},methods:{...(0,c.nv)("comments",["getComments","getGuestComments"]),readVisitorComments(){(0,C.ev)(this.$route)||this.isLoggedIn&&!this.canCacheComments&&(this.isPost?(0,O.eT)(this.articleId):(0,O.nN)(this.articleId))}}},M=(0,T.Z)(w,[["render",N]]),R=M,V={class:"tm-height-limiter"},D={key:0,class:"tm-height-limiter__expand","data-height-limiter":""},U=["textContent"];function $(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",V,[(0,n.createElementVNode)("div",{class:"tm-height-limiter__wrapper",style:(0,n.normalizeStyle)({maxHeight:i.currentPixelsHeight,overflow:i.currentPixelsHeight?"hidden":null})},[(0,n.renderSlot)(e.$slots,"default")],4),a.currentHeight?((0,n.openBlock)(),(0,n.createElementBlock)("div",D,[(0,n.createElementVNode)("button",{class:"tm-height-limiter__expand-button",onClick:t[0]||(t[0]=e=>a.currentHeight=null),textContent:(0,n.toDisplayString)(o.expandTitle)},null,8,U)])):(0,n.createCommentVNode)("",!0)])}const x={name:"TMHeightLimiter",props:{maxHeight:{type:Number,default:null},expandTitle:{type:String,required:!0}},data(){return{currentHeight:this.maxHeight}},computed:{currentPixelsHeight(){return this.currentHeight?`${this.currentHeight}px`:null}},watch:{maxHeight(){this.currentHeight=this.maxHeight}}},F=(0,T.Z)(x,[["render",$]]),H=F,G={ref:"container"};function W(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",G,[s.hasIntersected?(0,n.renderSlot)(e.$slots,"default",{key:0}):(0,n.renderSlot)(e.$slots,"fallback",{key:1})],512)}var Y=o(33929);const Z={name:"TMIntersectionSwitch",props:{rootMargin:{type:String,default:"0px 0px 0px 0px"}},emits:["intersected"],setup(e,{emit:t}){const o=(0,n.ref)(null),s=(0,n.ref)(!1);return(0,Y.S1d)(o,(([{isIntersecting:e}])=>{e&&(s.value=e,t("intersected"))}),{rootMargin:e.rootMargin}),{container:o,hasIntersected:s}}},q=(0,T.Z)(Z,[["render",W]]),K=q;var j=o(48070),z=o(87575),Q=o(70953),X=o(30121);const J={name:"TMArticlePageComments",components:{TMArticleCommentsCounterButton:S,TMArticleCommentsDisabledNotice:y.Z,TMArticleCommentsServerRendered:R,TMArticleCommentsClientRendered:I,TMArticleCommentsOffloaded:b.Z,TMHeightLimiter:H,TMIntersectionSwitch:K},props:{article:{type:Object,required:!0}},data(){return{isExpandedLimiter:!1}},computed:{...(0,c.Se)("me",["isLoggedIn"]),...(0,c.Se)("articlesList",["shouldSsrComments"]),...(0,c.Se)("comments",["getCommentsCacheKey"]),articleId(){return this.article.id},shouldSsrArticleComments(){return(this.commentsStreamingEnabled||!(this.article.statistics.commentsCount>v.Hx))&&this.shouldSsrComments(this.articleId)},commentsInitialHeight(){return this.shouldSsrArticleComments||this.article.statistics.commentsCount<=v.Yi?null:v.ZZ},canCacheComments(){return!(!this.article||this.article.statistics.commentsCount<v.Ng||this.isLoggedIn)&&this.$getFeatureFlag("COMMENTS_CACHING_ENABLED")},cacheKey(){return this.canCacheComments?this.getCommentsCacheKey(this.articleId):null},canStreamComments(){return!(!this.article||this.article.statistics.commentsCount<v.Cl)&&this.commentsStreamingEnabled},commentsStreamingEnabled(){return this.$getFeatureFlag("COMMENTS_STREAMING_ENABLED")},isPost(){return(0,k.E)(this.$route.name)},commentsEnabled(){return!!this.isPost||this.article&&this.article.commentsEnabled.status}},mounted(){(0,C.ev)(this.$route)&&(this.isPost||((0,C._6)(this.$route),this.$router.replace({name:j.VU.ARTICLE_COMMENTS,hash:this.$route.hash})),(0,z.dY)(this.$route)),"#publication-comments"===this.$route.hash&&(this.scheduleScrollToCommentsBlock(),this.$router.replace({...this.$route,hash:""}))},deactivated(){this.removeVisitedArticle(),this.removeSsrCommentsArticleId(this.articleId)},beforeUnmount(){this.removeVisitedArticle()},methods:{...(0,c.nv)("articlesList",["setArticleCommentsStatus"]),...(0,c.OI)("articlesList",["removeSsrCommentsArticleId"]),scheduleScrollToCommentsBlock(){setTimeout((()=>{const e=document.getElementById("publication-comments");e&&(0,X.kI)(e)}),300)},enableArticleComments(){return(0,O.oc)(this.articleId).then((()=>this.setArticleCommentsStatus({articleId:this.articleId,status:!this.article.commentsEnabled.status}))).catch((e=>this.$toast.error(e.message)))},onCommentsLoaded(){this.saveVisitedArticle()},onIntersected(){this.saveVisitedArticle()},saveVisitedArticle(){const e=(0,Q.ej)("visited_articles",!0)||"",t=e?e.split(":"):[],o=Array.from(new Set([this.articleId,...t])),n=o.slice(0,10).join(":");(0,Q.d8)("visited_articles",n,{expires:30})},removeVisitedArticle(){const e=(0,Q.ej)("visited_articles")||"",t=e.split(":"),o=new Set(t);o.delete(this.articleId);const n=Array.from(o).join(":");n?(0,Q.d8)("visited_articles",n,{expires:30}):(0,Q.nJ)("visited_articles")}}},ee=(0,T.Z)(J,[["render",l]]),te=ee;var oe=o(46901);const ne={key:0,class:"tm-editoral-subscription"},se={class:"tm-editoral-subscription__title"},ae={class:"tm-editoral-subscription__description"},ie={key:0,class:"tm-editoral-subscription__success"},re=["disabled"],le={key:0,class:"tm-editoral-subscription__error"};function ce(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgIcon"),l=(0,n.resolveComponent)("TMArrowRight"),c=(0,n.resolveComponent)("TMInputTextDecorated");return e.showBlock?((0,n.openBlock)(),(0,n.createElementBlock)("div",ne,[(0,n.createVNode)(r,{id:"close",class:"tm-editoral-subscription__close",onClick:e.closeForm},null,8,["onClick"]),(0,n.createElementVNode)("h3",se,(0,n.toDisplayString)(e.msg("SUBSCRIPTION_EDITORAL_TITLE")),1),(0,n.createElementVNode)("p",ae,(0,n.toDisplayString)(e.msg("SUBSCRIPTION_EDITORAL_DESCRIPTION")),1),e.requestSended?((0,n.openBlock)(),(0,n.createElementBlock)("p",ie,(0,n.toDisplayString)(e.msg("SUBSCRIPTION_EDITORAL_SUCCESS")),1)):((0,n.openBlock)(),(0,n.createElementBlock)("form",{key:1,class:"tm-editoral-subscription__form",method:"GET",onSubmit:t[1]||(t[1]=(...t)=>e.onSubmit&&e.onSubmit(...t))},[(0,n.createVNode)(c,{ref:"input",modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),class:"tm-editoral-subscription__input",disabled:e.isLoading,"is-invalid":e.hasError,name:"email",placeholder:e.msg("SUBSCRIPTION_EDITORAL_PLACEHOLDER"),type:"email"},{after:(0,n.withCtx)((()=>[(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(["tm-editoral-subscription__icon",{"tm-editoral-subscription__icon_loading":e.isLoading}]),disabled:e.isLoading,type:"submit"},[(0,n.createVNode)(l)],10,re)])),_:1},8,["modelValue","disabled","is-invalid","placeholder"]),e.hasError?((0,n.openBlock)(),(0,n.createElementBlock)("p",le,(0,n.toDisplayString)(e.errorMessage),1)):(0,n.createCommentVNode)("",!0)],32))])):(0,n.createCommentVNode)("",!0)}var me=o(46604),de=o(2095),ue=o(19913),pe=o(86409),he=o(27133);function _e(e){return(0,pe.Q)((0,he.k)("digests/editorial/subscribe","v2"),e)}const ge=(0,n.defineAsyncComponent)((()=>o.e(6075).then(o.bind(o,96075)))),Te="habr-editoral-subscription",Ee={name:"TMEditoralSubscription",components:{TMInputTextDecorated:me.Z,TMSvgIcon:de.Z,TMArrowRight:ge},data(){return{email:"",isLoading:!1,requestSended:!1,errorMessage:"",hasError:!1,showBlock:!1}},computed:{...(0,c.Se)("i18n",["msg","langOptions"]),...(0,c.Se)("me",["isLoggedIn"])},mounted(){this.showBlock=this.checkBlockShowStatus()},methods:{checkBlockShowStatus(){const e=(0,Q.ej)(Te);return!this.isLoggedIn&&!e},onSubmit(e){e.preventDefault(),this.isLoading=!0,this.hasError=!1;const t={email:this.email,...this.langOptions};_e(t).then((e=>{if(!e||!e.ok)throw new Error(e&&e.message);this.requestSended=!0,this.isLoading=!1,(0,Q.d8)(Te,"subscribe",{expires:90}),(0,ue.IZ)("tm_block_edit_digest_post_subscribe"),setTimeout((()=>{this.showBlock=!1}),1e4)})).catch((e=>{this.setError(e)}))},setError(e){this.isLoading=!1,this.hasError=!0,this.errorMessage=e&&e.message||this.msg("SUBSCRIPTION_EDITORAL_ERROR")},closeForm(){this.showBlock=!1,(0,Q.d8)(Te,"close",{expires:90}),(0,ue.IZ)("tm_block_edit_digest_post_close")}}},Se=(0,T.Z)(Ee,[["render",ce]]),Ce=Se;var ve=o(79063);const ke={name:"TMArticleBlocks",components:{TMArticlePageComments:te,TMPlaceholder:ve.Z,TMCommentsWrapper:oe.Z,TMEditoralSubscription:Ce},props:{article:{type:Object,default:()=>null},isLoading:{type:Boolean,required:!0}}},fe=(0,T.Z)(ke,[["render",i]]),Ae=fe},75200:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s={class:"tm-article-body","data-gallery-root":""},a={key:2,class:"tm-article-poll-container"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMArticleTrackingPixels"),m=(0,n.resolveComponent)("TMArticleFormattedBody"),d=(0,n.resolveComponent)("TMGallery"),u=(0,n.resolveComponent)("TMArticlePoll");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[e.article.metadata&&e.article.metadata.customTrackerLinks?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,links:e.article.metadata.customTrackerLinks},null,8,["links"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(m,{id:"post-content-body","article-text":e.article.textHtml,"should-format":!e.isMegapostV1,version:e.editorVersion},null,8,["article-text","should-format","version"]),e.galleryImages.length?((0,n.openBlock)(),(0,n.createBlock)(d,{key:1,"images-list":e.galleryImages},null,8,["images-list"])):(0,n.createCommentVNode)("",!0),e.article.polls&&e.article.polls.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.article.polls,(t=>((0,n.openBlock)(),(0,n.createBlock)(u,{key:t.id,"is-loading-decline":e.isLoadingDecline,"is-loading-vote":e.isLoadingVote,poll:t,variant:"bordered",onDeclineVote:e.declineVote,onSubmitVote:e.sendVote},null,8,["is-loading-decline","is-loading-vote","poll","onDeclineVote","onSubmitVote"])))),128))])):(0,n.createCommentVNode)("",!0)])}var r=o(33948),l=o(83744);const c=(0,l.Z)(r.Z,[["render",i]]),m=c},29586:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMDatetime"),l=(0,n.resolveComponent)("TMArticleCommentsLink"),c=(0,n.resolveComponent)("TMComment");return(0,n.openBlock)(),(0,n.createBlock)(c,{comment:o.comment,"is-comment-controls-shown":o.isCommentControlsShown,"popup-toggle-visible":o.popupToggleVisible,"should-display-status":o.shouldDisplayStatus,"user-popover-enabled":o.userPopoverEnabled},{"comment-link":(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"comment-link",{},(()=>[(0,n.createVNode)(l,{article:o.comment.post||o.comment.publication,class:"tm-article-comment__link","comment-id":o.comment.id},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{date:new Date(o.comment.timePublished),"is-article-format":""},null,8,["date"])])),_:1},8,["article","comment-id"])]))])),_:3},8,["comment","is-comment-controls-shown","popup-toggle-visible","should-display-status","user-popover-enabled"])}var a=o(19504),i=o(74370),r=o(63599);const l={name:"TMArticleComment",components:{TMArticleCommentsLink:a.Z,TMComment:i.Z,TMDatetime:r.Z},props:{comment:{type:Object,required:!0},isCommentControlsShown:{type:Boolean,default:!0},shouldDisplayStatus:{type:Boolean,default:!0},userPopoverEnabled:Boolean,popupToggleVisible:Boolean}};var c=o(83744);const m=(0,c.Z)(l,[["render",s]]),d=m},39701:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(70942);const s={class:"tm-article-comments-counter-link"},a=["title"];function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMSvgImg"),m=(0,n.resolveComponent)("TMArticleCommentsLink");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(m,{ref:"commentsLink",article:o.article,class:(0,n.normalizeClass)(["tm-article-comments-counter-link__link",{"tm-article-comments-counter-link__link_button-style":l.isButton}]),"data-test-id":"counter-comments",onClick:l.onClick},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{id:"counter-comments",class:(0,n.normalizeClass)(["tm-article-comments-counter-link__icon",{"tm-article-comments-counter-link__icon_contrasted":l.isButton}]),size:"24"},null,8,["class"]),(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(["tm-article-comments-counter-link__value",{"tm-article-comments-counter-link__value_contrasted":l.isButton}])},(0,n.toDisplayString)(l.textValue),3)])),_:1},8,["article","class","onClick"]),o.unreadCount?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,ref:"commentsLink",article:o.article,class:(0,n.normalizeClass)(["tm-article-comments-counter-link__link",{"tm-article-comments-counter-link__link_button-style":l.isButton}]),"data-test-id":"unread-count","first-unread":o.unreadCount&&o.unreadCount!==o.commentsCount,onClick:l.onClick},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(l.unreadCounterClassNames),title:e.msg("DATA_ICONS_READ_NEW_COMMENTS")},[(0,n.createElementVNode)("span",null,"+"+(0,n.toDisplayString)(o.unreadCount),1)],10,a)])),_:1},8,["article","class","first-unread","onClick"])):(0,n.createCommentVNode)("",!0)])}var r=o(19504),l=o(46206),c=o(25109),m=o(19913);const d={name:"TMArticleCommentsCounterLink",components:{TMArticleCommentsLink:r.Z,TMSvgImg:l.Z},props:{article:{type:Object,required:!0},commentsCount:{type:Number,default:null},unreadCount:{type:[String,Number],default:null},variant:{type:String,default:"icon"},gaEvent:{type:[Object,String],required:!1,default:null},roundOnMobile:{type:Boolean,default:!0}},computed:{isButton(){return"button"===this.variant},textValue(){return this.isButton?this.msg("ARTICLE_COMMENTS_COUNT",{count:this.commentsCount}):this.commentsCount},unreadCounterClassNames(){return(0,c.P)("tm-article-comments-counter-link__unread-counter",{contrasted:this.isButton,roundOnMobile:this.roundOnMobile})}},methods:{bem:c.P,onClick(){var e;null!==(e=this.gaEvent)&&void 0!==e&&e.comment&&(0,m.IZ)(this.gaEvent.comment)},click(){this.$refs.commentsLink.click()}}};var u=o(83744);const p=(0,u.Z)(d,[["render",i]]),h=p},19504:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s=["href"];function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("router-link");return r.useRegularLink?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:0,ref:"link",href:e.$router.resolve(r.route).href},[(0,n.renderSlot)(e.$slots,"default")],8,s)):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1,ref:"link","active-class":"","exact-active-class":"",to:r.route},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["to"]))}var i=o(73313),r=o(44383);const l={name:"TMArticleCommentsLink",props:{article:{type:Object,required:!0,validator(e){return!!(0,i.o)(e)||(!e.isCorporative||!!e.hubs&&e.hubs.some((e=>"corporative"===e.type)))}},commentId:{type:[String,Number],default:null},firstUnread:Boolean},computed:{useRegularLink(){return!!this.commentId},route(){const e=(0,r.ym)(this.article,this.langOptions.hl);return this.commentId&&(e.hash=`#comment_${this.commentId}`),this.firstUnread&&(e.hash="#first_unread"),(0,i.o)(this.article)&&(e.hash="#publication-comments"),e}},methods:{click(){this.useRegularLink?this.$el.click():this.$refs.link.$el.click()}}};var c=o(83744);const m=(0,c.Z)(l,[["render",a]]),d=m},24229:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={class:"tm-article-comments-disabled__paragraph"},a={key:0};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMButtonBase"),m=(0,n.resolveComponent)("TMNotice");return(0,n.openBlock)(),(0,n.createBlock)(m,{type:"neutral"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",s,[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_DISABLE_COMMENTS_MESSAGE"))+" ",1),o.reason?((0,n.openBlock)(),(0,n.createElementBlock)("span",a,(0,n.toDisplayString)(e.msg("ARTICLE_DISABLE_COMMENTS_MESSAGE_DETAILS",{user:o.reason.author.alias||o.reason.author.fullname,reason:o.reason.reasonHtml})),1)):(0,n.createCommentVNode)("",!0)]),e.isSuperAdmin?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,class:"tm-article-comments-disabled__button","style-size":"medium","style-type":"transparent",onClick:t[0]||(t[0]=t=>e.$emit("toggleCommentsState"))},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_ENABLE_COMMENTS")),1)])),_:1})):(0,n.createCommentVNode)("",!0)])),_:1})}var r=o(33907),l=o(7281),c=o(3996);const m={name:"TMArticleCommentsDisabledNotice",components:{TMButtonBase:l.Z,TMNotice:c.Z},props:{reason:{required:!0,type:Object,default:null}},emits:["toggleCommentsState"],computed:{...(0,r.Se)("me",["isSuperAdmin"])}};var d=o(83744);const u=(0,d.Z)(m,[["render",i]]),p=u},18052:(e,t,o)=>{"use strict";o.d(t,{Z:()=>D});var n=o(70942);const s={class:"tm-article-comments-offloaded"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMArticleComments"),c=(0,n.resolveComponent)("TMPlaceholder"),m=(0,n.resolveComponent)("TMCommentsWrapper"),d=(0,n.resolveComponent)("TMDeferredRender");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[r.shouldUseStreaming?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[i.isStreamLoading?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,"comments-count":r.commentsCount},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{times:3,type:"comment"})])),_:1},8,["comments-count"])):((0,n.openBlock)(),(0,n.createBlock)(d,{key:1,"ready-to-hydrate":!a.isLoading,stream:i.stream,onDone:r.onStreamingDone,onError:r.onError},{fallback:(0,n.withCtx)((()=>[(0,n.createVNode)(m,{"comments-count":r.commentsCount},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{times:3,type:"comment"})])),_:1},8,["comments-count"])])),default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,{"article-id":o.articleId,"cache-key":o.canCacheComments?r.cacheKey:null,"is-loading":!1,onExpandLimiter:t[1]||(t[1]=t=>e.$emit("expandLimiter",t))},null,8,["article-id","cache-key"])])),tail:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{times:3,type:"comment"})])),_:1},8,["ready-to-hydrate","stream","onDone","onError"]))],64)):((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,"article-id":o.articleId,"cache-key":o.canCacheComments?r.cacheKey:null,"is-loading":a.isLoading,onExpandLimiter:t[0]||(t[0]=t=>e.$emit("expandLimiter",t))},null,8,["article-id","cache-key","is-loading"]))])}var i=o(22201),r=o(33907),l=o(34008),c=o(46901);const m={ref:"root",class:"tm-deferred-render"},d={id:"streaming",ref:"streamingApp"};function u(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",m,[(0,n.createElementVNode)("div",d,null,512),a.shouldDisplayFallback?(0,n.renderSlot)(e.$slots,"fallback",{key:0}):(0,n.createCommentVNode)("",!0),o.readyToHydrate?(0,n.createCommentVNode)("",!0):(0,n.renderSlot)(e.$slots,"tail",{key:1})],512)}var p=o(47820);function h(e,t){const o=Math.ceil(e.length/t),n=new Array(o);for(let s=o-1,a=0;s>=0;a+=t,s-=1)n[s]=e.substr(a,t);return n}class _ extends Error{}const g=({stream:e,onFirstChunk:t,write:o})=>{const n=new TextDecoder("utf-8"),s=e.getReader();let a,i=!1,r=!1;const l=()=>{i||s.cancel(),a&&a(new _("Render cancelled manually"))},c=()=>new Promise(((e,l)=>{a=e=>{r=!0,l(e)};const c=65536,m=[];let d=0,u=[],p=!1,_=!1;const g=()=>{o(u.pop()),_||(t(),_=!0)},T=()=>{0===u.length&&m.length-1>=d&&(u=h(m[d],c),d+=1)},E=()=>{r||(d===m.length&&0===u.length&&p?e():(requestAnimationFrame(E),T(),0!==u.length&&g()))},S=({done:e,value:t})=>{if(e)return i=!0,p=!0,void requestAnimationFrame(E);requestAnimationFrame((e=>{E(e),s.read().then(S).catch(a)})),m.push(n.decode(t).normalize("NFC"))};s.read().then(S).catch(a)}));return[c,l]},T={name:"TMDeferredRender",props:{stream:{type:(0,p.Z)()?ReadableStream:Object,required:!0},readyToHydrate:{type:Boolean,default:!0}},emits:["done","error"],data(){return{rootElement:null,shouldDisplayFallback:!0,cancel:null}},mounted(){const{stream:e}=this,t=document.implementation.createHTMLDocument("comments"),[o,n]=g({stream:e,onFirstChunk:()=>{this.shouldDisplayFallback=!1;const e=t.querySelector("#streaming");this.$refs.root.replaceChild(e,this.$refs.streamingApp)},write(e){t.write(e)}});this.cancel=n,t.open(),t.write('<div id="streaming">'),o().then((()=>{t.write("</div>"),t.close(),this.rootElement=this.$refs.root.querySelector("#streaming"),this.$emit("done",this.rootElement)})).catch((e=>{e instanceof _||this.$emit("error",e)}))},beforeUnmount(){this.cancel&&this.cancel()}};var E=o(83744);const S=(0,E.Z)(T,[["render",u]]),C=S;var v=o(79063),k=o(23002),f=o(92324),A=o(74735),I=o(13406),y=o(90928);function b(e,t,o){const s=(0,n.createSSRApp)({setup(){s.config.globalProperties.$toast=(0,k.pm)()},render:()=>(0,n.h)(e)});return s.use(t),s.use(o),s.use(A.ZP),s.use(f.ZP),s.mixin((0,y.Z)()),(0,I.rg)(s),(0,I.RX)(s),s}var N=o(4218),P=o(21805);function L(e){const t=(0,n.getCurrentInstance)();return(0,n.computed)((()=>{if(t)return t.appContext.config.globalProperties.$getFeatureFlag(e)}))}var B=o(35275),O=o(73313),w=o(61794);const M=!B.Qg||"fetch"in window&&"TextDecoder"in window,R={name:"TMArticleCommentsOffloaded",components:{TMCommentsWrapper:c.Z,TMPlaceholder:v.Z,TMDeferredRender:C,TMArticleComments:l.Z},props:{articleId:{type:String,required:!0},ssr:{type:Boolean,default:!1},canStreamComments:{type:Boolean,default:!0},canCacheComments:{type:Boolean,default:!1}},emits:["expandLimiter"],setup(e){const[t]=(0,N.FW)("articlesList",["getArticleById"]),o=t.value(e.articleId),n=L("COMMENTS_STREAMING_ENABLED"),s=(0,i.yj)(),{isLoading:a}=(0,P.w)((({store:t})=>{const a=(0,O.E)(s.name),i=[];return o.hasPinnedComments&&i.push(t.dispatch("comments/getPinnedComments",{publicationId:e.articleId,isPost:a})),e.canCacheComments?i.push(t.dispatch("comments/getGuestComments",{articleId:e.articleId,isPost:a})):i.push(t.dispatch("comments/getComments",{articleId:e.articleId,isPost:a,nocount:n.value})),Promise.all(i)}));return{isLoading:a,commentsStreamingEnabled:n}},data(){return{isStreamLoading:!0,stream:null,streamingFailed:!1,hasBeenMountedBefore:!1}},computed:{...(0,r.Se)("me",["isLoggedIn"]),...(0,r.Se)("articlesList",["getArticleById"]),...(0,r.Se)("comments",["getCommentsCacheKey"]),isPost(){return(0,O.E)(this.$route.name)},cacheKey(){return this.getCommentsCacheKey(this.articleId)},article(){return this.getArticleById(this.articleId)},commentsCount(){return this.article&&this.article.statistics?this.article.statistics.commentsCount:null},shouldUseStreaming(){return!(!B.Qg||!this.commentsStreamingEnabled||this.hasBeenMountedBefore||this.streamingFailed)&&(this.canStreamComments&&M)}},beforeMount(){this.hasBeenMountedBefore=Boolean(this.$el),this.shouldUseStreaming?this.$watch((()=>this.isLoading),(e=>{e||this.loadCommentsStream()}),{immediate:!0}):this.$watch((()=>this.isLoading),(e=>{e||this.readVisitorComments()}),{immediate:!0})},methods:{...(0,r.nv)("me",["loadUpdates"]),loadCommentsStream(){this.isStreamLoading=!0;const{articleId:e,isPost:t,cacheKey:o,langOptions:{hl:n}}=this;(0,w.nE)({articleId:e,cacheKey:o,hl:n,isPost:t}).then((e=>{this.stream=e})).catch((()=>{this.streamingFailed=!0})).finally((()=>{this.isStreamLoading=!1}))},onStreamingDone(e){this.readVisitorComments();const t=b({render:()=>(0,n.h)(l.Z,{articleId:this.articleId,cacheKey:this.canCacheComments?this.cacheKey:null,onExpandLimiter:e=>this.$emit("expandLimiter",e)})},this.$router,this.$store);t.mount(e)},onError(e){throw this.$toast.error(this.msg("COMMENT_RENDER_FAILED")),e},readVisitorComments(){this.isLoggedIn&&!this.canCacheComments&&(this.isPost?(0,w.eT)(this.articleId).then(this.loadUpdates):(0,w.nN)(this.articleId).then(this.loadUpdates))}}},V=(0,E.Z)(R,[["render",a]]),D=V},34008:(e,t,o)=>{"use strict";o.d(t,{Z:()=>ue});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMAdministrationLinks"),l=(0,n.resolveComponent)("TMRssButton"),c=(0,n.resolveComponent)("TMArticleSubscriptionControls"),m=(0,n.resolveComponent)("TMArticleCommentsUfoNotice"),d=(0,n.resolveComponent)("TMCommentsNavigation"),u=(0,n.resolveComponent)("TMComments"),p=(0,n.resolveComponent)("TMServerCache");return(0,n.openBlock)(),(0,n.createBlock)(p,{"cache-key":o.cacheKey,"write-only":s.isStreaming},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-article-comments",{"tm-article-comments_without-removed":a.isRemovedCommentsHidden}]),"data-test-id":"article-comments"},[(0,n.createVNode)(u,{"can-pin-unpin-comment":i.canPinUnpinComment,"comment-component":e.$options.components.TMArticleComment,"comment-submit-action":i.commentSubmitAction,comments:i.comments,"comments-count":i.commentsCount,"complaint-action":e.canSendComplaint?i.complaintAction:null,"favorite-action":i.favoriteAction,"footer-visible":i.shouldDisplayUserItems,"get-comment-link":i.getCommentLink,"is-loading":o.isLoading,"is-post":i.isPost,notice:i.noticeData,"pinned-comments":i.pinnedComments,"show-moderation-controls":i.showModerationControls,"vote-action":i.voteAction,onCommentDelete:i.onCommentDelete,onExpandLimiter:t[0]||(t[0]=t=>e.$emit("expandLimiter",t)),onPinUnpinComment:i.pinUnpinComment},{headerAside:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)(n.Suspense,null,{default:(0,n.withCtx)((()=>[e.isLoggedIn&&e.isSuperAdmin&&i.shouldDisplayUserItems?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,class:"tm-article-comments__administration-links","dropdown-align":"center",links:i.commentsAdministrationsLinks,variant:"simple"},null,8,["links"])):(0,n.createCommentVNode)("",!0)])),_:1})),i.isPost?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,variant:"comments-header"})),!o.isLoading&&e.isLoggedIn&&i.shouldDisplayUserItems?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,"article-id":o.articleId,class:"tm-article-comments__subscription","is-post":i.isPost},null,8,["article-id","is-post"])):(0,n.createCommentVNode)("",!0)])),body:(0,n.withCtx)((()=>[i.shouldDisplayUserItems&&i.article&&i.article.rulesRemindEnabled?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,class:"tm-article-comments__ufo-notice"})):(0,n.createCommentVNode)("",!0)])),afterComments:(0,n.withCtx)((()=>[e.isLoggedIn&&i.shouldDisplayUserItems?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0,comments:i.comments,"load-action":i.updateCommentsAction,onReadComment:i.onReadComment},null,8,["comments","load-action","onReadComment"])):(0,n.createCommentVNode)("",!0)])),_:1},8,["can-pin-unpin-comment","comment-component","comment-submit-action","comments","comments-count","complaint-action","favorite-action","footer-visible","get-comment-link","is-loading","is-post","notice","pinned-comments","show-moderation-controls","vote-action","onCommentDelete","onPinUnpinComment"])],2)])),_:1},8,["cache-key","write-only"])}var a=o(33907),i=o(29586);const r={class:"tm-ufo-notice__content"},l=["innerHTML"],c=["innerHTML"];function m(e,t,o,s,a,i){const m=(0,n.resolveComponent)("TMSvgImg"),d=(0,n.resolveComponent)("TMNotice");return(0,n.openBlock)(),(0,n.createBlock)(d,{type:"info"},{icon:(0,n.withCtx)((()=>[(0,n.createVNode)(m,{id:"info",class:"tm-ufo-notice__icon",title:"info"})])),default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("p",{class:"tm-ufo-notice__intro",innerHTML:e.msg("ARTICLE_COMMENTS_UFO_CARE_NOTICE")},null,8,l),(0,n.createElementVNode)("details",null,[(0,n.createElementVNode)("summary",null,(0,n.toDisplayString)(e.msg("ARTICLE_COMMENTS_UFO_CARE_SUMMARY_TITLE")),1),(0,n.createElementVNode)("div",{class:"tm-ufo-notice__spoiler-text",innerHTML:e.msg("ARTICLE_COMMENTS_UFO_CARE_DETAILS")},null,8,c)])])])),_:1})}var d=o(3996),u=o(46206);const p={name:"TMArticleCommentsUfoNotice",components:{TMNotice:d.Z,TMSvgImg:u.Z}};var h=o(83744);const _=(0,h.Z)(p,[["render",m]]),g=_;var T=o(25191);function E(){let e=!1;const t=[];return{getBuffer(){return t},push(o){const n="string"===typeof o;e&&n?t[t.length-1]+=o:t.push(o),e=n}}}function S(e,t){for(let o=0;o<e.length;o+=1){const n=e[o];"string"===typeof n?t.push(n):S(n,t)}}const C={name:"TMServerCache",props:{cacheKey:{type:String,default:null},writeOnly:Boolean},setup(e,{attrs:t}){const o=(0,n.useSlots)(),s=(0,n.getCurrentInstance)(),a=s.appContext.config.globalProperties.$cache,i="undefined"===typeof window,r={...t};let l=Promise.resolve();return i&&(e.cacheKey&&!e.writeOnly&&(l=a.get(e.cacheKey).then((e=>{e&&(r.innerHTML=e)}))),l.then((()=>{if(!r.innerHTML){const t=[],{getBuffer:n,push:i}=E();(0,T.zI)(o,"default",{},null,i,s.parent),S(n(),t),r["data-server-rendered"]="true";const l=t.join("");e.cacheKey&&a.set(e.cacheKey,l),r.innerHTML=l}}))),(0,n.onServerPrefetch)((()=>l)),()=>(0,n.h)("div",r,i?void 0:o.default())}},v=C,k=v,f={class:"tm-article-subscription-controls"},A=["title"],I={class:"tm-article-subscription-controls__checkbox"},y={class:"tm-article-subscription-controls__checkbox"},b={class:"tm-article-subscription-controls__submit"};function N(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgImg"),l=(0,n.resolveComponent)("TMLabeledCheckbox"),c=(0,n.resolveComponent)("TMButtonBase"),m=(0,n.resolveComponent)("TMPopup"),d=(0,n.resolveComponent)("TMArticleSubscriptionHotkeys");return(0,n.openBlock)(),(0,n.createElementBlock)("div",f,[(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(["tm-article-subscription-controls__button",{"tm-article-subscription-controls__button_active":i.isSubscribed}]),title:e.msg("ARTICLE_SUBSCRIBE_TITLE"),onClick:t[0]||(t[0]=(...e)=>i.openModal&&i.openModal(...e))},[(0,n.createVNode)(r,{id:i.icon,size:"24",title:e.msg("ARTICLE_SUBSCRIBE_TITLE")},null,8,["id","title"])],10,A),a.modalVisible?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,title:e.msg("ARTICLE_SUBSCRIBE_TITLE"),onClose:t[4]||(t[4]=e=>a.modalVisible=!1)},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("form",{onSubmit:t[3]||(t[3]=(0,n.withModifiers)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[(0,n.createElementVNode)("div",I,[(0,n.createVNode)(l,{modelValue:a.form.tracker,"onUpdate:modelValue":t[1]||(t[1]=e=>a.form.tracker=e),name:"subscription_tracker"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_SUBSCRIBE_TRACKER")),1)])),_:1},8,["modelValue"])]),(0,n.createElementVNode)("div",y,[(0,n.createVNode)(l,{modelValue:a.form.email,"onUpdate:modelValue":t[2]||(t[2]=e=>a.form.email=e),name:"subscription_email"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_SUBSCRIBE_EMAIL")),1)])),_:1},8,["modelValue"])]),(0,n.createElementVNode)("div",b,[(0,n.createVNode)(c,{"style-size":"large","style-type":"solid",onClick:i.onSubmit},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_SUBSCRIBE_SAVE")),1)])),_:1},8,["onClick"])])],32)])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(d,{"article-id":o.articleId},null,8,["article-id"])])}function P(e,t,o,s,a,i){const r=(0,n.resolveDirective)("hotkey");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",null,null,512)),[[r,i.hotkeys,void 0,{stop:!0}]])}var L=o(46186),B=o(73313);const O={name:"TMArticleSubscriptionHotkeys",props:{articleId:{type:[String,Number],required:!0}},setup(){return{isComponentActive:(0,L.c)()}},computed:{isPost(){return(0,B.E)(this.$route.name)},hotkeys(){return this.isComponentActive?{t:()=>this.toggleTrackerSubscription({toggleTracker:!0}),m:()=>this.toggleTrackerSubscription({toggleEmail:!0})}:{}},isSubscribedToTracker(){return this.$store.getters["articlesList/isSubscribedToTracker"](this.articleId)},isSubscribedToEmail(){return this.$store.getters["articlesList/isSubscribedToEmail"](this.articleId)}},methods:{...(0,a.nv)("articlesList",["toggleSubscriptionStatus"]),toggleTrackerSubscription({toggleTracker:e,toggleEmail:t}){this.form={tracker:e?!this.isSubscribedToTracker:this.isSubscribedToTracker,email:t?!this.isSubscribedToEmail:this.isSubscribedToEmail},this.toggleSubscriptionStatus({articleId:this.articleId,...this.form,isPost:this.isPost}).then((()=>{let o;e&&(o=this.isSubscribedToTracker?this.msg("ARTICLE_SUBSCRIBE_TRACKER_SUCCESS_VIA_TRACKER"):this.msg("ARTICLE_UNSUBSCRIBE_TRACKER_SUCCESS_VIA_TRACKER")),t&&(o=this.isSubscribedToEmail?this.msg("ARTICLE_SUBSCRIBE_TRACKER_SUCCESS_VIA_EMAIL"):this.msg("ARTICLE_UNSUBSCRIBE_TRACKER_SUCCESS_VIA_EMAIL")),this.$toast.success(o)})).catch((e=>{this.$toast.error(e.message)}))}}},w=(0,h.Z)(O,[["render",P]]),M=w;var R=o(7281),V=o(37700),D=o(68172);const U={name:"TMArticleSubscriptionControls",components:{TMPopup:D.Z,TMSvgImg:u.Z,TMLabeledCheckbox:V.Z,TMButtonBase:R.Z,TMArticleSubscriptionHotkeys:M},props:{articleId:{type:[String,Number],required:!0},isPost:{type:Boolean,required:!0}},data(){return{modalVisible:!1,form:null}},computed:{isSubscribedToTracker(){return this.$store.getters["articlesList/isSubscribedToTracker"](this.articleId)},isSubscribedToEmail(){return this.$store.getters["articlesList/isSubscribedToEmail"](this.articleId)},isSubscribed(){return this.isSubscribedToTracker||this.isSubscribedToEmail},icon(){return this.isSubscribed?"notifications-filled":"notifications"}},methods:{...(0,a.nv)("articlesList",["toggleSubscriptionStatus"]),openModal(){this.form={tracker:this.isSubscribedToTracker,email:this.isSubscribedToEmail},this.modalVisible=!0},onSubmit(){this.toggleSubscriptionStatus({articleId:this.articleId,isPost:this.isPost,...this.form}).catch((e=>{this.$toast.error(e.message)})),this.modalVisible=!1}}},$=(0,h.Z)(U,[["render",N]]),x=$;var F=o(63386);const H=["title"],G={class:"tm-comment-navigation__wrapper"},W=["title"],Y=["title"],Z=["title"];function q(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMRefreshserCommentsIcon"),l=(0,n.resolveComponent)("TMRefreshserCommentsUpIcon"),c=(0,n.resolveDirective)("hotkey");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-comment-navigation tm-comment-navigation__block",e.showCounter])},[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("button",{class:"tm-comment-navigation__button tm-comment-navigation__button_refresh",title:e.msg("UPDATE_COMMENTS"),onClick:t[0]||(t[0]=(...t)=>e.updateComments&&e.updateComments(...t))},[(0,n.createVNode)(r,{class:(0,n.normalizeClass)(["tm-comment-navigation__icon tm-comment-navigation__icon_refresh",{"tm-comment-navigation__icon_loading":e.isLoadingNewComments}])},null,8,["class"])],8,H)),[[n.vShow,!e.hasUnreadComments],[c,{r:e.updateComments},void 0,{stop:!0}]]),(0,n.withDirectives)((0,n.createElementVNode)("div",G,[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("button",{class:"tm-comment-navigation__button",title:e.msg("GO_TO_PREV_COMMENT"),type:"button",onClick:t[1]||(t[1]=(...t)=>e.goToPrevComment&&e.goToPrevComment(...t))},[(0,n.createVNode)(l,{class:"tm-comment-navigation__icon tm-comment-navigation__icon__up"})],8,W)),[[c,{k:e.goToPrevComment},void 0,{stop:!0}]]),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("button",{class:"tm-comment-navigation__counter",title:e.msg("GO_TO_FIRST_UNREAD_COMMENT"),type:"button",onClick:t[2]||(t[2]=(...t)=>e.readFirstUnreadCommentThrottled&&e.readFirstUnreadCommentThrottled(...t))},[(0,n.createTextVNode)((0,n.toDisplayString)(e.unreadCommentIds.length),1)],8,Y)),[[c,{f:e.readFirstUnreadCommentThrottled},void 0,{stop:!0}]]),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("button",{class:"tm-comment-navigation__button",title:e.msg("GO_TO_NEXT_COMMENT"),type:"button",onClick:t[3]||(t[3]=(...t)=>e.goToNextComment&&e.goToNextComment(...t))},[(0,n.createVNode)(l,{class:"tm-comment-navigation__icon tm-comment-navigation__icon_down"})],8,Z)),[[c,{j:e.goToNextComment},void 0,{stop:!0}]])],512),[[n.vShow,e.hasUnreadComments]])],2)}var K=o(93096),j=o.n(K),z=o(95865),Q=o(27204),X=o(87575);const J=(0,n.defineAsyncComponent)((()=>o.e(4780).then(o.bind(o,44780)))),ee=(0,n.defineAsyncComponent)((()=>o.e(4523).then(o.bind(o,74523)))),te={name:"TMCommentsNavigation",components:{TMRefreshserCommentsIcon:ee,TMRefreshserCommentsUpIcon:J},props:{comments:{type:Array,required:!0},loadAction:{type:Function,required:!0}},emits:["readComment"],setup(){return{isComponentActive:(0,L.c)()}},data(){return{isLoadingNewComments:!1,currentCommentId:null,scrollSettled:!1}},computed:{unreadCommentIds(){return this.comments.reduce((function e(t,o){return o.isNew&&t.push(o.id),o.children&&t.push(...o.children.reduce(e,[])),t}),[])},hasUnreadComments(){return 0!==this.unreadCommentIds.length},showCounter(){return this.hasUnreadComments?"tm-comment-navigation__has-new":"tm-comment-navigation__has-new_reverse"},goToNextClosestCommentThrottled(){return j()(z.J7,500)},goToPrevClosestCommentThrottled(){return j()(z.lp,500)},readFirstUnreadCommentThrottled(){return j()(this.readFirstUnreadComment,500)}},created(){this.unreadCommentsWatcher=this.$watch("hasUnreadComments",(e=>{this.checkScrollToComments(e)}))},mounted(){!this.scrollSettled&&this.hasUnreadComments&&this.checkScrollToComments(this.hasUnreadComments)},methods:{checkScrollToComments(e){e&&(this.scrollSettled=!0,(0,X.dY)(this.$route),this.unreadCommentsWatcher())},goToNextComment(){this.isComponentActive&&(this.scrollSettled=!0,this.unreadCommentsWatcher(),this.goToNextClosestCommentThrottled())},goToPrevComment(){this.isComponentActive&&(this.scrollSettled=!0,this.unreadCommentsWatcher(),this.goToPrevClosestCommentThrottled())},updateComments(e){this.isComponentActive&&(e.target.blur(),this.isLoadingNewComments=!0,this.scrollSettled=!0,this.unreadCommentsWatcher(),this.loadAction().then((()=>{this.isLoadingNewComments=!1})).catch((e=>{this.isLoadingNewComments=!1;const t=e.data&&e.data.text&&e.data.text.source&&Array.isArray(e.data.text.source);throw t?this.$toast.error(e.data.text.source[0]):this.$toast.error(e.message),e})))},readFirstUnreadComment(){if(!this.isComponentActive)return;const e=(0,z.bP)();if(!e)return;this.scrollSettled=!0,this.unreadCommentsWatcher();const t=(0,z.v2)(e);(0,Q.Jn)(e).then((o=>{o?this.$emit("readComment",t):setTimeout((()=>{this.$emit("readComment",t)}),250),(0,z.RC)(e)})).catch((e=>{e instanceof Q.Fv&&this.$emit("readComment",t)}))}}},oe=(0,h.Z)(te,[["render",q]]),ne=oe;var se=o(49303),ae=o(19913),ie=o(11699),re=o(61794),le=o(89136);const ce=(0,n.defineAsyncComponent)((()=>o.e(2328).then(o.bind(o,91066)))),me={name:"TMArticleComments",components:{TMServerCache:k,TMArticleComment:i.Z,TMComments:F.Z,TMRssButton:se.Z,TMCommentsNavigation:ne,TMArticleSubscriptionControls:x,TMArticleCommentsUfoNotice:g,TMAdministrationLinks:ce},props:{articleId:{type:[Number,String],required:!0},cacheKey:{type:String,default:null},isLoading:{type:Boolean,default:!1}},emits:["expandLimiter"],setup(){const e=(0,n.getCurrentInstance)();return{isStreaming:e.appContext.config.globalProperties.$isStreaming,isComponentActive:(0,L.c)()}},data(){return{isRemovedCommentsHidden:!1,hasMounted:!1,stopHandlerArticle:null,stopHandlerUserData:null}},computed:{...(0,a.Se)("comments",["getCommentsTreeByArticleId","getCommentAccess","getPinnedCommentsById"]),...(0,a.Se)("articlesList",["getArticleById"]),...(0,a.Se)("me",["isModerator","companiesAdmin","isLoggedIn","userAlias","isSuperAdmin","canSendComplaint"]),isPost(){return(0,B.E)(this.$route.name)},article(){return this.getArticleById(this.articleId)},showModerationControls(){return this.article&&this.article.relatedData&&this.article.relatedData.canModerateComments},comments(){return this.getCommentsTreeByArticleId(this.articleId)},pinnedComments(){return this.getPinnedCommentsById(this.articleId)},commentsAdministrationsLinks(){return[{title:this.msg("ARTICLE_CLEAR_CACHE_COMMENTS"),onclick:e=>this.resetCache(e)},this.isPost?null:{title:this.commentsStateActionText,onclick:e=>this.toggleCommentsState(e)},{title:this.removedCommentsActionText,onclick:e=>this.toggleRemovedComments(e)},{title:this.ufoNoticeActionText,onclick:e=>this.toggleUfoNotice(e)}].filter((e=>e))},isCanComment(){return this.getCommentAccess&&this.getCommentAccess.isCanComment},cantCommentReasonKey(){return this.getCommentAccess?this.getCommentAccess.cantCommentReasonKey:null},userBlockReasonData(){const e=this.getCommentAccess&&this.getCommentAccess.data||{};return e.reason=e.reason||"EMPTY",e.timeElapsed=e.timeElapsed||"EMPTY",e},commentAccessMessage(){if(!this.cantCommentReasonKey)return null;const e=`EXTERNAL_${this.cantCommentReasonKey}`;return this.msg(e,this.userBlockReasonData)},noticeData(){return"draft"===this.article.status?{type:"negative",message:this.msg("POST_IN_DRAFTS")}:this.isLoggedIn&&!this.isCanComment?{type:"negative",message:this.commentAccessMessage}:this.isLoggedIn?null:{type:"positive",message:this.msg("COMMENT_NOTICE_UNAUTH_DECLARATION")}},removedCommentsActionText(){return this.isRemovedCommentsHidden?this.msg("ARTICLE_SHOW_REMOVED_COMMENTS"):this.msg("ARTICLE_HIDE_REMOVED_COMMENTS")},commentsStateActionText(){return this.article.commentsEnabled.status?this.msg("ARTICLE_DISABLE_COMMENTS"):this.msg("ARTICLE_ENABLE_COMMENTS")},ufoNoticeActionText(){return this.article&&this.article.rulesRemindEnabled?this.msg("RULES_REMINDER_HIDE_BUTTON_TEXT"):this.msg("RULES_REMINDER_SHOW_BUTTON_TEXT")},commentsCount(){return this.article&&this.article.statistics?this.article.statistics.commentsCount:null},isArticleAuthor(){return this.article.author&&this.article.author.alias===this.userAlias},shouldDisplayUserItems(){return!this.cacheKey||this.hasMounted},canPinUnpinComment(){if(this.isArticleAuthor||this.isSuperAdmin||this.isModerator)return!0;if(!this.article.isCorporative||!this.companiesAdmin||!this.companiesAdmin.length)return!1;const e=this.article.hubs.find((e=>"corporative"===e.type)),t=e&&e.alias;return!!this.companiesAdmin.find((e=>e.alias===t))}},beforeUnmount(){this.clearCommentsList(this.articleId)},mounted(){this.hasMounted=!0,this.cacheKey&&(this.stopHandlerArticle=this.$watch((()=>this.article),(e=>{e&&this.isComponentActive&&this.isLoggedIn&&(this.loadUserData().catch((e=>{this.$toast.error(e.message)})),this.stopHandlerArticle&&this.stopHandlerArticle())}),{immediate:!0}))},methods:{...(0,a.nv)("articlesList",["setArticleCommentsStatus","setArticleRulesRemindStatus"]),...(0,a.nv)("comments",["getComments","getPinnedComments","loadNewComments","sendComment","suspendComment","setFavorite","vote","pinComment"]),...(0,a.OI)("comments",["addComment","setCommentRead","clearCommentsList","setLastCommentTimestamp","mergeComments","setCommentAccess","setCommentsRoot"]),voteAction({commentId:e,direction:t}){return this.vote({articleId:this.articleId,commentId:e,direction:t,isPost:this.isPost})},favoriteAction({commentId:e,isFavorite:t}){const{articleId:o,isPost:n}=this;return this.setFavorite({articleId:o,commentId:e,isFavorite:t,isPost:n}).catch((e=>{this.$toast.error(e.message)}))},pinUnpinComment(e){return this.pinComment({articleId:this.articleId,commentId:e.id,isPinned:!e.isPinned,isPost:this.isPost}).then((()=>{const t=e.isPinned?"COMMENT_UNPINNED_SUCCESS":"COMMENT_PINNED_SUCCESS";this.$toast.success(this.msg(t)),this.getPinnedComments({publicationId:this.articleId,isPost:this.isPost})})).catch((e=>{this.$toast.error(e.message)}))},toggleRemovedComments(){this.isRemovedCommentsHidden=!this.isRemovedCommentsHidden},getUfoNoticeActions(){return this.isPost?{enable:le.qT,disable:le.sv}:{enable:ie.Yc,disable:ie.jL}},toggleUfoNotice(){const{articleId:e}=this,{enable:t,disable:o}=this.getUfoNoticeActions(),n=this.article&&this.article.rulesRemindEnabled?o:t;return n(e).then((()=>{this.setArticleRulesRemindStatus({articleId:this.articleId,status:!this.article.rulesRemindEnabled});const e=this.article&&this.article.rulesRemindEnabled?this.msg("RULES_REMINDER_SHOW_ACTION_SUCCESS_MESSAGE"):this.msg("RULES_REMINDER_HIDE_ACTION_SUCCESS_MESSAGE");this.$toast.success(e)})).catch((e=>{this.$toast.error(e.message)}))},onCommentDelete(e){const t={articleId:this.articleId,commentId:e};this.suspendComment({params:t,isPost:this.isPost})},complaintAction({value:e,parentId:t}){const o=this.isPost?"threads":"articles";return(0,re.yw)(this.articleId,t,{message:e},o).then((()=>{this.$toast.success(this.msg("COMMENT_COMPLAINT_SUCCESS"))})).catch((e=>{this.$toast.error(e.message)}))},commentSubmitAction(e){const t={articleId:this.articleId,...e};return this.sendComment({commentBody:t,isPost:this.isPost}).then((e=>{e&&(0,ae.IZ)("comment",{publicationType:(0,ae.Lq)(this.article)})})).catch((e=>{const t=e.data&&e.data.text&&e.data.text.source&&Array.isArray(e.data.text.source);throw t?this.$toast.error(e.data.text.source[0]):this.$toast.error(e.message),e}))},updateCommentsAction(){return this.loadNewComments({route:this.$route,isPost:this.isPost})},onReadComment(e){this.setCommentRead({articleId:this.articleId,commentId:e})},disableArticleComments(e){const t=window.confirm(this.msg("ARTICLE_DISABLE_COMMENTS_CONFIRM"));if(!t)return!1;const o=prompt(this.msg("ARTICLE_DISABLE_COMMENTS_REASON"));return(0,re.x1)(e,{reason:o})},toggleCommentsState(){const e=this.article.commentsEnabled.status?this.disableArticleComments:re.oc;return e(this.articleId).then((()=>{this.setArticleCommentsStatus({articleId:this.articleId,status:!this.article.commentsEnabled.status}),this.getComments({route:this.$route})})).catch((e=>this.$toast.error(e.message)))},resetCache(){return(0,re.zT)(this.articleId).then((()=>{this.$toast.success(this.msg("ARTICLE_CLEAR_CACHE_SUCCESS_MESSAGE")),setTimeout((()=>{window.location.reload()}),1e3)})).catch((e=>this.$toast.error(e.message)))},getCommentLink(e){return`${window.location.origin}${this.$route.path}#comment_${e.id}`},loadUserData(){const e=this.isPost?re.YS:re.pD;return e({id:this.articleId,hl:this.langOptions.hl}).then((e=>{this.stopHandlerUserData=this.$watch((()=>[this.isLoading,!this.isComponentActive]),(([t,o])=>{t||o||(this.applyUserData(e),this.stopHandlerUserData&&this.stopHandlerUserData())}),{immediate:!0})}))},applyUserData(e){const{articleId:t}=this,{lastCommentTimestamp:o,commentRelatedRefs:n,commentAccess:s,commentDeletedRefs:a,commentModeratedRefs:i,threads:r}=e;this.setCommentAccess(s),this.setLastCommentTimestamp(o),this.mergeComments({articleId:t,comments:n}),a&&(this.mergeComments({articleId:t,comments:a}),this.setCommentsRoot({articleId:t,root:r})),i&&Object.keys(i).sort(((e,t)=>e.timePublished-t.timePublished)).forEach((e=>{this.addComment({articleId:t,comment:{...i[e],isReadonly:!0}})}))}}},de=(0,h.Z)(me,[["render",s]]),ue=de},73599:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(70942);const s={key:1,"data-test-id":"articlePlannedDate"},a=["textContent"];function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMDatetime"),m=(0,n.resolveComponent)("TMMessageInterpolation");return(0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.link?"TMPublicationLink":"span"),{article:o.link?o.article:null,class:(0,n.normalizeClass)(l.bem("tm-article-datetime-published",{megapost:o.isMegapostV1,link:o.link}))},{default:(0,n.withCtx)((()=>[o.article.timePublished?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,date:new Date(o.article.timePublished),"is-article-format":""},null,8,["date"])):o.article.plannedPublishTime?((0,n.openBlock)(),(0,n.createElementBlock)("span",s,[(0,n.createVNode)(m,{message:e.msg("ARTICLE_PLANNED")},{datetime:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{"absolute-date":"",date:new Date(o.article.plannedPublishTime),"show-full-date-time":""},null,8,["date"])])),_:1},8,["message"])])):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:2,"data-test-id":"articleNeverPublishedMessage",textContent:(0,n.toDisplayString)(e.msg("ARTICLE_NEVER_PUBLISHED"))},null,8,a))])),_:1},8,["article","class"])}var r=o(63599),l=o(96973),c=o(75222),m=o(25109);const d={name:"TMArticleDatetimePublished",components:{TMMessageInterpolation:l.Z,TMPublicationLink:c.Z,TMDatetime:r.Z},props:{article:{type:Object,required:!0},isMegapostV1:{type:Boolean,required:!0},link:{type:Boolean,default:!1}},methods:{bem:m.P}};var u=o(83744);const p=(0,u.Z)(d,[["render",i]]),h=p},11098:(e,t,o)=>{"use strict";o.d(t,{Z:()=>B});var n=o(70942);const s={key:0,class:"tm-article-extra-menu__admin-icons"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMSvgImg"),c=(0,n.resolveComponent)("TMArticlePopup"),m=(0,n.resolveComponent)("TMRecommendationsForm"),d=(0,n.resolveComponent)("TMPopup"),u=(0,n.resolveComponent)("TMComplaintForm");return r.shouldDisplayRecommendationsButton||e.canSendComplaint?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("button",{ref:"popupButton",class:"tm-article-extra-menu__admin-button","data-test-id":"article-dots-button",onClick:t[0]||(t[0]=(...e)=>r.togglePopup&&r.togglePopup(...e))},[(0,n.createVNode)(l,{id:"dots",class:"tm-article-extra-menu__icon"})],512),((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[i.articlePopupVisible?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"can-send-complaint":e.canSendComplaint,"can-send-recommendation":r.shouldDisplayRecommendationsButton,target:r.articlePopupTarget,onClose:r.togglePopup,onSendComplaint:t[1]||(t[1]=e=>{i.isComplaintFormShown=!0,r.togglePopup()}),onSendRecommendation:t[2]||(t[2]=e=>{r.getRecommendationsList(),r.togglePopup()})},null,8,["can-send-complaint","can-send-recommendation","target","onClose"])):(0,n.createCommentVNode)("",!0),i.isRecommendationsFormShown?((0,n.openBlock)(),(0,n.createBlock)(d,{key:1,title:e.msg("ARTICLE_RECOMMENDATIONS_FORM_TITLE"),onClose:t[3]||(t[3]=e=>i.isRecommendationsFormShown=!1)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(m,{"is-processing":i.isRecommendationsFormDisabled,recommendations:i.articleRecommendationsList,onSubmit:r.sendRecommendations},null,8,["is-processing","recommendations","onSubmit"])])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0),i.isComplaintFormShown?((0,n.openBlock)(),(0,n.createBlock)(d,{key:2,title:e.msg("ARTICLE_COMPLAINT_TITLE"),onClose:t[4]||(t[4]=e=>i.isComplaintFormShown=!1)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(u,{autofocus:"","is-processing":i.isComplaintFormDisabled,"submit-action":r.complaintAction},null,8,["is-processing","submit-action"])])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0)]))])):(0,n.createCommentVNode)("",!0)}var i=o(33907);function r(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgImg"),l=(0,n.resolveComponent)("TMAlignCenter"),c=(0,n.resolveComponent)("TMContextMenuListItem"),m=(0,n.resolveComponent)("TMContextMenuList"),d=(0,n.resolveComponent)("TMContextMenu");return(0,n.openBlock)(),(0,n.createBlock)(d,{target:o.target,onClose:t[2]||(t[2]=t=>e.$emit("close"))},{body:(0,n.withCtx)((()=>[(0,n.createVNode)(m,null,{default:(0,n.withCtx)((()=>[o.canSendRecommendation?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"data-test-id":"send-recommendation-button",onClick:t[0]||(t[0]=t=>e.$emit("sendRecommendation"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,null,{start:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:"flag",size:"24",title:e.msg("ARTICLE_RECOMMENDATION_TITLE")},null,8,["title"])])),default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_RECOMMENDATION_TITLE")),1)])),_:1})])),_:1})):(0,n.createCommentVNode)("",!0),o.canSendComplaint?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,"data-test-id":"send-complaint-button",onClick:t[1]||(t[1]=t=>e.$emit("sendComplaint"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,null,{start:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:"warning",size:"24",title:e.msg("ARTICLE_COMPLAINT_TITLE")},null,8,["title"])])),default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_COMPLAINT_TITLE")),1)])),_:1})])),_:1})):(0,n.createCommentVNode)("",!0)])),_:1})])),_:1},8,["target"])}var l=o(77748),c=o(26656),m=o(17650),d=o(68383),u=o(46206);const p={name:"TMArticlePopup",components:{TMAlignCenter:l.Z,TMContextMenuList:m.Z,TMContextMenuListItem:d.Z,TMContextMenu:c.Z,TMSvgImg:u.Z},props:{target:{type:null,required:!0},canSendComplaint:{type:Boolean,default:!1},canSendRecommendation:{type:Boolean,default:!1}},emits:["close","sendRecommendation","sendComplaint"]};var h=o(83744);const _=(0,h.Z)(p,[["render",r]]),g=_;var T=o(34270),E=o(68172);const S={class:"tm-recommendations-form"},C={class:"tm-recommendations-form__fieldset"};function v(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMLabeledCheckbox"),l=(0,n.resolveComponent)("TMButtonBase");return(0,n.openBlock)(),(0,n.createElementBlock)("form",S,[(0,n.createElementVNode)("fieldset",C,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(i.recommendationsArr,(e=>((0,n.openBlock)(),(0,n.createBlock)(r,{key:e.id,modelValue:a.checkedRecommendations[e.id],"onUpdate:modelValue":t=>a.checkedRecommendations[e.id]=t,class:"tm-recommendations-form__field",name:`${e.id}`,value:e.id},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.title),1)])),_:2},1032,["modelValue","onUpdate:modelValue","name","value"])))),128))]),(0,n.createVNode)(l,{class:"tm-recommendations-form__button",disabled:o.isProcessing,"style-size":"medium",onClick:i.emitSubmit},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("SUBMIT_FORM_ACTION")),1)])),_:1},8,["disabled","onClick"])])}var k=o(7281),f=o(37700);const A={name:"RecommendationsForm",components:{TMButtonBase:k.Z,TMLabeledCheckbox:f.Z},props:{recommendations:{type:Object,required:!0},isProcessing:{type:Boolean}},emits:["submit"],data(){return{checkedRecommendations:[]}},computed:{recommendationsArr(){return Object.values(this.recommendations)}},methods:{emitSubmit(){const e=[];this.checkedRecommendations.forEach(((t,o)=>{t&&e.push(this.recommendationsArr[o-1].id)})),this.$emit("submit",e)}}},I=(0,h.Z)(A,[["render",v]]),y=I;var b=o(11699),N=o(89136);const P={name:"TMArticleExtraMenu",components:{TMSvgImg:u.Z,TMComplaintForm:T.Z,TMRecommendationsForm:y,TMPopup:E.Z,TMArticlePopup:g},props:{publicationId:{type:String,required:!0},currentAuthor:{type:Object,default:()=>null},isPost:{type:Boolean,required:!1}},data(){return{isComplaintFormShown:!1,isComplaintFormDisabled:!1,isRecommendationsFormShown:!1,isRecommendationsFormDisabled:!1,articleRecommendationsList:[],articlePopupVisible:!1}},computed:{...(0,i.Se)("me",["isSuperAdmin","userAlias","canSendComplaint","isLoggedIn"]),...(0,i.rn)("me",["user"]),isMineArticle(){var e;if(null===(e=this.currentAuthor)||void 0===e||!e.alias)return!1;const t=this.currentAuthor.alias.toLowerCase();return this.isLoggedIn&&t===this.userAlias.toLowerCase()},shouldDisplayRecommendationsButton(){return this.currentAuthor&&!this.isMineArticle&&this.isSuperAdmin&&!this.isPost},articlePopupTarget(){return this.$refs.popupButton}},methods:{closeComplaintForm(){this.isComplaintFormShown=!1,this.isComplaintFormDisabled=!1},closeRecommendationsForm(){this.isRecommendationsFormShown=!1,this.isRecommendationsFormDisabled=!1},complaintAction(e){const t=this.isPost?(0,N.d9)(this.publicationId,{message:e}):(0,b.fo)(this.publicationId,{message:e});return t.then((()=>{this.closeComplaintForm(),this.$toast.success(this.msg("COMMENT_COMPLAINT_SUCCESS"))})).catch((e=>{throw this.$toast.error(e.message),e}))},getRecommendationsList(){(0,b.$K)().then((({postRecommendationRefs:e})=>{this.isRecommendationsFormShown=!0,this.articleRecommendationsList=e})).catch((e=>this.$toast.error(e.message)))},sendRecommendations(e){(0,b.sI)(this.publicationId,{ids:e}).then((e=>{this.closeRecommendationsForm(),this.$router.push({name:"CONVERSATION_MESSAGES",params:{login:this.currentAuthor.alias,hl:this.langOptions.hl},state:{template:e}})})).catch((e=>this.$toast.error(e.message)))},togglePopup(){this.articlePopupVisible=!this.articlePopupVisible}}},L=(0,h.Z)(P,[["render",a]]),B=L},57394:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var n=o(70942);const s={ref:"contentRef"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMFormattedText"),c=(0,n.resolveComponent)("TMMobileAbbreviation"),m=(0,n.resolveComponent)("TMAbbreviationPresenter");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",s,[(0,n.createVNode)(l,{"article-text":o.articleText,"should-format":o.shouldFormat,version:o.version},null,8,["article-text","should-format","version"])],512),!o.disableAbbr&&i.ready?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"content-ref":e.$refs.contentRef},null,8,["content-ref"])):(0,n.createCommentVNode)("",!0),!o.disableAbbr&&i.ready?((0,n.openBlock)(),(0,n.createBlock)(m,{key:1,"content-ref":e.$refs.contentRef,version:o.version},null,8,["content-ref","version"])):(0,n.createCommentVNode)("",!0)])}var i=o(58366),r=o(73642);const l=["textContent"];function c(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMPopup");return(0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[e.isMobile&&a.currentAbbr?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,hash:"#abbr",title:a.currentAbbr.title,"track-in-history":"",onClose:t[0]||(t[0]=e=>a.currentAbbr=null)},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",{textContent:(0,n.toDisplayString)(a.currentAbbr.value)},null,8,l)])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0)])}var m=o(33907),d=o(68172);const u=(e,t)=>{const o=e.querySelectorAll("abbr[title]:not(.habraabbr)");if(!o.length)return()=>{};const n=[];return o.forEach((e=>{e.addEventListener("click",t),n.push((()=>{e.removeEventListener("click",t)}))})),()=>{n.forEach((e=>e()))}};var p=o(24440);const h={name:"TMMobileAbbreviation",components:{TMPopup:d.Z},props:{contentRef:{type:null,required:!0}},data(){return{currentAbbr:null,disposeAbbrs:null}},computed:{...(0,m.Se)("global",["isMobile"])},mounted(){this.disposeAbbrs=u(this.contentRef,this.abbrClickHandler)},beforeUnmount(){this.disposeAbbrs()},methods:{abbrClickHandler(e){this.isMobile&&(this.currentAbbr={value:(0,p.V)(e.currentTarget.title),title:(0,p.V)(e.currentTarget.textContent)})}}};var _=o(83744);const g=(0,_.Z)(h,[["render",c]]),T=g;var E=o(85993),S=o(4788),C=o(75846);const v={name:"TMArticleFormattedBody",components:{TMFormattedText:r.Z,TMAbbreviationPresenter:i.Z,TMMobileAbbreviation:T},props:{articleText:{type:String,required:!0},shouldFormat:{type:Boolean,default:!0},version:{type:[String,Number],default:null},disableAbbr:Boolean},data(){return{disconnectObserver:null,disposeLinks:null,ready:!1}},mounted(){(0,S.y)(this.$el),this.ready=!0,this.disposeLinks=(0,C.W)(this.$el,((e,t)=>{e.preventDefault(),this.$router.push({path:t.pathname})})),this.disconnectObserver=(0,E.O)(this.$el,this.msg("ERROR_IMAGE_WAS_NOT_LOADED"))},beforeUnmount(){this.disconnectObserver&&this.disconnectObserver(),this.disposeLinks&&this.disposeLinks()}},k=(0,_.Z)(v,[["render",a]]),f=k},58986:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s={class:"tm-article-labels"},a={class:"tm-article-labels__container"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMPublicationLabel");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",a,[l.formatLabel?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,label:l.formatLabel,onClick:t[0]||(t[0]=e=>l.clickArticleFormat(o.article.format))},null,8,["label"])):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.labels,(e=>((0,n.openBlock)(),(0,n.createBlock)(c,{key:e.type,label:e},null,8,["label"])))),128))])])}var r=o(67021),l=o(19913);const c={name:"TMArticleLabels",components:{TMPublicationLabel:r.Z},props:{article:{default:()=>{},type:Object}},computed:{labels(){return"post"===this.article.publicationType?this.article.labels:this.article.postLabels},formatLabel(){return this.article.format&&"common"!==this.article.format?{type:this.article.format,title:this.msg(`ARTICLE_LABEL_${this.article.format}`)}:null}},methods:{clickArticleFormat(e){(0,l.IZ)(`post_label_format_${e}`),this.$router.push({name:"SEARCH_QUERY_RESULTS",query:{target_type:"posts",order:"relevance",q:`{${this.msg(`ARTICLE_LABEL_${e}`)}}`}})}}};var m=o(83744);const d=(0,m.Z)(c,[["render",i]]),u=d},14670:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s={class:"tm-article-list-block__list"},a={key:0,class:"tm-article-list-block__item"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMArticleSnippetBlock"),m=(0,n.resolveComponent)("TMBlock");return(0,n.openBlock)(),(0,n.createBlock)(m,{spacing:o.spacing,title:o.title},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("ul",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.articleList,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:e.id,class:"tm-article-list-block__item"},[(0,n.createVNode)(c,{article:e,"bookmark-module":o.bookmarkModule,"ga-event":o.gaEvent,layout:o.layout},null,8,["article","bookmark-module","ga-event","layout"])])))),128)),e.$slots.lastItem?((0,n.openBlock)(),(0,n.createElementBlock)("li",a,[(0,n.renderSlot)(e.$slots,"lastItem")])):(0,n.createCommentVNode)("",!0)])])),_:3},8,["spacing","title"])}var r=o(40083),l=o(11493);const c={name:"TMArticleListBlock",components:{TMBlock:l.Z,TMArticleSnippetBlock:r.Z},props:{title:{type:String,default:null},dataList:{type:Array,default:()=>[]},maxPosts:{type:Number,default:5},gaEvent:{type:[String,Object],required:!1,default:null},layout:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},spacing:{type:String,default:"around"}},computed:{articleList(){return this.dataList.slice(0,this.maxPosts)}}};var m=o(83744);const d=(0,m.Z)(c,[["render",i]]),u=d},41175:(e,t,o)=>{"use strict";o.d(t,{Z:()=>b});var n=o(70942);const s=["innerHTML"],a=["innerHTML"],i={class:"tm-article-poll__answers"},r=["innerHTML"],l=["innerHTML"],c={class:"tm-article-poll__controls"},m={key:1,class:"tm-article-poll__answers"},d={class:"tm-article-poll__answer-data"},u=["innerHTML"],p={class:"tm-article-poll__answer-votes"},h={class:"tm-article-poll__answer-bar"},_={class:"tm-article-poll__stats"};function g(e,t,o,g,T,E){const S=(0,n.resolveComponent)("TMNotice"),C=(0,n.resolveComponent)("TMLabeledCheckbox"),v=(0,n.resolveComponent)("TMInputRadioLabeled"),k=(0,n.resolveComponent)("TMButtonBase");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(e.bem("tm-article-poll",{variant:e.variant}))},[e.isLoggedIn||e.enabledForGuests?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(S,{key:0,class:"tm-article-poll__notice",type:"positive"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:e.unauthorizedNoticeMessage},null,8,s)])),_:1})),e.poll.id?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createElementVNode)("div",{class:"tm-article-poll__header",innerHTML:e.poll.textHtml},null,8,a),e.poll.relatedData&&e.poll.relatedData.canVote?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createElementVNode)("div",i,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.poll.variants,((o,s)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:o.id,class:"tm-article-poll__answer"},["checkbox"===e.poll.answersType?((0,n.openBlock)(),(0,n.createBlock)(C,{key:0,modelValue:e.selectedAnswers.checkboxes[s],"onUpdate:modelValue":t=>e.selectedAnswers.checkboxes[s]=t,class:"tm-article-poll__answer-item",name:`${o.id}`},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:"tm-article-poll__answer-label",innerHTML:o.textHtml},null,8,r)])),_:2},1032,["modelValue","onUpdate:modelValue","name"])):((0,n.openBlock)(),(0,n.createBlock)(v,{key:1,id:"answer",modelValue:e.selectedAnswers.radio,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedAnswers.radio=t),"checked-value":`${o.id}`,class:"tm-article-poll__answer-item",value:o.id},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:"tm-article-poll__answer-label",innerHTML:o.textHtml},null,8,l)])),_:2},1032,["modelValue","checked-value","value"]))])))),128))]),(0,n.createElementVNode)("div",c,[(0,n.createVNode)(k,{class:"tm-article-poll__submit",disabled:e.isVoteDisabled,"is-loading":e.isLoadingVote,"style-size":"middle","style-type":"solid",type:"submit",onClick:e.onSubmitVote},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("POLLS_VOTE")),1)])),_:1},8,["disabled","is-loading","onClick"]),(0,n.createVNode)(k,{class:"tm-article-poll__decline","is-loading":e.isLoadingDecline,"style-size":"middle","style-type":"transparent",type:"button",onClick:e.onDeclineVote},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("POLLS_ABSTAIN")),1)])),_:1},8,["is-loading","onClick"])])],64)):((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.poll.variants,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t.id,class:"tm-article-poll__answer"},[(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.percentClassName(t.id))},(0,n.toDisplayString)(t.percent)+"% ",3),(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.answerLabelClassName(t.selected)),innerHTML:t.textHtml},null,10,u),(0,n.createElementVNode)("span",p,(0,n.toDisplayString)(t.votesCount),1)]),(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(e.progressBarClassName(t.id)),style:(0,n.normalizeStyle)(`width: ${t.percent}%`)},null,6)])])))),128))])),(0,n.createElementVNode)("div",_,(0,n.toDisplayString)(e.msg("POLLS_STAT_VOTED",{votesCount:e.poll.votesCount}))+" "+(0,n.toDisplayString)(e.msg("POLLS_STAT_PASSED",{passCount:e.poll.passCount})),1)],64)):(0,n.createCommentVNode)("",!0)],2)}var T=o(33907),E=o(7281),S=o(93730),C=o(37700),v=o(3996),k=o(25109),f=o(99691);const A={name:"TMArticlePoll",components:{TMButtonBase:E.Z,TMInputRadioLabeled:S.Z,TMLabeledCheckbox:C.Z,TMNotice:v.Z},props:{poll:{default:()=>{},type:Object},variant:{type:String,default:null,validator:(0,f.H)(["bordered"])},isLoadingVote:Boolean,isLoadingDecline:Boolean,enabledForGuests:Boolean},emits:["decline-vote","submit-vote"],data(){return{selectedAnswers:{checkboxes:[],radio:""}}},computed:{...(0,T.Se)("me",["isLoggedIn"]),...(0,T.Se)("i18n",["msg","langOptions"]),isVoteDisabled(){const e=this.selectedAnswers;return-1===e.checkboxes.indexOf(!0)&&0===e.radio.length},winningAnswer(){return this.poll.variants.reduce(((e,t)=>e.votesCount>t.votesCount?e:t))},progressBarClassName(){return e=>({"tm-article-poll__answer-progress":!0,"tm-article-poll__answer-progress_winning":this.winningAnswer.id===e})},answerLabelClassName(){return e=>({"tm-article-poll__answer-label":!0,"tm-article-poll__answer-label_selected":e})},percentClassName(){return e=>({"tm-article-poll__answer-percent":!0,"tm-article-poll__answer-percent_winning":this.winningAnswer.id===e})},unAuthLinkParams(){const e=this.$route.path,{hl:t}=this.langOptions;return{url:`/kek/v1/auth/habrahabr/?back=${e}&hl=${t}`}},unauthorizedNoticeMessage(){return`${this.msg("POLLS_NOTICE_UNAUTH_DECLARATION")} ${this.msg("POLLS_NOTICE_UNAUTH_ACTION",this.unAuthLinkParams)}`}},methods:{onDeclineVote(){this.$emit("decline-vote",{pollId:this.poll.id})},onSubmitVote(){let e=[];"checkbox"===this.poll.answersType?this.selectedAnswers.checkboxes.forEach(((t,o)=>{t&&e.push(this.poll.variants[o].id)})):e=[this.selectedAnswers.radio];const t={variantId:e,pollId:this.poll.id};this.$emit("submit-vote",t)},bem:k.P}};var I=o(83744);const y=(0,I.Z)(A,[["render",g]]),b=y},44071:(e,t,o)=>{"use strict";o.d(t,{Z:()=>Ve});var n=o(70942);const s={class:"tm-article-presenter__body","data-test-id":"article-body"},a={key:0,class:"tm-article-presenter__origin"},i=["href"],r=["href"],l=["src"],c={key:0,class:"tm-article-presenter__footer"};function m(e,t,o,m,d,u){const p=(0,n.resolveComponent)("TMPlaceholder"),h=(0,n.resolveComponent)("TMArticleSnippet"),_=(0,n.resolveComponent)("TMArticleBody"),g=(0,n.resolveComponent)("TMTagsList"),T=(0,n.resolveComponent)("TMHubsList"),E=(0,n.resolveComponent)("ArticleDonationBlock"),S=(0,n.resolveComponent)("TMMisprintArea"),C=(0,n.resolveComponent)("TMArticleStickyPanel"),v=(0,n.resolveDirective)("hotkey");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-article-presenter",{"tm-article-presenter_wide":u.isWideVariant}])},[(0,n.renderSlot)(e.$slots,"beforeBody"),(0,n.createElementVNode)("div",s,[(0,n.createVNode)(S,{action:u.misprintAction},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("article",{ref:"article",class:(0,n.normalizeClass)(["tm-article-presenter__content",{"tm-article-presenter__content_narrow":!u.isWideVariant}])},[o.isLoading?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createVNode)(p,{type:"article"}),(0,n.createVNode)(p,{type:"articleBody"})],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-article-presenter__header",{"tm-article-presenter__header_wide":u.isWideVariant}])},[(0,n.renderSlot)(e.$slots,"beforeSnippet"),(0,n.createVNode)(h,{article:o.article,class:(0,n.normalizeClass)(["tm-article-presenter__snippet",{"tm-article-presenter__snippet_wide":u.isWideVariant}]),"full-article":"",lang:o.article.lang,tag:"h1",onDelete:t[0]||(t[0]=e=>u.deleteArticle(o.article.id))},null,8,["article","class","lang"])],2),(0,n.renderSlot)(e.$slots,"body",{},(()=>[u.translationData?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createElementVNode)("a",{class:"tm-article-presenter__origin-link",href:u.translationData.originalUrl,target:"_blank"},[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_ORIGIN_TITLE"))+" ",1),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(u.translationData.originalAuthorName),1)],8,i)])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(_,{article:o.article,lang:o.article.lang},null,8,["article","lang"])])),o.article.banner?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:0,class:"tm-article-presenter__banner",href:o.article.banner.url},[(0,n.createElementVNode)("img",{alt:"",class:"tm-article-presenter__banner-image",src:e.isMobileOnly?o.article.banner.mobileImageUrl:o.article.banner.desktopImageUrl},null,8,l)],8,r)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-article-presenter__meta",{"tm-article-presenter__meta_wide":u.isWideVariant}]),"data-test-id":"article-meta-links"},[o.article.tags&&o.article.tags.length?((0,n.openBlock)(),(0,n.createBlock)(g,{key:0,class:"tm-article-presenter__meta-list",tags:o.article.tags,title:e.msg("ARTICLE_TAGS_TITLE")},null,8,["tags","title"])):(0,n.createCommentVNode)("",!0),o.article.hubs&&o.article.hubs.length?((0,n.openBlock)(),(0,n.createBlock)(T,{key:1,class:"tm-article-presenter__meta-list",hubs:o.article.hubs,title:e.msg("ARTICLE_HUBS_TITLE")},null,8,["hubs","title"])):(0,n.createCommentVNode)("",!0)],2),u.showDonationBlock?((0,n.openBlock)(),(0,n.createBlock)(E,{key:1,article:o.article,author:u.author},null,8,["article","author"])):(0,n.createCommentVNode)("",!0)],64))],2)),[[v,u.hotkeys,void 0,{stop:!0}]])])),_:3},8,["action"]),o.article?((0,n.openBlock)(),(0,n.createBlock)(C,{key:0,article:o.article,element:d.hasMounted?e.$refs.article:null},{articleMenu:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"articleMenu")])),_:3},8,["article","element"])):(0,n.createCommentVNode)("",!0)]),(0,n.renderSlot)(e.$slots,"beforeFooter"),e.$slots.footer?((0,n.openBlock)(),(0,n.createElementBlock)("div",c,[(0,n.renderSlot)(e.$slots,"footer")])):(0,n.createCommentVNode)("",!0)],2)}var d=o(22201),u=o(33907),p=o(34948),h=o(93096),_=o.n(h),g=o(75200);const T={class:"article-donation-block"},E=["innerHTML"];function S(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMButton"),l=(0,n.resolveComponent)("TMPopupPayments"),c=(0,n.resolveComponent)("TMPopupDonations"),m=(0,n.resolveComponent)("Portal");return(0,n.openBlock)(),(0,n.createElementBlock)("div",T,[(0,n.createElementVNode)("div",{class:"article-donation-block__message",innerHTML:e.msg("ARTICLE_DONATE_MESSAGE")},null,8,E),(0,n.createVNode)(r,{class:"article-donation-block__button",color:"horizon",onClick:e.openPaymentsPopup},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_DONATE_BUTTON")),1)])),_:1},8,["onClick"]),(0,n.createVNode)(m,{to:"overlays"},{default:(0,n.withCtx)((()=>[e.shouldOpenPayments?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,onClose:t[0]||(t[0]=t=>e.shouldOpenPayments=!1)})):(0,n.createCommentVNode)("",!0),e.shouldOpenDonations?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,"current-user":e.currentUser,"publication-id":e.article.id,user:e.author,onClose:t[1]||(t[1]=t=>e.shouldOpenDonations=!1)},null,8,["current-user","publication-id","user"])):(0,n.createCommentVNode)("",!0)])),_:1})])}var C=o(79355);const v={class:"donations-popup__author"},k={class:"donations-popup__author-name"};function f(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMEntityImage"),l=(0,n.resolveComponent)("TMFormBuilder"),c=(0,n.resolveComponent)("VueRecaptcha"),m=(0,n.resolveComponent)("TMPopup");return(0,n.openBlock)(),(0,n.createBlock)(m,{class:"donations-popup",title:e.msg("ARTICLE_DONATE_BUTTON"),onClose:t[0]||(t[0]=t=>e.$emit("close"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,{class:"donations-popup__form",disabled:a.isLoading,fields:i.fields,"initial-data":a.formData,lang:e.langOptions.hl,"server-errors":a.serverErrors,"submit-label":e.msg("DONATIONS_BUTTON"),onSubmit:i.proceedForm,"onUpdate:data":i.onDataUpdate},{to:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",v,[(0,n.createVNode)(r,{alias:o.user.alias,class:"donations-popup__author-avatar",image:o.user.avatarUrl,size:36,type:"user"},null,8,["alias","image"]),(0,n.createElementVNode)("div",k,(0,n.toDisplayString)(i.userName),1)])])),_:1},8,["disabled","fields","initial-data","lang","server-errors","submit-label","onSubmit","onUpdate:data"]),e.isLoggedIn?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,ref:"invisibleRecaptcha","load-recaptcha-script":!0,sitekey:a.sitekey,size:"invisible",onVerify:i.onVerify},null,8,["sitekey","onVerify"]))])),_:1},8,["title"])}var A=o(52342),I=o(82598),y=o(50612),b=o(68172),N=o(96139),P=o(52767),L=o(10836),B=o(44383),O=o(14857);const w={name:"TMPopupDonations",components:{TMPopup:b.Z,TMFormBuilder:y.Z,TMEntityImage:I.Z,VueRecaptcha:A.Z},props:{publicationId:{type:String,required:!0},user:N.Z,currentUser:{type:Object,default:null}},emits:["close"],data(){return{formData:{donater:this.currentUser?this.currentUser.fullname||this.currentUser.alias:null,anonymously:!1,currency:"RUB"},serverErrors:null,isLoading:!1,sitekey:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf"}},computed:{...(0,u.Se)("i18n",["langOptions"]),...(0,u.Se)("me",["isLoggedIn"]),fields(){return[{className:"tm-input",name:"donater",type:"BaseInput",label:this.msg("FROM_LABEL"),disabled:this.formData&&this.formData.anonymously,validation:{required:!1,maxLength:50},position:{row:"1"}},{className:"tm-checkbox",name:"anonymously",label:this.msg("DONATIONS_ANONYMOUSLY"),type:"BaseCheckbox",disabled:!1,validation:{required:!1}},{className:"tm-section",name:"to",label:this.msg("TO_LABEL"),type:"BaseSection"},{className:"tm-section",name:"payment",label:this.msg("DONATIONS_AMOUNT"),type:"BaseSection"},{className:"tm-input",name:"amount",type:"BaseInput",validation:{required:!0,pattern:"digits"},position:{column:"1 / 6"},htmlAttrs:{inputmode:"numeric",type:"number"}},{className:"tm-select",name:"currency",type:"BaseSelect",options:[{name:"RUB",value:"RUB"},{name:"EUR",value:"EUR"},{name:"USD",value:"USD"}],validation:{required:!1},position:{column:"6 / 6"}},{className:"tm-textarea",label:this.msg("DONATIONS_MESSAGE"),name:"message",type:"BaseTextarea",validation:{required:!1,maxLength:150}}]},userName(){return this.user.fullname||this.user.alias}},methods:{onDataUpdate(e){this.formData=e},proceedForm(e){this.isLoggedIn?this.sendForm(e):this.$refs.invisibleRecaptcha.execute()},onVerify(e){this.sendForm(e),this.$refs.invisibleRecaptcha.reset()},sendForm(e){let t;this.isLoading=!0;const o=!1;o&&(t="https://rc.habr-web.habratest.net");const n=(0,L.Z)(this.$router.resolve({name:this.$route.name,params:this.$route.params}).href,t),s=`${n}#${B.B5}`,a=`${n}#${B.de}`,{formData:i}=this,r={publicationId:this.publicationId,message:i.message||null,donater:i.anonymously||!i.donater?null:i.donater,amount:i.amount,currency:i.currency,returnSuccessUrl:s,returnFailUrl:a};this.isLoggedIn||(r.recaptchaToken=e),(0,O.ri)(this.user.id,r).then((({url:e})=>{window.location=e})).catch((e=>{const t=(0,P.zg)(e);"FORM_ERRORS"!==t?this.$toast.error(e.message):this.serverErrors=e.data})).finally((()=>{this.isLoading=!1}))}}};var M=o(83744);const R=(0,M.Z)(w,[["render",f]]),V=R,D=["href"];function U(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMPopup");return(0,n.openBlock)(),(0,n.createBlock)(r,{title:e.msg("ARTICLE_DONATE_POPUP"),onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.payments,(o=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:o,class:"tm-popup__item-payment"},[(0,n.createElementVNode)("a",{class:"tm-popup__link-payment",href:e.getUrl(o),target:"_blank",onClick:t[0]||(t[0]=(...t)=>e.logGa&&e.logGa(...t))},(0,n.toDisplayString)(e.getTitle(o)),9,D)])))),128))])),_:1},8,["title"])}var $=o(97812),x=o(46206),F=o(19913);const H={paymentWebmoney:"SETTINGS_PROFILE_WEBMONEY",paymentPayPalMe:"SETTINGS_PROFILE_PAYPAL",paymentYandexMoney:"SETTINGS_PROFILE_YANDEX_MONEY"},G={paymentWebmoney:"https://pay.web.money/",paymentPayPalMe:"https://www.paypal.me/",paymentYandexMoney:"https://yoomoney.ru/to/"},W={name:"TMPopupPayments",components:{TMPageSettingsForm:$["default"],TMSvgImg:x.Z,TMPopup:b.Z},emits:["close"],computed:{...(0,u.Se)("articlesList",["getArticleById"]),...(0,u.Se)("me",["userAlias"]),article(){return this.getArticleById(this.$route.params.id)},payments(){const e=[],{paymentDetails:t}=this.article.author;return t&&Object.keys(t).forEach((o=>{t[o]&&e.push(o)})),e}},methods:{logGa(){(0,F.IZ)("donation")},getUrl(e){return`${G[e]}${this.article.author.paymentDetails[e]}`},getTitle(e){return this.msg(H[e])}}},Y=(0,M.Z)(W,[["render",U]]),Z=Y,q=(0,n.defineComponent)({components:{TMButton:C.Z,TMPopupDonations:V,TMPopupPayments:Z},props:{author:{type:Object,default:()=>({})},article:{type:Object,default:()=>({})}},data(){return{shouldOpenDonations:!1,shouldOpenPayments:!1}},computed:{...(0,u.rn)("me",{currentUser:"user"})},methods:{openPaymentsPopup(){(0,F.IZ)("donation"),this.author&&this.author.donationsMethod&&("services"===this.author.donationsMethod?this.shouldOpenDonations=!0:this.shouldOpenPayments=!0)}}}),K=(0,M.Z)(q,[["render",S]]),j=K;var z=o(70945);const Q={class:"tm-article-sticky-panel","data-test-id":"article-sticky-panel"};function X(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMDataIcons");return(0,n.openBlock)(),(0,n.createBlock)(n.Transition,{name:"transition-slide"},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createElementVNode)("div",Q,[o.article&&o.article.id?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,article:o.article,class:"tm-article-sticky-panel__icons","icons-list":["rating","favorite","share","comments"]},{articleMenu:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"articleMenu")])),_:3},8,["article"])):(0,n.createCommentVNode)("",!0)],512),[[n.vShow,!a.isIconsPanelHidden]])])),_:3})}var J=o(56948),ee=o(46186);const te=e=>{const{top:t,height:o}=e.getBoundingClientRect();return t<=window.innerHeight&&t+o>0},oe=(e,t)=>{const{top:o,height:n}=e.getBoundingClientRect();return n*t/100+o<=window.innerHeight},ne=e=>{const{bottom:t}=e.getBoundingClientRect();return t-window.innerHeight<=0},se={name:"TMArticleStickyPanel",components:{TMDataIcons:J.Z},props:{article:{type:Object,default:null},element:{type:null,default:null}},setup(){return{isComponentActive:(0,ee.c)()}},data(){return{isAtTheBottomOfArticle:!1,isIconsPanelHidden:!1,lastScrollPosition:null}},computed:{...(0,u.Se)("global",["isDesktop"])},mounted(){document.addEventListener("scroll",this.handleScroll,{passive:!0})},beforeUnmount(){document.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const e=20,t=window.pageYOffset||document.documentElement.scrollTop;if(!(Math.abs(this.lastScrollPosition-t)<e)&&this.element&&this.isComponentActive){if(this.isAtTheBottomOfArticle=ne(this.element),this.isAtTheBottomOfArticle)return this.scrolledDown||(this.scrolledDown=!0),void(this.isIconsPanelHidden=!1);this.isIconsPanelHidden=t>this.lastScrollPosition,this.lastScrollPosition=t}}}},ae=(0,M.Z)(se,[["render",X]]),ie=ae;var re=o(63020);const le={class:"tm-misprint-area"},ce={ref:"root",class:"tm-misprint-area__wrapper"};function me(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMMisprint"),l=(0,n.resolveDirective)("hotkey");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",le,[(0,n.createElementVNode)("div",ce,[(0,n.renderSlot)(e.$slots,"default")],512),a.showMisprint?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,action:o.action,"misprint-text":a.misprintText,onClose:i.closeMisprint},null,8,["action","misprint-text","onClose"])):(0,n.createCommentVNode)("",!0)])),[[l,i.misprintKeymap,void 0,{stop:!0}]])}const de=(0,n.defineAsyncComponent)((()=>o.e(8020).then(o.bind(o,68020)))),ue={name:"TMMisprintArea",components:{TMMisprint:de},props:{action:{type:Function,required:!0}},setup(){return{isComponentActive:(0,ee.c)()}},data(){return{misprintText:null,showMisprint:!1}},computed:{...(0,u.Se)("me",["isLoggedIn"]),misprintKeymap(){return{"ctrl+enter":this.toggleMisprint,"meta+enter":this.toggleMisprint}}},methods:{getTextSelection(){const e=window.getSelection(),t=e.toString(),{anchorNode:o,focusNode:n}=e,{root:s}=this.$refs;return t.length&&s.contains(o)&&s.contains(n)?t:null},toggleMisprint(){if(!this.isComponentActive)return;if(this.showMisprint)return void this.closeMisprint();const e=this.getTextSelection();e&&this.isLoggedIn&&(this.misprintText=e,this.showMisprint=!0)},closeMisprint(){this.showMisprint=!1,this.misprintText=""}}},pe=(0,M.Z)(ue,[["render",me]]),he=pe;var _e=o(79063),ge=o(6617),Te=o(95756),Ee=o(4218),Se=o(15923),Ce=o(8685),ve=o(86598),ke=o(68171),fe=o(24440),Ae=o(67267),Ie=o(51084),ye=o(11699),be=o(43188);function Ne(e){return(0,be.q)("/read-publication",e)}var Pe=o(35457),Le=o(4344),Be=o.n(Le),Oe=o(61254),we=o.n(Oe);const Me={name:"TMArticlePresenter",components:{ArticleDonationBlock:j,TMArticleStickyPanel:ie,TMHubsList:re.Z,TMTagsList:ge.Z,TMArticleBody:g.Z,TMArticleSnippet:z.Z,TMPlaceholder:_e.Z,TMMisprintArea:he},props:{article:{type:Object,default:null},isLoading:{type:Boolean,required:!0},variant:{type:String,default:null},shouldLogPageview:{type:Boolean,default:!0},companyInfo:{type:Object,required:!1,default:null}},setup(e){const t=(0,d.yj)(),o=(0,n.ref)(!1),[s]=(0,Ee.FW)("me",["isLoggedIn"]),[a]=(0,Ee.WX)("me",["loadUpdates"]),i=()=>new Promise((n=>{var s;if(o.value)return void n();(0,ye.Az)(e.article.id).catch((e=>{Ae.Z.notifyException(e)})).finally(n);const a=we()({isEditorial:e.article.isEditorial,companySettings:null===(s=e.companyInfo)||void 0===s?void 0:s.settings}),i={hubs_and_flows:Be()(e.article)};a&&(i.page_producer=a),(0,F.Z0)({fullPath:t.fullPath,optionalParams:i}),o.value=!0})),r=(0,n.computed)((()=>{var t,o;return(null===(t=e.article)||void 0===t||null===(o=t.metadata)||void 0===o?void 0:o.adriverPixels)||[]})),l=()=>{r.value.forEach((e=>{const t=new Image;t.src=e}))},c=(0,n.computed)((()=>t.params.companyName)),m=(0,n.computed)((()=>c.value?e.companyInfo&&e.companyInfo.settings&&e.article?{...e.article,settings:e.companyInfo.settings}:null:e.article));return(0,n.onMounted)((()=>{(0,Te.n)((()=>m.value),(e=>{e&&(i().then((()=>{s.value&&a()})),(0,Ie.Df)(),s.value||(0,p.t8)(e.id,e.statistics.commentsCount),r.value&&r.value.length&&l())}),{immediate:!0,equals:Ce.wm})})),{isComponentActive:(0,ee.c)(),hasTrackedPageview:o}},data(){return{hasMounted:!1,readingProgress:-1,timerId:null,shouldOpenDonations:!1,shouldOpenPayments:!1}},head(){const{article:e}=this;if(!e||!e.metadata)return{};const{lang:t,metadata:o}=e,{shareImageUrl:n,schemaJsonLd:s,amp:a}=o,i=[{href:(0,Pe.articleCanonical)(e),rel:"canonical",vmid:"canonical"},{rel:"image_src",href:n,vmid:"image:href"}];return a&&this.langOptions.hl===t&&i.push({rel:"amphtml",href:`https://habr.com/${t}/amp/publications/${e.id}/`}),{title:(0,fe._)(e.titleHtml),link:i,meta:(0,Se.GD)(this.article),script:[{type:"application/ld+json",innerHTML:s,vmid:"ldjson-schema"}]}},computed:{...(0,u.Se)("global",["isMobileOnly"]),...(0,u.rn)("articlesList",["lastVisitedRoute"]),...(0,u.Se)("me",["userAlias"]),...(0,u.rn)("me",["uuid"]),...(0,u.Se)("users",["getUserByAlias"]),hotkeys(){return this.isComponentActive&&this.article?{"meta+e":this.openArticleEdit,"ctrl+e":this.openArticleEdit,u:this.goToLastVisitedArticlesList}:{}},translationData(){if(!this.article.postLabels)return null;const{data:e=null}=this.article.postLabels.find((e=>"translation"===e.type))||{};return e},isWideVariant(){return"wide"===this.variant},scrollThrottled(){return _()(this.logReadingProgress,200)},author(){return this.article&&this.article.author?this.getUserByAlias(this.article.author.alias)||this.article.author:null},showDonationBlock(){var e;if(!this.author)return!1;if("services"===this.author.donationsMethod)return!0;const t=Object.values((null===(e=this.author)||void 0===e?void 0:e.paymentDetails)??[]).some(Boolean);return"wallets"===this.author.donationsMethod&&t}},watch:{isLoading(e){e||this.startLogReadingProgress()}},activated(){this.hasTrackedPageview=!1},mounted(){this.hasMounted=!0,this.isLoading||this.startLogReadingProgress()},deactivated(){this.stopLogReadingProgress()},beforeUnmount(){this.stopLogReadingProgress()},methods:{startLogReadingProgress(){this.$refs.article&&(this.timerId=setTimeout((()=>{this.logReadingProgress()}),1e3),document.addEventListener("scroll",this.scrollThrottled,{passive:!0}))},stopLogReadingProgress(){clearInterval(this.timerId),document.removeEventListener("scroll",this.scrollThrottled)},logReadingProgress(){if(!this.$refs.article)return;const e=[0,25,50,75,100];te(this.$refs.article)&&e.forEach((e=>{this.readingProgress<e&&oe(this.$refs.article,e)&&(this.readingProgress=e,Ne({uuid:this.uuid,publicationId:this.article.id,publicationType:this.article.postType,checkpoint:e}))}))},openArticleEdit(){(0,ve.I5)(this.article,this.$router)},misprintAction(e){return(0,ye.Ai)(this.article.id,e)},goToLastVisitedArticlesList(){const e=(0,ke.bc)(this.langOptions),t=this.lastVisitedRoute.name?this.lastVisitedRoute:e;this.$router.push(t)},deleteArticle(e){window.confirm(this.msg("ARTICLE_DRAFT_DELETE_CONFIRM"))&&(0,ye.mZ)(e).then((()=>{this.$router.push({name:"ARTICLES_LIST_BY_USER",params:{login:this.userAlias,hl:this.langOptions.hl}}),this.$toast.info(this.msg("ARTICLE_DELETED"))})).catch((e=>{this.$toast.error(e.message)}))}}},Re=(0,M.Z)(Me,[["render",m]]),Ve=Re},40083:(e,t,o)=>{"use strict";o.d(t,{Z:()=>C});var n=o(70942);const s={key:0,class:"tm-article-snippet-block__user-meta"},a={key:0,class:"tm-article-snippet-block__date"},i={key:1},r=["textContent"],l=["innerHTML"],c=["innerHTML"];function m(e,t,o,m,d,u){const p=(0,n.resolveComponent)("TMDatetime"),h=(0,n.resolveComponent)("TMMessageInterpolation"),_=(0,n.resolveComponent)("TMPublicationLink"),g=(0,n.resolveComponent)("TMDataIcons");return(0,n.openBlock)(),(0,n.createElementBlock)("article",{class:(0,n.normalizeClass)(`tm-article-snippet-block-${e.layout} tm-article-snippet-block-${e.layout}_preview`)},["mostReadingList"!==e.bookmarkModule?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[e.showDate?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[e.article.timePublished?((0,n.openBlock)(),(0,n.createBlock)(p,{key:0,date:new Date(e.article.timePublished),"is-article-format":""},null,8,["date"])):e.article.plannedPublishTime?((0,n.openBlock)(),(0,n.createElementBlock)("span",i,[(0,n.createVNode)(h,{message:e.msg("ARTICLE_PLANNED")},{datetime:(0,n.withCtx)((()=>[(0,n.createVNode)(p,{"absolute-date":"",date:new Date(e.article.plannedPublishTime),"show-full-date-time":""},null,8,["date"])])),_:1},8,["message"])])):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:2,textContent:(0,n.toDisplayString)(e.msg("ARTICLE_NEVER_PUBLISHED"))},null,8,r))])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),"fullview"===e.layout?((0,n.openBlock)(),(0,n.createElementBlock)("h1",{key:1,class:(0,n.normalizeClass)(["tm-article-title",`tm-article-title_${e.layout}`])},[(0,n.createElementVNode)("span",{class:"tm-article-title__text",innerHTML:e.article.titleHtml},null,8,l)],2)):((0,n.openBlock)(),(0,n.createElementBlock)("h2",{key:2,class:(0,n.normalizeClass)(["tm-article-title",`tm-article-title_${e.layout}`])},[(0,n.createVNode)(_,{article:e.article,class:(0,n.normalizeClass)(["tm-article-title__link",e.titleClassName]),onClick:e.logClickEvent},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:e.article.titleHtml},null,8,c)])),_:1},8,["article","class","onClick"])],2)),(0,n.createVNode)(g,{article:e.article,"bookmark-module":e.bookmarkModule,"ga-event":e.gaEvent,"icons-list":e.iconsList,type:e.layout},null,8,["article","bookmark-module","ga-event","icons-list","type"])],2)}var d=o(56948),u=o(63599),p=o(96973),h=o(75222),_=o(50780),g=o(19913);const T={name:"TMArticleSnippetBlock",components:{TMDataIcons:d.Z,TMDatetime:u.Z,TMPublicationLink:h.Z,TMMessageInterpolation:p.Z},props:{article:_.s,gaEvent:{type:[Object,String],required:!1,default:null},layout:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},customIconsList:{type:Array,default:()=>null},showDate:{type:Boolean,default:!0}},computed:{iconsList(){return this.customIconsList?this.customIconsList:"block"===this.layout?["votes","views","comments","favorite"]:["views","comments"]},titleClassName(){return{"tm-article-title__link_megapost":"megaproject"===this.article.postType}}},methods:{logClickEvent(){this.gaEventName&&"string"===typeof this.gaEventName&&(0,g.IZ)(this.gaEventName)}}};var E=o(83744);const S=(0,E.Z)(T,[["render",m]]),C=S},70945:(e,t,o)=>{"use strict";o.d(t,{Z:()=>Q});var n=o(70942);const s={class:"tm-article-snippet__meta-container"},a={class:"tm-article-snippet__meta"},i={key:0,class:"tm-article-snippet__controls"},r=["href"],l=["title"],c={class:"tm-article-snippet__stats","data-test-id":"articleStats"},m={class:"tm-article__moderation-comment-header"},d={class:"tm-article__moderation-comment-title"},u=["innerHTML"],p={key:3,class:"tm-article-body tm-article-snippet__lead"},h=["src"],_=["src"],g=["innerHTML"];function T(e,t,o,T,E,S){const C=(0,n.resolveComponent)("TMArticleDatetimePublished"),v=(0,n.resolveComponent)("TMUserInfo"),k=(0,n.resolveComponent)("TMSvgImg"),f=(0,n.resolveComponent)("router-link"),A=(0,n.resolveComponent)("TMArticleTitle"),I=(0,n.resolveComponent)("TMArticleComplexity"),y=(0,n.resolveComponent)("TMArticleReadingTime"),b=(0,n.resolveComponent)("TMIconCounter"),N=(0,n.resolveComponent)("TMPublicationHubs"),P=(0,n.resolveComponent)("TMArticleLabels"),L=(0,n.resolveComponent)("TMWarningIcon"),B=(0,n.resolveComponent)("TMDatetime"),O=(0,n.resolveComponent)("TMNotice"),w=(0,n.resolveComponent)("TMArticleFormattedBody"),M=(0,n.resolveComponent)("TMPublicationLink");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-article-snippet",S.bem("tm-article-snippet",{noBorder:o.noBorder})])},[(0,n.renderSlot)(e.$slots,"top"),(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",a,[S.showAuthor?((0,n.openBlock)(),(0,n.createBlock)(v,{key:0,author:o.article.author,avatar:o.article.author.avatarUrl,"avatar-size":e.isMobile?32:24,class:"tm-article-snippet__author",onClick:S.logAuthorClick},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(C,{article:o.article,"is-megapost-v1":S.isMegapostV1,link:o.dateAsLink},null,8,["article","is-megapost-v1","link"])])),_:1},8,["author","avatar","avatar-size","onClick"])):((0,n.openBlock)(),(0,n.createBlock)(C,{key:1,article:o.article,"is-megapost-v1":S.isMegapostV1,link:o.dateAsLink},null,8,["article","is-megapost-v1","link"]))]),S.showModeratorCheck||S.showEdit||S.showStats?((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[S.showModeratorCheck&&o.article.checked?((0,n.openBlock)(),(0,n.createBlock)(k,{key:0,id:"moderator-check",class:"tm-article-snippet__moderation","data-test-id":"articleModeratorCheck"})):(0,n.createCommentVNode)("",!0),S.showEdit?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[S.isNewEditor?((0,n.openBlock)(),(0,n.createBlock)(f,{key:0,class:"tm-article-snippet__edit","data-test-id":"newEditorlink",to:S.editPublicationRoute},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(k,{id:"edit",class:"icon_edit-post","data-test-id":"articleEditIcon",size:"20"})])),_:1},8,["to"])):((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:1,class:"tm-article-snippet__edit","data-test-id":"oldEditorlink",href:S.desktopEditPublicationRoute,target:"_blank"},[(0,n.createVNode)(k,{id:"edit",class:"icon_edit-post","data-test-id":"articleEditIcon",size:"20"})],8,r))],64)):(0,n.createCommentVNode)("",!0),S.showStats?((0,n.openBlock)(),(0,n.createBlock)(f,{key:2,class:"tm-article-snippet__stats-info",to:S.statisticsPublicationRoute},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(k,{id:"stats-info",class:"icon_statistics-post","data-test-id":"articleStatisticsIcon",size:"20",title:e.msg("ICON_USER_STAT")},null,8,["title"])])),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),S.canDeleteDraft?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:3,class:"tm-article-snippet__delete","data-test-id":"articleDeleteDraftButton",title:e.msg("ARTICLE_DRAFT_DELETE"),onClick:t[0]||(t[0]=t=>e.$emit("delete"))},[(0,n.createVNode)(k,{id:"trash",class:"icon_edit-post","data-test-id":"articleDeleteDraftIcon",size:"20",title:e.msg("ARTICLE_DRAFT_DELETE")},null,8,["title"])],8,l)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)(A,{article:o.article,class:(0,n.normalizeClass)({"tm-article-snippet__title_megapost":S.isMegapostV1}),"ga-event":o.gaTitle,lang:o.lang,tag:o.tag,"use-link":o.useLink},null,8,["article","class","ga-event","lang","tag","use-link"]),(0,n.createElementVNode)("div",c,[o.article.complexity?((0,n.openBlock)(),(0,n.createBlock)(I,{key:0,complexity:o.article.complexity},null,8,["complexity"])):(0,n.createCommentVNode)("",!0),o.article.readingTime?((0,n.openBlock)(),(0,n.createBlock)(y,{key:1,"reading-time":o.article.readingTime},null,8,["reading-time"])):(0,n.createCommentVNode)("",!0),S.isSandbox?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(b,{key:2,abbreviated:"",class:"tm-data-icons__item",counter:o.article.statistics.readingCount,"icon-id":"counter-views",title:e.msg("DATA_ICONS_VIEWS")},null,8,["counter","title"]))]),S.showHubs&&o.article.hubs&&o.article.hubs.length?((0,n.openBlock)(),(0,n.createBlock)(N,{key:0,"data-test-id":"articleHubsList",hubs:o.article.hubs,"is-old-megapost":S.isMegapostV1},null,8,["hubs","is-old-megapost"])):(0,n.createCommentVNode)("",!0),S.showLabelsOrFormat?((0,n.openBlock)(),(0,n.createBlock)(P,{key:1,article:o.article,"data-test-id":"articleLabels"},null,8,["article"])):(0,n.createCommentVNode)("",!0),o.article.moderationComment?((0,n.openBlock)(),(0,n.createBlock)(O,{key:2,"data-test-id":"articleModerationComment",type:"warning"},{icon:(0,n.withCtx)((()=>[(0,n.createVNode)(L,{class:"tm-article__moderation-comment-icon"})])),title:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",m,[(0,n.createElementVNode)("div",d,(0,n.toDisplayString)(e.msg("ARTICLE_MODERATOR_MESSAGE")),1),e.isDesktop?((0,n.openBlock)(),(0,n.createBlock)(B,{key:0,date:new Date(o.article.moderationComment.timeCreated),"show-full-date-time":""},null,8,["date"])):(0,n.createCommentVNode)("",!0)])])),default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:"tm-article__moderation-comment-body","data-test-id":"moderationCommentText",innerHTML:o.article.moderationComment.textHtml},null,8,u)])),_:1})):(0,n.createCommentVNode)("",!0),S.showLead&&o.article.leadData?((0,n.openBlock)(),(0,n.createElementBlock)("div",p,[o.article.leadData.image?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(["tm-article-snippet__cover",S.objectFitClass])},[(0,n.createElementVNode)("img",{class:"tm-article-snippet__lead-image","data-test-id":"articleLeadImage",src:o.article.leadData.image.url,style:(0,n.normalizeStyle)(S.objectPositionStyle)},null,12,h)],2)):o.article.leadData.imageUrl?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:1,class:"tm-article-snippet__lead-image","data-test-id":"articleLeadImage",src:o.article.leadData.imageUrl},null,8,_)):(0,n.createCommentVNode)("",!0),o.article.leadData.textHtml?((0,n.openBlock)(),(0,n.createBlock)(w,{key:2,"article-text":o.article.leadData.textHtml,version:S.editorVersion},null,8,["article-text","version"])):(0,n.createCommentVNode)("",!0),o.article.leadData.buttonTextHtml?((0,n.openBlock)(),(0,n.createBlock)(M,{key:3,article:o.article,class:"tm-article-snippet__readmore"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:o.article.leadData.buttonTextHtml},null,8,g)])),_:1},8,["article"])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)],2)}var E=o(33907);const S={class:"tm-article-complexity__label"};function C(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgIcon");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(i.bem("tm-article-complexity",{complexity:o.complexity}))},[(0,n.createVNode)(r,{id:`complexity-${o.complexity}`,class:"tm-article-complexity__icon",size:"24",title:e.msg("PUBLICATION_COMPLEXITY")},null,8,["id","title"]),(0,n.createElementVNode)("span",S,(0,n.toDisplayString)(i.label),1)],2)}var v=o(2095),k=o(25109),f=o(99691);const A={name:"TMArticleComplexity",components:{TMSvgIcon:v.Z},props:{complexity:{type:String,validator:(0,f.H)(["low","medium","high"]),required:!0}},computed:{label(){return this.msg(`PUBLICATION_COMPLEXITY_${this.complexity.toUpperCase()}`)}},methods:{bem:k.P}};var I=o(83744);const y=(0,I.Z)(A,[["render",C]]),b=y;var N=o(73599),P=o(57394),L=o(58986);const B={class:"tm-article-reading-time"},O={class:"tm-article-reading-time__label"};function w(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgIcon");return(0,n.openBlock)(),(0,n.createElementBlock)("div",B,[(0,n.createVNode)(r,{id:"clock",class:"tm-article-reading-time__icon",size:"24"}),(0,n.createElementVNode)("span",O,(0,n.toDisplayString)(i.label),1)])}const M={name:"TMArticleReadingTime",components:{TMSvgIcon:v.Z},props:{readingTime:{type:Number,required:!0}},computed:{label(){return this.msg("ARTICLE_READING_TIME",{readingTime:this.readingTime})}}},R=(0,I.Z)(M,[["render",w]]),V=R;var D=o(50947),U=o(63599),$=o(28330),x=o(3996),F=o(9605),H=o(75222),G=o(46206),W=o(41461),Y=o(61446),Z=o(19913),q=o(87994);const K=(0,n.defineAsyncComponent)((()=>o.e(4463).then(o.bind(o,54463)))),j={name:"TMArticleSnippet",components:{TMArticleLabels:L.Z,TMPublicationHubs:F.Z,TMArticleTitle:D.Z,TMArticleComplexity:b,TMArticleReadingTime:V,TMDatetime:U.Z,TMNotice:x.Z,TMSvgImg:G.Z,TMIconCounter:$.Z,TMUserInfo:W.Z,TMPublicationLink:H.Z,TMWarningIcon:K,TMArticleFormattedBody:P.Z,TMArticleDatetimePublished:N.Z},props:{article:{default:()=>{},type:Object},tag:{type:String,default:"h2"},useLink:{type:Boolean,default:!1},fullArticle:{type:Boolean,default:!1},lang:{type:String,default:null},withHubs:{type:Boolean,default:null},withLabels:{type:Boolean,default:null},withLead:{type:Boolean,default:null},withAuthor:{type:Boolean,default:!0},noBorder:Boolean,articleView:{type:String,default:null,validator(e){return["cards","list"].includes(e)}},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},dateAsLink:{type:Boolean,default:!1}},emits:["delete"],computed:{...(0,E.Se)("articlesList",{getGlobalArticleView:"getArticleView"}),...(0,E.Se)("global",["isDesktop","isMobile"]),...(0,E.Se)("me",["isSuperAdmin","isModerator","userAlias","companiesAdmin"]),getArticleView(){return this.articleView||this.getGlobalArticleView},isMegapostV1(){return"megaproject"===this.article.postType&&1===this.editorVersion},isMegapostV2(){return"megaproject"===this.article.postType&&2===this.editorVersion},showHubs(){return null===this.withHubs?this.fullArticle||"cards"===this.getArticleView:this.withHubs},showLabels(){return!1!==this.withLabels},showLead(){return null===this.withLead?!this.fullArticle&&"cards"===this.getArticleView:this.withLead},showAuthor(){return this.withAuthor&&this.article.author&&!this.isMegapostV1&&!this.isMegapostV2},editorVersion(){return parseInt(this.article.editorVersion,10)},leadDataImage(){const{article:{leadData:e}}=this;return e&&e.image},objectFitClass(){return this.leadDataImage&&this.leadDataImage.fit&&`tm-article-snippet__cover_${this.leadDataImage.fit}`},objectPositionStyle(){return this.leadDataImage&&`object-position: ${this.leadDataImage.positionX}% ${this.leadDataImage.positionY}%`},showEdit(){const{relatedData:e}=this.article;return e&&e.canEdit&&!this.isMegapostV1},isNewEditor(){const e=parseInt(this.article.editorVersion,10);return 2===e},showModeratorCheck(){return this.isSuperAdmin},editPublicationRoute(){return"megaproject"===this.article.postType&&this.isNewEditor?{name:"PUBLICATION_MEGAPOST_EDIT",params:{publicationId:this.article.id}}:"news"===this.article.postType?{name:"PUBLICATION_NEWS_EDIT",params:{publicationId:this.article.id}}:{name:"sandbox"===this.article.postType?"PUBLICATION_SANDBOX_EDIT":"PUBLICATION_ARTICLE_EDIT",params:{publicationId:this.article.id}}},desktopEditPublicationRoute(){return this.isMegapostV1?(0,q.c)(this.article.id):(0,Y.B)(this.article)},canDeleteDraft(){return"draft"===this.article.status&&!this.article.timePublished&&!this.article.plannedPublishTime},showLabelsOrFormat(){return this.showLabels&&this.article.postLabels&&this.article.postLabels.length||this.article.format&&"common"!==this.article.format},isSandbox(){return"sandbox"===this.$route.meta.pageType||this.$route.meta.isSandboxPage},isArticleAuthor(){return this.article.author&&this.article.author.alias===this.userAlias},showStats(){return this.isSuperAdmin},statisticsPublicationRoute(){return{name:"STATISTICS_PUBLICATION",params:{publicationId:this.article.id}}}},methods:{bem:k.P,logAuthorClick(){this.gaAuthor&&(0,Z.IZ)(this.gaAuthor)}}},z=(0,I.Z)(j,[["render",T]]),Q=z},50947:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMTitle");return(0,n.openBlock)(),(0,n.createBlock)(r,{"data-test-id":"articleTitle",lang:o.lang,"link-props":i.linkData,"link-test-id":"article-snippet-title-link",tag:o.tag,title:o.article.titleHtml,to:i.route,"use-link":o.useLink,onLinkClick:i.logTitleClick},null,8,["lang","link-props","tag","title","to","use-link","onLinkClick"])}var a=o(4598),i=o(19913),r=o(44383);const l={name:"TMArticleTitle",components:{TMTitle:a.Z},props:{tag:{type:String,default:"h2"},useLink:{type:Boolean,default:!1},article:{default:()=>{},type:Object},gaEvent:{type:String,default:""},lang:{type:String,default:null}},computed:{route(){return(0,r.uT)(this.article,this.langOptions.hl)},linkData(){return{"data-article-link":!0}}},methods:{logTitleClick(){this.gaEvent&&(0,i.IZ)(this.gaEvent)}}};var c=o(83744);const m=(0,c.Z)(l,[["render",s]]),d=m},69749:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(70942);const s=["src"];function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.links,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:e,height:"1",src:e,style:{display:"none"},width:"1"},null,8,s)))),128))])}const i={name:"TMArticleTrackingPixels",props:{links:{type:Array,required:!0}}};var r=o(83744);const l=(0,r.Z)(i,[["render",a]]),c=l},40112:(e,t,o)=>{"use strict";o.d(t,{Z:()=>C});var n=o(70942);const s={key:0,class:"tm-article-feed-blocks"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMPromoBlock"),c=(0,n.resolveComponent)("TMAdfoxBanner"),m=(0,n.resolveComponent)("TMRandomProjectBlock"),d=(0,n.resolveComponent)("TMStories"),u=(0,n.resolveComponent)("TMEventsWidget");return r.showFeedBlocks?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[r.showPromoBlock?((0,n.openBlock)(),(0,n.createBlock)(l,{id:`promo_block_${o.position}`,key:`promo_block_${o.position}`,"data-navigatable":"","data-test-id":"promo-block-with-specials","ga-type":"feed_middle",tabindex:"0"},null,8,["id"])):r.showAdBannerLeaderBoard?((0,n.openBlock)(),(0,n.createBlock)(c,{key:`ads_block_${o.position}`,"adfox-id":"164725660339535756","div-id":"articlesListBanner",params:{pp:"h",ps:"fnps",p2:"hnyb"},variant:"leaderboard"})):r.showRandomProjectBlock?((0,n.openBlock)(),(0,n.createBlock)(m,{id:`project-blocks_${o.position}`,key:`project-blocks_${o.position}`,"block-id":`project-blocks_${o.position}`,"data-navigatable":"",hubs:r.sortedHubs,location:"feed",tabindex:"0",tags:r.sortedTags},null,8,["id","block-id","hubs","tags"])):r.showStoriesBlock?((0,n.openBlock)(),(0,n.createBlock)(d,{id:`stories_block_${o.position}`,key:`stories_block_${o.position}`,"data-some-prop":"test","data-test-id":"stories_block","ga-category":"stories_feed"},null,8,["id"])):r.showCalendarBlock?((0,n.openBlock)(),(0,n.createBlock)(u,{id:`calendar_block_${o.position}`,key:`calendar_block_${o.position}`},null,8,["id"])):r.showAdBanner?((0,n.openBlock)(),(0,n.createBlock)(c,{key:`ads_block_${o.position}`,"adfox-id":"169815585631156344","div-id":"articleCentralBanner",params:{pp:"h",ps:"fnps",p2:"iqpa"},variant:"medium-narrow"})):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)}var i=o(33907),r=o(10819),l=o(84667),c=o(57411),m=o(37160),d=o(60732);const u=10,p=13,h={default:{allPositions:[4,7,u,p,16],promoBlockPositions:[4],adBannerPositions:[],adBannerLeaderBoardPositions:[7],projectBlockPositions:[u,p],storiesBlockPositions:[],calendarBlockPositions:[16]},startup:{allPositions:[4,7,u,17],promoBlockPositions:[4],adBannerPositions:[7],adBannerLeaderBoardPositions:[],projectBlockPositions:[u,17],storiesBlockPositions:[],calendarBlockPositions:[]},articles:{allPositions:[4,7,u,13,16],promoBlockPositions:[7],adBannerPositions:[16],adBannerLeaderBoardPositions:[],projectBlockPositions:[u],storiesBlockPositions:[4],calendarBlockPositions:[13]},myFeed:{allPositions:[4,7,u,13,16],promoBlockPositions:[7],adBannerPositions:[],adBannerLeaderBoardPositions:[16],projectBlockPositions:[u],storiesBlockPositions:[4],calendarBlockPositions:[13]}},_=new Set(["NEWS_LIST_ALL","NEWS_LIST_ALL_PAGES","NEWS_LIST_ALL_SCORE","NEWS_LIST_ALL_SCORE_PAGES","NEWS_LIST_TOP","NEWS_LIST_TOP_PERIOD","NEWS_LIST_TOP_PERIOD","NEWS_LIST_TOP_PERIOD_PAGES","NEWS_LIST_BY_FLOW_ALL","NEWS_LIST_BY_FLOW_ALL_PAGES","NEWS_LIST_BY_FLOW_SCORE","NEWS_LIST_BY_FLOW_SCORE_PAGES","NEWS_LIST_BY_FLOW_TOP","NEWS_LIST_BY_FLOW_TOP_PERIOD","NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES","NEWS_LIST_BY_COMPANY","NEWS_LIST_BY_COMPANY_PAGES"]),g=e=>{const t={};return e.forEach((e=>{t[e]=(t[e]||0)+1})),Object.keys(t).sort(((e,o)=>t[e]-t[o]))},T={name:"TMArticlesFeedBlocks",components:{TMAdfoxBanner:r.Z,TMPromoBlock:m.Z,TMRandomProjectBlock:c.Z,TMStories:d.Z,TMEventsWidget:l.Z},props:{rotationType:{type:String,default:"default"},position:{type:Number,required:!0}},computed:{...(0,i.Se)("articlesList",["getAllHubsTitles","getAllTagsNames"]),...(0,i.Se)("me",["userShowAdv"]),currentRotationConfig(){return h[this.rotationType]||h.default},isFlEnglish(){return"en"===this.langOptions.fl},hubs(){return this.getAllHubsTitles(this.$route)},tags(){return this.getAllTagsNames(this.$route)},sortedHubs(){if(!this.hubs)return null;let e=g(this.hubs);return this.$route.params.hubName&&(e=Array.from(new Set([this.$route.params.hubName,...e]))),e},sortedTags(){return this.tags?g(this.tags):null},showFeedBlocks(){return this.currentRotationConfig.allPositions.includes(this.position)},showPromoBlock(){return this.currentRotationConfig.promoBlockPositions.includes(this.position)&&!this.isFlEnglish},showAdBannerLeaderBoard(){return this.currentRotationConfig.adBannerLeaderBoardPositions.includes(this.position)&&this.userShowAdv},showAdBanner(){return this.currentRotationConfig.adBannerPositions.includes(this.position)&&this.userShowAdv},showRandomProjectBlock(){return this.currentRotationConfig.projectBlockPositions.includes(this.position)&&!this.isFlEnglish&&this.correctRandomProjectPositionInNews},correctRandomProjectPositionInNews(){return this.isNewsRoute?this.position===p:this.position===u},showStoriesBlock(){return this.currentRotationConfig.storiesBlockPositions.includes(this.position)},showCalendarBlock(){return this.currentRotationConfig.calendarBlockPositions.includes(this.position)&&!this.isFlEnglish&&this.correctCalendarPositionInNews},correctCalendarPositionInNews(){return this.isNewsRoute?16===this.position:13===this.position},isNewsRoute(){return this.$route.matched.some((e=>_.has(e.name)))}}};var E=o(83744);const S=(0,E.Z)(T,[["render",a]]),C=S},88984:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMArticlesFeedBlocks"),l=(0,n.resolveComponent)("TMSubscriptionBlock"),c=(0,n.resolveComponent)("TMArticlesList");return(0,n.openBlock)(),(0,n.createBlock)(c,{"articles-list":i.currentArticlesList,"is-loading":e.isLoading,"pages-count":i.currentPagesCount,"publications-type":i.publicationsType,"replace-blacklisted":""},{afterArticle:(0,n.withCtx)((({position:t,currentPage:s})=>[(0,n.renderSlot)(e.$slots,"afterArticle",{currentPage:s,position:t},(()=>[o.isPosts?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,position:t,"rotation-type":o.isArticles?"articles":"default"},null,8,["position","rotation-type"]))]))])),afterArticles:(0,n.withCtx)((()=>[i.isUserShowSubscriptionBlock?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,id:"subcriptions_block","data-navigatable":"",tabindex:"0"})):(0,n.createCommentVNode)("",!0)])),_:3},8,["articles-list","is-loading","pages-count","publications-type"])}var a=o(33907),i=o(40112),r=o(54817),l=o(37440),c=o(85725);const m={name:"TMArticlesFeed",components:{TMArticlesFeedBlocks:i.Z,TMArticlesList:r.Z,TMSubscriptionBlock:l.Z},props:{isArticles:{type:Boolean,default:!1},isPosts:{type:Boolean,default:!1}},computed:{...(0,a.rn)("me",["user"]),...(0,a.rn)("articlesList",["isLoading","pagesCount"]),...(0,a.Se)("articlesList",["getArticlesList"]),isUserShowSubscriptionBlock(){return this.user&&null===this.user.settings.miscSettings.digestSubscription},routeKey(){return(0,c.Z)(this.$route)},currentArticlesList(){return this.getArticlesList(this.routeKey)},currentPagesCount(){return this.pagesCount[this.routeKey]},publicationsType(){return this.isPosts?"posts":"default"}}};var d=o(83744);const u=(0,d.Z)(m,[["render",s]]),p=u},54817:(e,t,o)=>{"use strict";o.d(t,{Z:()=>K});var n=o(70942);const s={class:"tm-articles-list","data-test-id":"articles-list"},a={key:0,name:"more-news"},i=["id"],r={key:4,class:"tm-articles-list__after-article"},l={key:0,class:"tm-articles-list__after-articles"},c=["textContent"];function m(e,t,o,m,d,u){const p=(0,n.resolveComponent)("TMPlaceholder"),h=(0,n.resolveComponent)("PublicationTypeLabel"),_=(0,n.resolveComponent)("TMVoiceArticle"),g=(0,n.resolveComponent)("BlacklistPublicationPlaceholder"),T=(0,n.resolveComponent)("TMPostSnippet"),E=(0,n.resolveComponent)("TMMegapostSnippet"),S=(0,n.resolveComponent)("TMArticleSnippet"),C=(0,n.resolveComponent)("TMDataIcons"),v=(0,n.resolveComponent)("TMPagination"),k=(0,n.resolveComponent)("TMEmptyPlaceholder"),f=(0,n.resolveDirective)("hotkey");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[o.isLoading?((0,n.openBlock)(),(0,n.createBlock)(p,{key:0,modificator:"preview",times:7,type:"article"})):o.articlesList&&o.articlesList.length?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.articlesList,((t,s)=>((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:t.id},[10===s?((0,n.openBlock)(),(0,n.createElementBlock)("a",a)):(0,n.createCommentVNode)("",!0),"voice"===t.postType&&t.leadData.textHtml?((0,n.openBlock)(),(0,n.createBlock)(_,{key:1,id:t.id,article:t,class:"tm-articles-list__item","data-navigatable":"","data-test-id":"articles-list-item",tabindex:"0",onDelete:o=>e.$emit("deleteVoice",t)},{top:(0,n.withCtx)((()=>[o.showPublicationsTypes?((0,n.openBlock)(),(0,n.createBlock)(h,{key:`type_lable_${s}`,"publication-type":u.getPublicationType(t)},null,8,["publication-type"])):(0,n.createCommentVNode)("",!0)])),_:2},1032,["id","article","onDelete"])):o.replaceBlacklisted&&u.getBlacklistStatus(t)?((0,n.openBlock)(),(0,n.createBlock)(g,{key:t.id+"black_list","data-test-id":"articles-list-item",publication:t},null,8,["publication"])):((0,n.openBlock)(),(0,n.createElementBlock)("article",{key:3,id:t.id,class:(0,n.normalizeClass)(u.bem("tm-articles-list__item",{"no-padding":"post"===t.publicationType})),"data-navigatable":"","data-test-id":"articles-list-item",tabindex:"0"},["post"===t.publicationType?((0,n.openBlock)(),(0,n.createBlock)(T,{key:0,"article-view":o.articleView,"compact-view":u.postSnippetCompactView,"date-as-link":"",post:t,"show-icons":"",onDelete:o=>e.$emit("deleteArticle",t)},{top:(0,n.withCtx)((()=>[o.showPublicationsTypes?((0,n.openBlock)(),(0,n.createBlock)(h,{key:`type_lable_${s}`,"publication-type":u.getPublicationType(t)},null,8,["publication-type"])):(0,n.createCommentVNode)("",!0)])),_:2},1032,["article-view","compact-view","post","onDelete"])):"megaproject"===t.postType&&"1.0"===t.editorVersion?((0,n.openBlock)(),(0,n.createBlock)(E,{key:1,article:t,"article-view":o.articleView},null,8,["article","article-view"])):((0,n.openBlock)(),(0,n.createBlock)(S,{key:2,article:t,"article-view":o.articleView,"date-as-link":"","use-link":"",onDelete:o=>e.$emit("deleteArticle",t)},{top:(0,n.withCtx)((()=>[o.showPublicationsTypes?((0,n.openBlock)(),(0,n.createBlock)(h,{key:`type_lable_${s}`,"publication-type":u.getPublicationType(t)},null,8,["publication-type"])):(0,n.createCommentVNode)("",!0)])),_:2},1032,["article","article-view","onDelete"])),"post"!==t.publicationType?((0,n.openBlock)(),(0,n.createBlock)(C,{key:3,ref_for:!0,ref:"counters",article:t,"bookmark-module":o.bookmarkModule,"icons-list":["votes","comments","favorite","share"]},null,8,["article","bookmark-module"])):(0,n.createCommentVNode)("",!0)],10,i)),e.$slots.afterArticle&&e.$slots.afterArticle({currentPage:u.currentPage,position:s+1})?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,[(0,n.renderSlot)(e.$slots,"afterArticle",{currentPage:u.currentPage,position:s+1})])):(0,n.createCommentVNode)("",!0)],64)))),128))])),[[f,u.hotkeys,void 0,{stop:!0}]]),e.$slots.afterArticles?((0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.renderSlot)(e.$slots,"afterArticles")])):(0,n.createCommentVNode)("",!0),o.pagesCount>1&&("MEGAPROJECTS_PAGES"!==u.paginationRouteName||"MEGAPROJECTS_PAGES"===u.paginationRouteName&&e.isSuperAdmin)?((0,n.openBlock)(),(0,n.createBlock)(v,{key:1,"route-name":u.paginationRouteName,"total-pages":o.pagesCount},null,8,["route-name","total-pages"])):(0,n.createCommentVNode)("",!0)],64)):((0,n.openBlock)(),(0,n.createBlock)(k,{key:2},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{textContent:(0,n.toDisplayString)(e.msg("EMPTY_POSTS_MESSAGE"))},null,8,c)])),_:1}))])}var d=o(33907),u=o(70945);const p={class:"blacklist-article-placeholder"};function h(e,t,o,s,a,i){const r=(0,n.resolveComponent)("router-link"),l=(0,n.resolveComponent)("TMMessageInterpolation");return(0,n.openBlock)(),(0,n.createElementBlock)("div",p,[(0,n.createElementVNode)("div",null,[(0,n.createVNode)(l,{message:e.msg("BLACKLIST_PUBLICATION_PLACEHOLDER")},{author:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{to:i.profileRoute},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)(" @"+(0,n.toDisplayString)(o.publication.author.alias),1)])),_:1},8,["to"])])),_:1},8,["message"])])])}var _=o(96973);const g={name:"BlacklistArticlePlaceholder",components:{TMMessageInterpolation:_.Z},props:{publication:{type:Object,required:!0}},computed:{profileRoute(){return{name:"USER_PROFILE",params:{login:this.publication.author.alias}}}}};var T=o(83744);const E=(0,T.Z)(g,[["render",h]]),S=E;var C=o(56948),v=o(17490),k=o(16102),f=o(12475),A=o(79063),I=o(78393);const y=["href"];function b(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(i.baseClassName)},[i.helpLink?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:0,class:(0,n.normalizeClass)(i.labelClassName),href:i.helpLink,target:"_blank"},(0,n.toDisplayString)(i.label),11,y)):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,class:(0,n.normalizeClass)(i.labelClassName)},(0,n.toDisplayString)(i.label),3))],2)}var N=o(25109);const P={name:"PublicationTypeLabel",props:{publicationType:{required:!0,validator(e){return["news","post","article","voice"].includes(e)}}},computed:{label(){switch(this.publicationType){case"news":return this.msg("PUBLICATION_TYPE_NEWS");case"post":return this.msg("PUBLICATION_TYPE_POST");case"voice":return this.msg("PUBLICATION_TYPE_VOICE");default:return this.msg("PUBLICATION_TYPE_ARTICLE")}},helpLink(){return"voice"!==this.publicationType?null:`/${this.langOptions.hl}/docs/help/publications/#voice`},labelClassName(){return(0,N.P)("publication-type-label__label",{type:this.publicationType})},baseClassName(){return(0,N.P)("publication-type-label",{type:this.publicationType})}}},L=(0,T.Z)(P,[["render",b]]),B=L,O={class:"tm-voice-article"},w={class:"tm-voice-article__voice-controls"},M=["title"];function R(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgImg"),l=(0,n.resolveComponent)("router-link"),c=(0,n.resolveComponent)("TMArticleFormattedBody");return(0,n.openBlock)(),(0,n.createElementBlock)("article",O,[(0,n.renderSlot)(e.$slots,"top"),(0,n.createElementVNode)("div",w,[o.article.relatedData&&o.article.relatedData.canEdit?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,class:"tm-voice-article__voice-control tm-voice-article__edit-voice",to:{name:"VOICE_EDIT",params:{voiceId:o.article.id}}},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:"edit",size:"20"})])),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),o.article.relatedData&&o.article.relatedData.canEdit&&!o.article.timePublished?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:"tm-voice-article__voice-control tm-voice-article__delete-voice",title:e.msg("ARTICLE_DRAFT_DELETE"),onClick:t[0]||(t[0]=t=>e.$emit("delete"))},[(0,n.createVNode)(r,{id:"trash",size:"20",title:e.msg("ARTICLE_DRAFT_DELETE")},null,8,["title"])],8,M)):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)(c,{"article-text":o.article.leadData.textHtml,class:"tm-voice-article__body","should-format":!1},null,8,["article-text"])])}var V=o(57394),D=o(46206);const U={name:"TMVoiceArticle",components:{TMSvgImg:D.Z,TMArticleFormattedBody:V.Z},props:{article:{type:Object,required:!0}},emits:["delete"]},$=(0,T.Z)(U,[["render",R]]),x=$;var F=o(10976),H=o(23719),G=o(44383),W=o(67426);function Y(e){const t=`[name="${e}"]`,o=document.querySelector(t);o&&(0,W.kI)(o);const n=new MutationObserver((()=>{Array.from(document.querySelectorAll(t)).forEach((e=>{e.scrollIntoView(!0),n.disconnect()}))}));return n.observe(document.documentElement,{childList:!0,subtree:!0}),()=>n.disconnect()}const Z={name:"TMArticlesList",components:{BlacklistPublicationPlaceholder:S,PublicationTypeLabel:B,TMArticleSnippet:u.Z,TMDataIcons:C.Z,TMEmptyPlaceholder:v.Z,TMMegapostSnippet:k.Z,TMPagination:f.Z,TMPlaceholder:A.Z,TMVoiceArticle:x,TMPostSnippet:I.Z},props:{articlesList:{type:Array,required:!0},pagesCount:{type:Number,default:1},isLoading:{type:Boolean,default:!1},articleView:{type:String,default:null,validator(e){return["cards","list"].includes(e)}},bookmarkModule:{type:String,default:"articlesList"},postsCompactView:{type:Boolean,default:!1},showPublicationsTypes:{type:Boolean,default:!1},replaceBlacklisted:{type:Boolean,default:!1}},emits:["deleteVoice","deleteArticle"],data(){return{disconnectObserver:null}},computed:{...(0,d.Se)("me",["isSuperAdmin"]),...(0,d.Se)("me",["isLoggedIn"]),...(0,d.Se)("articlesList",["compactView"]),postSnippetCompactView(){return this.postsCompactView&&this.compactView},paginationRouteName(){var e;const t=-1!==(null===(e=this.$route.name)||void 0===e?void 0:e.indexOf("_PAGES"));return t?this.$route.name:`${this.$route.name}_PAGES`},hotkeys(){const{toggleArticleView:e}=this;return(0,H.c)({toggleArticleView:e})},currentPage(){return Number(this.$route.params.pageNum)||1}},mounted(){this.setLastVisitedRoute(this.$route),this.$route.hash===`#${G.dY}`&&(this.disconnectObserver=Y(G.dY))},beforeUnmount(){this.disconnectObserver&&this.disconnectObserver()},methods:{getPublicationType:F.T,bem:N.P,...(0,d.nv)("articlesList",["setLastVisitedRoute","toggleArticleView"]),getBlacklistStatus(e){var t;return!!this.isLoggedIn&&(e.isInBlacklist||(null===(t=e.author)||void 0===t?void 0:t.isInBlacklist))}}},q=(0,T.Z)(Z,[["render",m]]),K=q},69284:(e,t,o)=>{"use strict";o.d(t,{Z:()=>_});var n=o(70942);const s={class:"tm-confirmation-dialog"},a={class:"tm-confirmation-dialog__title"},i={key:0,class:"tm-confirmation-dialog__description"},r={class:"tm-confirmation-dialog__actions"};function l(e,t,o,l,c,m){const d=(0,n.resolveComponent)("TMButtonBase"),u=(0,n.resolveComponent)("TMPopupBase"),p=(0,n.resolveComponent)("TMScrollLockTransition"),h=(0,n.resolveDirective)("hotkey");return(0,n.openBlock)(),(0,n.createBlock)(p,{name:"transition-fade"},{default:(0,n.withCtx)((()=>[c.isConfirmVisible?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(u,{key:0,centered:"",onClose:m.cancel},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("h2",a,(0,n.toDisplayString)(c.title),1),c.message?((0,n.openBlock)(),(0,n.createElementBlock)("p",i,(0,n.toDisplayString)(c.message),1)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",r,[(0,n.createVNode)(d,{class:"tm-confirmation-dialog__action tm-confirmation-dialog__action_confirm","style-size":"small",type:"button",onClick:m.confirm},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(c.confirmLabel),1)])),_:1},8,["onClick"]),(0,n.createVNode)(d,{class:"tm-confirmation-dialog__action tm-confirmation-dialog__action_cancel","style-size":"small","style-type":"transparent",type:"button",onClick:m.cancel},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(c.cancelLabel),1)])),_:1},8,["onClick"])])])])),_:1},8,["onClose"])),[[h,{enter:m.confirm}]]):(0,n.createCommentVNode)("",!0)])),_:1})}var c=o(7281),m=o(91003),d=o(40248);const u={name:"TMAsyncConfirmationDialog",components:{TMButtonBase:c.Z,TMPopupBase:m["default"],TMScrollLockTransition:d.Z},data(){return{title:void 0,message:void 0,confirmLabel:void 0,cancelLabel:void 0,resolvePromise:void 0,rejectPromise:void 0,isConfirmVisible:!1}},methods:{show(e={}){const{title:t,message:o,confirmLabel:n,cancelLabel:s}=e;return this.title=t,this.message=o,this.confirmLabel=n||this.msg("CONFIRM_OK_BUTTON_LABEL"),this.cancelLabel=s||this.msg("CONFIRM_CANCEL_BUTTON_LABEL"),this.isConfirmVisible=!0,new Promise(((e,t)=>{this.resolvePromise=e,this.rejectPromise=t}))},confirm(){this.isConfirmVisible=!1,this.callResolve(!0)},cancel(){this.isConfirmVisible=!1,this.callResolve(!1)},callResolve(e){this.resolvePromise&&(this.resolvePromise(e),this.resolvePromise=void 0)},callReject(e){this.rejectPromise&&(this.rejectPromise(e),this.rejectPromise=void 0)}}};var p=o(83744);const h=(0,p.Z)(u,[["render",l]]),_=h},11493:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={class:"tm-block__header-container"},a={key:0,class:"tm-block__header-aside"},i={key:1,class:"tm-block__footer"};function r(e,t,o,r,l,c){return(0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.tag),{class:(0,n.normalizeClass)(["tm-block",c.bem("tm-block",{spacing:o.spacing,variant:o.variant})])},{default:(0,n.withCtx)((()=>[o.title||"header-aside"in e.$slots?((0,n.openBlock)(),(0,n.createElementBlock)("header",{key:0,class:(0,n.normalizeClass)(["tm-block__header",c.bem("tm-block__header",{variant:o.headerVariant})])},[(0,n.createElementVNode)("div",s,[o.title?((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.titleTag),{key:0,class:(0,n.normalizeClass)(["tm-block__title",c.bem("tm-block__title",{variant:o.titleVariant})])},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(o.title),1)])),_:1},8,["class"])):(0,n.createCommentVNode)("",!0),(0,n.renderSlot)(e.$slots,"block-settings")]),"header-aside"in e.$slots?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.renderSlot)(e.$slots,"header-aside")])):(0,n.createCommentVNode)("",!0)],2)):(0,n.createCommentVNode)("",!0),(0,n.renderSlot)(e.$slots,"body",{},(()=>[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-block__body",c.bem("tm-block__body",{variant:o.bodyVariant})])},[(0,n.renderSlot)(e.$slots,"default")],2)])),e.$slots.footer?((0,n.openBlock)(),(0,n.createElementBlock)("footer",i,[(0,n.renderSlot)(e.$slots,"footer",{},(()=>[(0,n.renderSlot)(e.$slots,"default")]))])):(0,n.createCommentVNode)("",!0)])),_:3},8,["class"])}var l=o(25109),c=o(99691);const m={name:"TMBlock",props:{tag:{type:String,default:"section"},title:{type:String,default:null},titleTag:{type:String,default:"h2"},headerVariant:{type:String,default:null,validator:(0,c.H)(["borderless"])},titleVariant:{type:String,default:null,validator:(0,c.H)(["large"])},bodyVariant:{type:String,default:null,validator:(0,c.H)(["balanced","condensed","condensed-slim","stucked","island","equal"])},spacing:{type:String,default:"bottom",validator:(0,c.H)(["top","bottom","around","none"])},variant:{type:String,default:null,validator:(0,c.H)(["border-bottom"])}},methods:{bem:l.P}};var d=o(83744);const u=(0,d.Z)(m,[["render",r]]),p=u},16586:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s=["disabled","title"],a=["title"];function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMCircleLoader"),m=(0,n.resolveComponent)("TMSvgIcon");return(0,n.openBlock)(),(0,n.createElementBlock)("button",{class:"bookmarks-button",disabled:o.isProcessing,title:l.buttonTitle,type:"button",onClick:t[0]||(t[0]=t=>e.$emit("toggleBookmark",t))},[o.isProcessing?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"circle-height":10,"circle-width":10,class:"bookmarks-button__loader","data-test-id":"bookmarks-button-loader",height:24,width:24})):((0,n.openBlock)(),(0,n.createBlock)(m,{key:1,id:"counter-favorite",class:(0,n.normalizeClass)(["bookmarks-button__icon",{"bookmarks-button__icon_highlighted":o.isBookmarked}]),size:"24",tag:"span",title:l.iconTitleAttr},null,8,["class","title"])),o.isCounterShown?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:2,class:(0,n.normalizeClass)(["bookmarks-button__counter",{"bookmarks-button__counter_highlighted":o.isBookmarked}]),title:e.msg("DATA_ICONS_BOOKMARKS_COUNT")},(0,n.toDisplayString)(o.bookmarksCount),11,a)):(0,n.createCommentVNode)("",!0)],8,s)}var r=o(16643),l=o(2095);const c={name:"TMBookmarkButton",components:{TMCircleLoader:r.Z,TMSvgIcon:l.Z},props:{bookmarksCount:{type:Number,default:0},isBookmarked:Boolean,isProcessing:Boolean,isCounterShown:{type:Boolean,default:!0}},emits:["toggle-bookmark","toggleBookmark"],computed:{iconTitleAttr(){return this.isBookmarked?this.msg("DATA_ICONS_REMOVE_FROM_BOOKMARKS"):this.msg("DATA_ICONS_ADD_TO_BOOKMARKS")},buttonTitle(){return this.isBookmarked?this.msg("DATA_ICONS_REMOVE_FROM_BOOKMARKS"):this.msg("DATA_ICONS_ADD_TO_BOOKMARKS")}}};var m=o(83744);const d=(0,m.Z)(c,[["render",i]]),u=d},62e3:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s={key:0,class:"tm-bordered-card__type"};function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.tag),{class:"tm-bordered-card"},{default:(0,n.withCtx)((()=>[r.typeTitle?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,(0,n.toDisplayString)(r.typeTitle),1)):(0,n.createCommentVNode)("",!0),(0,n.renderSlot)(e.$slots,"default")])),_:3})}var i=o(99691);const r={name:"TMBorderedCard",props:{tag:{type:String,default:"div"},type:{type:String,default:null,validator:(0,i.H)(["vacancy","event"])}},computed:{typeTitle(){switch(this.type){case"event":return this.msg("COMPANY_ADMIN_WIDGETS_MULTI_WIDGET_TYPE_EVENT");case"vacancy":return this.msg("COMPANY_ADMIN_WIDGETS_MULTI_WIDGET_TYPE_VACANCY");default:return null}}}};var l=o(83744);const c=(0,l.Z)(r,[["render",a]]),m=c},37717:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={ref:"wrapper",class:"tm-bottom-sheet"},a=["textContent"];function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMSvgImg"),m=(0,n.resolveComponent)("TMOverlay");return(0,n.openBlock)(),(0,n.createBlock)(m,{onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",s,[o.noCloseButton?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:(0,n.normalizeClass)(["tm-bottom-sheet__close",l.bem("tm-bottom-sheet__close",{card:o.card})]),type:"button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,n.createVNode)(c,{id:"close-rounded",class:"tm-bottom-sheet__close-icon",size:"24"})],2)),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-bottom-sheet__header",l.bem("tm-bottom-sheet__header",{card:o.card})])},[o.title?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"tm-bottom-sheet__title",textContent:(0,n.toDisplayString)(o.title)},null,8,a)):(0,n.createCommentVNode)("",!0)],2),e.$slots.default?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:(0,n.normalizeClass)(["tm-bottom-sheet__content",l.bem("tm-bottom-sheet__content",{card:o.card})])},[(0,n.renderSlot)(e.$slots,"default")],2)):(0,n.createCommentVNode)("",!0),(0,n.renderSlot)(e.$slots,"body")],512)])),_:3})}var r=o(6774),l=o(46206),c=o(25109);const m={name:"TMBottomSheet",components:{TMOverlay:r.Z,TMSvgImg:l.Z},props:{title:{type:String,default:null},card:Boolean,noCloseButton:Boolean},emits:["close"],methods:{bem:c.P}};var d=o(83744);const u=(0,d.Z)(m,[["render",i]]),p=u},7281:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s=["disabled"];function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createElementBlock)("button",(0,n.mergeProps)({class:["btn",{btn_loading:o.isLoading},r.getClassOfType(),r.getClassOfSize()],disabled:o.disabled||null,type:"button"},r.attrsWithoutClass,{onClick:t[0]||(t[0]=(...e)=>r.onClick&&r.onClick(...e))}),[(0,n.renderSlot)(e.$slots,"default")],16,s)}const i={solid:"btn_solid",transparent:"btn_transparent"},r={small:"btn_small",middle:"btn_middle",large:"btn_large"},l={name:"TMButtonBase",props:{styleType:{default:"solid",type:String},styleSize:{default:"small",type:String},disabled:{default:!1,type:Boolean},isLoading:{default:!1,type:Boolean}},emits:["click"],computed:{attrsWithoutClass(){const{class:e,...t}=this.$attrs;return t}},methods:{onClick(){this.disabled||this.$emit("click")},getClassOfType(){return i[this.styleType]||"btn_solid"},getClassOfSize(){return r[this.styleSize]||"btn_small"}}};var c=o(83744);const m=(0,c.Z)(l,[["render",a]]),d=m},79362:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s={key:0,class:"tm-button-follow__unfollow"};function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"tm-button-follow",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[e.computedSubscribed?((0,n.openBlock)(),(0,n.createElementBlock)("span",s," × ")):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(["tm-button-follow__button tm-button-follow__button_big",e.className]),"data-test-id":"follow-button",type:"button"},(0,n.toDisplayString)(e.buttonText),3)])}var i=o(33907);const r={name:"TMButtonFollow",props:{useFollowLabel:Boolean,subscribed:Boolean,canSubscribe:{type:Boolean,default:!0}},emits:["onToggle"],data(){return{computedSubscribed:this.subscribed}},computed:{...(0,i.Se)("i18n",["msg"]),i18n(){return{subscribe:this.useFollowLabel?this.msg("PROFILE_ACTION_FOLLOW"):this.msg("PROFILE_ACTION_SUBSCRIBE"),subscribed:this.useFollowLabel?this.msg("PROFILE_ACTION_FOLLOWING"):this.msg("PROFILE_ACTION_SUBSCRIBED")}},buttonText(){return this.computedSubscribed?this.i18n.subscribed:this.i18n.subscribe},className(){return{"tm-button-follow__button_is-active":this.computedSubscribed}}},watch:{subscribed(e){this.computedSubscribed=e}},methods:{onClick(e){this.canSubscribe&&(this.computedSubscribed=!this.computedSubscribed),this.$emit("onToggle",e)}}};var l=o(83744);const c=(0,l.Z)(r,[["render",a]]),m=c},79355:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMButtonBase");return(0,n.openBlock)(),(0,n.createBlock)(r,(0,n.mergeProps)(i.attrsWithoutClass,{class:i.bem("tm-button",{color:o.color}),disabled:o.disabled,"is-loading":o.isLoading,"style-size":o.styleSize,"style-type":o.styleType,onClick:t[0]||(t[0]=t=>e.$emit("click",t))}),{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},16,["class","disabled","is-loading","style-size","style-type"])}var a=o(7281),i=o(25109);const r={name:"TMButton",components:{TMButtonBase:a.Z},props:{styleType:{default:"solid",type:String,validator:e=>["solid","transparent"].includes(e)},styleSize:{default:"small",type:String,validator:e=>["small","middle","large"].includes(e)},disabled:{default:!1,type:Boolean},isLoading:{default:!1,type:Boolean},color:{type:String,default:"horizon",validator:e=>["horizon","fuzzy-wuzzy-brown","christi","desert-storm"].includes(e)}},emits:["click"],computed:{attrsWithoutClass(){const{class:e,...t}=this.$attrs;return t}},methods:{bem:i.P}};var l=o(83744);const c=(0,l.Z)(r,[["render",s]]),m=c},16643:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var n=o(70942);function s(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"lds-ring",style:(0,n.normalizeStyle)(i.styleVars)},[(0,n.createElementVNode)("div",{style:(0,n.normalizeStyle)(i.styleVars)},null,4),(0,n.createElementVNode)("div",{style:(0,n.normalizeStyle)(i.styleVars)},null,4),(0,n.createElementVNode)("div",{style:(0,n.normalizeStyle)(i.styleVars)},null,4),(0,n.createElementVNode)("div",{style:(0,n.normalizeStyle)(i.styleVars)},null,4)],4)}const a={name:"TMCircleLoader",props:{width:{type:Number,default:15},height:{type:Number,default:15},color:{type:String,default:"#bbcdd6"},circleWidth:{type:Number,default:15},circleHeight:{type:Number,default:15}},computed:{styleVars(){return{"--circle-loader-width":`${this.width}px`,"--circle-loader-height":`${this.height}px`,"--circle-loader-circle-width":`${this.circleWidth}px`,"--circle-loader-circle-height":`${this.circleHeight}px`,"--circle-loader-circle-border-color":`${this.color}`}}}};var i=o(83744);const r=(0,i.Z)(a,[["render",s]]),l=r},45353:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var n=o(70942);const s=["data-comment-popup"],a={key:2};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMVotesLever"),m=(0,n.resolveComponent)("TMVotesMeter"),d=(0,n.resolveComponent)("TMArticleCommentsLink"),u=(0,n.resolveComponent)("TMBookmarksButton"),p=(0,n.resolveComponent)("TMSvgImg");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(e.bem("tm-comment-footer",{"is-pinned":e.isPinnedSection}))},[e.comment.isReadonly?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[e.hasMounted&&e.showVotesLever&&e.voteAction?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,appearance:"comment",class:"tm-comment-footer__votes-switcher","is-loading":e.isLoadingVote,"is-plusified":!0,"no-votes-title":e.msg("COMMENT_NOT_RATED"),score:e.comment.score,"vote-state":e.comment.vote&&e.comment.vote.value||0,"votes-count":e.comment.votesCount,onDownvote:t[0]||(t[0]=t=>e.onVote("down",t)),onOpenCommentHint:t[1]||(t[1]=t=>e.openCommentRatingHint(t)),onUpvote:t[2]||(t[2]=t=>e.onVote("up",t))},null,8,["is-loading","no-votes-title","score","vote-state","votes-count"])):((0,n.openBlock)(),(0,n.createBlock)(m,{key:1,ref:"votesMeter",appearance:"comment",class:"tm-comment-footer__votes-meter","no-votes-title":e.msg("COMMENT_NOT_RATED"),score:e.comment.score||0,"vote-state":e.hasMounted&&e.comment.vote&&e.comment.vote.value||0,"votes-count":e.comment.votesCount,onOpenCommentHint:t[3]||(t[3]=t=>e.openCommentRatingHint(t))},null,8,["no-votes-title","score","vote-state","votes-count"])),(0,n.renderSlot)(e.$slots,"button",{},(()=>[(0,n.createVNode)(d,{article:e.publication,class:"tm-comment-footer__button tm-comment-footer__button","comment-id":e.comment.id},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("COMMENT_ACTION_LOOK")),1)])),_:1},8,["article","comment-id"])])),e.favoriteAction&&!e.isPost?((0,n.openBlock)(),(0,n.createBlock)(u,{key:2,ref:"favoriteButton",class:"tm-comment-footer__button tm-comment-footer__button_with-icon","is-bookmarked":!!e.hasMounted&&e.comment.isFavorite,"is-counter-shown":!1,"is-processing":e.isLoadingFavorite,onToggleBookmark:e.favorite},null,8,["is-bookmarked","is-processing","onToggleBookmark"])):(0,n.createCommentVNode)("",!0)],64)),e.popupToggleVisible?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,ref:"popupButton",class:"tm-comment__button tm-comment__button_with-icon","data-comment-popup":e.comment.id,onClick:t[4]||(t[4]=t=>e.$emit("openPopup"))},[(0,n.createVNode)(p,{id:"dots",class:"tm-comment__icon tm-comment__icon_dots"})],8,s)):((0,n.openBlock)(),(0,n.createElementBlock)("div",a)),e.adminControlsVisible?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:3},[(0,n.createElementVNode)("button",{class:"tm-comment-footer__button",type:"button",onClick:t[5]||(t[5]=t=>e.$emit("moderate",!0))},(0,n.toDisplayString)(e.msg("COMMENT_ACTION_APPROVE")),1),(0,n.createElementVNode)("button",{class:"tm-comment-footer__button",type:"button",onClick:t[6]||(t[6]=t=>e.$emit("moderate",!1))},(0,n.toDisplayString)(e.msg("COMMENT_ACTION_REJECT")),1)],64)):(0,n.createCommentVNode)("",!0)],2)}var r=o(33907),l=o(19504),c=o(16586),m=o(46206),d=o(34733),u=o(70939),p=o(51779),h=o(25109),_=o(52767),g=o(87934),T=o(19913),E=o(73313);const S=(0,n.defineAsyncComponent)((()=>o.e(4463).then(o.bind(o,54463)))),C={name:"TMCommentFooter",components:{TMBookmarksButton:c.Z,TMSvgImg:m.Z,TMVotesLever:d.Z,TMVotesMeter:u.Z,TMWarningIcon:S,TMArticleCommentsLink:l.Z},props:{comment:{type:Object,required:!0,validator:p.gI},voteAction:{type:Function,default:null},favoriteAction:{type:Function,default:null},isPinnedSection:{type:Boolean,default:!1},popupToggleVisible:Boolean,showModerationControls:Boolean},emits:["openPopup","moderate"],data(){return{isLoadingFavorite:!1,isLoadingVote:!1,hasMounted:!1}},computed:{...(0,r.Se)("me",["isLoggedIn","isSuperAdmin","userAlias"]),...(0,r.Se)("articlesList",["getArticleById"]),...(0,r.rn)("me",["user"]),publicationInStore(){return this.getArticleById(this.publicationId)},publication(){return this.publicationInStore||this.comment.post||this.comment.publication},voteStateStr(){return(0,g.j)(this.comment.vote.value)},isItsMyComment(){var e;return this.isLoggedIn&&(null===(e=this.comment.author)||void 0===e?void 0:e.alias)===this.userAlias},isAlreadyVoted(){var e;return null===(e=this.comment.vote)||void 0===e?void 0:e.value},notEnoughChargeOrKarmaForMinus(){return!this.voteMinus.isKarmaEnough||!this.voteMinus.isChargeEnough},showVotesLever(){var e,t;return!this.isLoggedIn||!this.isItsMyComment&&!this.isAlreadyVoted&&(!(null!==(e=this.comment.vote)&&void 0!==e&&e.isCanVote||!this.notEnoughChargeOrKarmaForMinus)||(null===(t=this.comment.vote)||void 0===t?void 0:t.isCanVote)&&this.voteAction)},adminControlsVisible(){const{isReadonly:e,isAuthor:t}=this.comment;return this.hasMounted&&e&&!t&&this.showModerationControls},isPost(){return!!(0,E.E)(this.$route.name)||(0,E.o)(this.comment.publication)},publicationId(){const e=this.$route.params.id;return e||(this.comment.publication?this.comment.publication.id:this.comment.post.id)},votePlus(){return this.comment.votePlus||{}},voteMinus(){return this.comment.voteMinus||{}},canVotePlus(){return this.votePlus.canVote},canVoteMinus(){return this.voteMinus.canVote}},mounted(){this.hasMounted=!0},methods:{openCommentRatingHint(e){const t={target:e,offset:[-34,11],messageKey:"COMMENT_GUEST_RATING_HINT",eventLabel:"hint_reg_comment_raiting"};this.$emit("openCommentHint",{props:t})},getVotingRestrictionMessage(e){return this.isLoggedIn?"up"!==e||this.canVotePlus&&this.votePlus.isKarmaEnough?("up"!==e||this.canVotePlus&&this.votePlus.isChargeEnough)&&("down"!==e||this.canVoteMinus||this.voteMinus.isChargeEnough||!this.voteMinus.isKarmaEnough)?!("down"!==e||this.canVoteMinus&&!this.notEnoughChargeOrKarmaForMinus)&&"KARMA_TOO_LOW_FOR_ACTION":"CHARGE_TOO_LOW_FOR_ACTION":"KARMA_TOO_LOW_FOR_ACTION":"COMMENT_GUEST_RATING_HINT"},openCommentHint(e,t){if(!e)return;const o={target:t,offset:[-34,8],messageKey:e,eventLabel:"hint_reg_comment_raiting",hasRegistrationLink:!this.isLoggedIn};this.$emit("openCommentHint",{props:o})},onVote(e,t){const o="up"===e?"plus":"minus",n=this.publicationInStore?{publication_type:(0,T.Lq)(this.publicationInStore)}:{};(0,T.IZ)(`vote_comment_${o}`,n);const s=this.getVotingRestrictionMessage(e);s?this.openCommentHint(s,t):this.runVoteAction(e,t)},runVoteAction(e,t){this.isLoadingVote=!0,this.voteAction({commentId:this.comment.id,direction:e}).catch((e=>{const o=(0,_.zg)(e);"VOTER_CHARGE"!==o?"string"===typeof o&&o.startsWith("VOTER_KARMA_LIMIT")?this.openCommentHint("KARMA_TOO_LOW_FOR_ACTION",t):this.$toast(e.message):this.openCommentHint("CHARGE_TOO_LOW_FOR_ACTION",t)})).finally((()=>{this.isLoadingVote=!1}))},favorite(e){if(!this.isLoggedIn){const t={target:e.target,offset:[-34,6],messageKey:"COMMENT_GUEST_FAVORITE_HINT",eventLabel:"hint_reg_save_com_go"};return void this.$emit("openCommentHint",{props:t,clickEvent:"hint_reg_save_com_open"})}const t=(new Date).getTime(),o=1e3;this.isLoadingFavorite=!0;const{id:n,isFavorite:s}=this.comment;this.favoriteAction({publicationId:this.publicationId,commentId:n,isFavorite:!s,isPost:this.isPost}).then((()=>{const e=(new Date).getTime()-t,n=e<o?o-e:0;setTimeout((()=>{this.isLoadingFavorite=!1}),n)}))},bem:h.P}};var v=o(83744);const k=(0,v.Z)(C,[["render",i]]),f=k},74370:(e,t,o)=>{"use strict";o.d(t,{Z:()=>K});var n=o(70942);const s={class:"tm-comment","data-gallery-root":""},a={class:"tm-comment__header-inner"},i=["href"],r={key:0,ref:"commentButtons",class:"tm-comment__buttons"},l=["innerHTML"];function c(e,t,o,c,m,d){const u=(0,n.resolveComponent)("TMDatetime"),p=(0,n.resolveComponent)("TMUserInfo"),h=(0,n.resolveComponent)("TMSvgImg"),_=(0,n.resolveComponent)("TMUserInfoPopup"),g=(0,n.resolveComponent)("TMGallery");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[e.authorAliasPresent?((0,n.openBlock)(),(0,n.createElementBlock)("header",{key:0,ref:"commentHeader",class:(0,n.normalizeClass)(["tm-comment__header",e.hasMounted?e.className:null]),"data-comment-header":"",tabindex:"-1"},[(0,n.createElementVNode)("div",a,[(0,n.createVNode)(p,{ref:"userInfo",author:e.comment.author,avatar:e.comment.author.avatarUrl,class:"tm-comment__user-info","real-author":e.comment.realAuthor,onMouseenter:e.onUserMouseenter,onMouseleave:e.onUserMouseleave},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"comment-link",{},(()=>[(0,n.createElementVNode)("a",{class:"tm-comment__datetime",href:`#comment_${e.comment.id}`},[(0,n.createVNode)(u,{date:new Date(e.comment.timePublished),"is-article-format":""},null,8,["date"])],8,i)]))])),_:3},8,["author","avatar","real-author","onMouseenter","onMouseleave"])]),e.isCommentControlsShown&&!e.isPinnedSection?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,[e.comment.parentId?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,ref:"scrollToParentButton",class:"tm-comment__button tm-comment__button_with-icon",type:"button",onClick:t[0]||(t[0]=()=>{e.scrollTo(`#comment_${e.comment.parentId}`),e.setScrollParents({comment:e.comment})})},[(0,n.createVNode)(h,{id:"small-arrow",class:"tm-comment__icon",title:e.msg("GO_TO_PARENT_COMMENT")},null,8,["title"])],512)):(0,n.createCommentVNode)("",!0),e.getScrollParents&&e.getScrollParents[e.comment.id]?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,ref:"scrollToChildButton",class:"tm-comment__button tm-comment__button_with-icon",type:"button",onClick:t[1]||(t[1]=t=>e.scrollTo(`#comment_${e.getScrollParents[e.comment.id]}`))},[(0,n.createVNode)(h,{id:"small-arrow",class:"tm-comment__icon tm-comment__icon_rotated",title:e.msg("GO_TO_CHILD_COMMENT")},null,8,["title"])],512)):(0,n.createCommentVNode)("",!0)],512)):(0,n.createCommentVNode)("",!0)],2)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{ref:"commentBody",class:(0,n.normalizeClass)(["tm-comment__body-content",{"tm-comment__body-content_muted":e.opacity,"tm-comment__body-content_empty":!e.authorAliasPresent,"tm-comment__body-content_v2":e.comment.editorVersion>1}]),style:(0,n.normalizeStyle)(e.opacity),innerHTML:e.comment.message},null,14,l),(0,n.createVNode)(n.Transition,{name:"transition-fade"},{default:(0,n.withCtx)((()=>[e.showUserInfoPopup?((0,n.openBlock)(),(0,n.createBlock)(_,{key:0,ref:"userInfoPopup",root:e.$refs.userInfo.$el,"user-alias":e.comment.realAuthor?e.comment.realAuthor.alias:e.comment.author.alias,onCloseVotesDialog:t[2]||(t[2]=t=>e.votesDialogIsOpen=!1),onOpenVotesDialog:t[3]||(t[3]=t=>e.votesDialogIsOpen=!0)},null,8,["root","user-alias"])):(0,n.createCommentVNode)("",!0)])),_:1}),e.galleryImages.length?((0,n.openBlock)(),(0,n.createBlock)(g,{key:1,ref:"commentGallary",class:"tm-comment__gallery","images-list":e.galleryImages},null,8,["images-list"])):(0,n.createCommentVNode)("",!0)])}var m=o(33907),d=o(91296),u=o.n(d),p=o(93096),h=o.n(p),_=o(19504),g=o(63599),T=o(46206),E=o(41461);const S={key:0,class:"user-info-popup__wrapper"},C={class:"user-info-popup__wrapper"},v={class:"user-info-popup__footer"};function k(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMUserInfoPopupPlaceholder"),l=(0,n.resolveComponent)("TMUserCard"),c=(0,n.resolveComponent)("TMDescriptionList"),m=(0,n.resolveComponent)("TMPopover");return(0,n.openBlock)(),(0,n.createBlock)(m,{class:"user-info-popup",root:o.root},{default:(0,n.withCtx)((()=>[a.isLoading||!i.user?((0,n.openBlock)(),(0,n.createElementBlock)("div",S,[(0,n.createVNode)(r)])):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createElementVNode)("div",C,[(0,n.createVNode)(l,{"avatar-size":40,"is-donate-button-visible":"",user:i.user,variant:"popover",onCloseVotesDialog:t[0]||(t[0]=t=>e.$emit("closeVotesDialog")),onOpenVotesDialog:t[1]||(t[1]=t=>e.$emit("openVotesDialog"))},null,8,["user"])]),(0,n.createElementVNode)("div",v,[(0,n.createVNode)(c,{class:"user-info-popup__stat",title:`${e.msg("PROFILE_POSTS")}:`,variant:"inline"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(i.user.counterStats.postCount),1)])),_:1},8,["title"]),(0,n.createVNode)(c,{class:"user-info-popup__stat",title:`${e.msg("PROFILE_COMMENTS")}:`,variant:"inline"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(i.user.counterStats.commentCount),1)])),_:1},8,["title"])])],64))])),_:1},8,["root"])}var f=o(44446),A=o(41700),I=o(46898);const y={class:"user-info-popup-placeholder"},b=(0,n.createElementVNode)("div",{class:"user-info-popup-placeholder__user-profile-data"},[(0,n.createElementVNode)("div",{class:"user-info-popup-placeholder__category-avatar"})],-1),N={class:"user-info-popup-placeholder__category-info"};function P(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",y,[b,(0,n.createElementVNode)("div",N,[(0,n.createElementVNode)("span",{class:"user-info-popup-placeholder__category-name",style:(0,n.normalizeStyle)(`width: ${i.getRandomNumberFromRange(80,150)}px`)},null,4),(0,n.createElementVNode)("div",{class:"user-info-popup-placeholder__category-description",style:(0,n.normalizeStyle)(`width: ${i.getRandomNumberFromRange(30,210)}px`)},null,4)])])}var L=o(15891);const B={name:"TMUserInfoPopupPlaceholder",methods:{getRandomNumberFromRange:L.r}};var O=o(83744);const w=(0,O.Z)(B,[["render",P]]),M=w,R={name:"TMUserInfoPopup",components:{TMUserInfoPopupPlaceholder:M,TMDescriptionList:f.Z,TMUserCard:I.Z,TMPopover:A.Z},props:{userAlias:{type:[Number,String],required:!0},root:{type:null,required:!0}},emits:["closeVotesDialog","openVotesDialog"],data(){return{isLoading:!0}},computed:{...(0,m.Se)("users",["getUserByAlias"]),user(){return this.getUserByAlias(this.userAlias)}},created(){this.loadUserInfo({alias:this.userAlias}).then((()=>{this.isLoading=!1}))},methods:{...(0,m.nv)("users",["loadUserInfo"])}},V=(0,O.Z)(R,[["render",k]]),D=V;var U=o(51779),$=o(85993),x=o(4788),F=o(75846),H=o(29587),G=o(44383),W=o(87575);const Y=(0,n.defineAsyncComponent)((()=>o.e(5121).then(o.bind(o,5507)))),Z={name:"TMComment",components:{TMGallery:Y,TMSvgImg:T.Z,TMUserInfo:E.Z,TMArticleCommentsLink:_.Z,TMUserInfoPopup:D,TMDatetime:g.Z},props:{comment:{type:Object,required:!0,validator:U.gI},isCommentControlsShown:{type:Boolean,default:!0},shouldDisplayStatus:{type:Boolean,default:!0},userPopoverEnabled:Boolean,isPinnedSection:{type:Boolean,default:!1}},data(){return{userInfoPopupVisible:!1,userInfoTimer:null,shouldClosePopup:!1,galleryImages:[],hasMounted:!1,disconnectObserver:null,disposeLinks:null,votesDialogIsOpen:!1}},computed:{...(0,m.Se)("comments",["getScrollParents"]),...(0,m.Se)("i18n",["langOptions"]),showUserInfoPopup(){return!!this.votesDialogIsOpen||this.userPopoverEnabled&&this.userInfoPopupVisible},className(){return this.shouldDisplayStatus?{"tm-comment__header_is-by-op":this.comment.isPostAuthor,"tm-comment__header_is-mine":this.comment.isAuthor,"tm-comment__header_is-new":this.comment.isNew,"tm-comment__header_is-readonly":this.comment.isReadonly,"tm-comment__header_is-deleted":this.comment.isSuspended}:null},opacity(){if(this.comment.score>=0)return null;const e=90,t=10*this.comment.score,o=Math.abs(Math.max(-50,t));return{opacity:(e-o)/100}},handleMouseMoveThrottled(){return h()(this.handleMouseMove,200)},closeUserInfoPopupDebounced(){return u()((function(){this.shouldClosePopup&&this.closeUserInfoPopup()}),500)},authorAliasPresent(){var e;return null===(e=this.comment.author)||void 0===e?void 0:e.alias}},watch:{shouldClosePopup(e){e&&this.closeUserInfoPopupDebounced()},comment(e,t){e.message!==t.message&&this.$nextTick((()=>{(0,x.y)(this.$el)}))}},mounted(){this.hasMounted=!0,this.galleryImages=(0,H.N)(this.$refs.commentBody),(0,x.y)(this.$el),this.disconnectObserver=(0,$.O)(this.$refs.commentBody,this.msg("ERROR_IMAGE_WAS_NOT_LOADED")),this.disposeLinks=(0,F.W)(this.$el,((e,t)=>{e.preventDefault(),this.$router.push({path:t.pathname})}))},beforeUnmount(){this.disconnectObserver(),this.disposeLinks(),document.removeEventListener("mousemove",this.handleMouseMoveThrottled)},methods:{...(0,m.nv)("comments",["setScrollParents"]),scrollTo(e){(0,W.fo)(e),(0,G.YO)(e)},openUserInfoPopup(){this.userPopoverEnabled&&!this.userInfoPopupVisible&&(this.userInfoPopupVisible=!0,document.addEventListener("mousemove",this.handleMouseMoveThrottled))},closeUserInfoPopup(){this.userPopoverEnabled&&(this.userInfoPopupVisible=!1,this.shouldClosePopup=!1,document.removeEventListener("mousemove",this.handleMouseMoveThrottled))},onUserMouseenter(){this.userPopoverEnabled&&(clearTimeout(this.userInfoTimer),this.userInfoPopupVisible||(this.userInfoTimer=setTimeout(this.openUserInfoPopup,800)))},onUserMouseleave(){this.userPopoverEnabled&&!this.userInfoPopupVisible&&clearTimeout(this.userInfoTimer)},handleMouseMove({clientX:e,clientY:t}){if(!this.$refs.userInfoPopup)return;const o=document.elementFromPoint(e,t),n=this.$refs.userInfoPopup.$el,s=this.$refs.userInfo.$el;this.shouldClosePopup=![n,s].some((e=>e.contains(o)))}}},q=(0,O.Z)(Z,[["render",c]]),K=q},46901:(e,t,o)=>{"use strict";o.d(t,{Z:()=>_});var n=o(70942);const s={class:"tm-comments-wrapper"},a={class:"tm-comments-wrapper__wrapper"},i={class:"tm-comments-wrapper__header"},r={class:"tm-comments-wrapper__title"},l={key:0,class:"tm-comments-wrapper__comments-count"},c={key:0,class:"tm-comments-wrapper__header-aside"},m={key:0,class:"tm-comments-wrapper__inner"};function d(e,t,o,d,u,p){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("header",i,[(0,n.createElementVNode)("h2",r,[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_COMMENTS_TITLE"))+" ",1),o.commentsCount?((0,n.openBlock)(),(0,n.createElementBlock)("span",l,(0,n.toDisplayString)(o.commentsCount),1)):(0,n.createCommentVNode)("",!0)]),e.$slots.headerAside?((0,n.openBlock)(),(0,n.createElementBlock)("div",c,[(0,n.renderSlot)(e.$slots,"headerAside")])):(0,n.createCommentVNode)("",!0)]),e.$slots.default?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[(0,n.renderSlot)(e.$slots,"default")])):(0,n.createCommentVNode)("",!0)]),(0,n.renderSlot)(e.$slots,"footer")])}const u={name:"TMCommentsWrapper",props:{commentsCount:{type:[String,Number],default:null}}};var p=o(83744);const h=(0,p.Z)(u,[["render",d]]),_=h},63386:(e,t,o)=>{"use strict";o.d(t,{Z:()=>nt});var n=o(70942);const s={key:0,class:"tm-comments__reply-form"},a={class:"tm-comments__reply-form-wrapper"},i=["title"],r={key:1,ref:"commentsList",class:"tm-comments__tree","data-comments-list":""},l={key:0,class:"tm-comments__reply-form"},c={class:"tm-comments__reply-form-wrapper"},m=["title"],d={key:0},u={key:1},p={key:1,class:"tm-comments__reply-form"},h={class:"tm-comments__reply-form-wrapper"},_=["title"],g={key:2,class:"tm-comments__empty"},T=["innerHTML"],E=["href"],S=["innerHTML"];function C(e,t,o,C,v,k){const f=(0,n.resolveComponent)("TMPlaceholder"),A=(0,n.resolveComponent)("TMSvgImg"),I=(0,n.resolveComponent)("TMCommentEditForm"),y=(0,n.resolveComponent)("TMPinnedComments"),b=(0,n.resolveComponent)("TMNotice"),N=(0,n.resolveComponent)("TMCommentReplyForm"),P=(0,n.resolveComponent)("TMCommentThread"),L=(0,n.resolveComponent)("RestrictionHint"),B=(0,n.resolveComponent)("TMComplaintForm"),O=(0,n.resolveComponent)("TMPopup"),w=(0,n.resolveComponent)("TMCommentsWrapper");return(0,n.openBlock)(),(0,n.createBlock)(w,{"comments-count":o.commentsCount},(0,n.createSlots)({headerAside:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"headerAside")])),default:(0,n.withCtx)((()=>[o.isLoading?((0,n.openBlock)(),(0,n.createBlock)(f,{key:0,times:3,type:"comment"})):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.renderSlot)(e.$slots,"body"),o.pinnedComments&&o.pinnedComments.length?((0,n.openBlock)(),(0,n.createBlock)(y,{key:0,"can-pin-unpin-comment":o.canPinUnpinComment,"complaint-action":o.complaintAction,"favorite-action":o.favoriteAction,"get-comment-link":o.getCommentLink,"pinned-comments":o.pinnedComments,"show-moderation-controls":o.showModerationControls,"vote-action":o.voteAction,onCommentDelete:t[1]||(t[1]=t=>e.$emit("commentDelete",t)),onExpandLimiter:t[2]||(t[2]=t=>e.$emit("expandLimiter",t)),onModerate:k.moderateReadAndComment,onOpenCommentHint:k.toggleCommentHint,onPinUnpinComment:t[3]||(t[3]=t=>e.$emit("pinUnpinComment",t)),onShowComplaintForm:k.showComplaintForm,onShowEditForm:k.showEditForm},(0,n.createSlots)({_:2},[v.formTarget&&v.formTarget.isPinnedSection?{name:"footer",fn:(0,n.withCtx)((({comment:r})=>[v.formTarget.commentId===r.id&&"edit"===v.formTarget.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("button",{class:"tm-comments__close-button",title:e.msg("CLOSE"),onClick:t[0]||(t[0]=e=>k.closeForm())},[(0,n.createVNode)(A,{id:"close",size:12})],8,i),(0,n.createVNode)(I,{comment:r,"edit-action":k.editAction,"is-post":o.isPost,"post-id":k.postId,onClose:k.closeForm,onDelete:e=>k.onDeleteComment(r.id)},null,8,["comment","edit-action","is-post","post-id","onClose","onDelete"])])])):(0,n.createCommentVNode)("",!0)])),key:"0"}:void 0]),1032,["can-pin-unpin-comment","complaint-action","favorite-action","get-comment-link","pinned-comments","show-moderation-controls","vote-action","onModerate","onOpenCommentHint","onShowComplaintForm","onShowEditForm"])):(0,n.createCommentVNode)("",!0),o.comments&&o.comments.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.comments,(s=>((0,n.openBlock)(),(0,n.createBlock)(P,{key:s.id,"can-pin-unpin-comment":o.canPinUnpinComment,comment:s,"comment-component":o.commentComponent,"complaint-action":o.complaintAction,"favorite-action":o.favoriteAction,"get-comment-link":o.getCommentLink,"show-moderation-controls":o.showModerationControls,"vote-action":o.voteAction,onModerate:k.moderateReadAndComment,onOpenCommentHint:k.toggleCommentHint,onPinUnpinComment:t[6]||(t[6]=t=>e.$emit("pinUnpinComment",t)),onShowComplaintForm:k.showComplaintForm,onShowEditForm:k.showEditForm,onShowReplyForm:k.showReplyForm},(0,n.createSlots)({_:2},[v.formTarget&&!v.formTarget.isPinnedSection?{name:"footer",fn:(0,n.withCtx)((({comment:s})=>[v.formTarget.commentId===s.id?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},["reply"===v.formTarget.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("button",{class:"tm-comments__close-button",title:e.msg("CLOSE"),onClick:t[4]||(t[4]=e=>k.closeForm())},[(0,n.createVNode)(A,{id:"close",size:12})],8,m),k.showNoticeInCommentsThread?((0,n.openBlock)(),(0,n.createBlock)(b,{key:0,type:"negative"},{default:(0,n.withCtx)((()=>[e.getCommentAccess.cantCommentReason?((0,n.openBlock)(),(0,n.createElementBlock)("span",d,(0,n.toDisplayString)(e.getCommentAccess.cantCommentReason),1)):((0,n.openBlock)(),(0,n.createElementBlock)("span",u,(0,n.toDisplayString)(e.msg(`EXTERNAL_${e.getCommentAccess.cantCommentReasonKey}`)),1))])),_:1})):((0,n.openBlock)(),(0,n.createBlock)(N,{key:1,autofocus:"","is-post":o.isPost,"submit-action":o.commentSubmitAction,"target-comment":s,onClose:k.closeForm},null,8,["is-post","submit-action","target-comment","onClose"]))])])):"edit"===v.formTarget.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",p,[(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("button",{class:"tm-comments__close-button",title:e.msg("CLOSE"),onClick:t[5]||(t[5]=e=>k.closeForm())},[(0,n.createVNode)(A,{id:"close",size:12})],8,_),(0,n.createVNode)(I,{comment:s,"edit-action":k.editAction,"is-post":o.isPost,"post-id":k.postId,onClose:k.closeForm,onDelete:e=>k.onDeleteComment(s.id)},null,8,["comment","edit-action","is-post","post-id","onClose","onDelete"])])])):(0,n.createCommentVNode)("",!0)],64)):(0,n.createCommentVNode)("",!0)])),key:"0"}:void 0]),1032,["can-pin-unpin-comment","comment","comment-component","complaint-action","favorite-action","get-comment-link","show-moderation-controls","vote-action","onModerate","onOpenCommentHint","onShowComplaintForm","onShowEditForm","onShowReplyForm"])))),128))],512)):((0,n.openBlock)(),(0,n.createElementBlock)("div",g,[(0,n.createElementVNode)("span",{innerHTML:e.msg("COMMENT_EMPTY")},null,8,T)])),(0,n.renderSlot)(e.$slots,"afterComments")],64)),v.isCommentHintVisible?((0,n.openBlock)(),(0,n.createBlock)(L,(0,n.mergeProps)({key:2},v.commentHintProps,{onClose:t[7]||(t[7]=e=>v.isCommentHintVisible=!1)}),null,16)):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[v.complaintCommentId?((0,n.openBlock)(),(0,n.createBlock)(O,{key:0,title:e.msg("COMMENT_COMPLAINT_TITLE"),onClose:t[8]||(t[8]=e=>v.complaintCommentId=null)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(B,{autofocus:"true","submit-action":e=>k.commentComplaintAction(e,v.complaintCommentId)},null,8,["submit-action"])])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0)]))])),_:2},[!o.isLoading&&o.footerVisible?{name:"footer",fn:(0,n.withCtx)((()=>[o.notice?((0,n.openBlock)(),(0,n.createBlock)(b,{key:0,class:"tm-comments__comment-notice",type:o.notice.type},{default:(0,n.withCtx)((()=>["positive"===o.notice.type?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:0,href:k.loginUrl,rel:"nofollow",onClickCapture:t[9]||(t[9]=(...e)=>k.logRegistrationClick&&k.logRegistrationClick(...e))},(0,n.toDisplayString)(e.msg("ARTICLE_REGISTRATION_HINT_LINK")),41,E)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("span",{innerHTML:o.notice.message},null,8,S)])),_:1},8,["type"])):v.formTarget?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(N,{key:1,"is-post":o.isPost,"submit-action":o.commentSubmitAction},null,8,["is-post","submit-action"]))])),key:"0"}:void 0]),1032,["comments-count"])}var v=o(33907);function k(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMCommentForm");return a.originalMessageLoaded?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,ref:"form",autofocus:!0,"countdown-timer":a.timer,"initial-data":a.currentValue,"is-markdown":a.isMarkdown,"is-processing":a.disabled,label:e.msg("COMMENT_EDIT_FORM_TITLE"),readonly:a.disabled,"show-as-moderator":!1,"show-delete":"",onClose:t[0]||(t[0]=t=>e.$emit("close")),onDelete:t[1]||(t[1]=t=>e.$emit("delete",t)),onPreview:t[2]||(t[2]=t=>e.$emit("preview",t)),onSubmit:i.onSubmit},null,8,["countdown-timer","initial-data","is-markdown","is-processing","label","readonly","onSubmit"])):(0,n.createCommentVNode)("",!0)}const f={class:"tm-comment-form__field"},A=["innerHTML"],I=["autofocus"],y={class:"tm-comment-form__controls"},b={class:"tm-comment-form__controls-buttons"},N=["disabled"],P=["disabled"],L=["disabled"];function B(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMLabeledCheckbox"),l=(0,n.resolveComponent)("TMWysiwygEditor"),c=(0,n.resolveComponent)("TMComment"),m=(0,n.resolveComponent)("TMMarkdownSwitcher"),d=(0,n.resolveDirective)("hotkey"),u=(0,n.resolveDirective)("autosize");return(0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.useMarkdown?"form":"div"),{ref:"form",class:(0,n.normalizeClass)(["tm-comment-form",{"tm-comment-form_processing":e.isProcessing}]),onSubmit:(0,n.withModifiers)(e.submitForm,["prevent"])},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",f,[e.label?((0,n.openBlock)(),(0,n.createElementBlock)("label",{key:0,ref:"label",class:"tm-comment-form__label",innerHTML:e.label},null,8,A)):(0,n.createCommentVNode)("",!0),e.showAsModerator&&(e.isSuperAdmin||e.isModerator)?((0,n.openBlock)(),(0,n.createBlock)(r,{key:1,modelValue:e.asModerator,"onUpdate:modelValue":t[0]||(t[0]=t=>e.asModerator=t),class:"tm-comment-form__moderator-toggle","data-test-id":"comment-moderator-checkbox",name:"asModerator"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("COMMENT_AS_MODERATOR")),1)])),_:1},8,["modelValue"])):(0,n.createCommentVNode)("",!0),e.useMarkdown?e.commentPreview?((0,n.openBlock)(),(0,n.createBlock)(c,{key:3,class:"tm-comment-form__preview",comment:e.commentPreview},null,8,["comment"])):(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("textarea",(0,n.mergeProps)({key:4,ref:"textarea","onUpdate:modelValue":t[3]||(t[3]=t=>e.markdownSource=t),autofocus:e.autofocus,class:"tm-comment-form__textarea",cols:"30","data-test-id":"comment-form-textarea",rows:"5"},(0,n.toHandlers)(e.inputListeners,!0),{onKeydownCapture:[t[4]||(t[4]=(0,n.withKeys)((0,n.withModifiers)(((...t)=>e.submitForm&&e.submitForm(...t)),["ctrl","stop"]),["enter"])),t[5]||(t[5]=(0,n.withKeys)((0,n.withModifiers)(((...t)=>e.submitForm&&e.submitForm(...t)),["meta","stop"]),["enter"]))]}),null,16,I)),[[n.vModelText,e.markdownSource],[u],[d,{c:e.scrollToCommentFormAndFocus},void 0,{stop:!0}]]):(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,class:"tm-comment-form__editor",onKeydownCapture:[t[1]||(t[1]=(0,n.withKeys)((0,n.withModifiers)(((...t)=>e.submitForm&&e.submitForm(...t)),["ctrl","stop"]),["enter"])),t[2]||(t[2]=(0,n.withKeys)((0,n.withModifiers)(((...t)=>e.submitForm&&e.submitForm(...t)),["meta","stop"]),["enter"]))]},[e.renderEditor?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,ref:"editor","data-test-id":"comment-form-wysiwyg","is-mobile":e.isMobile||e.isTouchDevice,lang:e.langOptions.hl,"props-config":e.WYSIWYGInitialProps,"use-test-ids":e.useTestIds,onLoading:e.setFormLoading,onUpdate:e.onWYSIWYGUpdate},null,8,["is-mobile","lang","props-config","use-test-ids","onLoading","onUpdate"])):(0,n.createCommentVNode)("",!0)],32)),[[d,{c:e.scrollToCommentFormAndFocus},void 0,{stop:!0}]])]),(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("div",b,[(0,n.createElementVNode)("button",{ref:"submitButton",class:"tm-comment-form__button tm-comment-form__button_send","data-test-id":"button-send-comment",disabled:e.disableFormButtons,onClick:t[6]||(t[6]=(0,n.withModifiers)(((...t)=>e.submitForm&&e.submitForm(...t)),["prevent"]))},(0,n.toDisplayString)(e.msg("COMMENT_ACTION_SEND")),9,N),e.useMarkdown?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,ref:"previewButton",class:"tm-comment-form__button tm-comment-form__button_preview",disabled:e.disableFormButtons,type:"button",onClick:t[7]||(t[7]=(...t)=>e.togglePreview&&e.togglePreview(...t))},(0,n.toDisplayString)(e.commentPreview?e.msg("COMMENT_ACTION_EDIT"):e.msg("COMMENT_ACTION_PREVIEW")),9,P)):(0,n.createCommentVNode)("",!0)]),e.isSuperAdmin&&e.showDelete?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,ref:"suspendButton",class:"tm-comment-form__button tm-comment-form__button_delete","data-test-id":"button-delete-comment",disabled:e.disableFormButtons,type:"button",onClick:t[8]||(t[8]=(...t)=>e.suspendComment&&e.suspendComment(...t))},(0,n.toDisplayString)(e.msg("COMMENT_ACTION_SUSPEND")),9,L)):(0,n.createCommentVNode)("",!0),!e.isModerator&&e.countdownTimer?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,ref:"countdownTimer",class:"tm-comment-form__countdown-timer"},(0,n.toDisplayString)(e.formattedCountdownTimer),513)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(m,{class:"tm-comment-form__markdown-toggle",disabled:!e.isTextareaEmpty,"use-markdown":e.useMarkdown,"use-markdown-settings-key":"useMarkdownInComments",onChangeUseMarkdown:t[9]||(t[9]=t=>e.useMarkdown=t)},null,8,["disabled","use-markdown"])])])),_:1},40,["class","onSubmit"])}var O=o(91296),w=o.n(O),M=o(74370),R=o(37700),V=o(88205),D=o(49404),U=o(46186),$=o(1714),x=o(13862),F=o(73313),H=o(67426);function G(e){const t=Math.floor(parseInt(e,10)/3600),o=Math.floor(parseInt(e,10)/60)%60,n=Math.floor(parseInt(e,10))%60,s=e=>{const t=e>9?e:`0${e}`;return t};return`${s(t)}:${s(o)}:${s(n)}`}var W=o(61794),Y=o(27133);const Z=(0,n.defineAsyncComponent)((()=>o.e(7529).then(o.bind(o,7529))));function q(e){try{return JSON.parse(e),!0}catch(t){return!1}}function K(e){return q(e)?e:null}function j(e){return q(e)?null:e}const z={name:"TMCommentForm",directives:{autosize:$.e},components:{TMComment:M.Z,TMLabeledCheckbox:R.Z,TMHelpIcon:Z,TMMarkdownSwitcher:V.Z,TMWysiwygEditor:D.Z},inheritAttrs:!1,props:{isProcessing:Boolean,autofocus:Boolean,countdownTimer:{type:Number,default:null},label:{type:String,default:null},showDelete:Boolean,initialData:{type:String,default:null},showAsModerator:{type:Boolean,default:!0},isMarkdown:Boolean},emits:["update:modelValue","delete","submit"],setup(){return{isComponentActive:(0,U.c)()}},data(){return{renderEditor:!1,WYSIWYGInitialProps:{embedHost:"https://embedd.srv.habr.com",imagesHost:(0,Y.k)("publication/upload","v2"),mentionHost:(0,Y.k)("publication/suggest-mention","v2"),imagesByUrlHost:(0,Y.k)("publication/upload-url","v2"),extensions:[],initialJSON:K(this.initialData),autoFocus:this.autofocus},WYSIWYGData:{},WYSIWYGLoading:!1,useMarkdown:this.isMarkdown,markdownSource:j(this.initialData),commentPreview:null,previewLoading:!1,asModerator:!1}},computed:{...(0,v.Se)("me",["isSuperAdmin","isModerator"]),...(0,v.Se)("i18n",["langOptions"]),...(0,v.Se)("global",["isMobile"]),...(0,v.rn)("wysiwyg",["WYSIWYGRulesRefs"]),useTestIds(){return!1},disableFormButtons(){return this.isTextareaEmpty||this.WYSIWYGLoading||this.isProcessing||this.previewLoading},inputListeners(){return{...Object.keys(this.$attrs).filter((e=>e.startsWith("on"))).map((e=>this.$attrs[e])),"update:modelValue":e=>{this.$emit("update:modelValue",e.target.value)}}},isTouchDevice(){return(0,x.b)()},isTextareaEmpty(){if(!this.useMarkdown){const e=this.WYSIWYGData.json&&this.WYSIWYGData.json.content.filter((e=>"paragraph"!==e.type)).length,t=this.WYSIWYGData.textContent||"";return!e&&!t.trim().length}return!this.markdownSource},formattedCountdownTimer(){return G(this.countdownTimer)},isPost(){return(0,F.E)(this.$route.name)}},async mounted(){await this.getWYSIWYGRulesRefsIfNotExist();const{postComment:e}=this.WYSIWYGRulesRefs;this.WYSIWYGInitialProps.extensions=e.elements,this.WYSIWYGInitialProps.extensions.push("Typograph"),this.renderEditor=!0,this.autofocus&&this.focus(),window.addEventListener("beforeunload",this.handlePageLeave)},beforeUnmount(){window.removeEventListener("beforeunload",this.handlePageLeave)},methods:{...(0,v.nv)("me",["updateUseMarkdown"]),...(0,v.nv)("wysiwyg",["getWYSIWYGRulesRefsIfNotExist"]),updateUserPreferredEditor:w()((function(e){this.updateUseMarkdown({useMarkdownInComments:e}).catch((e=>{this.$toast.error(e.message)}))}),500),onWYSIWYGUpdate(e){this.WYSIWYGData=e},setFormLoading(e){this.WYSIWYGLoading=e},handlePageLeave(e){if(!this.isTextareaEmpty)return e.preventDefault(),e.returnValue="",!0},loadPreview(){this.previewLoading=!0;const e={articleId:this.$route.params.id,parentId:null,text:{source:this.markdownSource,editorVersion:2,isMarkdown:!0}};this.asModerator&&(e.asModerator=!0);const t=this.isPost?"threads":"posts";(0,W.FI)(this.$route.params.id,e,t).then((({data:e})=>{this.previewLoading=!1,this.commentPreview=e})).catch((e=>{this.previewLoading=!0,this.$toast.error(e.message)}))},clearPreview(){this.commentPreview=null},togglePreview(){this.commentPreview?(this.clearPreview(),this.$nextTick((()=>{this.focus()}))):this.loadPreview()},suspendComment(){const e=window.confirm(this.msg("COMMENT_ACTION_SUSPEND_CONFIRM"));e&&this.$emit("delete",this.markdownSource)},async submitForm(){if(this.isTextareaEmpty)return;this.useMarkdown||await this.$refs.editor.awaitPendingOperations(),this.commentPreview=null;const e={text:{source:this.useMarkdown?this.markdownSource:JSON.stringify(this.WYSIWYGData.json),editorVersion:2,isMarkdown:this.useMarkdown}};this.asModerator&&(e.asModerator=!0),this.$emit("submit",e)},scrollToCommentFormAndFocus(e){this.isComponentActive&&(e.preventDefault(),(0,H.kI)(this.$refs.textarea.$el),this.useMarkdown?this.focus():this.$el.querySelector(".ProseMirror").focus())},focus(){this.$refs.textarea&&this.$refs.textarea.focus()},reset(){this.renderEditor=!1,this.markdownSource=null,this.useMarkdown&&(this.$refs.textarea.value=null),this.WYSIWYGData={},this.$nextTick((()=>{this.renderEditor=!0}))}}};var Q=o(83744);const X=(0,Q.Z)(z,[["render",B]]),J=X,ee={name:"TMCommentEditForm",components:{TMCommentForm:J},props:{postId:{type:String,required:!0},comment:{type:Object,required:!0},editAction:{type:Function,required:!0},isPost:{type:Boolean,required:!0}},emits:["close","delete","preview"],data(){return{currentValue:null,isMarkdown:null,originalMessageLoaded:!1,disabled:!1,timer:null,counter:null,interval:null}},created(){const e=this.isPost?W.SE:W.fp;e(this.postId,this.comment.id).then((e=>{const{sourceMessage:t,isMarkdown:o}=e;this.currentValue=t,this.isMarkdown=o,this.originalMessageLoaded=!0,this.$nextTick((()=>{(0,H.kI)(this.$refs.form.$el)})),this.startTimer(new Date(this.comment.timeEditAllowedTill))})).catch((e=>{this.$toast.error(e.message)}))},beforeUnmount(){clearInterval(this.interval)},methods:{startTimer(e){this.timer=Math.trunc((e-new Date)/1e3),this.interval=setInterval(this.countDown,1e3)},countDown(){this.counter?this.timer>0?this.timer-=1:(clearInterval(this.interval),this.timer=null,this.counter=!1):this.counter=!0},onSubmit(e){this.disabled=!0,this.editAction({commentId:this.comment.id,commentBody:e}).then((()=>{this.disabled=!1})).catch((e=>{throw this.disabled=!1,e}))}}},te=(0,Q.Z)(ee,[["render",k]]),oe=te;function ne(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMCommentForm");return(0,n.openBlock)(),(0,n.createBlock)(r,{ref:"form",autofocus:o.autofocus,"initial-data":null,"is-markdown":i.useMarkdownInComments,"is-processing":a.disabled,label:i.label,readonly:a.disabled,onClose:t[0]||(t[0]=t=>e.$emit("close")),onPreview:t[1]||(t[1]=t=>e.$emit("preview",t)),onSubmit:i.onSubmit},null,8,["autofocus","is-markdown","is-processing","label","readonly","onSubmit"])}const se={name:"TMCommentReplyForm",components:{TMCommentForm:J},props:{autofocus:Boolean,isPost:{type:Boolean,required:!0},submitAction:{type:Function,required:!0},targetComment:{type:Object,default:null}},emits:["close","preview"],data(){return{currentValue:null,disabled:!1}},computed:{...(0,v.rn)("me",["user"]),useMarkdownInComments(){return this.user.settings.miscSettings.useMarkdownInComments},label(){if(!this.targetComment)return this.msg("COMMENT_BASE_FORM_TITLE");const e=this.targetComment.author.alias||this.targetComment.author.login,t=`&nbsp;<span class="tm-username">${e}</span>`;return`${this.msg("COMMENT_ACTION_REPLY")}${t}`},parentId(){return this.targetComment?this.targetComment.id:null}},methods:{onSubmit(e){this.disabled=!0,this.submitAction({...e,parentId:this.parentId,isPost:this.isPost}).then((()=>{this.$refs.form&&this.$refs.form.reset(),this.disabled=!1,this.$emit("close")})).catch((e=>{throw this.disabled=!1,e}))}}},ae=(0,Q.Z)(se,[["render",ne]]),ie=ae,re=(0,n.createElementVNode)("div",{class:"tm-comment-thread__collapsed-root","data-comment-collapsed-thread":""},null,-1),le=(0,n.createElementVNode)("div",{class:"tm-comment-thread__circle-block"},[(0,n.createElementVNode)("div",{class:"tm-comment-thread__circle tm-comment-thread__circle_active"})],-1),ce=["textContent"],me=(0,n.createElementVNode)("div",{class:"tm-comment-thread__collapsed-line"},null,-1),de=["data-comment-new","name"],ue=(0,n.createElementVNode)("div",{class:"tm-comment-thread__circle"},null,-1),pe=[ue],he=["textContent"],_e=["data-comment-body"],ge=["href"],Te={key:1,class:"tm-comment-thread__children"};function Ee(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMDatetime"),l=(0,n.resolveComponent)("TMSvgImg"),c=(0,n.resolveComponent)("TMCommentFooter"),m=(0,n.resolveComponent)("TMCommentThread"),d=(0,n.resolveComponent)("TMCommentPopup");return(0,n.openBlock)(),(0,n.createElementBlock)("section",{class:(0,n.normalizeClass)(i.bem("tm-comment-thread",{"is-pinned":o.isPinnedSection}))},[a.isCollapsed?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[re,(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(["tm-comment-thread__breadcrumbs tm-comment-thread__breadcrumbs_collapsed",i.indentBreadcrumbsClass]),onClick:t[0]||(t[0]=(...e)=>i.toggleCollapse&&i.toggleCollapse(...e))},null,2),(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(["tm-comment-thread__collapsed",i.indentClass]),onClick:t[1]||(t[1]=(...e)=>i.toggleCollapse&&i.toggleCollapse(...e))},[le,(0,n.createElementVNode)("div",{class:"tm-comment-thread__collapsed-text",textContent:(0,n.toDisplayString)(i.collapsedText)},null,8,ce),me],2)],64)):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(a.hasMounted&&o.comment.isNew?"div":"LazyHydrationWrapper"),{"when-visible":""},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createElementVNode)("article",{class:(0,n.normalizeClass)(i.bem("tm-comment-thread__comment",{"is-pinned":o.isPinnedSection}))},[(0,n.createElementVNode)("a",{class:"tm-comment-thread__target","data-comment-new":o.comment.isNew||null,name:o.isPinnedSection?`pinned-comment_${o.comment.id}`:`comment_${o.comment.id}`},null,8,de),o.comment.author&&!o.isPinnedSection?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:(0,n.normalizeClass)(["tm-comment-thread__breadcrumbs",i.indentBreadcrumbsClass]),onClick:t[2]||(t[2]=(...e)=>i.toggleCollapse&&i.toggleCollapse(...e))},pe,2)):(0,n.createCommentVNode)("",!0),o.comment.author?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,class:(0,n.normalizeClass)(["tm-comment-thread__ufo",i.indentClass]),textContent:(0,n.toDisplayString)(e.msg("COMMENT_PLACEHOLDER_EMPTY"))},null,10,he)),o.comment.author?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,class:(0,n.normalizeClass)(i.indentClass),"data-comment-body":o.comment.id},[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.commentComponent||e.$options.components.TMComment),{comment:o.comment,"is-pinned-section":o.isPinnedSection,"user-popover-enabled":""},{"comment-link":(0,n.withCtx)((()=>[(0,n.createElementVNode)("a",{class:"tm-comment-thread__comment-link",href:`#comment_${o.comment.id}`,onClick:t[3]||(t[3]=(0,n.withModifiers)((e=>i.navigateToComment(o.comment.id)),["prevent"]))},[(0,n.createVNode)(r,{date:new Date(o.comment.timePublished),"is-article-format":""},null,8,["date"]),o.comment.timeChanged?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,id:"pencil-small",class:"tm-comment-thread__icon-pencil",title:e.msg("COMMENT_EDITED")},null,8,["title"])):(0,n.createCommentVNode)("",!0)],8,ge)])),_:1},8,["comment","is-pinned-section"])),(0,n.renderSlot)(e.$slots,"footer",{comment:o.comment},(()=>[!o.comment.isSuspended&&o.comment.author&&o.comment.author.alias?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,comment:o.comment,"favorite-action":o.favoriteAction,"is-pinned-section":o.isPinnedSection,"popup-toggle-visible":i.popupEnabled,"show-moderation-controls":o.showModerationControls,"vote-action":o.voteAction,onModerate:t[6]||(t[6]=t=>e.$emit("moderate",{comment:o.comment,isApprove:t})),onOpenCommentHint:t[7]||(t[7]=t=>e.$emit("openCommentHint",t)),onOpenPopup:i.togglePopup},{button:(0,n.withCtx)((()=>[o.isPinnedSection?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"tm-comment-thread__button",type:"button",onClick:t[4]||(t[4]=(0,n.withModifiers)((e=>i.navigateToComment(o.comment.id,!0)),["prevent"]))},(0,n.toDisplayString)(e.msg("COMMENT_ACTION_LOOK")),1)):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:"tm-comment-thread__button",type:"button",onClick:t[5]||(t[5]=t=>e.$emit("showReplyForm",o.comment,t))},(0,n.toDisplayString)(e.msg("COMMENT_ACTION_REPLY")),1))])),_:1},8,["comment","favorite-action","is-pinned-section","popup-toggle-visible","show-moderation-controls","vote-action","onOpenPopup"])):(0,n.createCommentVNode)("",!0)]))],10,_e)):(0,n.createCommentVNode)("",!0)],2),[[n.vShow,!a.isCollapsed]])])),_:3})),0===o.comment.children.length||o.isPinnedSection?(0,n.createCommentVNode)("",!0):(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",Te,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.comment.children,(t=>((0,n.openBlock)(),(0,n.createBlock)(m,(0,n.mergeProps)({key:t.id},e.$props,{comment:t},(0,n.toHandlers)(i.listeners)),{footer:(0,n.withCtx)((({comment:t})=>[(0,n.renderSlot)(e.$slots,"footer",{comment:t})])),_:2},1040,["comment"])))),128))],512)),[[n.vShow,!a.isCollapsed]]),a.popupVisible?((0,n.openBlock)(),(0,n.createBlock)(d,{key:2,"can-pin-unpin-comment":o.canPinUnpinComment,"can-send-complaint":Boolean(o.complaintAction),comment:o.comment,"comment-editable":i.commentEditable,"comment-link":o.getCommentLink?o.getCommentLink(o.comment):null,"is-pinned-comment":o.comment.isPinned,target:a.popupTargetElement,onClose:i.closePopup,onCollapseBranch:t[8]||(t[8]=e=>{i.toggleCollapse(o.comment),i.closePopup()}),onEnterEditMode:t[9]||(t[9]=t=>{e.$emit("showEditForm",{comment:o.comment,isPinnedSection:o.isPinnedSection}),i.closePopup()}),onLinkCopied:i.closePopup,onPinUnpinComment:t[10]||(t[10]=t=>{e.$emit("pinUnpinComment",o.comment),i.closePopup()}),onSendComplaint:t[11]||(t[11]=t=>{e.$emit("showComplaintForm",o.comment),i.closePopup()})},null,8,["can-pin-unpin-comment","can-send-complaint","comment","comment-editable","comment-link","is-pinned-comment","target","onClose","onLinkCopied"])):(0,n.createCommentVNode)("",!0)],2)}var Se=o(28982),Ce=o(45353);function ve(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgImg"),l=(0,n.resolveComponent)("TMAlignCenter"),c=(0,n.resolveComponent)("TMContextMenuListItem"),m=(0,n.resolveComponent)("TMContextMenuList"),d=(0,n.resolveComponent)("TMContextMenu");return(0,n.openBlock)(),(0,n.createBlock)(d,{target:o.target,onClose:t[5]||(t[5]=t=>e.$emit("close"))},{body:(0,n.withCtx)((()=>[(0,n.createVNode)(m,null,{default:(0,n.withCtx)((()=>[o.canPinUnpinComment?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"data-test-id":"pin-unpin-comment-button",onClick:t[0]||(t[0]=t=>e.$emit("pinUnpinComment"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,null,{start:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:"pin-unpin",size:"24"})])),default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(o.isPinnedComment?e.msg("COMMENT_ACTION_UNPIN_COMMENT"):e.msg("COMMENT_ACTION_PIN_COMMENT")),1)])),_:1})])),_:1})):(0,n.createCommentVNode)("",!0),!e.isTablet&&e.isMobile&&o.comment.level>0&&o.comment.children.length?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,"data-test-id":"collapse-branch-button",onClick:t[1]||(t[1]=t=>e.$emit("collapseBranch"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,null,{start:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:"collapse",size:"24"})])),default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("COMMENT_ACTION_COLLAPSE_BRANCH")),1)])),_:1})])),_:1})):(0,n.createCommentVNode)("",!0),o.commentLink?((0,n.openBlock)(),(0,n.createBlock)(c,{key:2,"data-test-id":"copy-comment-link-button",onClick:t[2]||(t[2]=e=>i.copyLink(o.comment))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,null,{start:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:"copy",size:"24"})])),default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("COMMENT_ACTION_COPY_LINK")),1)])),_:1})])),_:1})):(0,n.createCommentVNode)("",!0),o.commentEditable?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:3},[e.isSuperAdmin&&1===o.comment.editorVersion?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"data-test-id":"cp2-edit-comment-button",href:i.getCp2EditFormLink(o.comment.id),tag:"a",target:"_blank"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,null,{start:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:"pencil",size:"24"})])),default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("COMMENT_ACTION_EDIT")),1)])),_:1})])),_:1},8,["href"])):((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,"data-test-id":"edit-comment-button",onClick:t[3]||(t[3]=t=>e.$emit("enterEditMode"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,null,{start:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:"pencil",size:"24"})])),default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("COMMENT_ACTION_EDIT")),1)])),_:1})])),_:1}))],64)):(0,n.createCommentVNode)("",!0),o.canSendComplaint&&!o.comment.isSuspended?((0,n.openBlock)(),(0,n.createBlock)(c,{key:4,"data-test-id":"send-complaint-button",onClick:t[4]||(t[4]=t=>e.$emit("sendComplaint"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,null,{start:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:"report",size:"24",title:e.msg("COMMENT_COMPLAINT_TITLE")},null,8,["title"])])),default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("COMMENT_COMPLAINT_TITLE")),1)])),_:1})])),_:1})])),_:1})):(0,n.createCommentVNode)("",!0)])),_:1})])),_:1},8,["target"])}var ke=o(77748),fe=o(26656),Ae=o(17650),Ie=o(68383),ye=o(46206),be=o(43059);const Ne={name:"TMCommentPopup",components:{TMAlignCenter:ke.Z,TMContextMenuList:Ae.Z,TMContextMenuListItem:Ie.Z,TMContextMenu:fe.Z,TMSvgImg:ye.Z},props:{comment:{type:Object,required:!0},commentLink:{type:String,default:null},commentEditable:{type:Boolean,default:!1},canSendComplaint:{type:Boolean,default:!1},target:{type:null,required:!0},canPinUnpinComment:{type:Boolean,default:!1},isPinnedComment:{type:Boolean,required:!0}},emits:["close","pinUnpinComment","collapseBranch","enterEditMode","sendComplaint","linkCopied"],computed:{...(0,v.Se)("global",["isMobile","isTablet"]),...(0,v.Se)("me",["isSuperAdmin"])},methods:{copyLink(){try{(0,be.Z)(this.commentLink),this.$toast.success(this.msg("COMMENT_NOTICE_COPY_LINK_SUCCESS"))}catch(e){this.$toast.error(this.msg("COMMENT_NOTICE_COPY_LINK_ERROR"))}this.$emit("linkCopied")},getCp2EditFormLink(e){return`https://habr.com/kek/admin/comments_edit/?id=${e}`}}},Pe=(0,Q.Z)(Ne,[["render",ve]]),Le=Pe;var Be=o(63599),Oe=o(25109),we=o(87575),Me=o(50807);let Re;const Ve=()=>{if(Re)return Re;const e=localStorage.getItem("collapsedCommentIds");if(!e)return null;const t=JSON.parse(e);return Re=t,t},De={name:"TMCommentThread",components:{TMCommentPopup:Le,TMComment:M.Z,TMCommentFooter:Ce.Z,LazyHydrationWrapper:Se.Z,TMSvgImg:ye.Z,TMDatetime:Be.Z},props:{commentComponent:{type:Object,default:null},comment:{type:Object,required:!0},isAuthorized:{type:Boolean,default:!1},voteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},favoriteAction:{type:Function,default:null},isPinnedSection:{type:Boolean,default:!1},canPinUnpinComment:{type:Boolean,default:!1},showModerationControls:Boolean},emits:["moderate","showReplyForm","showEditForm","pinUnpinComment","showComplaintForm","expandLimiter","openCommentHint"],data(){return{isCollapsed:!1,popupVisible:!1,popupTargetElement:null,hasMounted:!1}},computed:{listeners(){const e=e=>(...t)=>this.$emit(e,...t);return Object.fromEntries(this.$options.emits.map((t=>[t,e(t)])))},collapsedText(){return this.msg("COMMENT_COLLAPSED",{count:this.hiddenCommentsCount})},hiddenCommentsCount(){return this.comment.children.reduce((function e(t,{children:o}){return o.length?o.reduce(e,t+1):t+1}),1)},indentClass(){if(this.isPinnedSection)return"";const e=10,t=Math.min(this.comment.level,e);return`tm-comment-thread__indent_l-${t}`},indentBreadcrumbsClass(){const e=10,t=Math.min(this.comment.level,e);return`tm-comment-thread__indent_b_l-${t}`},popupEnabled(){return Boolean(this.complaintAction||this.getCommentLink||this.commentEditable||this.comment.level>0&&this.comment.children.length)},commentEditable(){return this.comment.isCanEdit&&!this.comment.isSuspended}},mounted(){this.hasMounted=!0;const e=Ve();e&&this.comment.id in e&&(this.isCollapsed=!0)},methods:{toggleCollapse(){this.isCollapsed=!this.isCollapsed;const{id:e}=this.comment;if(this.isCollapsed)try{const t=JSON.parse(localStorage.getItem("collapsedCommentIds")||"{}");localStorage.setItem("collapsedCommentIds",JSON.stringify({...t,[e]:1}))}catch(t){localStorage.setItem("collapsedCommentIds",JSON.stringify({[e]:1}))}else{const t=JSON.parse(localStorage.getItem("collapsedCommentIds")||"{}");delete t[e],localStorage.setItem("collapsedCommentIds",JSON.stringify(t))}},navigateToComment(e,t=!1){t&&!(0,we.m2)(e)&&this.$emit("expandLimiter");const o=`#comment_${e}`;(0,we.fo)(o).then((()=>(0,Me.q)(o)))},togglePopup(){this.popupVisible=!this.popupVisible;let e=null;e=this.isPinnedSection?document.querySelector("[data-pinned-comments]"):document.querySelector("[data-comments-list]"),this.popupTargetElement=e.querySelector(`[data-comment-popup="${this.comment.id}"]`)},closePopup(){this.popupVisible=!1},bem:Oe.P}},Ue=(0,Q.Z)(De,[["render",Ee]]),$e=Ue;var xe=o(46901),Fe=o(34270),He=o(3996);const Ge={class:"tm-pinned-comments","data-pinned-comments":""},We={class:"tm-pinned-comments__header"},Ye={class:"tm-pinned-comments__header-title"},Ze={class:"tm-pinned-comments__wrapper"};function qe(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgImg"),l=(0,n.resolveComponent)("TMCommentThread");return(0,n.openBlock)(),(0,n.createElementBlock)("section",Ge,[(0,n.createElementVNode)("div",We,[(0,n.createVNode)(r,{id:"pinned",class:"tm-pinned-comments__icon",size:"24"}),(0,n.createElementVNode)("span",Ye,(0,n.toDisplayString)(e.msg("COMMENTS_PINNED")),1)]),(0,n.createElementVNode)("div",Ze,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.pinnedComments,(s=>((0,n.openBlock)(),(0,n.createBlock)(l,{key:s.id,"can-pin-unpin-comment":o.canPinUnpinComment,comment:s,"complaint-action":o.complaintAction,"favorite-action":o.favoriteAction,"get-comment-link":o.getCommentLink,"is-pinned-section":!0,"show-moderation-controls":o.showModerationControls,"vote-action":o.voteAction,onExpandLimiter:t[0]||(t[0]=t=>e.$emit("expandLimiter",t)),onModerate:t[1]||(t[1]=t=>e.$emit("moderate",t)),onOpenCommentHint:t[2]||(t[2]=t=>e.$emit("openCommentHint",t)),onPinUnpinComment:t[3]||(t[3]=t=>e.$emit("pinUnpinComment",t)),onShowComplaintForm:t[4]||(t[4]=t=>e.$emit("showComplaintForm",t)),onShowEditForm:t[5]||(t[5]=t=>e.$emit("showEditForm",t))},{footer:(0,n.withCtx)((({comment:t})=>[(0,n.renderSlot)(e.$slots,"footer",{comment:t})])),default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"footer",{comment:s})])),_:2},1032,["can-pin-unpin-comment","comment","complaint-action","favorite-action","get-comment-link","show-moderation-controls","vote-action"])))),128))])])}const Ke={name:"TMPinnedComments",components:{TMCommentThread:$e,TMSvgImg:ye.Z},props:{pinnedComments:{type:Array,required:!0},voteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},favoriteAction:{type:Function,default:null},showModerationControls:Boolean,canPinUnpinComment:{type:Boolean,default:!1}},emits:["expandLimiter","moderate","pinUnpinComment","showComplaintForm","showEditForm","openCommentHint"]},je=(0,Q.Z)(Ke,[["render",qe]]),ze=je;var Qe=o(79063),Xe=o(68172),Je=o(36450),et=o(19913);const tt={name:"TMComments",components:{RestrictionHint:Je.Z,TMCommentsWrapper:xe.Z,TMCommentReplyForm:ie,TMCommentEditForm:oe,TMPlaceholder:Qe.Z,TMSvgImg:ye.Z,TMNotice:He.Z,TMComplaintForm:Fe.Z,TMCommentThread:$e,TMPopup:Xe.Z,TMPinnedComments:ze},props:{comments:{type:Array,default:()=>null},commentComponent:{type:Object,default:null},commentsCount:{type:[Number,String],default:null},pinnedComments:{type:Array,default:null},isLoading:{type:Boolean,default:!1},isPost:{type:Boolean,required:!0},notice:{type:Object,default:null},commentSubmitAction:{type:Function,required:!0},voteAction:{type:Function,default:null},favoriteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},footerVisible:{type:Boolean,default:!0},showModerationControls:Boolean,canPinUnpinComment:{type:Boolean,default:!1}},emits:["commentDelete","expandLimiter","pinUnpinComment"],data(){return{formTarget:null,firstUnreadId:null,complaintCommentId:null,isCommentHintVisible:!1,commentHintProps:null}},computed:{...(0,v.Se)("me",["isLoggedIn","isSuperAdmin"]),...(0,v.Se)("comments",["getCommentAccess"]),showNoticeInCommentsThread(){return this.isLoggedIn&&this.unableToComment},postId(){return this.$route.params.id},unableToComment(){return!(!this.getCommentAccess||"boolean"!==typeof this.getCommentAccess.isCanComment)&&!this.getCommentAccess.isCanComment},loginUrl(){const e="/kek/v1/auth/habrahabr/";return`${e}?back=${this.$route.path}&hl=${this.langOptions.hl}`}},methods:{...(0,v.nv)("comments",["updateComment","moderateComment"]),editAction({commentId:e,commentBody:t}){const o=this.$route.params.id,n={...t,timestamp:(new Date).getTime()},s=this.isPost?W.QF:W.DF;return s(o,e,n).then((({data:{comment:e}})=>{this.updateComment({articleId:o,comment:e}),this.closeForm()})).catch((e=>{throw this.$toast.error(e.message),e}))},commentComplaintAction(e,t){return this.complaintAction({value:e,parentId:t}).then((()=>{this.complaintCommentId=null}))},moderateReadAndComment({comment:e,isApprove:t}){return this.moderateComment({isApprove:t,commentId:e.id,postId:this.$route.params.id,isPost:this.isPost})},showReplyForm(e,t){if(this.isLoggedIn)this.formTarget={commentId:e.id,type:"reply",isPinnedSection:!1};else{const e={target:t.target,offset:[-34,8],messageKey:"COMMENT_GUEST_REPLAY_HINT",eventLabel:"hint_reg_reply_go"};this.toggleCommentHint({props:e,clickEvent:"hint_reg_reply_open"})}},showEditForm({comment:e,isPinnedSection:t}){this.formTarget={commentId:e.id,type:"edit",isPinnedSection:t}},showComplaintForm(e){this.complaintCommentId=e.id},closeForm(){this.formTarget=null},onDeleteComment(e){this.$emit("commentDelete",e),this.closeForm()},logRegistrationClick(){(0,et.IZ)("reg_comment_go")},toggleCommentHint({props:e,clickEvent:t}){var o;if(null!==(o=this.commentHintProps)&&void 0!==o&&o.target&&e.target!==this.commentHintProps.target)return this.isCommentHintVisible=!1,void this.$nextTick((()=>{this.commentHintProps=e,this.isCommentHintVisible=!0,t&&(0,et.IZ)(t)}));this.isCommentHintVisible?this.isCommentHintVisible=!1:(this.commentHintProps=e,this.isCommentHintVisible=!0,t&&(0,et.IZ)(t))}}},ot=(0,Q.Z)(tt,[["render",C]]),nt=ot},91652:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s={class:"companies-admin-list"},a=["innerHTML"];function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMEntityImage"),m=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("ul",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.companies,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:e.alias,class:"companies-admin-list__item"},[(0,n.createVNode)(m,{class:"companies-admin-list__link",to:l.getCompanyAdminLink(e)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{alias:e.alias,class:"company-admin-dropdown__image",image:e.imageUrl,type:"company"},null,8,["alias","image"]),(0,n.createElementVNode)("span",{innerHTML:e.titleHtml},null,8,a)])),_:2},1032,["to"])])))),128))])}var r=o(82598);const l={name:"TMCompaniesAdminList",components:{TMEntityImage:r.Z},props:{companies:{type:Array,required:!0}},methods:{getCompanyAdminLink(e){return`/company/${e.alias}/admin/`}}};var c=o(83744);const m=(0,c.Z)(l,[["render",i]]),d=m},68689:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s=["href"];function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMBlock");return(0,n.openBlock)(),(0,n.createBlock)(l,{title:e.msg("ADMINISTRATION_BLOCK_TITLE")},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.items,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:e.link,class:"tm-administration-block__link",href:e.link,target:"_blank"},(0,n.toDisplayString)(e.title),9,s)))),128))])),_:1},8,["title"])}var i=o(33907),r=o(11493);const l={name:"TMCompanyAdministrationBlock",components:{TMBlock:r.Z},props:{companyInfo:{type:Object,required:!0}},computed:{...(0,i.Se)("i18n",["langOptions"]),items(){const e=`/company/${this.companyInfo.alias}/admin/`;return[{title:this.msg("ADMINISTRATION_BLOCK_CP"),link:e},{title:this.msg("ADMINISTRATION_BLOCK_CONTENT"),link:`https://company.habr.com/${this.langOptions.hl}/native-special/`},{title:this.msg("ADMINISTRATION_BLOCK_DOCS"),link:"/docs/companies/preparations/"}]}}};var c=o(83744);const m=(0,c.Z)(l,[["render",a]]),d=m},65242:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMCompanyBasicInfo"),l=(0,n.resolveComponent)("TMBlock");return o.companyInfo?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,title:e.msg("PROFILE_BLOCK_TITLE")},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{"company-info":o.companyInfo,variant:"columns-nowrap"},null,8,["company-info"])])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0)}var a=o(11493),i=o(32069);const r={name:"TMCompanyBasicInfoBlock",components:{TMCompanyBasicInfo:i.Z,TMBlock:a.Z},props:{companyInfo:{type:Object,default:null}}};var l=o(83744);const c=(0,l.Z)(r,[["render",s]]),m=c},32069:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(70942);const s={class:"tm-company-basic-info"},a=["href"],i={key:1};function r(e,t,o,r,l,c){const m=(0,n.resolveComponent)("TMDescriptionList"),d=(0,n.resolveComponent)("TMDatetime"),u=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[o.companyInfo.siteUrl?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,title:e.msg("PROFILE_COMPANY_TITLE_WEBSITE"),variant:o.variant},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("a",{class:"tm-company-basic-info__link",href:o.companyInfo.siteUrl,target:"_blank"},(0,n.toDisplayString)(c.hostname),9,a)])),_:1},8,["title","variant"])):(0,n.createCommentVNode)("",!0),o.companyInfo.registrationDate?((0,n.openBlock)(),(0,n.createBlock)(m,{key:1,title:e.msg("PROFILE_COMPANY_TITLE_REGISTRATION_DATE"),variant:o.variant},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(d,{date:new Date(o.companyInfo.registrationDate)},null,8,["date"])])),_:1},8,["title","variant"])):(0,n.createCommentVNode)("",!0),o.companyInfo.foundationDate?((0,n.openBlock)(),(0,n.createBlock)(m,{key:2,title:e.msg("PROFILE_COMPANY_TITLE_FOUNDATION_DATE"),variant:o.variant},{default:(0,n.withCtx)((()=>[c.foundationHasFullDate?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0,date:c.foundationDate},null,8,["date"])):((0,n.openBlock)(),(0,n.createElementBlock)("span",i,(0,n.toDisplayString)(c.foundationDate),1))])),_:1},8,["title","variant"])):(0,n.createCommentVNode)("",!0),o.companyInfo.staffNumber?((0,n.openBlock)(),(0,n.createBlock)(m,{key:3,title:e.msg("PROFILE_COMPANY_TITLE_EMPLOYEES_COUNT"),variant:o.variant},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(o.companyInfo.staffNumber),1)])),_:1},8,["title","variant"])):(0,n.createCommentVNode)("",!0),o.companyInfo.location&&o.companyInfo.location.country?((0,n.openBlock)(),(0,n.createBlock)(m,{key:4,title:e.msg("PROFILE_COMPANY_TITLE_LOCATION"),variant:o.variant},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(o.companyInfo.location.country.title),1)])),_:1},8,["title","variant"])):(0,n.createCommentVNode)("",!0),o.companyInfo.representativeUser?((0,n.openBlock)(),(0,n.createBlock)(m,{key:5,title:e.msg("PROFILE_COMPANY_TITLE_REPRESENTIVE_USER"),variant:o.variant},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(u,{class:"tm-company-basic-info__link",to:c.representativeUserRoute},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(c.representativeUserTitle),1)])),_:1},8,["to"])])),_:1},8,["title","variant"])):(0,n.createCommentVNode)("",!0)])}var l=o(33907),c=o(63599),m=o(44446);const d={name:"TMCompanyBasicInfo",components:{TMDescriptionList:m.Z,TMDatetime:c.Z},props:{companyInfo:{type:Object,default:null},variant:{type:String,default:"base"}},computed:{...(0,l.Se)("i18n",["msg"]),hostname(){const e=new URL(this.companyInfo.siteUrl);return e.hostname},foundationHasFullDate(){const{day:e,month:t,year:o}=this.companyInfo.foundationDate;return e&&t&&o},foundationDate(){const{day:e,month:t,year:o}=this.companyInfo.foundationDate;if(this.foundationHasFullDate){const n=parseInt(t,10)-1;return new Date(o,n,e)}return o},representativeUserTitle(){const{companyInfo:{representativeUser:e}}=this;return e.fullname||e.alias},representativeUserRoute(){return{name:"USER_PROFILE",params:{login:this.companyInfo.representativeUser.alias}}}}};var u=o(83744);const p=(0,u.Z)(d,[["render",r]]),h=p},34592:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={key:0,class:"tm-company-card__branding-placeholder"},a={key:0,class:"tm-company-card__branding-error"},i=["href"],r=["src"],l=["src"];function c(e,t,o,c,m,d){return d.showCompanyBranding?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(["tm-company-card__branding",{"tm-company-card__branding_loading":m.imageLoading}]),"data-test-id":"company-card-branding"},[m.imageLoading?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[m.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,(0,n.toDisplayString)(e.msg("ERROR_MISSING_BRANDING_IMAGE")),1)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),o.companyInfo.settings.branding.linkUrl?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:1,href:o.companyInfo.settings.branding.linkUrl},[(0,n.createElementVNode)("img",{ref:"brandingImage",class:"tm-company-card__branding-image",src:o.companyInfo.settings.branding.imageUrl,onError:t[0]||(t[0]=e=>m.error=!0),onLoad:t[1]||(t[1]=e=>m.imageLoading=!1)},null,40,r)],8,i)):((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:2,class:"tm-company-card__branding-image",src:o.companyInfo.settings.branding.imageUrl,onError:t[2]||(t[2]=e=>m.error=!0),onLoad:t[3]||(t[3]=e=>m.imageLoading=!1)},null,40,l))],2)):(0,n.createCommentVNode)("",!0)}const m={name:"TMCompanyBranding",props:{companyInfo:{type:Object,required:!0}},data(){return{imageLoading:!0,error:!1}},computed:{showCompanyBranding(){return this.companyInfo.settings&&this.companyInfo.settings.branding&&this.companyInfo.settings.branding.imageUrl}},mounted(){this.companyInfo.settings&&this.companyInfo.settings.branding&&this.companyInfo.settings.branding.pixelUrl&&this.initTrackingPixel(),this.$refs.brandingImage&&this.$refs.brandingImage.complete&&(this.imageLoading=!1)},methods:{initTrackingPixel(){const{pixelUrl:e}=this.companyInfo.settings.branding,t=new Image;t.src=e}}};var d=o(83744);const u=(0,d.Z)(m,[["render",c]]),p=u},29605:(e,t,o)=>{"use strict";o.d(t,{Z:()=>L});var n=o(70942);const s={class:"tm-company-card"},a={class:"tm-company-card__header"},i={class:"tm-company-card__info"},r=["innerHTML"],l=["innerHTML"];function c(e,t,o,c,m,d){const u=(0,n.resolveComponent)("TMEntityImage"),p=(0,n.resolveComponent)("router-link"),h=(0,n.resolveComponent)("TMGrade"),_=(0,n.resolveComponent)("TMRating"),g=(0,n.resolveComponent)("TMCompanySubscribers");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",a,[(0,n.createVNode)(p,{class:"tm-company-card__avatar",to:d.profileRoute},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(u,{alias:o.company.alias,image:o.company.imageUrl,size:48,type:"company"},null,8,["alias","image"])])),_:1},8,["to"]),o.company.statistics?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[null!=o.company.statistics.careerRating?((0,n.openBlock)(),(0,n.createBlock)(h,{key:0,alias:o.company.careerAlias,class:"tm-company-card__rating",grade:o.company.statistics.careerRating},null,8,["alias","grade"])):(0,n.createCommentVNode)("",!0),null!=o.company.statistics.rating?((0,n.openBlock)(),(0,n.createBlock)(_,{key:1,class:"tm-company-card__rating",score:o.company.statistics.rating},null,8,["score"])):(0,n.createCommentVNode)("",!0),o.showSubscribers&&null!==o.company.statistics.subscribersCount?((0,n.openBlock)(),(0,n.createBlock)(g,{key:2,"subscribers-count":o.company.statistics.subscribersCount},null,8,["subscribers-count"])):(0,n.createCommentVNode)("",!0)],64)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",i,[(0,n.createVNode)(p,{class:"tm-company-card__name",to:d.profileRoute},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:d.companyTitle},null,8,r)])),_:1},8,["to"]),o.hasDescription&&o.company.descriptionHtml?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"tm-company-card__description",innerHTML:o.company.descriptionHtml},null,8,l)):(0,n.createCommentVNode)("",!0)])])}const m={class:"tm-company-subscribers__count"},d={class:"tm-company-subscribers__label"};function u(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMCounterContainer");return(0,n.openBlock)(),(0,n.createBlock)(r,null,{header:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",m,(0,n.toDisplayString)(i.formattedCount),1)])),footer:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",d,(0,n.toDisplayString)(e.msg("SUBSCRIBERS")),1)])),_:1})}var p=o(70615);const h={name:"TMCompanySubscribers",components:{TMCounterContainer:p.Z},props:{subscribersCount:{type:Number,required:!0}},computed:{formattedCount(){const e=new Intl.NumberFormat(this.langOptions.hl),t=t=>e.format(t);return t(this.subscribersCount)}}};var _=o(83744);const g=(0,_.Z)(h,[["render",u]]),T=g;var E=o(82598);const S=["href"];function C(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgImg"),l=(0,n.resolveComponent)("TMRating");return(0,n.openBlock)(),(0,n.createElementBlock)("a",{class:"tm-grade",href:`${e.$options.CAREER_HOST}/companies/${o.alias}`,rel:"noopener",target:"_blank"},[(0,n.createVNode)(l,{label:e.msg("POINTS_LABEL_GRADE_SHORT"),score:o.grade,variant:"grade"},{icon:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:"grade",class:"tm-svg-grade__icon",size:"24",title:e.msg("POINTS_LABEL_GRADE")},null,8,["title"])])),_:1},8,["label","score"])],8,S)}var v=o(44089),k=o(46206),f=o(35275);const A={name:"TMGrade",components:{TMSvgImg:k.Z,TMRating:v.Z},props:{grade:{type:Number,required:!0},alias:{type:String,required:!0}},CAREER_HOST:f.Yu},I=(0,_.Z)(A,[["render",C]]),y=I;var b=o(24440);const N={name:"TMCompanyCard",components:{TMCompanySubscribers:T,TMEntityImage:E.Z,TMRating:v.Z,TMGrade:y},props:{company:{type:Object,default:null},hasDescription:{type:Boolean,default:!0},showSubscribers:{type:Boolean,default:!1}},computed:{profileRoute(){return{name:"COMPANY_PROFILE",params:{name:this.company.alias}}},companyTitle(){return this.company.titleHtml&&(0,b._)(this.company.titleHtml)}}},P=(0,_.Z)(N,[["render",c]]),L=P},38108:(e,t,o)=>{"use strict";o.d(t,{Z:()=>D});var n=o(70942);const s={key:0,class:"tm-company-profile-card"},a={class:"tm-company-profile-card__buttons"},i={key:2,class:"tm-company-profile-card__button tm-company-profile-card__button_admin"};function r(e,t,o,r,l,c){const m=(0,n.resolveComponent)("TMCompanyCard"),d=(0,n.resolveComponent)("TMButtonFollow"),u=(0,n.resolveComponent)("RestrictionHint"),p=(0,n.resolveComponent)("TMCompanyEmployeeRequest"),h=(0,n.resolveComponent)("TMAdministrationLinks");return o.company?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(m,{class:"tm-company-profile-card__info",company:o.company},null,8,["company"]),(0,n.createElementVNode)("div",a,[(0,n.createVNode)(d,{"can-subscribe":e.isLoggedIn,class:"tm-company-profile-card__button tm-company-profile-card__button_follow",subscribed:c.isSubscribed,onOnToggle:t[0]||(t[0]=e=>c.toggleFollowCompany(e))},null,8,["can-subscribe","subscribed"]),l.isHintVisible?((0,n.openBlock)(),(0,n.createBlock)(u,(0,n.mergeProps)({key:0},l.hintProps,{onClose:t[1]||(t[1]=e=>l.isHintVisible=!1)}),null,16)):(0,n.createCommentVNode)("",!0),e.workplaceInfo&&e.isLoggedIn?((0,n.openBlock)(),(0,n.createBlock)(p,{key:1,class:"tm-company-profile-card__button tm-company-profile-card__button_request",company:o.company,"current-user":e.userAlias,"workplace-info":e.workplaceInfo},null,8,["company","current-user","workplace-info"])):(0,n.createCommentVNode)("",!0),e.isSuperAdmin?((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[((0,n.openBlock)(),(0,n.createBlock)(n.Suspense,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h,{links:c.companyLinksItems},null,8,["links"])])),_:1}))])):(0,n.createCommentVNode)("",!0)])])):(0,n.createCommentVNode)("",!0)}var l=o(33907),c=o(79362),m=o(29605);const d={class:"company-employee-request"},u={key:0,class:"company-employee-request__button-cancel"};function p(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMEmployeeRequestPopup"),l=(0,n.resolveComponent)("TMAsyncConfirmationDialog");return(0,n.openBlock)(),(0,n.createElementBlock)("div",d,[(0,n.createElementVNode)("button",{class:"company-employee-request__button",type:"button",onClick:t[0]||(t[0]=(...e)=>i.toggleButtonAction&&i.toggleButtonAction(...e))},[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(["company-employee-request__button-inner",{"company-employee-request__button-inner_active":i.isButtonActive}])},(0,n.toDisplayString)(i.requestButtonText),3),i.isButtonActive?((0,n.openBlock)(),(0,n.createElementBlock)("span",u," × ")):(0,n.createCommentVNode)("",!0)]),((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[a.isPopupVisible?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,company:o.company,"user-alias":o.currentUser,onClosePopup:t[1]||(t[1]=e=>a.isPopupVisible=!1),onSetRequestData:t[2]||(t[2]=t=>e.updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:t}))},null,8,["company","user-alias"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(l,{ref:"confirmDialog"},null,512)]))])}var h=o(69284);const _={class:"employee-request-popup__content"},g={class:"employee-request-popup__company-info"},T={class:"employee-request-popup__company-name"};function E(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMEntityImage"),l=(0,n.resolveComponent)("TMFormBuilder"),c=(0,n.resolveComponent)("TMPopup");return(0,n.openBlock)(),(0,n.createBlock)(c,{class:"employee-request-popup",title:e.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_POPUP_TITLE"),onClose:t[0]||(t[0]=t=>e.$emit("closePopup"))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",_,[(0,n.createElementVNode)("div",g,[(0,n.createVNode)(r,{alias:o.company.alias,class:"employee-request-popup__company-logo",image:o.company.imageUrl,size:36,type:"company"},null,8,["alias","image"]),(0,n.createElementVNode)("span",T,(0,n.toDisplayString)(o.company.titleHtml),1)]),(0,n.createVNode)(l,{class:"employee-request-popup__form",disabled:a.isLoading,fields:i.formFields,"initial-data":a.initialData,lang:e.langOptions.hl,"server-errors":a.serverErrors,"submit-label":e.msg("SUBMIT_FORM_ACTION"),onSubmit:i.proceedForm},null,8,["disabled","fields","initial-data","lang","server-errors","submit-label","onSubmit"])])])),_:1},8,["title"])}var S=o(82598),C=o(50612),v=o(68172),k=o(14857),f=o(87032);const A={name:"TMEmployeeRequestPopup",components:{TMPopup:v.Z,TMEntityImage:S.Z,TMFormBuilder:C.Z},props:{company:{type:Object,default:null},userAlias:{type:String,required:!0}},emits:["closePopup","setRequestData"],data(){return{isLoading:!1,initialData:{messageText:""},serverErrors:{}}},computed:{formFields(){return[{className:"tm-textarea",label:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_LABEL_TEXT"),description:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_DESCRIPTION_TEXT"),name:"messageText",type:"BaseTextarea",disableCounter:!0,validation:{required:!0,maxLength:300},htmlAttrs:{placeholder:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_PLACEHOLDER_TEXT")}}]}},methods:{proceedForm(e){return this.isLoading=!0,this.serverErrors={},(0,k.w9)(this.userAlias,{company:this.company.alias,note:e.messageText}).then((e=>{this.isLoading=!1,this.initialData={messageText:""},e&&this.$emit("setRequestData",e),this.$emit("closePopup"),this.$toast.success(this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_SUBMIT_SUCCESS_MESSAGE"))})).catch((e=>{this.isLoading=!1;const t=(0,f.getErrorCode)(e);"FORM_ERRORS"!==t?this.$toast.error(e.message):this.serverErrors=e.data}))}}};var I=o(83744);const y=(0,I.Z)(A,[["render",E]]),b=y;var N=o(55644);const P={name:"TMEmployeeRequest",components:{TMEmployeeRequestPopup:b,TMAsyncConfirmationDialog:h.Z},props:{company:{type:Object,default:null},currentUser:{type:String,required:!0},workplaceInfo:{type:Object,required:!0}},data(){return{isPopupVisible:!1}},computed:{isButtonActive(){return this.workplaceInfo.employeeRequest||this.workplaceInfo.isUserEmployee},requestButtonText(){return this.workplaceInfo.employeeRequest?this.msg("COMPANY_ADMIN_REQUEST_STATUS_WAITING"):this.msg("COMPANY_ADMIN_REQUEST_BUTTON_TEXT")}},methods:{...(0,l.nv)("companies",["updateWorkplaceInfo"]),toggleButtonAction(){this.workplaceInfo.employeeRequest?this.cancelRequest():this.workplaceInfo.isUserEmployee?this.deleteEmployee():this.isPopupVisible=!0},cancelRequest(){this.$refs.confirmDialog.show({title:this.msg("COMPANY_ADMIN_CANCEL_REQUEST_CONFIRM_TITLE"),message:this.msg("COMPANY_ADMIN_CANCEL_REQUEST_CONFIRM_MESSAGE",{companyName:this.company.titleHtml}),confirmLabel:this.msg("COMPANY_ADMIN_APPROVE_REQUEST_BUTTON_TEXT"),cancelLabel:this.msg("CONFIRM_CANCEL_BUTTON_LABEL")}).then((e=>{e&&(0,k.fK)(this.currentUser,this.workplaceInfo.employeeRequest.id).then((()=>{this.updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:null}),this.$toast.success(this.msg("COMPANY_ADMIN_CANCEL_REQUEST_SUCCESS_MESSAGE"))})).catch((e=>this.$toast.error(e.message)))}))},deleteEmployee(){this.$refs.confirmDialog.show({title:this.msg("COMPANY_ADMIN_REMOVE_EMPLOYEE_CONFIRM_TITLE"),message:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_DECLINE_MESSAGE",{companyName:this.company.titleHtml})}).then((e=>{e&&(0,N.hS)(this.company.alias,this.currentUser).then((()=>{this.updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:null}),this.$toast.success(this.msg("COMPANY_ADMIN_REMOVE_COMPANY_EMPLOYEE_SUCCESS_MESSAGE"))})).catch((e=>this.$toast.error(e.message)))}))}}},L=(0,I.Z)(P,[["render",p]]),B=L;var O=o(36450),w=o(19913);const M=(0,n.defineAsyncComponent)((()=>o.e(2328).then(o.bind(o,91066)))),R={name:"TMCompanyProfileCard",components:{RestrictionHint:O.Z,TMCompanyCard:m.Z,TMButtonFollow:c.Z,TMAdministrationLinks:M,TMCompanyEmployeeRequest:B},props:{company:{type:Object,default:null}},data(){return{isHintVisible:!1,hintProps:null}},computed:{...(0,l.Se)("me",["isLoggedIn","isSuperAdmin","userAlias"]),...(0,l.rn)("companies",["workplaceInfo"]),isSubscribed(){return this.company.relatedData&&this.company.relatedData.isSubscribed},companyLinksItems(){const{alias:e}=this.company,t={en:{EDIT_PROFILE:"Edit profile via CP"},ru:{EDIT_PROFILE:"Редактировать профиль в CP"}},o=`https://habr.com/kek/admin/company/${e}/`;return[{title:t[this.langOptions.hl].EDIT_PROFILE,link:o}]}},methods:{...(0,l.nv)("companies",["toggleSubscribeStatus"]),toggleFollowCompany(e){this.isLoggedIn?this.toggleSubscribeStatus(this.company.alias.toLowerCase()).then((()=>{this.isSubscribed&&(0,w.IZ)("subscribe_company")})):this.toggleFollowHint(e)},toggleFollowHint(e){this.hintProps={target:e.target,messageKey:"SUBSCRIPTION_COMPANY_HINT",eventLabel:"hint_reg_с_follow_go",placement:"bottom-start",offset:[-34,8]},this.isHintVisible=!this.isHintVisible,this.isHintVisible&&(0,w.IZ)("hint_reg_с_follow_open")}}},V=(0,I.Z)(R,[["render",r]]),D=V},28002:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={class:"tm-company-snippet"},a={class:"tm-company-snippet__info"},i=["innerHTML"],r=["innerHTML"];function l(e,t,o,l,c,m){const d=(0,n.resolveComponent)("TMEntityImage"),u=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(u,{class:"tm-company-snippet__logo-link",to:e.companyProfileRoute},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(d,{alias:e.company.alias,image:e.company.imageUrl,size:40,type:"company"},null,8,["alias","image"])])),_:1},8,["to"]),(0,n.createElementVNode)("div",a,[(0,n.createVNode)(u,{class:(0,n.normalizeClass)(["tm-company-snippet__title",{"tm-company-snippet__title_subscribed":e.isSubscribed}]),"data-test-id":"company-title",to:e.companyProfileRoute},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:e.company.titleHtml},null,8,i)])),_:1},8,["class","to"]),(0,n.createElementVNode)("div",{class:"tm-company-snippet__description",innerHTML:e.company.descriptionHtml||e.msg("COMPANY")},null,8,r)])])}var c=o(82598);const m={name:"TMCompanySnippet",components:{TMEntityImage:c.Z},props:{company:{type:Object,default:null}},computed:{companyProfileRoute(){return{name:"COMPANY_PROFILE",params:{name:this.company.alias,hl:this.$route.params.hl}}},isSubscribed(){return this.company.relatedData&&this.company.relatedData.isSubscribed}}};var d=o(83744);const u=(0,d.Z)(m,[["render",l]]),p=u},79019:(e,t,o)=>{"use strict";o.d(t,{Z:()=>A});var n=o(70942);const s={class:"tm-company-widgets"};function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.widgets,((t,o)=>((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.$options.presenters[t.type]),{key:o,type:t.type,"widget-data":t.data},null,8,["type","widget-data"])))),128))])}var i=o(33907),r=o(80720),l=o(14772);function c(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMWidgetBannerContent"),l=(0,n.resolveComponent)("TMSwiperSlide"),c=(0,n.resolveComponent)("TMSwiper"),m=(0,n.resolveComponent)("TMBlock");return(0,n.openBlock)(),(0,n.createBlock)(m,{class:(0,n.normalizeClass)(["tm-widget-banners-slider",{"tm-widget-banners-slider_shadowed":i.renderShadow}]),"header-variant":"borderless",title:e.msg("WIDGET_BANNER")},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{"auto-height":"",autoplay:e.$options.autoplayParams,pagination:"","slides-per-view":1},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.widgetData,((e,t)=>((0,n.openBlock)(),(0,n.createBlock)(l,{key:t},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{"widget-data":e.data},null,8,["widget-data"])])),_:2},1024)))),128))])),_:1},8,["autoplay"])])),_:1},8,["class","title"])}var m=o(11493),d=o(61712),u=o(3972),p=o(31340);const h=1e4,_={name:"TMWidgetBannersSlider",components:{TMBlock:m.Z,TMWidgetBannerContent:p.Z,TMSwiper:d["default"],TMSwiperSlide:u["default"]},props:{widgetData:{type:Array,required:!0}},autoplayParams:{delay:h,disableOnInteraction:!1},computed:{renderShadow(){return this.widgetData.length>12}}};var g=o(83744);const T=(0,g.Z)(_,[["render",c]]),E=T;var S=o(17527),C=o(84803),v=o(28950);const k={name:"TMCompanyWidgets",props:{companyAlias:{type:String,required:!0},widgetsAsSlider:{type:Boolean,default:!1}},presenters:{vk:v.Z,news:C.Z,links:S.Z,banner:l.Z,applications:r.Z,bannersSlider:E},computed:{...(0,i.Se)("global",["isDesktop"]),...(0,i.rn)("companies",["companiesWidgets"]),needShowSlider(){return this.widgetsAsSlider&&this.bannersWidgets.length>1},rawWidgets(){const e=this.companiesWidgets[this.companyAlias];return e?e.filter((e=>!!e.data&&(("news"!==e.type||0!==e.data.news.length)&&("links"!==e.type||0!==e.data.links.length)))):[]},bannersWidgets(){return this.rawWidgets.filter((e=>"banner"===e.type))},regularWidgets(){return this.rawWidgets.filter((e=>"banner"!==e.type))},widgets(){return this.needShowSlider?[{type:"bannersSlider",data:this.bannersWidgets},...this.regularWidgets]:this.rawWidgets}},mounted(){this.isDesktop&&this.loadCompanyWidgets(this.companyAlias)},methods:{...(0,i.nv)("companies",["loadCompanyWidgets"])}},f=(0,g.Z)(k,[["render",a]]),A=f},34270:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={class:"tm-complaint-form__field"},a=["disabled"],i={class:"tm-complaint-form__hint"},r={class:"tm-complaint-form__controls"};function l(e,t,o,l,c,m){const d=(0,n.resolveComponent)("TMButtonBase");return(0,n.openBlock)(),(0,n.createElementBlock)("form",{ref:"form",class:(0,n.normalizeClass)(["tm-complaint-form",{"tm-complaint-form_processing":c.disabled}]),onSubmit:t[3]||(t[3]=(0,n.withModifiers)(((...e)=>m.submitForm&&m.submitForm(...e)),["prevent"]))},[(0,n.createElementVNode)("div",s,[(0,n.withDirectives)((0,n.createElementVNode)("input",(0,n.mergeProps)({ref:"input","onUpdate:modelValue":t[0]||(t[0]=e=>c.currentValue=e)},e.$attrs,{class:"tm-complaint-form__input",disabled:c.disabled,onKeyup:[t[1]||(t[1]=(0,n.withKeys)((0,n.withModifiers)(((...e)=>m.submitForm&&m.submitForm(...e)),["ctrl"]),["enter"])),t[2]||(t[2]=(0,n.withKeys)((0,n.withModifiers)(((...e)=>m.submitForm&&m.submitForm(...e)),["meta"]),["enter"]))]}),null,16,a),[[n.vModelDynamic,c.currentValue]]),(0,n.createElementVNode)("div",i,(0,n.toDisplayString)(e.msg("COMMENT_COMPLAINT_HINT")),1)]),(0,n.createElementVNode)("div",r,[(0,n.createVNode)(d,{disabled:m.isTextareaEmpty||c.disabled,onClick:m.submitForm},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("COMMENT_ACTION_SEND")),1)])),_:1},8,["disabled","onClick"])])],34)}var c=o(7281);const m={name:"TMComplaintForm",components:{TMButtonBase:c.Z},inheritAttrs:!1,props:{submitAction:{type:Function,required:!0}},data(){return{currentValue:null,disabled:!1}},computed:{isTextareaEmpty(){return!this.currentValue}},mounted(){this.$attrs.autofocus&&this.$refs.input.focus()},methods:{submitForm(){this.disabled=!0,this.submitAction(this.currentValue).then((()=>{this.disabled=!1})).catch((e=>{throw this.disabled=!1,e}))}}};var d=o(83744);const u=(0,d.Z)(m,[["render",l]]),p=u},68383:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s={class:"tm-context-menu-list__item"};function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createElementBlock)("li",s,[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.tag),(0,n.mergeProps)(e.$attrs,{class:r.itemClassNames}),{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},16,["class"]))])}var i=o(25109);const r={name:"TMContextMenuListItem",inheritAttrs:!1,props:{tag:{type:String,default:"button"},variant:{type:String,default:null}},computed:{itemClassNames(){return[...this.bem("tm-context-menu-list__item-inner",{[this.variant]:!0}),{"tm-context-menu-list__button":"button"===this.tag,"tm-context-menu-list__external-link":["a","router-link"].includes(this.tag)}]}},methods:{bem:i.P}};var l=o(83744);const c=(0,l.Z)(r,[["render",a]]),m=c},17650:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(70942);function s(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("ul",{class:(0,n.normalizeClass)(["tm-context-menu-list",i.bem("tm-context-menu-list",{variant:o.variant})])},[(0,n.renderSlot)(e.$slots,"default")],2)}var a=o(25109);const i={name:"TMContextMenuList",props:{variant:{type:String,default:null}},methods:{bem:a.P}};var r=o(83744);const l=(0,r.Z)(i,[["render",s]]),c=l},26656:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMBottomSheet"),l=(0,n.resolveComponent)("TMScrollLockTransition"),c=(0,n.resolveComponent)("TMPopover");return!e.isTablet&&e.isMobile?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,appear:"",name:"slide-fade"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{onClose:t[0]||(t[0]=t=>e.$emit("close"))},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),body:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"body")])),_:3})])),_:3})):((0,n.openBlock)(),(0,n.createBlock)(n.Transition,{key:1,appear:"",name:"transition-fade"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{root:o.target,variant:"dropdown",onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default"),(0,n.renderSlot)(e.$slots,"body")])),_:3},8,["root"])])),_:3}))}var a=o(33907),i=o(37717),r=o(41700),l=o(40248);const c={name:"TMContextMenu",components:{TMPopover:r.Z,TMBottomSheet:i.Z,TMScrollLockTransition:l.Z},props:{target:{type:null,required:!0}},emits:["close"],computed:{...(0,a.Se)("global",["isMobile","isTablet"])}};var m=o(83744);const d=(0,m.Z)(c,[["render",s]]),u=d},70615:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s={class:"tm-counter-container"},a={class:"tm-counter-container__header"},i={class:"tm-counter-container__footer"};function r(e,t,o,r,l,c){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",a,[(0,n.renderSlot)(e.$slots,"header")]),(0,n.createElementVNode)("div",i,[(0,n.renderSlot)(e.$slots,"footer")])])}const l={name:"TMCounterContainer"};var c=o(83744);const m=(0,c.Z)(l,[["render",r]]),d=m},84404:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={key:0,class:"dark-mode-promo"},a={key:0,class:"dark-mode-promo__link",href:"https://dark.habr.io?utm_source=habr&utm_medium=dark_mode"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("ArrowLinkIcon");return l.isDarkModePeriod?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[l.hasDarkModeCookie()?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,class:"dark-mode-promo__link",onClick:t[0]||(t[0]=(...e)=>l.openSettings&&l.openSettings(...e))},(0,n.toDisplayString)(e.msg("SETTINGS_CHANGE_THEME_SETTINGS")),1)):((0,n.openBlock)(),(0,n.createElementBlock)("a",a,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(e.msg("SETTINGS_UNBLOCK_DARK_MODE")),1),(0,n.createVNode)(c)]))])):(0,n.createCommentVNode)("",!0)}var r=o(33907),l=o(70953);const c=(0,n.defineAsyncComponent)((()=>o.e(4097).then(o.bind(o,24097)))),m={name:"DarkModePromo",components:{ArrowLinkIcon:c},computed:{isDarkModePeriod(){const e=new Date,t=(new Date).getFullYear(),o=new Date(t,3,4,10);return e>o}},methods:{...(0,r.nv)("global",["setIsSettingsVisible"]),openSettings(){this.setIsSettingsVisible({isSettingsVisible:!0})},hasDarkModeCookie(){const e=(0,l.ej)("dark_theme_mode");return e&&"on"===e}}};var d=o(83744);const u=(0,d.Z)(m,[["render",i]]),p=u},56948:(e,t,o)=>{"use strict";o.d(t,{Z:()=>ee});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMArticleRating"),l=(0,n.resolveComponent)("TMVotesMeter"),c=(0,n.resolveComponent)("TMIconCounter"),m=(0,n.resolveComponent)("TMBookmarksButton"),d=(0,n.resolveComponent)("TMSharing"),u=(0,n.resolveComponent)("TMArticleCommentsCounterLink"),p=(0,n.resolveComponent)("TMArticleVoteStats"),h=(0,n.resolveComponent)("TMPopup"),_=(0,n.resolveComponent)("RestrictionHint");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-data-icons",i.bem("tm-data-icons",{space:o.spaceBetween})]),"data-test-id":"article-stats-icons"},[i.showIcon("rating")?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,article:o.article,class:"tm-data-icons__item",onScoreClick:i.showVotesPopup},null,8,["article","onScoreClick"])):(0,n.createCommentVNode)("",!0),i.showIcon("votes")?((0,n.openBlock)(),(0,n.createBlock)(l,{key:1,appearance:"article",class:"tm-data-icons__item",score:o.article.statistics.score,"vote-state":i.voteState,"votes-count":o.article.statistics.votesCount,onClick:i.showVotesPopup},null,8,["score","vote-state","votes-count","onClick"])):(0,n.createCommentVNode)("",!0),i.showIcon("views")?((0,n.openBlock)(),(0,n.createBlock)(c,{key:2,abbreviated:"",class:"tm-data-icons__item",counter:o.article.statistics.readingCount,"icon-id":"counter-views",title:e.msg("DATA_ICONS_VIEWS")},null,8,["counter","title"])):(0,n.createCommentVNode)("",!0),i.showIcon("favorite")?((0,n.openBlock)(),(0,n.createBlock)(m,{key:3,"bookmarks-count":o.article.statistics.favoritesCount,class:"tm-data-icons__item","is-bookmarked":e.isLoggedIn&&i.isBookmarked,"is-processing":a.isLoadingBookmark,onToggleBookmark:t[0]||(t[0]=e=>i.onBookmarkClick(e))},null,8,["bookmarks-count","is-bookmarked","is-processing"])):(0,n.createCommentVNode)("",!0),i.showIcon("share")?((0,n.openBlock)(),(0,n.createBlock)(d,{key:4,article:o.article,class:"tm-data-icons__item",title:e.msg("DATA_ICONS_SHARE")},null,8,["article","title"])):(0,n.createCommentVNode)("",!0),i.showIcon("comments")?((0,n.openBlock)(),(0,n.createBlock)(u,{key:5,article:o.article,class:"tm-data-icons__item","comments-count":o.article.statistics.commentsCount,"ga-event":o.gaEvent,title:e.msg("DATA_ICONS_READ_COMMENTS"),"unread-count":a.unreadCommentsCount},null,8,["article","comments-count","ga-event","title","unread-count"])):(0,n.createCommentVNode)("",!0),(0,n.renderSlot)(e.$slots,"articleMenu"),((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[a.votesPopupVisible?((0,n.openBlock)(),(0,n.createBlock)(h,{key:0,title:e.msg("ARTICLE_REASON_TOTAL",i.votesStats),onClose:t[1]||(t[1]=e=>a.votesPopupVisible=!1)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(p,{"is-post":i.isPost,"reasons-map":a.reasonsMap,voting:i.votesStats},null,8,["is-post","reasons-map","voting"])])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0)])),a.isHintVisible?((0,n.openBlock)(),(0,n.createBlock)(_,(0,n.mergeProps)({key:6},a.hintProps,{onClose:t[2]||(t[2]=e=>a.isHintVisible=!1)}),null,16)):(0,n.createCommentVNode)("",!0)],2)}var a=o(33907),i=o(34948),r=o(39701);const l={class:"tm-article-rating"},c=["textContent"];function m(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMVotesLever"),m=(0,n.resolveComponent)("TMVotesMeter"),d=(0,n.resolveComponent)("TMMinusReason"),u=(0,n.resolveComponent)("TMPopup"),p=(0,n.resolveComponent)("TMVoteHintPopup");return(0,n.openBlock)(),(0,n.createElementBlock)("div",l,[i.showVotesLevel?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,appearance:"article","can-vote-minus":i.showMinusControl,"can-vote-plus":i.showPlusControl,class:"tm-article-rating__votes-switcher","is-loading":a.isVoteLoading||a.isLoadingReasonsList,"is-plusified":!0,score:o.article.statistics.score,"vote-state":i.voteState,"votes-count":o.article.statistics.votesCount,onDownvote:i.showVotePopupOrShowHint,onScoreClick:t[0]||(t[0]=t=>e.$emit("scoreClick")),onUpvote:i.upVoteArticleOrShowHint},null,8,["can-vote-minus","can-vote-plus","is-loading","score","vote-state","votes-count","onDownvote","onUpvote"])):((0,n.openBlock)(),(0,n.createBlock)(m,{key:1,appearance:"article",class:"tm-article-rating__votes-switcher",score:o.article.statistics.score,"vote-state":i.voteState,"votes-count":o.article.statistics.votesCount,onClick:t[1]||(t[1]=t=>e.$emit("scoreClick"))},null,8,["score","vote-state","votes-count"])),((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[a.isOpenArticleVote?((0,n.openBlock)(),(0,n.createBlock)(u,{key:0,title:a.title,onClose:i.closePopup},{default:(0,n.withCtx)((()=>[a.isOpenSuccessPopup?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,textContent:(0,n.toDisplayString)(e.msg("ARTICLE_REASON_SUCCESS"))},null,8,c)):((0,n.openBlock)(),(0,n.createBlock)(d,{key:0,"is-vote-loading":a.isVoteLoading,"reasons-list":i.reasonsList,onDownVote:i.articleDownVote},null,8,["is-vote-loading","reasons-list","onDownVote"]))])),_:1},8,["title","onClose"])):(0,n.createCommentVNode)("",!0)])),a.hintToRender?((0,n.openBlock)(),(0,n.createBlock)(p,{key:2,hint:a.hintToRender,root:e.$el,onClose:t[2]||(t[2]=e=>a.hintToRender=null)},null,8,["hint","root"])):(0,n.createCommentVNode)("",!0)])}var d=o(41056),u=o(68172),p=o(78340),h=o(34733),_=o(70939),g=o(50780),T=o(52767),E=o(19913),S=o(73313);const C={name:"TMArticleRating",components:{TMVoteHintPopup:p.Z,TMVotesLever:h.Z,TMVotesMeter:_.Z,TMMinusReason:d.Z,TMPopup:u.Z},props:{article:g.s},emits:["scoreClick"],data(){return{isOpenArticleVote:!1,isOpenSuccessPopup:!1,title:null,isVoteLoading:!1,isLoadingReasonsList:!1,hintToRender:null,hasVotedRecently:!1}},computed:{...(0,a.Se)("me",["isSuperAdmin","userAlias","isLoggedIn","karma"]),...(0,a.Se)("articlesList",["getPostReasonsList","getReasonsList"]),isMineArticle(){var e;const t=null===(e=this.article.author)||void 0===e?void 0:e.alias.toLowerCase();return this.isLoggedIn&&this.userAlias.toLowerCase()===t},showMinusControl(){const e=!this.voteMinus.isChargeEnough||!this.voteMinus.isKarmaEnough;return!!this.isMineArticle||(!(this.canVoteMinus||!e)||this.canVoteMinus)},showPlusControl(){const e=!this.votePlus.isChargeEnough||!this.votePlus.isKarmaEnough;return!!this.isMineArticle||(!(this.canVotePlus||!e)||this.canVotePlus)},voteMinus(){var e;return(null===(e=this.article.relatedData)||void 0===e?void 0:e.voteMinus)??{}},votePlus(){var e;return(null===(e=this.article.relatedData)||void 0===e?void 0:e.votePlus)??{}},canVoteMinus(){return this.voteMinus.canVote},canVotePlus(){return this.votePlus.canVote},voteState(){var e;return this.isLoggedIn&&this.article.relatedData&&!this.isVoteLoading&&(null===(e=this.article.relatedData.vote)||void 0===e?void 0:e.value)||0},showVotesLevel(){return!!this.isVoteLoading||!this.hasVotedRecently&&(0===this.voteState?this.showMinusControl||this.showPlusControl:this.canVoteMinus||this.canVoteMinus)},isPost(){return(0,S.o)(this.article)},reasonsList(){return this.isPost?this.getPostReasonsList:this.getReasonsList},GAPublicationType(){return(0,E.Lq)(this.article)}},methods:{...(0,a.nv)("articlesList",["downvote","upvote","loadReasonsList"]),upVoteArticleOrShowHint(){(0,E.IZ)("vote_content_plus",{publication_type:this.GApublicationType}),this.isMineArticle?this.hintToRender="isMineArticle":this.isLoggedIn?this.canVotePlus||this.votePlus.isChargeEnough||!this.votePlus.isKarmaEnough?this.canVotePlus||this.votePlus.isKarmaEnough?this.articleUpVote():this.hintToRender="karmaTooLow":this.hintToRender="chargeTooLow":this.hintToRender="registration"},articleUpVote(){this.isVoteLoading=!0,this.upvote({article:this.article}).then((()=>{this.hasVotedRecently=!0,(0,E.IZ)("vote_content_plus",{publication_type:this.GAPublicationType})})).catch(this.voteErrorHandler).finally((()=>{this.isVoteLoading=!1}))},voteErrorHandler(e){const t=(0,T.zg)(e);"VOTER_CHARGE"!==t?"string"===typeof t&&t.startsWith("VOTER_KARMA_LIMIT")?this.hintToRender="karmaTooLow":this.$toast.error(e.message):this.hintToRender="chargeTooLow"},showVotePopupOrShowHint(){(0,E.IZ)("vote_content_minus",{publication_type:this.GApublicationType}),this.isMineArticle?this.hintToRender="isMineArticle":this.isLoggedIn?this.canVoteMinus||this.voteMinus.isChargeEnough||!this.voteMinus.isKarmaEnough?this.canVoteMinus||this.voteMinus.isKarmaEnough?this.showVotePopup():this.hintToRender="karmaTooLow":this.hintToRender="chargeTooLow":this.hintToRender="registration"},articleDownVote(e){this.isVoteLoading=!0,this.downvote({article:this.article,reason:e}).then((()=>{this.title=null,this.isOpenSuccessPopup=!0,setTimeout((()=>{this.isOpenSuccessPopup=!1,this.isOpenArticleVote=!1}),3e3),this.hasVotedRecently=!0,(0,E.IZ)("vote_content_minus",{publication_type:this.GAPublicationType})})).catch(this.voteErrorHandler).finally((()=>{this.isVoteLoading=!1}))},closePopup(){this.isOpenArticleVote=!1},showVotePopup(){this.isLoadingReasonsList=!0,this.loadReasonsList({isPost:this.isPost}).then((()=>{this.isOpenArticleVote=!0,this.title=this.msg("ARTICLE_REASON_POPUP_TITLE"),this.isLoadingReasonsList=!1})).catch((e=>{this.isLoadingReasonsList=!1,this.$toast.error(e.message)}))}}};var v=o(83744);const k=(0,v.Z)(C,[["render",m]]),f=k,A={key:0},I=(0,n.createElementVNode)("div",{class:"tm-article-vote-stats__result-border"},null,-1),y={class:"tm-article-vote-stats__title"},b={class:"tm-article-vote-stats__text"},N={class:"tm-article-vote-stats__percent"};function P(e,t,o,s,a,i){return i.reasonsList?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"tm-article-vote-stats",style:(0,n.normalizeStyle)({"--percent-value":i.percentValue})},[i.emptyResult?((0,n.openBlock)(),(0,n.createElementBlock)("div",A,(0,n.toDisplayString)(e.msg("ARTICLE_REASON_NO_DATA")),1)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[I,(0,n.createElementVNode)("h3",y,(0,n.toDisplayString)(e.msg("ARTICLE_REASON_SUBTITLE")),1),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.reasonsMap,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e.reasonId,class:"tm-article-vote-stats__result-item"},[(0,n.createElementVNode)("div",b,(0,n.toDisplayString)(i.getReasonTitle(e)),1),(0,n.createElementVNode)("div",N,(0,n.toDisplayString)(e.percent)+"% ",1),(0,n.createElementVNode)("div",{class:"tm-article-vote-stats__result-line",style:(0,n.normalizeStyle)({width:e.percent+"%"})},null,4)])))),128))],64))],4)):(0,n.createCommentVNode)("",!0)}const L={name:"TMArticleVoteStats",props:{voting:{type:Object,required:!0},reasonsMap:{type:Array,required:!0},isPost:{type:Boolean,required:!0}},computed:{...(0,a.Se)("articlesList",["getPostReasonsList","getReasonsList"]),emptyResult(){let e=0;return this.reasonsMap.forEach((t=>{e+=t.percent})),0===e},percentValue(){const{positive:e,total:t}=this.voting;return e/t*100+"%"},reasonsList(){return this.isPost?this.getPostReasonsList:this.getReasonsList}},mounted(){this.loadReasonsList({isPost:this.isPost}).catch((e=>{this.$toast.error(e.message)}))},methods:{...(0,a.nv)("articlesList",["loadReasonsList"]),getReasonTitle({id:e}){const t=this.reasonsList.find((t=>t.id===e));return t&&t.title||""}}},B=(0,v.Z)(L,[["render",P]]),O=B;var w=o(16586),M=o(28330),R=o(36450);const V={class:"tm-sharing"},D={class:"tm-sharing__socials"},U=["onClick"];function $(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMShareIcon"),l=(0,n.resolveComponent)("TMPopup");return(0,n.openBlock)(),(0,n.createElementBlock)("div",V,[(0,n.createElementVNode)("button",{class:"tm-sharing__button",type:"button",onClick:t[0]||(t[0]=(...e)=>i.invokeSharing&&i.invokeSharing(...e))},[(0,n.createVNode)(r,{class:"tm-sharing__icon"})]),((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[a.isOpenShare?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,title:e.msg("ARTICLE_SHARING_TITLE"),onClose:i.closePopup},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("ul",D,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(i.socials,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:t.key},[(0,n.createElementVNode)("span",{class:"tm-sharing__social",onClick:t.action},(0,n.toDisplayString)(e.msg(t.key)),9,U)])))),128))])])),_:1},8,["title","onClose"])):(0,n.createCommentVNode)("",!0)]))])}var x=o(15923),F=o(43059),H=o(86598),G=o(24440);const W=(0,n.defineAsyncComponent)((()=>o.e(624).then(o.bind(o,80624)))),Y={name:"TMSharing",components:{TMShareIcon:W,TMPopup:u.Z},props:{article:g.s},data(){return{isOpenShare:!1}},computed:{articleUrl(){return(0,H.Zl)(this.article)},socials(){const e=encodeURIComponent(this.articleUrl),t=(0,S.o)(this.article)?(0,x.vz)(this.article,this.msg):(0,G.V)(this.article.titleHtml),o=encodeURIComponent(t);return[{key:"SOCIAL_COPY",action:this.copyLink},{key:"SOCIAL_FACEBOOK",action:()=>this.openLink(`https://www.facebook.com/sharer/sharer.php?u=${e}`)},{key:"SOCIAL_TWITTER",action:()=>this.openLink(`https://twitter.com/intent/tweet?text=${o}+${e}+via+%40habr_com`)},{key:"SOCIAL_VK",action:()=>this.openLink(`https://vk.com/share.php?url=${e}`)},{key:"SOCIAL_TELEGRAM",action:()=>this.openLink(`https://t.me/share/url?url=${e}&title=${o}`)},{key:"SOCIAL_POCKET",action:()=>this.openLink(`https://getpocket.com/edit?url=${e}`)}]}},methods:{openLink(e){(0,E.IZ)("share",{publication_type:(0,E.Lq)(this.article)}),window.open(e,"_blank"),this.closePopup()},copyLink(){(0,F.Z)(this.articleUrl),this.closePopup(),this.$toast.success(this.msg("SOCIAL_COPIED")),(0,E.IZ)("share",{publication_type:(0,E.Lq)(this.article)})},invokeSharing(){navigator.share?navigator.share({title:this.msg("SITENAME"),text:this.article.titleHtml,url:this.articleUrl}).then((()=>{(0,E.IZ)("share",{publication_type:(0,E.Lq)(this.article)})})).catch((e=>{throw e})):this.isOpenShare=!0},closePopup(){this.isOpenShare=!1}}},Z=(0,v.Z)(Y,[["render",$]]),q=Z;var K=o(25109),j=o(11699),z=o(89136);const Q=["rating","votes","views","favorite","comments","share"],X={name:"TMDataIcons",components:{TMArticleVoteStats:O,TMIconCounter:M.Z,TMPopup:u.Z,TMArticleCommentsCounterLink:r.Z,TMArticleRating:f,TMBookmarksButton:w.Z,TMSharing:q,TMVotesMeter:_.Z,RestrictionHint:R.Z},props:{article:{type:Object,default:null},iconsList:{type:Array,default:()=>[],validator:e=>e.every((e=>-1!==Q.indexOf(e)))},type:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},gaEvent:{type:[Object,String],required:!1,default:null},spaceBetween:{type:String,default:"big"}},emits:["bookmarkChange"],data(){return{isLoadingBookmark:!1,votesPopupVisible:!1,reasonsMap:null,unreadCommentsCount:this.article.relatedData?this.article.relatedData.unreadCommentsCount:null,isHintVisible:!1,hintProps:null}},computed:{...(0,a.rn)("articlesList",["articlesList"]),...(0,a.Se)("me",["isLoggedIn","isSuperAdmin","userAlias"]),isBookmarked(){return!this.isLoadingBookmark&&this.article.relatedData&&this.article.relatedData.bookmarked},voteState(){const{relatedData:e}=this.article;return e&&e.vote&&e.vote.value?e.vote.value:0},votesStats(){const{votesCount:e,score:t}=this.article.statistics;return{total:e,positive:(e+t)/2,negative:(e-t)/2}},isPost(){return(0,S.o)(this.article)}},beforeMount(){if(!this.isLoggedIn){const{article:{id:e,statistics:t}}=this;(0,i.U2)(e).then(((e=0)=>{const o=Math.max(t.commentsCount-e,0);this.unreadCommentsCount=o}))}},methods:{...(0,a.nv)("articlesList",["toggleArticleBookmark"]),bem:K.P,showIcon(e){return this.iconsList&&-1!==this.iconsList.indexOf(e)},onBookmarkClick(e){if(!this.isLoggedIn)return void this.toggleBookmarkHint(e);const{bookmarked:t}=this.article.relatedData;this.isLoadingBookmark=!0,this.toggleArticleBookmark({article:this.article,bookmarkModule:this.bookmarkModule}).then((()=>{this.$emit("bookmarkChange",!t),this.article.relatedData.bookmarked&&(0,E.IZ)("favorite",{publication_type:(0,E.Lq)(this.article)}),this.isLoadingBookmark=!1}))},showVotesPopup(){if(!this.isSuperAdmin&&this.userAlias!==this.article.author.alias)return;const e=(0,S.o)(this.article)?z.$X:j.Mc;e(this.article.id).then((e=>{this.votesPopupVisible=!0,this.reasonsMap=e.data})).catch((e=>{this.$toast.error(e.message)}))},toggleBookmarkHint(e){this.hintProps={target:e.target,messageKey:"PUBLICATION_FAVORITE_HINT",eventLabel:"hint_reg_save_publ_go",offset:[-34,8]},this.isHintVisible=!this.isHintVisible,this.isHintVisible&&(0,E.IZ)("hint_reg_save_publ_open")}}},J=(0,v.Z)(X,[["render",s]]),ee=J},63599:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s=["datetime","title","textContent"],a={key:1};function i(e,t,o,i,r,l){return e.$slots.default&&e.$slots.default({formattedDate:l.formattedDate})?((0,n.openBlock)(),(0,n.createElementBlock)("span",a,[(0,n.renderSlot)(e.$slots,"default",{formattedDate:l.formattedDate})])):((0,n.openBlock)(),(0,n.createElementBlock)("time",{key:0,datetime:l.jsDate.toISOString(),title:l.fullForm,textContent:(0,n.toDisplayString)(l.formattedDate)},null,8,s))}var r=o(21331),l=o(38919);const c={name:"TMDatetime",props:{date:{required:!0,type:[String,Date]},showFullDateTime:Boolean,shortMonth:Boolean,absoluteDate:Boolean,hideToday:Boolean,isArticleFormat:Boolean,utc:Boolean},data(){return{now:new Date}},computed:{jsDate(){return this.utc?(0,r.iH)(this.date):new Date(this.date)},time(){return(0,l.rp)(this.jsDate)},fullForm(){const e=(0,l.SI)(this.jsDate);return`${e}, ${this.time}`},isMoreThanOneYear(){return this.now.getFullYear()-this.jsDate.getFullYear()>=1},countMinutesAgo(){return Math.trunc((this.now.getTime()-this.jsDate.getTime())/6e4)},countHoursAgo(){return Math.trunc(this.countMinutesAgo/60)},timeParams(){return{time:this.time}},dateTimeParams(){const e=(this.absoluteDate||this.isMoreThanOneYear)&&this.jsDate.getFullYear();return{day:this.jsDate.getDate().toString(),month:this.jsDate.getMonth().toString(),year:e,...this.timeParams}},articleFormatTextParams(){return this.countMinutesAgo<1?{name:"WHEN_JUST_NOW"}:this.countMinutesAgo<60?{name:"WHEN_MIN",params:{time:this.countMinutesAgo}}:this.countHoursAgo<24?{name:"WHEN_HOUR",params:{time:this.countHoursAgo}}:(0,l.gO)(this.jsDate,this.now)?{name:"WHEN_YESTERDAY_AT",params:this.timeParams}:{name:"WHEN_FULL_DATE_SHORT_MONTH_AT",params:this.dateTimeParams}},textParams(){if(!this.absoluteDate){if((0,l.zk)(this.jsDate,this.now))return{name:this.hideToday?"WHEN_AT":"WHEN_TODAY_AT",params:this.timeParams};if((0,l.gO)(this.jsDate,this.now))return{name:"WHEN_YESTERDAY_AT",params:this.timeParams}}return this.showFullDateTime?{name:this.shortMonth?"WHEN_FULL_DATE_SHORT_MONTH_AT":"WHEN_FULL_DATE_AT",params:this.dateTimeParams}:{name:"WHEN_FULL_DATE",params:this.dateTimeParams}},formattedDate(){return this.isArticleFormat?this.msg(this.articleFormatTextParams.name,this.articleFormatTextParams.params):this.msg(this.textParams.name,this.textParams.params)}}};var m=o(83744);const d=(0,m.Z)(c,[["render",i]]),u=d},44446:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s=["textContent"];function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createElementBlock)("dl",{class:(0,n.normalizeClass)(["tm-description-list",r.bem("tm-description-list",{variant:o.variant})])},[(0,n.createElementVNode)("dt",{class:(0,n.normalizeClass)(["tm-description-list__title",r.bem("tm-description-list__title",{variant:o.variant})]),textContent:(0,n.toDisplayString)(o.title)},null,10,s),(0,n.createElementVNode)("dd",{class:(0,n.normalizeClass)(["tm-description-list__body",r.bem("tm-description-list__body",{variant:o.variant})])},[(0,n.renderSlot)(e.$slots,"default")],2)],2)}var i=o(25109);const r={name:"TMDescriptionList",props:{title:{type:String,required:!0},variant:{type:String,default:"base"}},methods:{bem:i.P}};var l=o(83744);const c=(0,l.Z)(r,[["render",a]]),m=c},68651:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(70942);const s={class:"tm-dropdown__head"};function a(e,t,o,a,i,r){const l=(0,n.resolveDirective)("hotkey");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-dropdown",{"tm-dropdown_active":i.optionsVisible}])},[(0,n.createElementVNode)("div",s,[(0,n.renderSlot)(e.$slots,"head",{toggle:r.toggleOptions})]),i.optionsVisible?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(["tm-dropdown__body",r.getClass]),style:(0,n.normalizeStyle)(r.getOffset)},[(0,n.renderSlot)(e.$slots,"body",{visible:i.optionsVisible})],6)):(0,n.createCommentVNode)("",!0)],2)),[[l,{esc:r.closeOptions}]])}const i={name:"TMDropdown",props:{align:{type:String,default:"left"},bodyOffset:{type:Number,default:0},variant:{type:String,default:"default"}},data(){return{optionsVisible:!1}},computed:{getClass(){return{"tm-dropdown__body_left":"left"===this.align,"tm-dropdown__body_right":"right"===this.align,"tm-dropdown__body_center":"center"===this.align,"tm-dropdown__body_inline":"inline"===this.variant,"tm-dropdown__body_padding-none":"noBodyPadding"===this.variant}},getOffset(){return{[`margin-${this.align}`]:`${this.bodyOffset}px`}}},watch:{$route(e,t){e.path!==t.path&&this.optionsVisible&&(this.optionsVisible=!1)}},methods:{close(){this.optionsVisible=!1},toggleOptions(){this.optionsVisible=!this.optionsVisible,this.optionsVisible?document.addEventListener("click",this.listenClickOutside):document.removeEventListener("click",this.listenClickOutside)},closeOptions(){this.optionsVisible=!1,document.removeEventListener("click",this.listenClickOutside)},listenClickOutside(e){this.optionsVisible&&!this.$el.contains(e.target)&&this.toggleOptions()}}};var r=o(83744);const l=(0,r.Z)(i,[["render",a]]),c=l},17490:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s={class:"tm-empty-placeholder__text","data-test-id":"empty-placeholder-text"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMSvgImg");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(r.bem("tm-empty-placeholder",{variant:o.variant})),"data-test-id":"empty-placeholder"},[(0,n.createVNode)(l,{id:o.image,class:(0,n.normalizeClass)(r.bem("tm-empty-placeholder__image",{variant:o.variant}))},null,8,["id","class"]),(0,n.createElementVNode)("div",s,[(0,n.renderSlot)(e.$slots,"default",{},(()=>[(0,n.createTextVNode)((0,n.toDisplayString)(o.title||e.msg("EMPTY_POSTS_MESSAGE")),1)]))]),(0,n.renderSlot)(e.$slots,"footer")],2)}var i=o(46206),r=o(25109);const l={name:"TMEmptyPlaceholder",components:{TMSvgImg:i.Z},props:{title:{type:String,default:null},image:{type:String,default:"/img/empty-post-placeholder.svg#placeholder"},variant:{type:String,default:"default",validator(e){return["default","user-profile","ufo"].includes(e)}}},methods:{bem:r.P}};var c=o(83744);const m=(0,c.Z)(l,[["render",a]]),d=m},82598:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var n=o(70942);const s={class:"tm-entity-image"},a=["height","loading","src","width"],i=["height","loading","src","width"];function r(e,t,o,r,l,c){const m=(0,n.resolveComponent)("TMSvgImg");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[c.hasPlaceholderImage?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},["user"===o.type?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,alt:"",class:"tm-entity-image__pic",height:o.size,loading:o.lazy?"lazy":null,src:c.getDefaultUserAvatar(o.alias),width:o.size},null,8,a)):((0,n.openBlock)(),(0,n.createBlock)(m,{key:1,id:`placeholder-${o.type}`,class:(0,n.normalizeClass)(["tm-image-placeholder",`tm-image-placeholder_${c.color}`]),color:c.color,height:o.size,size:o.size,type:o.type,width:o.size},null,8,["id","class","color","height","size","type","width"]))],64)):((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:1,alt:"",class:"tm-entity-image__pic",height:o.size,loading:o.lazy?"lazy":null,src:o.image,width:o.size},null,8,i))])}var l=o(46206);const c=200,m=["blue","pink","lilac","green"],d=m.length,u=(e,t)=>{const o=Math.abs(e.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)%t);return o+1},p={name:"TMEntityImage",components:{TMSvgImg:l.Z},props:{alias:{type:String,default:null},image:{type:String,default:null},type:{type:String,required:!0},lazy:{type:Boolean,default:!1},size:{type:[Number,String],default:null}},computed:{hasPlaceholderImage(){return!this.image||this.image.indexOf("stub-user-middle.gif")>-1||this.image.indexOf("stub-user-small.gif")>-1},color(){return m[this.hashNumber]},hashNumber(){return this.alias?u(this.alias,d):0}},methods:{getDefaultUserAvatar(e){const t=u(e,c),o=`${t.toString().padStart(3,"0")}.png`;return`https://assets.habr.com/habr-web/img/avatars/${o}`}}};var h=o(83744);const _=(0,h.Z)(p,[["render",r]]),g=_},10714:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s={class:"tm-error-message"},a={class:"tm-error-message__title"},i={class:"tm-error-message__body"};function r(e,t,o,r,l,c){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("h1",a,[(0,n.renderSlot)(e.$slots,"title")]),(0,n.createElementVNode)("div",i,[(0,n.renderSlot)(e.$slots,"message")]),(0,n.createElementVNode)("div",null,[(0,n.renderSlot)(e.$slots,"button")])])}const l={name:"TMErrorMessage"};var c=o(83744);const m=(0,c.Z)(l,[["render",r]]),d=m},46715:(e,t,o)=>{"use strict";o.d(t,{Z:()=>B});var n=o(70942);const s=["data-src","loading","src","srcset"],a={class:"tm-event-card__info"},i=["innerHTML"],r=["innerHTML"],l={class:"tm-event-card__date"},c={class:"tm-event-card__day"},m={key:0,class:"tm-event-card__time"},d={class:"tm-event-card__places"},u={class:"tm-event-card__places-list"},p=["innerHTML"],h={key:0,class:"tm-event-card__places-separator"},_={key:2,class:"tm-event-card__footer"},g={key:3,class:"tm-event-card__footer"},T={class:"tm-event-card__more-text"},E=["href"],S=["innerHTML"];function C(e,t,o,C,v,k){const f=(0,n.resolveComponent)("TMGallery"),A=(0,n.resolveComponent)("router-link"),I=(0,n.resolveComponent)("TMSvgImg"),y=(0,n.resolveComponent)("TMBlock");return(0,n.openBlock)(),(0,n.createBlock)(y,{id:o.event.id,"data-navigatable":!o.isWidget||null,spacing:o.isWidget?"none":"around",tabindex:o.isWidget?-1:0},{body:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{ref:"eventCard",class:(0,n.normalizeClass)(k.bem("tm-event-card",{"is-widget":o.isWidget,responsive:o.responsive}))},[(0,n.createElementVNode)("img",{alt:"",class:"tm-event-card__image","data-src":o.event.imageUrl,loading:o.lazyImage?"lazy":"eager",src:k.smallImage,srcset:k.responsiveImagesSet},null,8,s),v.galleryImages.length?((0,n.openBlock)(),(0,n.createBlock)(f,{key:0,"images-list":v.galleryImages},null,8,["images-list"])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",a,[o.isWidget?((0,n.openBlock)(),(0,n.createBlock)(A,{key:0,class:"tm-event-card__title-link",to:{name:"EVENTS",hash:`#${o.event.id}`},onClick:t[0]||(t[0]=t=>e.$emit("click",o.event))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:o.event.titleHtml},null,8,i)])),_:1},8,["to"])):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"tm-event-card__title",innerHTML:o.event.titleHtml},null,8,r)),(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("div",c,[(0,n.createVNode)(I,{id:"calendar",class:"tm-event-card__icon",size:"24"}),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(k.formattedDate),1)]),k.formattedTime?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[(0,n.createVNode)(I,{id:"clock",class:"tm-event-card__icon",size:"24",title:e.msg("EVENTS_TIME")},null,8,["title"]),(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(k.formattedTime),1)])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",d,[(0,n.createVNode)(I,{id:"geo",class:"tm-event-card__icon tm-event-card__icon_place",size:"24"}),(0,n.createElementVNode)("div",u,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(k.places,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:t,class:"tm-event-card__places-item"},[(0,n.createElementVNode)("span",{innerHTML:e},null,8,p),t<k.places.length-1?((0,n.openBlock)(),(0,n.createElementBlock)("span",h," • ")):(0,n.createCommentVNode)("",!0)])))),128))])]),o.isWidget?((0,n.openBlock)(),(0,n.createElementBlock)("div",_,[(0,n.createVNode)(A,{class:"tm-event-card__link",to:{name:"EVENTS",hash:`#${o.event.id}`},onClick:t[1]||(t[1]=t=>e.$emit("click",o.event))},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("EVENTS_TO_CALENDAR")),1)])),_:1},8,["to"])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",g,[(0,n.createElementVNode)("div",{class:"tm-event-card__more",onClick:t[2]||(t[2]=e=>v.isOpen=!v.isOpen)},[(0,n.createVNode)(I,{id:"expand-triangle",class:(0,n.normalizeClass)(k.bem("tm-event-card__more-icon",{open:v.isOpen})),size:"16"},null,8,["class"]),(0,n.createElementVNode)("span",T,(0,n.toDisplayString)(e.msg("EVENTS_MORE")),1)]),(0,n.createElementVNode)("a",{class:"tm-event-card__link",href:o.event.eventUrl,target:"_blank",onClick:t[3]||(t[3]=(...e)=>k.logEventLinkEvent&&k.logEventLinkEvent(...e))},(0,n.toDisplayString)(e.msg("EVENTS_GO_TO")),9,E)]))]),v.isOpen?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"tm-event-card__description",innerHTML:o.event.descriptionHtml},null,8,S)):(0,n.createCommentVNode)("",!0)],2)])),_:1},8,["id","data-navigatable","spacing","tabindex"])}var v=o(11493),k=o(46206),f=o(25109),A=o(29587),I=o(19913),y=o(11125);const b=(0,n.defineAsyncComponent)((()=>o.e(5121).then(o.bind(o,5507)))),N={name:"TMEventCard",components:{TMBlock:v.Z,TMSvgImg:k.Z,TMGallery:b},props:{event:{type:Object,required:!0},isWidget:{type:Boolean,default:!1},responsive:{type:Boolean,default:!0},lazyImage:{type:Boolean,default:!1}},emits:["click"],data(){return{galleryImages:[],isOpen:!1}},computed:{smallImage(){return(0,y.dv)(this.event.imageUrl,390)},responsiveImagesSet(){return`${this.smallImage}, ${this.event.imageUrl} 2x`},jsDateStart(){return new Date(this.event.startDay)},jsDateFinish(){return this.event.finishDay&&new Date(this.event.finishDay)},dateParams(){const{jsDateStart:e,jsDateFinish:t}=this,o={day:e.getDate().toString(),month:e.getMonth().toString(),year:e.getFullYear()},n=t&&{day:t.getDate().toString(),month:t.getMonth().toString(),year:t.getFullYear()};return{startParams:o,finishParams:n}},formattedDate(){const{jsDateStart:e,jsDateFinish:t}=this,{startParams:o,finishParams:n}=this.dateParams;if(!t||t.getTime()===e.getTime())return this.msg("WHEN_FULL_DATE",{...o,year:void 0});const s=e.getMonth(),a=e.getFullYear(),i=t.getMonth(),r=t.getFullYear();let l,c;return a!==r?(l=this.msg("WHEN_FULL_DATE",o),c=this.msg("WHEN_FULL_DATE",n)):s!==i?(l=this.msg("WHEN_FULL_DATE",{...o,year:void 0}),c=this.msg("WHEN_FULL_DATE",{...n,year:void 0})):(l=e.getDate(),c=this.msg("WHEN_FULL_DATE",{...n,year:void 0})),`${l} – ${c}`},formattedTime(){return this.event.startTime&&this.event.finishTime?`${this.event.startTime} – ${this.event.finishTime}`:this.event.startTime?this.event.startTime:""},places(){const e=[...this.event.geo];return this.event.isOnline&&e.push(this.msg("EVENTS_ONLINE")),e}},mounted(){this.isWidget||(this.galleryImages=(0,A.N)(this.$refs.eventCard),this.$route.hash.includes(this.event.id)&&(this.isOpen=!0))},methods:{bem:f.P,logEventLinkEvent(){(0,I.IZ)("calendar_link",{event_label:this.event.id})}}};var P=o(83744);const L=(0,P.Z)(N,[["render",C]]),B=L},84667:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMEventCard"),l=(0,n.resolveComponent)("TMSwiperSlide"),c=(0,n.resolveComponent)("TMSwiper"),m=(0,n.resolveComponent)("TMBlock");return e.events&&e.events.length?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,"body-variant":"equal",class:"tm-events-block","data-navigatable":"","header-variant":"borderless",spacing:"around",tabindex:"0",title:e.msg("EVENTS_UPCOMING")},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{"active-slide":0,class:"tm-events-widget",navigation:"","slides-per-view":1,"space-between":22},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.events,(e=>((0,n.openBlock)(),(0,n.createBlock)(l,{key:e.id},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)(r,{key:e.id,event:e,"is-widget":"","lazy-image":"",onClick:i.logWidgetClickEvent},null,8,["event","onClick"]))])),_:2},1024)))),128))])),_:1})])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0)}var a=o(33907),i=o(11493),r=o(46715),l=o(61712),c=o(3972),m=o(21805),d=o(25109),u=o(19913);const p={name:"TMEventsWidget",components:{TMEventCard:r.Z,TMBlock:i.Z,TMSwiper:l["default"],TMSwiperSlide:c["default"]},setup(){(0,m.w)((({store:e})=>e.dispatch("events/loadEvents")))},computed:{...(0,a.Se)("events",["events"]),...(0,a.Se)("global",["isDesktop"])},methods:{bem:d.P,logWidgetClickEvent(e){(0,u.IZ)("tm_block_calendar",{event_label:e.id})}}};var h=o(83744);const _=(0,h.Z)(p,[["render",s]]),g=_},16355:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(70942);const s={key:0,class:"tm-fieldset__header"},a={class:"tm-fieldset__container"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMText");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-fieldset",{"tm-fieldset_contrast":o.isContrast}])},[o.title?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(c,{class:"tm-fieldset__title",text:o.title},null,8,["text"])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",a,[(0,n.renderSlot)(e.$slots,"default")]),l.descriptionOrErrorStr?((0,n.openBlock)(),(0,n.createElementBlock)("p",{key:1,class:(0,n.normalizeClass)(["tm-fieldset__description",{"tm-fieldset__description_invalid":o.errors.length}])},[(0,n.createVNode)(c,{text:l.descriptionOrErrorStr},null,8,["text"])],2)):(0,n.createCommentVNode)("",!0)],2)}function r(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("span",{class:(0,n.normalizeClass)(i.className)},(0,n.toDisplayString)(o.text),3)}const l={name:"TMText",props:{text:{type:String,required:!0}},computed:{className(){const e="▇▅▄▅▅▄ ▇▄▅"===this.text;return e?"tm-text_loading":""}}};var c=o(83744);const m=(0,c.Z)(l,[["render",r]]),d=m,u={components:{TMText:d},props:{description:String,errors:{required:!0,type:Array},isContrast:Boolean,title:String},computed:{descriptionOrErrorStr(){return this.errors.length?this.errors.join(", "):this.description}}},p=(0,c.Z)(u,[["render",i]]),h=p},50612:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("FormBuilder",!0),l=(0,n.resolveComponent)("TMPlaceholder");return a.isMounted?((0,n.openBlock)(),(0,n.createBlock)(r,(0,n.mergeProps)({key:0},e.$attrs,{"initial-data":o.modelValue||o.initialData,"onUpdate:data":t[0]||(t[0]=t=>e.$emit("update:modelValue",t)),onVnodeMounted:t[1]||(t[1]=t=>e.$emit("form-mounted"))}),(0,n.createSlots)({_:2},[(0,n.renderList)(e.$slots,((t,o)=>({name:o,fn:(0,n.withCtx)((t=>[(0,n.renderSlot)(e.$slots,o,(0,n.normalizeProps)((0,n.guardReactiveProps)(t)))]))})))]),1040,["initial-data"])):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1,times:2,type:"form"}))}var a=o(79063);const i={name:"TMFormBuilder",components:{TMPlaceholder:a.Z,FormBuilder:(0,n.defineAsyncComponent)((()=>o.e(6235).then(o.t.bind(o,96235,23))))},props:{modelValue:{type:Object,default:null},initialData:{type:Object,default:null}},emits:["update:modelValue","form-mounted"],data(){return{isMounted:!1}},mounted(){this.isMounted=!0}};var r=o(83744);const l=(0,r.Z)(i,[["render",s]]),c=l},73642:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s=["innerHTML"],a=["innerHTML"];function i(e,t,o,i,r,l){return o.shouldFormat?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(["article-formatted-body",l.bem("article-formatted-body",{version:o.version})]),innerHTML:o.articleText},null,10,s)):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,innerHTML:o.articleText},null,8,a))}var r=o(25109);const l={name:"TMFormattedText",props:{articleText:{type:String,required:!0},shouldFormat:{type:Boolean,default:!0},version:{type:[String,Number],default:null}},methods:{bem:r.P}};var c=o(83744);const m=(0,c.Z)(l,[["render",i]]),d=m},92937:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var n=o(70942);function s(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-fs-loading",{"tm-fs-loading_fixed":o.fixedLayout}])},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-fs-loading__loader",{"tm-fs-loading__loader_fixed":o.fixedLoaderPosition}])}," Loading... ",2)],2)}const a={name:"TMFullScreenLoading",props:{fixedLayout:Boolean,fixedLoaderPosition:Boolean}};var i=o(83744);const r=(0,i.Z)(a,[["render",s]]),l=r},10118:(e,t,o)=>{"use strict";o.d(t,{Z:()=>$});var n=o(70942);const s={class:"tm-header-user-menu"},a={key:0,class:"tm-header-user-menu__notifications-count"},i={class:"tm-header-user-menu__item tm-header-user-menu__write"},r=["onClick"],l={class:"tm-header-user-menu__popup-wrapper"},c={class:"tm-header-user-menu__popup-wrapper"},m=["textContent"],d=["data-test-id"],u={class:"tm-header-user-menu__item"};function p(e,t,o,p,h,_){const g=(0,n.resolveComponent)("TMSvgImg"),T=(0,n.resolveComponent)("router-link"),E=(0,n.resolveComponent)("TMCompanyAdminDropdown"),S=(0,n.resolveComponent)("TMDropdown"),C=(0,n.resolveComponent)("TMPopup"),v=(0,n.resolveComponent)("TMEntityImage"),k=(0,n.resolveComponent)("TMUserMenu"),f=(0,n.resolveComponent)("TMButtonBase"),A=(0,n.resolveComponent)("TMLoginLink"),I=(0,n.resolveComponent)("TMSidebar"),y=(0,n.resolveComponent)("TMScrollLockTransition"),b=(0,n.resolveComponent)("TMPageSettingsForm"),N=(0,n.resolveComponent)("TMPopupBase"),P=(0,n.resolveComponent)("RestrictionHint");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(T,{class:"tm-header-user-menu__item tm-header-user-menu__search","data-test-id":"search-button",to:_.toSearchPage},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(g,{id:"search",class:(0,n.normalizeClass)(["tm-header-user-menu__icon tm-header-user-menu__icon_search",{"tm-header-user-menu__icon_dark":_.showDarkIcons}]),size:"24"},null,8,["class"])])),_:1},8,["to"]),e.isLoggedIn?((0,n.openBlock)(),(0,n.createBlock)(T,{key:0,class:"tm-header-user-menu__item tm-header-user-menu__notifications","data-test-id":"tracker-link",to:{name:"TRACKER"}},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(g,{id:"notifications",class:(0,n.normalizeClass)(["tm-header-user-menu__icon tm-header-user-menu__icon_notifications",{"tm-header-user-menu__icon_dark":_.showDarkIcons}]),size:"24"},null,8,["class"]),_.showUnreadNotifications?((0,n.openBlock)(),(0,n.createElementBlock)("span",a,(0,n.toDisplayString)(_.totalUnreadNotificationsFormatted),1)):(0,n.createCommentVNode)("",!0)])),_:1})):(0,n.createCommentVNode)("",!0),_.adminDropdownVisible?((0,n.openBlock)(),(0,n.createBlock)(E,{key:1,class:"tm-header-user-menu__item"})):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",i,[_.showDropdown?((0,n.openBlock)(),(0,n.createBlock)(S,{key:0,align:"right"},{head:(0,n.withCtx)((({toggle:t})=>[(0,n.createElementVNode)("button",{class:"tm-header-user-menu__toggle",onClick:o=>e.isDesktop?t():h.editorPopupVisible=!0},[(0,n.createVNode)(g,{id:"write",class:(0,n.normalizeClass)(["tm-header-user-menu__icon tm-header-user-menu__icon_write",{"tm-header-user-menu__icon_dark":_.showDarkIcons}]),size:"24"},null,8,["class"])],8,r)])),body:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",l,[_.canCreateArticleAndNews?((0,n.openBlock)(),(0,n.createBlock)(T,{key:0,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_ARTICLE"}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_CREATE_ARTICLE")),1)])),_:1})):((0,n.openBlock)(),(0,n.createBlock)(T,{key:1,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_SANDBOX"}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_CREATE_ARTICLE")),1)])),_:1})),_.canCreatePost?((0,n.openBlock)(),(0,n.createBlock)(T,{key:2,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_POST"}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_CREATE_POST")),1)])),_:1})):(0,n.createCommentVNode)("",!0),_.canCreateArticleAndNews?((0,n.openBlock)(),(0,n.createBlock)(T,{key:3,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_NEWS"}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_CREATE_NEWS")),1)])),_:1})):(0,n.createCommentVNode)("",!0),e.canPostVoice?((0,n.openBlock)(),(0,n.createBlock)(T,{key:4,class:"tm-header-user-menu__popup-item",to:{name:"VOICE"}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("VOICE_TITLE")),1)])),_:1})):(0,n.createCommentVNode)("",!0),e.isSuperAdmin?((0,n.openBlock)(),(0,n.createBlock)(T,{key:5,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_MEGAPOST"}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_CREATE_MEGAPOST")),1)])),_:1})):(0,n.createCommentVNode)("",!0)])])),_:1})):e.isLoggedIn?((0,n.openBlock)(),(0,n.createBlock)(T,{key:1,to:{name:"PUBLICATION_SANDBOX"}},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(g,{id:"write",class:(0,n.normalizeClass)(["tm-header-user-menu__icon tm-header-user-menu__icon_write",{"tm-header-user-menu__icon_dark":_.showDarkIcons}]),size:"24"},null,8,["class"])])),_:1})):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,onClick:t[0]||(t[0]=e=>_.togglePublicationHint(e))},[(0,n.createVNode)(g,{id:"write",class:(0,n.normalizeClass)(["tm-header-user-menu__icon tm-header-user-menu__icon_write",{"tm-header-user-menu__icon_dark":_.showDarkIcons}]),size:"24"},null,8,["class"])])),h.editorPopupVisible?((0,n.openBlock)(),(0,n.createBlock)(C,{key:3,onClose:t[7]||(t[7]=e=>h.editorPopupVisible=!1)},{body:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",c,[_.canCreateArticleAndNews?((0,n.openBlock)(),(0,n.createBlock)(T,{key:0,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_ARTICLE"},onClick:t[1]||(t[1]=e=>h.editorPopupVisible=!1)},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_CREATE_ARTICLE")),1)])),_:1})):((0,n.openBlock)(),(0,n.createBlock)(T,{key:1,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_SANDBOX"},onClick:t[2]||(t[2]=e=>h.editorPopupVisible=!1)},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_CREATE_ARTICLE")),1)])),_:1})),_.canCreatePost?((0,n.openBlock)(),(0,n.createBlock)(T,{key:2,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_POST"},onClick:t[3]||(t[3]=e=>h.editorPopupVisible=!1)},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_CREATE_POST")),1)])),_:1})):(0,n.createCommentVNode)("",!0),_.canCreateArticleAndNews?((0,n.openBlock)(),(0,n.createBlock)(T,{key:3,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_NEWS"},onClick:t[4]||(t[4]=e=>h.editorPopupVisible=!1)},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_CREATE_NEWS")),1)])),_:1})):(0,n.createCommentVNode)("",!0),e.canPostVoice?((0,n.openBlock)(),(0,n.createBlock)(T,{key:4,class:"tm-header-user-menu__popup-item",to:{name:"VOICE"},onClick:t[5]||(t[5]=e=>h.editorPopupVisible=!1)},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("VOICE_TITLE")),1)])),_:1})):(0,n.createCommentVNode)("",!0),e.isSuperAdmin?((0,n.openBlock)(),(0,n.createBlock)(T,{key:5,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_MEGAPOST"},onClick:t[6]||(t[6]=e=>h.editorPopupVisible=!1)},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_CREATE_MEGAPOST")),1)])),_:1})):(0,n.createCommentVNode)("",!0)])])),_:1})):(0,n.createCommentVNode)("",!0)]),e.isLoggedIn?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,class:(0,n.normalizeClass)(["tm-header-user-menu__item",{"tm-header-user-menu__user_desktop":_.showDarkIcons}])},[_.showDarkIcons?((0,n.openBlock)(),(0,n.createBlock)(S,{key:0,align:"right"},{head:(0,n.withCtx)((({toggle:t})=>[(0,n.createVNode)(v,{alias:e.user.alias,"data-test-id":_.toggleTestId,image:e.user.avatarUrl,size:32,type:"user",onClick:t},null,8,["alias","data-test-id","image","onClick"]),e.unreadConversations?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:"tm-header-user-menu__conversations-count",textContent:(0,n.toDisplayString)(e.unreadConversations)},null,8,m)):(0,n.createCommentVNode)("",!0)])),body:(0,n.withCtx)((({visible:e})=>[e?((0,n.openBlock)(),(0,n.createBlock)(k,{key:0,onOpenPageSettings:_.openPageSettings},null,8,["onOpenPageSettings"])):(0,n.createCommentVNode)("",!0)])),_:1})):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:(0,n.normalizeClass)(["tm-header-user-menu__toggle",{"tm-header-user-menu__toggle_has-conversations":e.unreadConversations>0}]),"data-test-id":_.toggleTestId,onClick:t[8]||(t[8]=e=>h.overlayVisible=!0)},[(0,n.createVNode)(v,{alias:e.user.alias,image:e.user.avatarUrl,size:e.isMobile&&!e.isTablet?24:32,type:"user"},null,8,["alias","image","size"])],10,d))],2)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:3},[(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("button",{class:"tm-header-user-menu__toggle","data-test-id":"user-menu-settings",onClick:t[9]||(t[9]=(...e)=>_.openPageSettings&&_.openPageSettings(...e))},[(0,n.createVNode)(g,{id:"page-settings",class:(0,n.normalizeClass)(["tm-header-user-menu__icon",{"tm-header-user-menu__icon_dark":_.showDarkIcons}]),size:24},null,8,["class"])])]),(0,n.createVNode)(A,{class:"tm-header-user-menu__item","ga-event":"button_login"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(f,{class:"tm-header-user-menu__login"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("NAV_LOGIN")),1)])),_:1})])),_:1})],64)),(0,n.createVNode)(y,{name:"fade-sidebar"},{default:(0,n.withCtx)((()=>[h.overlayVisible?((0,n.openBlock)(),(0,n.createBlock)(I,{key:0,position:"right",onClose:t[11]||(t[11]=e=>h.overlayVisible=!1)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(k,{onClose:t[10]||(t[10]=e=>h.overlayVisible=!1),onOpenPageSettings:_.openPageSettings},null,8,["onOpenPageSettings"])])),_:1})):(0,n.createCommentVNode)("",!0)])),_:1}),((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[(0,n.createVNode)(y,{name:"transition-fade"},{default:(0,n.withCtx)((()=>[h.pageSettingsVisible?((0,n.openBlock)(),(0,n.createBlock)(N,{key:0,onClose:_.closePageSettings},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(b,{onClosePopup:_.closePageSettings},null,8,["onClosePopup"])])),_:1},8,["onClose"])):(0,n.createCommentVNode)("",!0)])),_:1})])),h.isHintVisible?((0,n.openBlock)(),(0,n.createBlock)(P,(0,n.mergeProps)({key:4},h.hintProps,{onClose:t[12]||(t[12]=e=>h.isHintVisible=!1)}),null,16)):(0,n.createCommentVNode)("",!0)])}var h=o(33907),_=o(7281);const g=["href","title"],T=["title","onClick"],E={class:"company-admin-dropdown__list"};function S(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgImg"),l=(0,n.resolveComponent)("TMCompaniesAdminList"),c=(0,n.resolveComponent)("TMDropdown");return(0,n.openBlock)(),(0,n.createBlock)(c,{align:"right",class:"company-admin-dropdown",variant:"noBodyPadding"},{head:(0,n.withCtx)((({toggle:t})=>[1===e.companiesAdmin.length?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:0,class:"company-admin-dropdown__button",href:i.companyAdminLink,title:e.msg("COMPANY_ADMIN")},[(0,n.createVNode)(r,{id:"company",class:"company-admin-dropdown__icon",size:"24"})],8,g)):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:"company-admin-dropdown__button",title:e.msg("COMPANIES_ADMIN"),onClick:t},[(0,n.createVNode)(r,{id:"company",class:"company-admin-dropdown__icon",size:"24"}),(0,n.createVNode)(r,{id:"arrow-down",class:"company-admin-dropdown__icon company-admin-dropdown__icon_arrow",size:"20"})],8,T))])),body:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",E,[(0,n.createVNode)(l,{companies:e.companiesAdmin},null,8,["companies"])])])),_:1})}var C=o(91652),v=o(68651),k=o(46206);const f={name:"TMCompanyAdminDropdown",components:{TMCompaniesAdminList:C.Z,TMSvgImg:k.Z,TMDropdown:v.Z},computed:{...(0,h.Se)("me",["companiesAdmin"]),companyAdminLink(){return`https://habr.com/company/${this.companiesAdmin[0].alias}/admin/`}}};var A=o(83744);const I=(0,A.Z)(f,[["render",S]]),y=I;var b=o(82598),N=o(73617),P=o(68172),L=o(36450),B=o(40248),O=o(43210),w=o(19913);const M=(0,n.defineAsyncComponent)((()=>Promise.resolve().then(o.bind(o,91003)))),R=(0,n.defineAsyncComponent)((()=>Promise.resolve().then(o.bind(o,97812)))),V=(0,n.defineAsyncComponent)((()=>o.e(4978).then(o.bind(o,44978)))),D={name:"TMHeaderUserMenu",components:{RestrictionHint:L.Z,TMLoginLink:N.Z,TMPageSettingsForm:R,TMPopupBase:M,TMScrollLockTransition:B.Z,TMPopup:P.Z,TMCompanyAdminDropdown:y,TMDropdown:v.Z,TMSidebar:O.Z,TMEntityImage:b.Z,TMSvgImg:k.Z,TMUserMenu:V,TMButtonBase:_.Z},data(){return{dropdownVisible:!1,overlayVisible:!1,pageSettingsVisible:!1,editorPopupVisible:!1,isMounted:!1,isHintVisible:!1,hintProps:null}},computed:{...(0,h.Se)("global",["isMobile","isTablet","isDesktop","isSettingsVisible"]),...(0,h.Se)("me",["isLoggedIn","companiesAdmin","canPostVoice","isSuperAdmin","isReadOnlyOrCommentsManual","isReadOnlyOrReadAndComment","totalUnreadNotifications","unreadConversations"]),...(0,h.Se)("i18n",["langOptions"]),...(0,h.rn)("me",["user"]),...(0,h.rn)("global",["isPwa"]),showUnreadNotifications(){return this.isMounted&&this.totalUnreadNotifications},totalUnreadNotificationsFormatted(){return this.totalUnreadNotifications>99?"99+":`+${this.totalUnreadNotifications}`},showDarkIcons(){return this.isDesktop&&!this.isPwa},toggleTestId(){return this.isLoggedIn?this.unreadConversations>0?"menu-toggle-unread":"menu-toggle-user":"menu-toggle-guest"},toSearchPage(){return{name:"SEARCH_QUERY_RESULTS",params:{hl:this.langOptions.hl}}},adminDropdownVisible(){return this.isDesktop&&!this.isPwa&&this.isLoggedIn&&0!==this.companiesAdmin.length},showDropdown(){return this.isLoggedIn&&(this.canPostVoice||this.canCreatePost)},canCreatePost(){return!this.isReadOnlyOrCommentsManual},canCreateArticleAndNews(){return!this.isReadOnlyOrReadAndComment}},watch:{isSettingsVisible(e){e&&this.openPageSettings()}},mounted(){this.isMounted=!0},methods:{...(0,h.nv)("global",["setIsSettingsVisible"]),openPageSettings(){this.pageSettingsVisible=!0},togglePublicationHint(e){this.hintProps={target:e.target,messageKey:"PUBLICATION_AUTHOR_HINT",eventLabel:"hint_reg_publish_go",placement:"bottom-end",offset:[72,12]},this.isHintVisible=!this.isHintVisible,this.isHintVisible&&(0,w.IZ)("hint_reg_publish_open")},closePageSettings(){this.pageSettingsVisible=!1,this.setIsSettingsVisible({isSettingsVisible:!1})}}},U=(0,A.Z)(D,[["render",p]]),$=U},59933:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createBlock)(r,{to:i.route},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["to"])}var a=o(33907),i=o(99691);const r={article:{corporative:"ARTICLES_LIST_BY_COMPANY",collective:"HUB_PAGE"},post:{corporative:"POSTS_BY_COMPANY",collective:"POSTS_BY_HUB_ALL"}},l={name:"TMHubLink",props:{hub:{type:Object,required:!0},publicationType:{type:String,default:"article",validator:(0,i.H)(["article","post"])}},computed:{...(0,a.Se)("i18n",["langOptions"]),route(){const{hub:{alias:e},langOptions:{hl:t}}=this,o=this.hub.type||"collective",n=r[this.publicationType][o];return{name:n,params:{name:e,hubName:e,hl:t}}}}};var c=o(83744);const m=(0,c.Z)(l,[["render",s]]),d=m},63020:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s=["innerHTML"];function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMHubLink"),c=(0,n.resolveComponent)("TMSeparatedList");return(0,n.openBlock)(),(0,n.createBlock)(c,{list:o.hubs,title:o.title},{default:(0,n.withCtx)((({item:e})=>[(0,n.createVNode)(l,{class:"tm-hubs-list__link",hub:e},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:e.title},null,8,s)])),_:2},1032,["hub"])])),_:1},8,["list","title"])}var i=o(59933),r=o(15971);const l={name:"TMHubsList",components:{TMSeparatedList:r.Z,TMHubLink:i.Z},props:{hubs:{type:Array,required:!0},title:{type:String,required:!0}}};var c=o(83744);const m=(0,c.Z)(l,[["render",a]]),d=m},28330:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s={class:"tm-icon-counter"},a=["textContent"];function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMSvgImg");return(0,n.openBlock)(),(0,n.createElementBlock)("span",s,[(0,n.createVNode)(c,{id:o.iconId,class:"tm-icon-counter__icon",size:"24",title:o.title},null,8,["id","title"]),(0,n.createElementVNode)("span",{class:"tm-icon-counter__value",textContent:(0,n.toDisplayString)(l.formattedCounter)},null,8,a)])}var r=o(46206),l=o(87934);const c={name:"TMIconCounter",components:{TMSvgImg:r.Z},props:{iconId:{type:String,required:!0},counter:{type:[String,Number],default:null},abbreviated:Boolean,title:{type:String,required:!0}},computed:{formattedCounter(){return this.abbreviated?(0,l.O)(this.counter):this.counter}}};var m=o(83744);const d=(0,m.Z)(c,[["render",i]]),u=d},93730:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var n=o(70942);const s={class:"tm-input-radio-labeled__label"},a=["data-test-id"],i=(0,n.createElementVNode)("span",{class:"tm-input-radio-labeled__fake"},null,-1);function r(e,t,o,r,l,c){const m=(0,n.resolveComponent)("TMInputRadioBase");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-input-radio-labeled",e.$attrs.class])},[(0,n.createElementVNode)("label",s,[(0,n.createElementVNode)("div",{class:"tm-checkbox-labeled__input","data-test-id":`checkbox-labeled-input_${e.$attrs.name}`},[(0,n.createVNode)(m,(0,n.mergeProps)({modelValue:e.localValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.localValue=t)},e.attrsWithoutClass,{"checked-value":e.checkedValue,class:"tm-input-radio-labeled__real"}),null,16,["modelValue","checked-value"]),i],8,a),(0,n.renderSlot)(e.$slots,"default")])],2)}const l=["checked"];function c(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("input",{checked:e.modelValue===e.checkedValue,type:"radio",onChange:t[0]||(t[0]=(...t)=>e.onChange&&e.onChange(...t))},null,40,l)}const m={name:"TMInputRadioBase",props:{checkedValue:{type:String,default:null},modelValue:{type:String,default:null}},emits:["update:modelValue"],methods:{onChange(){this.$emit("update:modelValue",this.checkedValue)}}};var d=o(83744);const u=(0,d.Z)(m,[["render",c]]),p=u,h={name:"TMInputRadioLabeled",components:{TMInputRadioBase:p},inheritAttrs:!1,props:{checkedValue:{type:String,default:null},modelValue:{type:String,default:null}},emits:["update:modelValue"],computed:{localValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},attrsWithoutClass(){const e={...this.$attrs};return delete e.class,e}}},_=(0,d.Z)(h,[["render",r]]),g=_},28902:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var n=o(70942);function s(e,t,o,s,a,i){return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("input",{ref:"input","onUpdate:modelValue":t[0]||(t[0]=e=>i.localValue=e),onBlur:t[1]||(t[1]=t=>e.$emit("blur")),onFocus:t[2]||(t[2]=t=>e.$emit("focus")),onKeyup:[t[3]||(t[3]=(0,n.withKeys)((t=>e.$emit("delete")),["delete"])),t[4]||(t[4]=(0,n.withKeys)((t=>e.$emit("down")),["down"])),t[5]||(t[5]=(0,n.withKeys)((t=>e.$emit("enter")),["enter"])),t[6]||(t[6]=(0,n.withKeys)((t=>e.$emit("esc")),["esc"]))]},null,544)),[[n.vModelText,i.localValue]])}const a={props:{modelValue:{type:String,required:!0}},emits:["update:modelValue","blur","focus","delete","down","enter","esc"],computed:{localValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{blur(){this.$refs.input.blur()},focus(){this.$refs.input.focus()}}};var i=o(83744);const r=(0,i.Z)(a,[["render",s]]),l=r},46604:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s={key:0,class:"tm-input-text-decorated__label tm-input-text-decorated__label_before"},a={key:1,class:"tm-input-text-decorated__label tm-input-text-decorated__label_after"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMInputTextBase");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-input-text-decorated",l.className])},[e.$slots.before?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.renderSlot)(e.$slots,"before")])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(c,(0,n.mergeProps)({ref:"input"},e.$attrs,{modelValue:l.localValue,"onUpdate:modelValue":t[0]||(t[0]=e=>l.localValue=e),class:["tm-input-text-decorated__input",{"tm-input-text-decorated__input_invalid":o.isInvalid}],onBlur:t[1]||(t[1]=t=>e.$emit("blur")),onDelete:t[2]||(t[2]=t=>e.$emit("delete")),onEnter:t[3]||(t[3]=t=>e.$emit("enter")),onFocus:t[4]||(t[4]=t=>e.$emit("focus"))}),null,16,["modelValue","class"]),e.$slots.after?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.renderSlot)(e.$slots,"after")])):(0,n.createCommentVNode)("",!0)],2)}var r=o(28902);const l={components:{TMInputTextBase:r.Z},props:{isInvalid:Boolean,modelValue:{type:String,required:!0}},emits:["update:modelValue","blur","delete","enter","focus"],computed:{className(){return{"tm-input-text-decorated_has-label-after":this.$slots.after,"tm-input-text-decorated_has-label-before":this.$slots.before}},localValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{blur(){this.$refs.input.blur()},focus(){this.$refs.input.focus()}}};var c=o(83744);const m=(0,c.Z)(l,[["render",i]]),d=m},18287:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});const n={name:"TMIntersect",props:{threshold:{type:Array,required:!1,default:()=>[0,.2]},root:{type:"undefined"!==typeof HTMLElement?HTMLElement:Object,required:!1,default:null},rootMargin:{type:String,required:!1,default:"0px 0px 0px 0px"}},emits:["leave","enter"],mounted(){this.observer=new IntersectionObserver((([{target:e,isIntersecting:t}])=>{const o=()=>this.observer.unobserve(e);t?this.$emit("enter",{unobserve:o}):this.$emit("leave",{unobserve:o})}),{threshold:this.threshold,root:this.root,rootMargin:this.rootMargin}),this.observer.observe(this.$el)},unmounted(){this.observer.disconnect()},render(){const e=this.$slots.default()||null;return Array.isArray(e)?e[0]:e}},s=n,a=s},37700:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s={class:"tm-labeled-checkbox"},a={class:"tm-labeled-checkbox__container"},i=["for"];function r(e,t,o,r,l,c){const m=(0,n.resolveComponent)("TMSimpleCheckbox");return(0,n.openBlock)(),(0,n.createElementBlock)("span",s,[(0,n.createElementVNode)("span",a,[(0,n.createVNode)(m,{class:"tm-labeled-checkbox__input",input:c.input,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["input"]),(0,n.createElementVNode)("label",{class:"tm-labeled-checkbox__label",for:l.forAttribute},[(0,n.renderSlot)(e.$slots,"default")],8,i)])])}var l=o(309);const c={name:"TMLabeledCheckbox",components:{TMSimpleCheckbox:l.Z},props:{name:{type:String,required:!0},id:{type:String,default:null},modelValue:Boolean,disabled:Boolean},emits:["update:modelValue"],data(){return{forAttribute:null}},computed:{input(){return{name:this.name,value:this.modelValue,disabled:this.disabled}}},mounted(){this.forAttribute=this.name}};var m=o(83744);const d=(0,m.Z)(c,[["render",r]]),u=d},67765:(e,t,o)=>{"use strict";o.d(t,{Z:()=>E});var n=o(70942);const s={ref:"sidebarWrapper",class:"tm-layout-sidebar"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("DarkModePromo"),c=(0,n.resolveComponent)("TMAdfoxBanner");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(`tm-layout-sidebar__placeholder_${e.scrollMode}`)},null,2),(0,n.createElementVNode)("div",{ref:"sidebar",class:(0,n.normalizeClass)(["tm-sexy-sidebar",`tm-sexy-sidebar_${e.scrollMode}`]),style:(0,n.normalizeStyle)({"margin-top":`${e.sidebarMargin}px`})},[e.showAdv?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0})):(0,n.createCommentVNode)("",!0),e.showAdv?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,ref:"adBlock",class:(0,n.normalizeClass)(["tm-layout-sidebar__ads",`tm-layout-sidebar__ads_${e.scrollMode}`])},[e.userShowAdv&&e.showAdv?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"adfox-id":"164725680533065327",class:"tm-layout-sidebar__banner tm-layout-sidebar__banner_top","div-id":"sidebarBanner",params:{pp:"g",ps:"fnps",p2:"hnxd"},variant:"half-page"})):(0,n.createCommentVNode)("",!0)],2)):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,class:(0,n.normalizeClass)(`tm-layout-sidebar__placeholder_${e.scrollMode}`)},null,2)),(0,n.renderSlot)(e.$slots,"default"),e.userShowAdv&&e.showAdv&&e.showBottomBanner?((0,n.openBlock)(),(0,n.createBlock)(c,{key:3,"adfox-id":"164725691003361602",class:"tm-layout-sidebar__banner tm-layout-sidebar__banner_bottom","div-id":"sidebarBannerBottom",params:{pp:"i",ps:"fnps",p2:"hnxg"},variant:"medium-rectangle"})):(0,n.createCommentVNode)("",!0)],6)],512)}var i=o(33907),r=o(10819),l=o(84404);const c="stick-top",m="stick-bottom",d="margin",u="initial",p=56,h=30,_={name:"TMLayoutSidebar",components:{DarkModePromo:l.Z,TMAdfoxBanner:r.Z},props:{showAdv:{type:Boolean,default:!1},showBottomBanner:{type:Boolean,default:!0}},data(){return{prevScroll:0,sidebarMargin:0,scrollMode:u}},computed:{...(0,i.rn)("me",["user"]),...(0,i.Se)("me",["userShowAdv"]),scrollModeMarginOrInitial(){return-1!==[d,u].indexOf(this.scrollMode)},shouldShowAdv(){return this.showAdv&&this.userShowAdv}},mounted(){requestAnimationFrame((()=>{this.prevScroll=window.scrollY,this.handleScroll(),window.addEventListener("scroll",this.handleScroll,{passive:!0})}))},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const e=this.$refs.sidebar,t=document.querySelector(".tm-page__main > *");if(e&&t){const o=e.scrollHeight,n=window.innerHeight,s=t.scrollHeight,a=s-n,i=h/100,r=this.shouldShowAdv?i*a:0,l=r+o-n+p,{scrollY:u}=window;if(o<=n||o>=s)return this.sidebarMargin=0,void(this.scrollMode=c);u<=r?(this.sidebarMargin=0,this.scrollMode=c):u<=l?(this.sidebarMargin=e.offsetTop,this.scrollMode=d):(this.sidebarMargin=0,this.scrollMode=m)}}}};var g=o(83744);const T=(0,g.Z)(_,[["render",a]]),E=T},73617:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s=["href"];function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createElementBlock)("a",{href:r.loginUrl,rel:"nofollow",onClickCapture:t[0]||(t[0]=(...e)=>r.logEvent&&r.logEvent(...e))},[(0,n.renderSlot)(e.$slots,"default")],40,s)}var i=o(19913);const r={name:"TMLoginLink",props:{gaEvent:{type:[String,Object],required:!1,default:null}},computed:{loginUrl(){const e=this.$route.path;return`https://habr.com/kek/v1/auth/habrahabr/?back=${e}&hl=${this.langOptions.hl}`}},methods:{logEvent(){this.gaEvent&&(0,i.IZ)(this.gaEvent)}}};var l=o(83744);const c=(0,l.Z)(r,[["render",a]]),m=c},88205:(e,t,o)=>{"use strict";o.d(t,{Z:()=>C});var n=o(70942);const s={class:"tm-markdown-switcher-popup"},a={class:"tm-markdown-switcher-popup__info"},i={class:"tm-markdown-switcher-popup__radio-group"},r={class:"tm-markdown-switcher-popup__radio"},l={class:"tm-markdown-switcher-popup__radio"};function c(e,t,o,c,m,d){const u=(0,n.resolveComponent)("TMSvgImg"),p=(0,n.resolveComponent)("TMInputRadioLabeled"),h=(0,n.resolveComponent)("TMSvgIcon"),_=(0,n.resolveComponent)("router-link"),g=(0,n.resolveComponent)("TMButtonBase"),T=(0,n.resolveComponent)("TMPopup");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(d.bem("tm-markdown-switcher",{disabled:o.disabled}))},[(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(d.bem("tm-markdown-switcher__control",{disabled:o.disabled})),type:"button",onClick:t[0]||(t[0]=(...e)=>d.onControlClick&&d.onControlClick(...e))},[(0,n.createVNode)(u,{id:m.savedMode,class:"tm-markdown-switcher__control-icon",size:"24",title:d.savedModeTitle},null,8,["id","title"])],2),m.showPopup?((0,n.openBlock)(),(0,n.createBlock)(T,{key:0,title:e.msg("EDITOR_SETTINGS"),onClose:t[3]||(t[3]=e=>m.showPopup=!1)},{body:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",a,(0,n.toDisplayString)(e.msg("EDITOR_SETTINGS_TITLE")),1),(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",r,[(0,n.createVNode)(p,{modelValue:m.editorMode,"onUpdate:modelValue":t[1]||(t[1]=e=>m.editorMode=e),"checked-value":"wysiwyg",name:"editor-mode",value:"wysiwyg"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("EDITOR_WYSIWYG")),1)])),_:1},8,["modelValue"]),(0,n.createVNode)(_,{class:"tm-markdown-switcher__help-icon",target:"_blank",to:{path:"/docs/help/wysiwyg/"}},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h,{id:"help",size:"24"})])),_:1})]),(0,n.createElementVNode)("div",l,[(0,n.createVNode)(p,{modelValue:m.editorMode,"onUpdate:modelValue":t[2]||(t[2]=e=>m.editorMode=e),"checked-value":"markdown",name:"editor-mode",value:"markdown"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("EDITOR_MARKDOWN")),1)])),_:1},8,["modelValue"]),(0,n.createVNode)(_,{class:"tm-markdown-switcher__help-icon",target:"_blank",to:{path:"/docs/help/markdown/"}},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h,{id:"help",size:"24"})])),_:1})])]),(0,n.createVNode)(g,{class:"tm-markdown-switcher-popup__save","is-loading":m.isLoading,"style-size":"small","style-type":"solid",type:"submit",onClick:d.onUseMarkdownSave},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("FORMS_SAVE_SETTINGS_TEXT")),1)])),_:1},8,["is-loading","onClick"])])])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0)],2)}var m=o(33907),d=o(7281),u=o(93730),p=o(68172),h=o(2095),_=o(46206),g=o(25109);const T={name:"TMMarkdownSwitcher",components:{TMPopup:p.Z,TMInputRadioLabeled:u.Z,TMButtonBase:d.Z,TMSvgIcon:h.Z,TMSvgImg:_.Z},props:{useMarkdown:Boolean,useMarkdownSettingsKey:{required:!0,type:String},disabled:Boolean},emits:["changeUseMarkdown"],data(){return{showPopup:!1,editorMode:this.useMarkdown?"markdown":"wysiwyg",savedMode:this.useMarkdown?"markdown":"wysiwyg",isLoading:!1}},computed:{savedModeTitle(){return"markdown"===this.savedMode?this.msg("EDITOR_MARKDOWN"):this.msg("EDITOR_WYSIWYG")}},watch:{useMarkdown(){this.editorMode=this.useMarkdown?"markdown":"wysiwyg",this.setSavedMode()}},methods:{bem:g.P,...(0,m.nv)("me",["updateUseMarkdown"]),setSavedMode(){this.savedMode=this.useMarkdown?"markdown":"wysiwyg"},onControlClick(){this.disabled||(this.showPopup=!0)},onUseMarkdownSave(){const e="markdown"===this.editorMode;this.isLoading=!0,this.updateUseMarkdown({[this.useMarkdownSettingsKey]:e}).then((()=>{this.setSavedMode(),this.showPopup=!1,this.$emit("changeUseMarkdown",e)})).catch((e=>{this.$toast.error(e.message)})).finally((()=>{this.isLoading=!1}))}}};var E=o(83744);const S=(0,E.Z)(T,[["render",c]]),C=S},16102:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var n=o(70942);const s={class:"tm-megapost-snippet"},a={class:"tm-megapost-snippet__tint"},i={class:"tm-megapost-snippet__header"},r=["innerHTML"],l=["innerHTML"],c={key:0,ref:"megapostHubs",class:"tm-megapost-snippet__hubs"},m=["innerHTML"],d={key:0,class:"tm-megapost-snippet__body"},u=["innerHTML"];function p(e,t,o,p,h,_){const g=(0,n.resolveComponent)("router-link"),T=(0,n.resolveComponent)("TMDatetime"),E=(0,n.resolveComponent)("TMPublicationLink"),S=(0,n.resolveComponent)("TMHubLink"),C=(0,n.resolveComponent)("TMArticleFormattedBody");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",{class:"tm-megapost-snippet__wrapper",style:(0,n.normalizeStyle)(_.getBackgroundStyles)},[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("header",i,[_.companyHub?((0,n.openBlock)(),(0,n.createBlock)(g,{key:0,ref:"companyBlogName",class:"tm-megapost-snippet__link tm-megapost-snippet__company-blog",to:_.companyRoute},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:_.companyBlogName},null,8,r)])),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(E,{article:o.article,class:"tm-megapost-snippet__link tm-megapost-snippet__date"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(T,{ref:"megapostPublishedDate",class:"tm-megapost-snippet__datetime-published",date:new Date(o.article.timePublished)},null,8,["date"])])),_:1},8,["article"])]),(0,n.createVNode)(E,{article:o.article,class:"tm-megapost-snippet__link tm-megapost-snippet__card"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("h2",{ref:"megapostTitle",class:"tm-megapost-snippet__title","data-test-id":"megapost-snippet-title",innerHTML:o.article.titleHtml},null,8,l)])),_:1},8,["article"]),0!==_.hubs.length?((0,n.openBlock)(),(0,n.createElementBlock)("ul",c,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(_.hubs,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:e.id,class:"tm-megapost-snippet__hub"},[(0,n.createVNode)(S,{class:"tm-megapost-snippet__link",hub:e},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:e.titleHtml},null,8,m)])),_:2},1032,["hub"])])))),128))],512)):(0,n.createCommentVNode)("",!0)])],4),_.showLead&&o.article.leadData?((0,n.openBlock)(),(0,n.createElementBlock)("div",d,[o.article.leadData.textHtml?((0,n.openBlock)(),(0,n.createBlock)(C,{key:0,ref:"megapostLeadText","article-text":o.article.leadData.textHtml,version:_.editorVersion},null,8,["article-text","version"])):(0,n.createCommentVNode)("",!0),o.article.leadData.buttonTextHtml?((0,n.openBlock)(),(0,n.createBlock)(E,{key:1,ref:"megapostLeadReadMore",article:o.article,class:"tm-megapost-snippet__readmore"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:o.article.leadData.buttonTextHtml},null,8,u)])),_:1},8,["article"])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)])}var h=o(33907),_=o(57394),g=o(63599),T=o(59933),E=o(75222),S=o(11125);const C={name:"TMMegapostSnippet",components:{TMArticleFormattedBody:_.Z,TMHubLink:T.Z,TMDatetime:g.Z,TMPublicationLink:E.Z},props:{article:{type:Object,default:()=>{}},articleView:{type:String,default:null,validator(e){return["cards","list"].includes(e)}}},computed:{...(0,h.Se)("articlesList",{getGlobalArticleView:"getArticleView"}),getArticleView(){return this.articleView||this.getGlobalArticleView},showLead(){return"cards"===this.getArticleView},getBackgroundStyles(){return!this.$isServer&&this.article.leadData&&this.article.leadData.imageUrl?{background:`url(${(0,S.V0)(this.article.leadData.imageUrl)}) no-repeat center center / cover`}:null},editorVersion(){return parseInt(this.article.editorVersion,10)},companyHub(){return this.article.isCorporative?this.article.hubs.find((e=>"corporative"===e.type)):null},companyBlogName(){return this.companyHub.titleHtml},companyRoute(){const{alias:e}=this.companyHub;return e?{name:"COMPANY_PROFILE_ROOT",params:{name:e}}:null},hubs(){return this.article.hubs.filter((e=>e!==this.companyHub))}},mounted(){this.$forceUpdate()}};var v=o(83744);const k=(0,v.Z)(C,[["render",p]]),f=k},96973:(e,t,o)=>{"use strict";function n(e){const t=[];let o="",n="",s="",a=!1,i=!1;for(let r=0;r<e.length;r+=1){const l=e[r];"<"!==l?">"!==l?"/"===l&&a?(a=!1,i=!1,t.push([n.trim()]),n="",r+=1):a?n+=l:i?s+=l:o+=l:(a=!1,i=!0):(a=!0,i?(t.push([n,s]),r+=n.length+2,n="",s="",a=!1,i=!1):o&&(t.push(o),o=""))}return o&&t.push(o),t}function s(e,t){const{slots:o}=t,{message:s}=e,a=n(s);return a.map((e=>{if(Array.isArray(e)){const[t,n]=e;return t in o?o[t]({content:n}):n}return e}))}o.d(t,{Z:()=>r}),s.props={message:{type:String,required:!0}};const a=s,i=a,r=i},41056:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={class:"tm-minus-reason"},a={key:0,class:"tm-minus-reason__description"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMFormBuilder"),m=(0,n.resolveComponent)("TMButtonBase");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[o.isMultiple?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,(0,n.toDisplayString)(e.msg("KARMA_REASON_DESCRIPTION")),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(c,{fields:l.formFields,"initial-data":r.initialData,lang:e.langOptions.hl,"onUpdate:data":l.onDataUpdate},null,8,["fields","initial-data","lang","onUpdate:data"]),(0,n.createVNode)(m,{class:"tm-minus-reason__btn","data-test-id":"minus-reason-send-button",disabled:o.isVoteLoading||!r.reasonValue||0===r.reasonValue.length,"style-size":"small","style-type":"solid",type:"submit",onClick:t[0]||(t[0]=t=>e.$emit("downVote",r.reasonValue))},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("ARTICLE_REASON_BUTTON_SEND")),1)])),_:1},8,["disabled"])])}var r=o(33907),l=o(7281),c=o(50612);const m={name:"TMMinusReason",components:{TMButtonBase:l.Z,TMFormBuilder:c.Z},props:{reasonsList:{type:Array,required:!0},isMultiple:{type:Boolean,default:!1},isVoteLoading:{type:Boolean,default:!1}},emits:["downVote"],data(){return{reasonValue:null,initialData:null}},computed:{...(0,r.Se)("i18n",["langOptions"]),formFields(){return this.isMultiple?this.reasonsList.map((e=>({className:"tm-checkbox",name:e.id,label:e.title,type:"BaseCheckbox",validation:{required:!1}}))):[{className:"tm-radio",label:"",name:"reason",type:"BaseRadio",validation:{required:!0},options:this.reasonsList.map((e=>({name:e.title,value:e.id})))}]}},methods:{onDataUpdate(e){this.isMultiple?this.reasonValue=Object.keys(e).filter((t=>e[t])):this.reasonValue=e.reason}}};var d=o(83744);const u=(0,d.Z)(m,[["render",i]]),p=u},5254:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMPromoPostLink"),l=(0,n.resolveComponent)("TMArticleListBlock");return e.mostReadingList&&e.mostReadingList.length?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,"bookmark-module":"mostReadingList","data-list":e.mostReadingList,"ga-options":i.mostReadingGaOptions(o.gaType),layout:o.layout,spacing:o.spacing,title:e.msg("TITLE_MOST_READING")},(0,n.createSlots)({_:2},[e.hasLoaded&&e.mostReadingPromoLink?{name:"lastItem",fn:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{"promo-post":e.mostReadingPromoLink,onClick:i.onPromoLinkClick},null,8,["promo-post","onClick"])])),key:"0"}:void 0]),1032,["data-list","ga-options","layout","spacing","title"])):(0,n.createCommentVNode)("",!0)}var a=o(33907),i=o(14670),r=o(76158),l=o(19913);const c={name:"TMMostReadingBlock",components:{TMPromoPostLink:r.Z,TMArticleListBlock:i.Z},props:{gaType:{type:String,default:"post"},layout:{type:String,default:null},spacing:{type:String,default:"around"}},computed:{...(0,a.Se)("mostReadingList",["mostReadingList"]),...(0,a.rn)("mostReadingList",["promoPost"]),...(0,a.rn)("promoData",["hasLoaded"]),...(0,a.Se)("promoData",["mostReadingPromoLink"])},mounted(){this.$store.dispatch("mostReadingList/loadMostReadingList",{route:this.$route})},methods:{mostReadingGaOptions(e){return{category:"tm_block",action:`read_now_${e}`,label:{post:"post",comment:"comment"}}},onPromoLinkClick(){(0,l.IZ)(`tm_block_read_now_${this.gaType}`)}}};var m=o(83744);const d=(0,m.Z)(c,[["render",s]]),u=d},67205:(e,t,o)=>{"use strict";o.d(t,{Z:()=>H});var n=o(70942);const s={key:1,class:"tm-multiwidget-block__list"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMPlaceholder"),c=(0,n.resolveComponent)("TMArticleSnippet"),m=(0,n.resolveComponent)("TMDataIcons"),d=(0,n.resolveComponent)("TMBorderedCard"),u=(0,n.resolveComponent)("TMMultiWidgetEventCard"),p=(0,n.resolveComponent)("TMVacancyCard"),h=(0,n.resolveComponent)("TMBlock");return o.isLoading||o.blocks.length?((0,n.openBlock)(),(0,n.createBlock)(h,{key:0,"body-variant":"condensed-slim","header-variant":"borderless",title:r.blockTitle,"title-variant":"large"},{default:(0,n.withCtx)((()=>[o.isLoading?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,times:5,type:"articleCards"})):((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.blocks,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t},["post"===e.type?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{article:e.content,"article-view":"cards",class:"tm-multiwidget-block__article",lang:e.content.lang,"use-link":"","with-author":!1,"with-hubs":!1,"with-labels":!1,"with-lead":!1},null,8,["article","lang"]),(0,n.createVNode)(m,{article:e.content,"bookmark-module":r.bookmarkModule,"icons-list":["votes","comments","favorite","share"],onBookmarkChange:t=>r.bookmarkChangeHandler(t,e.content)},null,8,["article","bookmark-module","onBookmarkChange"])])),_:2},1024)):"event"===e.type?((0,n.openBlock)(),(0,n.createBlock)(u,{key:1,event:e.content},null,8,["event"])):"vacancy"===e.type?((0,n.openBlock)(),(0,n.createBlock)(p,{key:2,vacancy:e.content},null,8,["vacancy"])):(0,n.createCommentVNode)("",!0)])))),128))]))])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0)}var i=o(33907),r=o(70945),l=o(11493),c=o(62e3),m=o(56948);function d(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMArticleTitle"),l=(0,n.resolveComponent)("TMDatetime"),c=(0,n.resolveComponent)("TMBorderedCard");return(0,n.openBlock)(),(0,n.createBlock)(c,{type:"event"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{article:o.event.eventPost,lang:o.event.eventPost.lang,tag:"h1","use-link":""},null,8,["article","lang"]),(0,n.createVNode)(l,{"absolute-date":"",date:o.event.timeHappened,utc:""},null,8,["date"])])),_:1})}var u=o(50947),p=o(63599);const h={name:"TMMultiWidgetEventCard",components:{TMBorderedCard:c.Z,TMArticleTitle:u.Z,TMDatetime:p.Z},props:{event:{type:Object,required:!0}}};var _=o(83744);const g=(0,_.Z)(h,[["render",d]]),T=g;var E=o(79063);const S={class:"tm-vacancy-card__location"},C={class:"tm-vacancy-card__salary"},v={key:0,class:"tm-vacancy-card__tags"},k=["textContent"];function f(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMTitle"),l=(0,n.resolveComponent)("TMInlineList"),c=(0,n.resolveComponent)("TMBorderedCard");return(0,n.openBlock)(),(0,n.createBlock)(c,{record:o.vacancy,type:"vacancy"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{"external-link":"","link-props":i.vacancyLinkProps,tag:"h1",title:o.vacancy.title,to:o.vacancy.url,"use-link":""},null,8,["link-props","title","to"]),(0,n.createElementVNode)("div",S,(0,n.toDisplayString)(i.location),1),(0,n.createElementVNode)("div",C,(0,n.toDisplayString)(i.salary),1),i.tags&&i.tags.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",v,[(0,n.createVNode)(l,{items:i.tags,"separator-color":"inherit"},{default:(0,n.withCtx)((({item:e})=>[(0,n.createElementVNode)("span",{textContent:(0,n.toDisplayString)(e)},null,8,k)])),_:1},8,["items"])])):(0,n.createCommentVNode)("",!0)])),_:1},8,["record"])}const A={class:"inline-list"};function I(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMInlineSeparator");return(0,n.openBlock)(),(0,n.createElementBlock)("span",A,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.items,((t,s)=>((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:o.getKey?o.getKey(t):t.key},[(0,n.renderSlot)(e.$slots,"default",{index:s,item:t}),s!==i.lastElementIndex?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},["comma"===o.separator?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)((0,n.toDisplayString)(", "))],64)):"space"===o.separator?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)(" "))],64)):((0,n.openBlock)(),(0,n.createBlock)(r,{key:2,color:o.separatorColor},null,8,["color"]))],64)):(0,n.createCommentVNode)("",!0)])))),128))])}function y(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("span",{class:(0,n.normalizeClass)(["inline-separator",i.bem("inline-separator",{color:o.color})])}," • ",2)}var b=o(25109),N=o(99691);const P={name:"TMInlineSeparator",props:{color:{type:String,default:null,validator:(0,N.H)(["inherit"])}},methods:{bem:b.P}},L=(0,_.Z)(P,[["render",y]]),B=L,O={name:"TMInlineList",components:{TMInlineSeparator:B},props:{items:{type:Array,required:!0},separator:{type:String,default:null},separatorColor:{type:String,default:null,validator:(0,N.H)(["inherit"])},getKey:{type:Function,default:null}},computed:{lastElementIndex(){return this.items.length-1}}},w=(0,_.Z)(O,[["render",I]]),M=w;var R=o(4598),V=o(61739);const D={name:"TMVacancyCard",components:{TMBorderedCard:c.Z,TMTitle:R.Z,TMInlineList:M},props:{vacancy:{type:Object,required:!0}},computed:{location(){return V.z.location(this.vacancy,this.msg)},salary(){return V.z.salary(this.vacancy,this.msg)},tags(){return V.z.tags(this.vacancy,this.msg)},vacancyLinkProps(){return{rel:"noreferrer noopener",target:"_blank"}}}},U=(0,_.Z)(D,[["render",f]]),$=U,x={name:"TMMultiwidgetBlock",components:{TMPlaceholder:E.Z,TMBlock:l.Z,TMVacancyCard:$,TMMultiWidgetEventCard:T,TMDataIcons:m.Z,TMArticleSnippet:r.Z,TMBorderedCard:c.Z},props:{blocks:{type:Array,required:!0},isLoading:{type:Boolean,default:!1},place:{type:String,default:"feed",validator:(0,N.H)(["feed","publication"])},articleId:{type:String,default:null}},computed:{blockTitle(){return this.msg("MULTI_WIDGET_TITLE")},bookmarkModule(){return"feed"===this.place?"companies":"articlesList"}},methods:{...(0,i.OI)("articlesList",["setBookmarkedMultiwidget"]),bookmarkChangeHandler(e,t){this.setBookmarkedMultiwidget({articleId:t.id,refArticleId:this.articleId,shouldBookmarked:e})}}},F=(0,_.Z)(x,[["render",a]]),H=F},7487:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var n=o(70942);const s={class:"tm-navigation-dropdown__wrapper"},a={class:"tm-navigation-dropdown__button-text"},i=["onClick"],r={key:0,class:"tm-navigation-dropdown__option-count"};function l(e,t,o,l,c,m){const d=(0,n.resolveComponent)("TMSvgImg"),u=(0,n.resolveDirective)("hotkey");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-navigation-dropdown",e.bem("tm-navigation-dropdown",{variant:e.variant})])},[(0,n.createElementVNode)("div",s,[e.transformedOptions.length?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,ref:"button",class:(0,n.normalizeClass)(["tm-navigation-dropdown__button",e.bem("tm-navigation-dropdown__button",{variant:e.variant})]),onClick:t[0]||(t[0]=(...t)=>e.toggleOptions&&e.toggleOptions(...t))},[(0,n.createElementVNode)("div",a,(0,n.toDisplayString)(e.labelOfCurrentValue),1),(0,n.createVNode)(d,{id:"arrow-down",class:(0,n.normalizeClass)(["icon_dropdown-arrow",{"icon_dropdown-arrow-rotated":e.optionsVisible}])},null,8,["class"])],2)),[[u,{esc:e.closeOptions}]]):(0,n.createCommentVNode)("",!0),(0,n.renderSlot)(e.$slots,"default")]),e.transformedOptions.length?((0,n.openBlock)(),(0,n.createElementBlock)("ul",{key:0,ref:"options",class:(0,n.normalizeClass)(["tm-navigation-dropdown__options",e.getClass]),style:(0,n.normalizeStyle)(e.getStyles)},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.transformedOptions,((t,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:`${t.optionValue}_${o}`,class:(0,n.normalizeClass)(["tm-navigation-dropdown__option",e.activeOptionIndex===o&&"tm-navigation-dropdown__option_active"])},[(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(e.bem("tm-navigation-dropdown__option-button",{variant:e.variant})),onClick:o=>e.handleOptionClick(t)},[(0,n.createTextVNode)((0,n.toDisplayString)(t.label)+" ",1),t.count?((0,n.openBlock)(),(0,n.createElementBlock)("span",r,(0,n.toDisplayString)(e.getCount(t.count)),1)):(0,n.createCommentVNode)("",!0)],10,i)],2)))),128))],6)):(0,n.createCommentVNode)("",!0)],2)}var c=o(33907),m=o(46206),d=o(25109),u=o(87934);const p={name:"TMNavigationDropdown",components:{TMSvgImg:m.Z},props:{sections:{type:Array,default:null},options:{type:Array,default:()=>[]},currentValue:{type:String,default:null},customTitle:{type:String,default:null},variant:{type:String,default:null}},emits:["change"],data(){return{optionsVisible:!1,maxHeightStyles:null}},computed:{...(0,c.Se)("global",["isDesktop"]),...(0,c.rn)("global",["isPwa"]),transformedOptions(){return this.sections?this.sections.map((e=>({label:e.title,value:e.route.name,...e}))):this.options},activeOptionIndex(){let e=this.currentValue;const t="_PAGES";return this.currentValue&&-1!==this.currentValue.indexOf(t)&&(e=e.replace(t,"")),this.currentValue&&-1!==this.currentValue.indexOf("_DRAFTS_")&&(e="ARTICLES_DRAFTS_LIST_BY_USER"),this.currentValue&&-1!==this.currentValue.indexOf("_PLANNED_")&&(e="ARTICLES_PLANNED_LIST_BY_USER"),this.transformedOptions.findIndex((t=>t.value===e||t.optionValue===e))},getStyles(){return this.optionsVisible&&this.maxHeightStyles},labelOfCurrentValue(){if(this.sections){const e=this.sections.find((e=>{const t=e.route.name===this.$route.name;if(e.route.params&&this.$route.params){let o;const n=Object.keys(e.route.params);return 0===n.length?o=!0:(o=!1,n.forEach((t=>{o=this.$route.params[t]===e.route.params[t]}))),t&&o}return t}));if(e)return e.title}if(this.customTitle)return this.customTitle;const e=this.activeOptionIndex>0?this.activeOptionIndex:0;return this.transformedOptions[e].label},getClass(){return{"tm-navigation-dropdown__options_absolute":this.isDesktop}}},mounted(){this.$nextTick((()=>{this.$refs.options&&(this.maxHeightStyles=`max-height: ${this.$refs.options.scrollHeight}px`)}))},methods:{getCount(e){return e&&0!==Number(e)?(0,u.O)(e):""},handleOptionClick(e){e.route?this.isPwa?this.$router.replace(e.route):this.$router.push(e.route):e.value!==this.currentValue&&(this.$emit("change",e),this.optionsVisible=!1,this.$refs.button.focus())},toggleOptions(){this.optionsVisible=!this.optionsVisible,this.optionsVisible?document.addEventListener("click",this.listenClickOutside):document.removeEventListener("click",this.listenClickOutside)},closeOptions(){this.optionsVisible=!1,document.removeEventListener("click",this.listenClickOutside)},listenClickOutside(e){this.optionsVisible&&!this.$el.contains(e.target)&&this.toggleOptions()},bem:d.P}};var h=o(83744);const _=(0,h.Z)(p,[["render",l]]),g=_},38546:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s={class:"tm-navigation-filters-spoiler"},a={class:"tm-navigation-filters-spoiler__wrapper"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMSvgImg"),m=(0,n.resolveDirective)("hotkey");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",a,[o.hasButton?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,ref:"button",class:"tm-navigation-filters-spoiler__button","data-test-id":"nav-filters-button",type:"button",onClick:t[0]||(t[0]=(0,n.withModifiers)(((...e)=>l.toggleOptions&&l.toggleOptions(...e)),["prevent"]))},[(0,n.renderSlot)(e.$slots,"label"),(0,n.createVNode)(c,{id:"arrow-down",class:(0,n.normalizeClass)(["icon_dropdown-arrow",{"icon_dropdown-arrow-rotated":l.visibleModel}])},null,8,["class"])])),[[m,{esc:l.closeOptions}]]):(0,n.createCommentVNode)("",!0),(0,n.renderSlot)(e.$slots,"afterButton")]),(0,n.createElementVNode)("div",{ref:"content",class:(0,n.normalizeClass)(l.bem("tm-navigation-filters-spoiler__content",{transitions:r.enableTransitions})),style:(0,n.normalizeStyle)(l.getStyles),onTransitionend:t[1]||(t[1]=(0,n.withModifiers)(((...e)=>l.onTransitionEnd&&l.onTransitionEnd(...e)),["self"]))},[(0,n.renderSlot)(e.$slots,"content",{contentVisible:l.visibleModel})],38)])}var r=o(46206),l=o(25109);const c={name:"TMNavigationFiltersSpoiler",components:{TMSvgImg:r.Z},props:{useVModel:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},hasButton:{type:Boolean,default:!0}},emits:["update:modelValue","toggle"],data(){return{contentVisible:!1,maxHeight:null,overflow:"hidden",enableTransitions:!1,contentMutationObserver:null}},computed:{visibleModel:{get(){return this.useVModel?this.modelValue:this.contentVisible},set(e){this.useVModel?this.$emit("update:modelValue",e):this.contentVisible=e}},getStyles(){return this.visibleModel?{maxHeight:this.maxHeight,overflow:this.overflow}:null}},mounted(){this.useVModel&&this.modelValue&&(this.overflow="visible"),this.calculateMaxHeight(),this.initMutationObserver(),this.$nextTick((()=>{this.enableTransitions=!0}))},beforeUnmount(){this.contentMutationObserver&&this.contentMutationObserver.disconnect()},methods:{bem:l.P,onTransitionEnd(){this.visibleModel&&(this.overflow="visible")},calculateMaxHeight(){this.maxHeight=`${this.$refs.content.scrollHeight}px`},toggleOptions(){this.overflow="hidden",this.calculateMaxHeight(),this.visibleModel=!this.visibleModel,this.$emit("toggle",this.visibleModel)},closeOptions(){this.visibleModel=!1},initMutationObserver(){this.contentMutationObserver=new MutationObserver((()=>{this.enableTransitions=!1,this.calculateMaxHeight(),setTimeout((()=>{this.enableTransitions=!0}),0)})),this.contentMutationObserver.observe(this.$refs.content,{childList:!0,subtree:!0})}}};var m=o(83744);const d=(0,m.Z)(c,[["render",i]]),u=d},71029:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s={class:"tm-navigation-filters-tabs__list"},a=["tabindex","onClick"];function i(e,t,o,i,r,l){return(0,n.openBlock)(),(0,n.createElementBlock)("ul",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.options,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:`${e.label}`,class:"tm-navigation-filters-tabs__option","data-test-id":"nav-filters-option"},[(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(["tm-navigation-filters-tabs__option-button",{"tm-navigation-filters-tabs__option-button_active":o.activeIndex===t}]),tabindex:l.getTabIndex,onClick:e=>l.setFilter(t)},(0,n.toDisplayString)(e.label),11,a)])))),128))])}const r={name:"TMNavigationFiltersTabs",props:{options:{type:Array,required:!0},tabType:{type:String,default:"root"},activeIndex:{type:Number,required:!0},applyImmidiate:{type:Boolean,default:!1},contentVisible:{type:Boolean,default:!1}},emits:["setIndex","applyNavigationFilter"],computed:{getTabIndex(){return this.contentVisible?0:-1}},methods:{setFilter(e){if(this.applyImmidiate)return void this.$emit("applyNavigationFilter",e);const t={};"main"===this.tabType?t.mainActiveIndex=e:(t.rootActiveIndex=e,t.mainActiveIndex=0),this.$emit("setIndex",t)},isOptionActive(e,t=!1){const{value:o,params:n}=e;if(t&&n){const t=!!this.$route.matched.find((e=>e.name===o));let n;const s=Object.keys(e.params);return 0===s.length?n=!0:(n=!1,s.forEach((t=>{const o=this.$route.params&&"undefined"!==typeof this.$route.params[t]&&this.$route.params[t],s=e.params&&"undefined"!==typeof e.params[t]&&e.params[t];n=o===s}))),n&&t}return!!this.$route.matched.find((e=>e.name===o))}}};var l=o(83744);const c=(0,l.Z)(r,[["render",i]]),m=c},51029:(e,t,o)=>{"use strict";o.d(t,{Z:()=>v});var n=o(70942);const s={class:"tm-navigation-filters__options"},a={key:0,class:"tm-navigation-filters__list-label"},i={class:"tm-navigation-filters__tabs"},r={key:1,class:"tm-navigation-filters__list-label"},l={key:2,class:"tm-navigation-filters__tabs"},c={class:"tm-navigation-filters__list-label"},m={class:"tm-navigation-filters__list"},d=["tabindex","onClick"];function u(e,t,o,u,p,h){const _=(0,n.resolveComponent)("TMNavigationFiltersTabs"),g=(0,n.resolveComponent)("TMButtonBase"),T=(0,n.resolveComponent)("TMNavigationFiltersSpoiler");return(0,n.openBlock)(),(0,n.createBlock)(T,{"has-button":e.options.length>0},{label:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.title),1)])),afterButton:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),content:(0,n.withCtx)((({contentVisible:o})=>[(0,n.createElementVNode)("div",s,[e.options[e.rootActiveIndex]?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,(0,n.toDisplayString)(e.options[e.rootActiveIndex].rootLabel),1)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",i,[(0,n.createVNode)(_,{"active-index":e.rootActiveIndex,"content-visible":o,options:e.options,"tab-type":"root",onApplyNavigationFilter:e.applyNavigationFilter,onSetIndex:e.setIndex},null,8,["active-index","content-visible","options","onApplyNavigationFilter","onSetIndex"])]),e.options[e.rootActiveIndex]&&e.options[e.rootActiveIndex].mainLabel?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,(0,n.toDisplayString)(e.options[e.rootActiveIndex].mainLabel),1)):(0,n.createCommentVNode)("",!0),e.options[e.rootActiveIndex]&&e.options[e.rootActiveIndex].mainLabel?((0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createVNode)(_,{"active-index":e.mainActiveIndex,"content-visible":o,options:e.options[e.rootActiveIndex].children,"tab-type":"main",onApplyNavigationFilter:e.applyNavigationFilter,onSetIndex:e.setIndex},null,8,["active-index","content-visible","options","onApplyNavigationFilter","onSetIndex"])])):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.extraOptions,(({value:t,label:s,children:a})=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t},[(0,n.createElementVNode)("div",c,(0,n.toDisplayString)(s),1),(0,n.createElementVNode)("ul",m,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a,(({label:s},a)=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:s,class:"tm-navigation-filters__option","data-test-id":"nav-filters-option"},[(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(["tm-navigation-filters__option-button",{"tm-navigation-filters__option-button_active":e.extraOptionsActiveMap[t]===a}]),tabindex:e.getTabIndex(o),onClick:o=>e.setExtraOptionActive(t,a)},(0,n.toDisplayString)(s),11,d)])))),128))])])))),128)),(0,n.createVNode)(g,{class:"tm-navigation-filters__apply","data-test-id":"nav-filters-apply","style-size":"small","style-type":"solid",tabindex:e.getTabIndex(o),type:"button",onClick:t[0]||(t[0]=t=>e.applyNavigationFilter({rootActiveIndex:e.rootActiveIndex,mainActiveIndex:e.mainActiveIndex}))},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("NAV_APPLY")),1)])),_:2},1032,["tabindex"])])])),_:3},8,["has-button"])}var p=o(33907),h=o(7281),_=o(38546),g=o(71029),T=o(46206);const E={name:"TMNavigationFilters",components:{TMNavigationFiltersTabs:g.Z,TMSvgImg:T.Z,TMButtonBase:h.Z,TMNavigationFiltersSpoiler:_.Z},props:{options:{type:Array,required:!0},extraOptions:{type:Array,default:()=>[]}},emits:["applyFilter"],data(){const e=this.options.findIndex((e=>e.children?e.children.some((e=>this.isOptionActive(e,!0))):this.isOptionActive(e,!0))),t=e>-1&&this.options[e].children,o=t?t.findIndex((e=>this.isOptionActive(e,!0))):null,n={};return this.extraOptions.forEach((e=>{const t=e.children.map((e=>this.isOptionActive(e,!0))).lastIndexOf(!0);n[e.value]=-1===t?0:t})),{optionsVisible:!1,rootActiveIndex:e,mainActiveIndex:o,extraOptionsActiveMap:n}},computed:{...(0,p.rn)("global",["isPwa"]),getStyles(){return this.optionsVisible&&this.maxHeightStyles},title(){return this.$route.meta.navTitle?this.msg(this.$route.meta.navTitle,this.$route.params||{}):""}},methods:{setIndex(e){this.rootActiveIndex="number"===typeof e.rootActiveIndex?e.rootActiveIndex:this.rootActiveIndex,this.mainActiveIndex=e.mainActiveIndex},setExtraOptionActive(e,t){this.extraOptionsActiveMap={...this.extraOptionsActiveMap,[e]:t}},getTabIndex(e){return e?0:-1},isOptionActive(e,t=!1){const{value:o,params:n}=e;if(t&&n){const t=!!this.$route.matched.find((e=>e.name===o));let n;const s=Object.keys(e.params);return 0===s.length?n=!0:(n=!1,s.forEach((t=>{const o=this.$route.params&&"undefined"!==typeof this.$route.params[t]&&this.$route.params[t],s=e.params&&"undefined"!==typeof e.params[t]&&e.params[t];n=o===s}))),n&&t}return!!this.$route.matched.find((e=>e.name===o))},applyNavigationFilter(){const e=this.options[this.rootActiveIndex],t=e.children?e.children[this.mainActiveIndex]:e;let o={};Object.entries(this.extraOptionsActiveMap).forEach((([e,t])=>{const n=this.extraOptions.find((t=>t.value===e));o={...o,...n.children[t].params}}));const n={name:t.value,params:{...t.params,...o}};this.$emit("applyFilter",n),this.isPwa?this.$router.replace(n):this.$router.push(n)}}};var S=o(83744);const C=(0,S.Z)(E,[["render",u]]),v=C},71759:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={class:"tm-navigation-search__input"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMSvgIcon"),c=(0,n.resolveComponent)("TMInputTextDecorated");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(c,{ref:"input",autocomplete:"off",maxlength:o.maxlength,"model-value":r.value,name:"searchQuery",placeholder:o.placeholder||e.msg("SEARCH_INPUT_PLACEHOLDER"),"onUpdate:modelValue":r.onInputChange},{after:(0,n.withCtx)((()=>[(0,n.createVNode)(l,{id:"input-search",class:"tm-search__icon"})])),_:1},8,["maxlength","model-value","placeholder","onUpdate:modelValue"])])}var i=o(91296),r=o.n(i),l=o(46604),c=o(2095);const m={name:"TMNavigationSearch",components:{TMInputTextDecorated:l.Z,TMSvgIcon:c.Z},props:{placeholder:{type:String,default:null},maxlength:{type:Number,default:50}},computed:{value:{get(){return this.$route.query.q}}},mounted(){void 0!==this.$route.query.q&&this.$refs.input.focus()},methods:{onInputChange:r()((function(e){const t=-1!==["COMPANIES","COMPANIES_PAGES"].indexOf(this.$route.name),o="HUBS"===this.$route.name;let n=3;if(t&&(n=2),o&&(n=1),e&&e.length<n)return;const s={query:{q:e},params:{pageNum:1}};this.$router.push(s)}),500)}};var d=o(83744);const u=(0,d.Z)(m,[["render",a]]),p=u},25100:(e,t,o)=>{"use strict";o.d(t,{Z:()=>te});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSmallTabs"),l=(0,n.resolveComponent)("TMNewsBlockList"),c=(0,n.resolveComponent)("TMBlock");return a.showBlock?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"header-variant":"borderless",title:e.msg("NAV_NEWS"),"title-tag":"h2"},(0,n.createSlots)({default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)(n.KeepAlive,null,[((0,n.openBlock)(),(0,n.createBlock)(l,{key:a.selection,"company-alias":o.companyAlias,"company-title":o.companyTitle,"flow-name":o.flowName,"hub-name":o.hubName,selection:a.selection,onHasNewsChange:i.setShowBlock},null,8,["company-alias","company-title","flow-name","hub-name","selection","onHasNewsChange"]))],1024))])),_:2},[o.showTypeNav?{name:"block-settings",fn:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{"active-tab":a.selection,tabs:i.tabs,onChange:i.setSelection},null,8,["active-tab","tabs","onChange"])])),key:"0"}:void 0]),1032,["title"])):(0,n.createCommentVNode)("",!0)}var a=o(11493);function i(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMNewsBlockItem"),l=(0,n.resolveComponent)("router-link"),c=(0,n.resolveComponent)("TMNewsBlockLayout");return(0,n.openBlock)(),(0,n.createBlock)(c,{"is-loading":a.isLoading,"show-placeholder":!a.pagesCount&&!a.newsItems.length},{items:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a.newsItems,(e=>((0,n.openBlock)(),(0,n.createBlock)(r,{key:e.id,class:"tm-news-block__item","news-item":e,onCommentsClick:t[0]||(t[0]=e=>i.logClick("comments")),onTitleClick:t[1]||(t[1]=e=>i.logClick("title"))},null,8,["news-item"])))),128))])),footer:(0,n.withCtx)((()=>[i.showLoadMore?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"tm-news-block__all","data-test-id":"news_block_more",type:"button",onClick:t[2]||(t[2]=(...e)=>i.onShowMoreClick&&i.onShowMoreClick(...e))},(0,n.toDisplayString)(e.msg("SHOW_MORE")),1)):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1,class:"tm-news-block__all","data-test-id":"news_block_all",to:i.newsRoute,onClick:t[3]||(t[3]=e=>i.logClick("all_news"))},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(i.allNewsText),1)])),_:1},8,["to"]))])),_:1},8,["is-loading","show-placeholder"])}var r=o(33907);const l={class:"tm-news-block-item","data-test-id":"news_block_item"},c={class:"tm-news-block-item__title"},m=["innerHTML"],d={class:"tm-news-block-item__meta"},u={class:"tm-news-block-item__comments"},p={"data-test-id":"news_block_comments_count"},h={key:0,class:"tm-news-block-item__comments_unread","data-test-id":"news_block_comments_count_unread"};function _(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMPublicationLink"),_=(0,n.resolveComponent)("TMDatetime"),g=(0,n.resolveComponent)("TMSvgImg"),T=(0,n.resolveComponent)("TMArticleCommentsLink");return(0,n.openBlock)(),(0,n.createElementBlock)("li",l,[(0,n.createElementVNode)("h3",c,[(0,n.createVNode)(r,{article:o.newsItem,class:"tm-news-block-item__title-link tm-news-block-item__title",onClickCapture:t[0]||(t[0]=t=>e.$emit("title-click"))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:o.newsItem.titleHtml},null,8,m)])),_:1},8,["article"])]),(0,n.createElementVNode)("div",d,[(0,n.createVNode)(_,{class:"tm-news-block-item__date",date:new Date(o.newsItem.timePublished),"hide-today":!0,"show-full-date-time":!0},null,8,["date"]),(0,n.createVNode)(T,{article:o.newsItem,class:"tm-news-block-item__comments-link",onClickCapture:t[1]||(t[1]=t=>e.$emit("comments-click"))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",u,[(0,n.createVNode)(g,{id:"counter-comments",class:"tm-news-block-item__comments-icon",size:"24"}),(0,n.createElementVNode)("span",p,(0,n.toDisplayString)(o.newsItem.statistics.commentsCount),1),a.unreadCommentsCount?((0,n.openBlock)(),(0,n.createElementBlock)("span",h,(0,n.toDisplayString)(a.unreadCommentsCount),1)):(0,n.createCommentVNode)("",!0)])])),_:1},8,["article"])])])}var g=o(34948),T=o(19504),E=o(63599),S=o(75222),C=o(46206),v=o(87934);const k={name:"TMNewsBlockItem",components:{TMSvgImg:C.Z,TMArticleCommentsLink:T.Z,TMDatetime:E.Z,TMPublicationLink:S.Z},props:{newsItem:{type:Object,required:!0}},emits:["title-click","comments-click"],data(){return{unreadCommentsCount:null}},computed:{...(0,r.Se)("me",["isLoggedIn"])},beforeMount(){if(this.isLoggedIn){const{relatedData:e}=this.newsItem;e&&e.unreadCommentsCount&&(this.unreadCommentsCount=(0,v.j)(e.unreadCommentsCount))}else{const{newsItem:{id:e,statistics:t}}=this;(0,g.U2)(e).then(((e=0)=>{const o=Math.max(t.commentsCount-e,0);o&&(this.unreadCommentsCount=(0,v.j)(o))}))}}};var f=o(83744);const A=(0,f.Z)(k,[["render",_]]),I=A,y={class:"tm-news-block-layout"},b={class:"tm-news-block-layout__items"},N={class:"tm-news-block-layout__footer"};function P(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMNewsBlockItemPlaceholder"),l=(0,n.resolveComponent)("TMCircleLoader");return(0,n.openBlock)(),(0,n.createElementBlock)("div",y,[(0,n.createElementVNode)("ul",b,[o.isLoading&&o.showPlaceholder?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:0},(0,n.renderList)(o.placeholdersCount,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:e,class:"tm-news-block-layout__item","data-test-id":"news_block_item_loading"},[(0,n.createVNode)(r)])))),128)):(0,n.renderSlot)(e.$slots,"items",{key:1})]),(0,n.createElementVNode)("div",N,[o.isLoading&&!o.showPlaceholder?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0})):(0,n.renderSlot)(e.$slots,"footer",{key:1})])])}var L=o(16643);const B={class:"news-block-item-placeholder"};function O(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",B,[(0,n.createElementVNode)("div",{class:"news-block-item-placeholder__header",style:(0,n.normalizeStyle)({width:`${i.getRandomNumberFromRange(140,300)}px`})},null,4),(0,n.createElementVNode)("div",{class:"news-block-item-placeholder__meta",style:(0,n.normalizeStyle)({width:`${i.getRandomNumberFromRange(240,280)}px`})},null,4)])}var w=o(15891);const M={name:"TMNewsBlockItemPlaceholder",methods:{getRandomNumberFromRange:w.r}},R=(0,f.Z)(M,[["render",O]]),V=R,D={name:"TMNewsBlockLayout",components:{TMCircleLoader:L.Z,TMNewsBlockItemPlaceholder:V},props:{isLoading:{type:Boolean,default:!1},showPlaceholder:{type:Boolean,default:!1},placeholdersCount:{type:Number,default:5}}},U=(0,f.Z)(D,[["render",P]]),$=U;var x=o(19913),F=o(75027);const H=5,G={name:"TMNewsBlockList",components:{TMNewsBlockItem:I,TMNewsBlockLayout:$},props:{selection:{type:String,default:"date",validator:e=>["rating","date"].includes(e)},hasNews:Boolean,companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},flowName:{type:String,default:null},hubName:{type:String,default:null}},emits:["has-news-change"],data(){return{isLoading:!0,newsItems:[],pagesCount:null,currentOption:"all"}},computed:{...(0,r.Se)("i18n",["langOptions"]),allNewsText(){if(this.companyNews)return this.msg("NEWS_ALL_NEWS_COMPANY",{companyTitle:this.companyTitle});if(this.flowNews){const e=this.flowName.toUpperCase(),t=this.msg(`NAV_FLOW_${e}`);return this.msg("NEWS_ALL_NEWS_FLOW",{flowTitle:t})}return this.msg("NEWS_ALL_NEWS")},newsRouteName(){return this.companyNews?"NEWS_LIST_BY_COMPANY":this.flowNews?"NEWS_LIST_BY_FLOW_ALL":"NEWS_LIST_ALL"},newsRoute(){const e=this.routeHasHash?"#more-news":null;return{name:this.newsRouteName,params:{hl:this.langOptions.hl},...e?{hash:e}:{}}},routeHasHash(){return this.pagesCount>2},companyNews(){return Boolean(this.companyAlias)},flowNews(){return Boolean(this.flowName)},hubNews(){return Boolean(this.hubName)},contextParams(){return this.hubNews?{context_hub_alias:this.hubName}:this.flowNews?{context_flow_alias:this.flowName}:this.companyNews?{context_company_alias:this.companyAlias}:{}},showLoadMore(){return this.pagesCount>1&&this.newsItems.length===H}},mounted(){this.loadNews({pageNum:1})},methods:{loadNews({pageNum:e}){const t={...this.langOptions,...this.contextParams,selection:this.selection,extend_context:!1,per_page:H,page_num:e};this.isLoading=!0,(0,F.Pq)(t).then((e=>{if(e&&e.articleRefs&&e.articleIds){const t=e.articleIds.map((t=>e.articleRefs[t]));this.newsItems.push(...t),this.pagesCount=e.pagesCount}})).catch((e=>{this.newsItems.length&&this.$toast.error(e.message)})).finally((()=>{this.isLoading=!1,this.$emit("has-news-change",!!this.newsItems.length)}))},onShowMoreClick(){this.logClick("more"),this.loadNews({pageNum:2})},logClick(e){(0,x.IZ)(`tm_block_news_${e}`)}}},W=(0,f.Z)(G,[["render",i]]),Y=W,Z={class:"tm-options-switch"},q=["data-active","disabled","onClick"];function K(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",Z,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.tabs,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:e.value,class:(0,n.normalizeClass)(["tm-options-switch__item",i.bem("tm-options-switch__item",{active:i.isActive(e)})]),"data-active":i.isActive(e)||null,disabled:i.isActive(e),onClick:t=>i.select(e)},(0,n.toDisplayString)(e.label),11,q)))),128))])}var j=o(25109);const z={name:"TMSmallTabs",props:{activeTab:{type:[String,Number],default:null},tabs:{type:Array,required:!0}},emits:["change"],methods:{bem:j.P,select(e){this.$emit("change",e.value)},isActive(e){return e.value===this.activeTab}}},Q=(0,f.Z)(z,[["render",K]]),X=Q,J={name:"TMNewsBlock",components:{TMSmallTabs:X,TMBlock:a.Z,TMNewsBlockList:Y},props:{companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},flowName:{type:String,default:null},hubName:{type:String,default:null},showTypeNav:{type:Boolean,default:!0},defaultSelection:{type:String,default:"date",validator:e=>["date","rating"].includes(e)}},data(){return{showBlock:!0,selection:this.defaultSelection}},computed:{tabs(){return[{value:"date",label:this.msg("NAV_TITLE_LATEST").toLowerCase()},{value:"rating",label:this.msg("NAV_BEST").toLowerCase()}]}},methods:{setSelection(e){this.selection=e;const t="date"===e?"filter_all":"filter_best";(0,x.IZ)(`tm_block_news_${t}`)},setShowBlock(e){this.showBlock=e}}},ee=(0,f.Z)(J,[["render",s]]),te=ee},3996:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(70942);const s={key:0,class:"tm-notice__icon"},a={class:"tm-notice__inner"},i={key:0,class:"tm-notice__title"},r={class:"tm-notice__content","data-test-id":"notice-content"};function l(e,t,o,l,c,m){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-notice",`tm-notice_${o.type}`])},[e.$slots.icon?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.renderSlot)(e.$slots,"icon")])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",a,[e.$slots.title?((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[(0,n.renderSlot)(e.$slots,"title")])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",r,[(0,n.renderSlot)(e.$slots,"default")])])],2)}function c(e){const t=["info","negative","positive","neutral","warning"];return t.includes(e)}const m={required:!0,type:String,validator:c},d={name:"TMNotice",props:{type:m}};var u=o(83744);const p=(0,u.Z)(d,[["render",l]]),h=p},24423:(e,t,o)=>{"use strict";o.d(t,{Z:()=>S});var n=o(70942);const s={class:"tm-our-projects","data-test-id":"our-projects"},a={class:"tm-our-projects__label"},i={class:"tm-our-projects__items"},r=["href"],l=["height","width"],c=["xlink:href"],m={key:0,class:"tm-our-projects__description"};function d(e,t,o,d,u,p){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",a,(0,n.toDisplayString)(e.msg("NAV_PROJECTS_SECTION_LABEL")),1),(0,n.createElementVNode)("div",i,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.ourProjects,((t,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:`${t.name}_${o}`,class:"tm-our-projects__item",href:t.url,target:"_blank"},[((0,n.openBlock)(),(0,n.createElementBlock)("svg",{class:(0,n.normalizeClass)(["tm-our-projects__logo",`tm-our-projects__logo${t.logo}`]),height:t.heightSVG,width:t.widthSVG},[(0,n.createElementVNode)("title",null,(0,n.toDisplayString)(t.name),1),(0,n.createElementVNode)("use",{"xlink:href":t.logo},null,8,c)],10,l)),e.showDescription?((0,n.openBlock)(),(0,n.createElementBlock)("span",m,(0,n.toDisplayString)(t.description),1)):(0,n.createCommentVNode)("",!0)],8,r)))),128))])])}var u=o(33907),p=o(2095),h=o(46206);const _="/img/services.0af9b389..svg",g={name:"TMOurProjects",components:{TMSvgIcon:p.Z,TMSvgImg:h.Z},props:{showDescription:{type:Boolean,default:!1},useText:{type:Boolean,default:!1}},computed:{...(0,u.Se)("i18n",["msg","langOptions"]),ourProjects(){return[{name:this.msg("NAV_PROJECT_HABR"),description:this.msg("NAV_PROJECT_HABR_DESCR"),logo:`${_}#service-habrcom_ru`,url:"/",widthSVG:"52",heightSVG:"22"},{name:this.msg("NAV_PROJECT_TOSTER"),description:this.msg("NAV_PROJECT_TOSTER_DESCR"),logo:`${_}#service-qna_ru`,url:"https://qna.habr.com?utm_source=habr&utm_medium=habr_top_panel",widthSVG:"46",heightSVG:"18"},{name:this.msg("NAV_PROJECT_MOYKRUG"),description:this.msg("NAV_PROJECT_MOYKRUG_DESCR"),logo:`${_}#service-career_ru`,url:"https://career.habr.com?utm_source=habr&utm_medium=habr_top_panel",widthSVG:"84",heightSVG:"21"},{name:this.msg("NAV_PROJECT_FREELANSIM"),description:this.msg("NAV_PROJECT_FREELANSIM_DESCR"),logo:`${_}#service-freelance_ru`,url:"https://freelance.habr.com?utm_source=habr&utm_medium=habr_top_panel",widthSVG:"91",heightSVG:"21"}]}}};var T=o(83744);const E=(0,T.Z)(g,[["render",d]]),S=E},6774:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s={class:"tm-overlay"},a=(0,n.createElementVNode)("div",{class:"tm-overlay__background"},null,-1);function i(e,t,o,i,r,l){const c=(0,n.resolveDirective)("hotkey");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[a,(0,n.createElementVNode)("div",{ref:"inner",class:"tm-overlay__inner","data-scroll-target":"","data-test-id":"overlay-inner",onClick:t[0]||(t[0]=(0,n.withModifiers)(((...e)=>l.onClick&&l.onClick(...e)),["self"])),onMousedown:t[1]||(t[1]=(...e)=>l.onMousedown&&l.onMousedown(...e))},[(0,n.renderSlot)(e.$slots,"default")],544)])),[[c,{esc:()=>e.$emit("close")}]])}const r={name:"TMOverlay",emits:["close"],data(){return{mouseTarget:null}},mounted(){this.mouseTarget=this.$refs.inner},methods:{onClick(){this.mouseTarget===this.$refs.inner&&this.$emit("close")},onMousedown(e){this.mouseTarget=e.target}}};var l=o(83744);const c=(0,l.Z)(r,[["render",i]]),m=c},97812:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>O});var n=o(70942);const s={class:"tm-page-settings-form__title"},a={class:"tm-page-settings-form__input-wrapper"},i={class:"tm-page-settings-form__input-wrapper"},r={class:"tm-page-settings-form__input-wrapper"},l={class:"tm-page-settings-form__input-wrapper"},c={class:"tm-page-settings-form__input-wrapper"},m={class:"tm-page-settings-form__input-wrapper"},d={class:"tm-page-settings-form__input-wrapper"},u={class:"tm-page-settings-form__input-wrapper"},p={class:"tm-page-settings-form__input-wrapper"},h={class:"tm-page-settings-form__controls"};function _(e,t,o,_,g,T){const E=(0,n.resolveComponent)("TMInputRadioLabeled"),S=(0,n.resolveComponent)("TMFieldset"),C=(0,n.resolveComponent)("TMLabeledCheckbox"),v=(0,n.resolveComponent)("TMButtonBase");return(0,n.openBlock)(),(0,n.createElementBlock)("form",{class:"tm-page-settings-form",onSubmit:t[11]||(t[11]=(...e)=>T.onSubmit&&T.onSubmit(...e))},[(0,n.createElementVNode)("div",s,(0,n.toDisplayString)(T.getTranslation("SETTINGS_TITLE")),1),(0,n.createVNode)(S,{class:"tm-page-settings-form__fieldset",errors:[],title:T.getTranslation("SETTINGS_UI_TITLE")},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",a,[(0,n.createVNode)(E,{id:"uiRussian",modelValue:T.uiLang,"onUpdate:modelValue":t[0]||(t[0]=e=>T.uiLang=e),"checked-value":"ru","data-test-id":"lang-russian",name:"ui",onInput:t[1]||(t[1]=e=>T.checkboxCheck())},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(T.getTranslation("SETTINGS_LANG_RUSSIAN")),1)])),_:1},8,["modelValue"])]),(0,n.createElementVNode)("p",i,[(0,n.createVNode)(E,{id:"uiEnglish",modelValue:T.uiLang,"onUpdate:modelValue":t[2]||(t[2]=e=>T.uiLang=e),"checked-value":"en","data-test-id":"lang-english",name:"ui",onInput:t[3]||(t[3]=e=>T.checkboxCheck())},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(T.getTranslation("SETTINGS_LANG_ENGLISH")),1)])),_:1},8,["modelValue"])])])),_:1},8,["title"]),(0,n.createVNode)(S,{class:"tm-page-settings-form__fieldset",errors:T.articlesLangErrors,title:T.getTranslation("SETTINGS_ARTICLES_TITLE")},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",r,[(0,n.createVNode)(C,{id:"articlesRussian",modelValue:T.articlesLangRussian,"onUpdate:modelValue":t[4]||(t[4]=e=>T.articlesLangRussian=e),name:"articlesRussian"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(T.getTranslation("SETTINGS_FL_LANG_RUSSIAN")),1)])),_:1},8,["modelValue"])]),(0,n.createElementVNode)("p",l,[(0,n.createVNode)(C,{id:"articlesEnglish",modelValue:T.articlesLangEnglish,"onUpdate:modelValue":t[5]||(t[5]=e=>T.articlesLangEnglish=e),name:"articlesEnglish"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(T.getTranslation("SETTINGS_FL_LANG_ENGLISH")),1)])),_:1},8,["modelValue"])])])),_:1},8,["errors","title"]),(0,n.createVNode)(S,{class:"tm-page-settings-form__fieldset",errors:[],title:T.getTranslation("SETTINGS_FEED")},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",c,[(0,n.createVNode)(E,{modelValue:g.feed,"onUpdate:modelValue":t[6]||(t[6]=e=>g.feed=e),"checked-value":"cards",name:"feed"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(T.getTranslation("SETTINGS_FEED_CLASSIC")),1)])),_:1},8,["modelValue"])]),(0,n.createElementVNode)("p",m,[(0,n.createVNode)(E,{modelValue:g.feed,"onUpdate:modelValue":t[7]||(t[7]=e=>g.feed=e),"checked-value":"list",name:"feed"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(T.getTranslation("SETTINGS_FEED_COMPACT")),1)])),_:1},8,["modelValue"])])])),_:1},8,["title"]),T.showDarkMode?((0,n.openBlock)(),(0,n.createBlock)(S,{key:0,class:"tm-page-settings-form__fieldset",errors:[],title:T.getTranslation("SETTINGS_COLOR_THEME")},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",d,[(0,n.createVNode)(E,{modelValue:g.theme,"onUpdate:modelValue":t[8]||(t[8]=e=>g.theme=e),"checked-value":"dark",name:"colorTheme"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(T.getTranslation("SETTINGS_DARK")),1)])),_:1},8,["modelValue"])]),(0,n.createElementVNode)("p",u,[(0,n.createVNode)(E,{modelValue:g.theme,"onUpdate:modelValue":t[9]||(t[9]=e=>g.theme=e),"checked-value":"light",name:"colorTheme"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(T.getTranslation("SETTINGS_LIGHT")),1)])),_:1},8,["modelValue"])]),(0,n.createElementVNode)("p",p,[(0,n.createVNode)(E,{modelValue:g.theme,"onUpdate:modelValue":t[10]||(t[10]=e=>g.theme=e),"checked-value":"system",name:"colorTheme"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(T.getTranslation("SETTINGS_SYSTEM")),1)])),_:1},8,["modelValue"])])])),_:1},8,["title"])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("p",h,[(0,n.createVNode)(v,{class:"tm-page-settings-form__submit",disabled:Boolean(T.articlesLangErrors.length),"style-size":"large","style-type":"solid",type:"submit"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(T.getTranslation("SETTINGS_ACTION_SAVE")),1)])),_:1},8,["disabled"])])],32)}var g=o(33907),T=o(15377),E=o.t(T,2),S=o(7281),C=o(16355),v=o(93730),k=o(37700),f=o(74104),A=o(70953);function I(e){return(0,A.d8)("fl",e,{expires:365})}function y(e){return(0,A.d8)("hl",e,{expires:365})}var b=o(56606),N=o(14857);const P={name:"TMPageSettingsForm",components:{TMButtonBase:S.Z,TMFieldset:C.Z,TMInputRadioLabeled:v.Z,TMLabeledCheckbox:k.Z},emits:["closePopup"],data(){return{feed:this.$store.state.articlesList.view,theme:(0,b.Yw)(),isDirtyLang:!1}},computed:{articlesLangEnglish:(0,f.X)("articlesLangEnglish"),articlesLangRussian:(0,f.X)("articlesLangRussian"),uiLang:(0,f.X)("uiLang"),showDarkMode(){const e=(0,A.ej)("dark_theme_mode");return e&&"on"===e},cookieFl(){return(0,A.ej)("fl")},...(0,g.Se)("i18n",["isEnglishContentEnabled","isRussianContentEnabled","msg"]),...(0,g.rn)("i18n",["hl","fl"]),...(0,g.rn)("settingsOther",["inputs"]),...(0,g.Se)("me",["isLoggedIn"]),...(0,g.Se)("settingsOther",["formData"]),...(0,g.rn)("global",["isPwa"]),...(0,g.rn)("articlesList",["view"]),articlesLangErrors(){return this.articlesLangEnglish||this.articlesLangRussian?[]:[this.getTranslation("SETTINGS_ARTICLES_ERROR")]}},beforeMount(){this.markDataLoaded()},mounted(){const e=[{name:"articlesLangEnglish",value:this.isEnglishContentEnabled},{name:"articlesLangRussian",value:this.isRussianContentEnabled},{name:"uiLang",value:this.hl}];e.forEach((({name:e,value:t})=>{this.setInputValue({name:e,value:t})}))},methods:{...(0,g.nv)("settingsOther",["setInputValue"]),...(0,g.nv)("ssr",["markDataLoaded"]),...(0,g.nv)("articlesList",["setArticleView"]),getTranslation(e){return this.uiLang?E[this.uiLang][e]:this.msg(e)},checkboxCheck(){if(!this.cookieFl){const e={ru:"articlesLangRussian",en:"articlesLangEnglish"};Object.keys(e).forEach((t=>{this.setInputValue({name:e[t],value:t===this.uiLang})}))}},reloadThePage(){this.isPwa?window.location="/pwa":window.location.reload(!0)},flushWorkboxCache(){return"serviceWorker"in navigator&&this.isPwa?navigator.serviceWorker.ready.then((e=>{e.active.postMessage({flushCache:!0})})):Promise.resolve()},onSubmit(e){if(e.preventDefault(),!this.articlesLangErrors.length)if(this.theme!==(0,b.Yw)()&&((0,b.Hs)(this.theme),(0,b.Lr)(this.theme)),this.feed!==this.view&&this.setArticleView({view:this.feed}),this.formData.fl!==this.fl||this.formData.hl!==this.hl)if(I(this.formData.fl),y(this.formData.hl),this.isLoggedIn){const e={hl:this.formData.hl,fl:[...this.articlesLangEnglish?["en"]:[],...this.articlesLangRussian?["ru"]:[]]};(0,N.KE)(e).then((()=>this.flushWorkboxCache())).then((()=>this.reloadThePage())).catch((e=>this.$toast.error(e)))}else this.reloadThePage();else this.$emit("closePopup")}}};var L=o(83744);const B=(0,L.Z)(P,[["render",_]]),O=B},37247:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var n=o(70942);function s(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-page-width",{"tm-page-width_no-padding":o.noPadding,"tm-page-width_full-width":o.fullWidth}])},[(0,n.renderSlot)(e.$slots,"default")],2)}const a={name:"TMPageWidth",props:{noPadding:{type:Boolean,default:!1},fullWidth:Boolean}};var i=o(83744);const r=(0,i.Z)(a,[["render",s]]),l=r},77839:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(70942);const s={key:0,class:"tm-page__header"},a={class:"tm-page__wrapper"},i={key:0,class:"tm-page__sidebar"};function r(e,t,o,r,l,c){const m=(0,n.resolveComponent)("TMPullToRefresh");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-page",{"tm-page_wide":e.wide,"tm-page_no-top-margin":e.noTopMargin}])},[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.wide?"div":"TMPageWidth"),{"no-padding":e.isTablet},{default:(0,n.withCtx)((()=>[e.$slots.header?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.renderSlot)(e.$slots,"header")])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-page__main",{"tm-page__main_has-sidebar":Boolean(e.$slots.sidebar)}])},[e.hasPullToRefresh?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,config:{pullDownHeight:60},"on-refresh":e.refreshData},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["on-refresh"])):(0,n.renderSlot)(e.$slots,"default",{key:1})],2),e.$slots.sidebar?((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[(0,n.renderSlot)(e.$slots,"sidebar")])):(0,n.createCommentVNode)("",!0)])])),_:3},8,["no-padding"]))],2)}var l=o(33907),c=o(37247),m=o(10862);const d={name:"TMPage",components:{TMPullToRefresh:m.Z,TMPageWidth:c.Z},props:{wide:{type:Boolean,default:!1},noTopMargin:{type:Boolean,default:!1},hasPullToRefresh:{type:Boolean,default:!0}},computed:{...(0,l.rn)("i18n",["hl"]),...(0,l.rn)("global",["isPwa"]),...(0,l.Se)("global",["isMobile","isTablet"])},methods:{...(0,l.nv)("pullRefresh",["toggleRefresh"]),refreshData(){return this.error&&this.$store.dispatch("ssr/reset"),this.toggleRefresh(!0),new Promise((e=>{setTimeout((()=>{e()}),1e3)}))}}};var u=o(83744);const p=(0,u.Z)(d,[["render",r]]),h=p},12475:(e,t,o)=>{"use strict";o.d(t,{Z:()=>b});var n=o(70942);const s={key:0,class:"tm-pagination","data-test-id":"pagination"},a={class:"tm-pagination__navigation-link-title"},i={class:"tm-pagination__pages"},r=["href","onClick"],l={key:"skip-prev",class:"tm-pagination__page tm-pagination__page_skip"},c={class:"tm-pagination__page tm-pagination__page_current","data-test-id":"pagination-current-page"},m=["href","onClick"],d={key:"skip-next",class:"tm-pagination__page tm-pagination__page_skip"},u={class:"tm-pagination__navigation-link-title"};function p(e,t,o,p,h,_){const g=(0,n.resolveComponent)("TMSvgImg"),T=(0,n.resolveComponent)("TMPaginationButton"),E=(0,n.resolveComponent)("router-link");return e.showPagination?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(T,{id:"pagination-prev-page",direction:"prev",route:e.navigation.prev,onClick:t[0]||(t[0]=t=>e.handlePaginationClick(e.navigation.prev))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(g,{id:"arrow-back",class:"tm-pagination__arrow tm-pagination__arrow_prev",size:"16"}),(0,n.createElementVNode)("span",a,(0,n.toDisplayString)(e.msg("NAV_PREV_PAGE")),1)])),_:1},8,["route"]),(0,n.createElementVNode)("div",i,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.previousPages,((t,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:o+"prev",class:"tm-pagination__page-group"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t,(t=>((0,n.openBlock)(),(0,n.createBlock)(E,{key:t.title,custom:"",to:t.route},{default:(0,n.withCtx)((({href:o})=>[(0,n.createElementVNode)("a",{class:"tm-pagination__page",href:o,onClick:(0,n.withModifiers)((o=>e.handlePaginationClick(t.route)),["prevent"])},(0,n.toDisplayString)(t.title),9,r)])),_:2},1032,["to"])))),128)),0===o&&e.previousPages.length>1?((0,n.openBlock)(),(0,n.createElementBlock)("span",l," ... ")):(0,n.createCommentVNode)("",!0)])))),128)),(0,n.createElementVNode)("span",c,(0,n.toDisplayString)(e.currentRoutePage),1),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.nextPages,((t,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:o+"next",class:"tm-pagination__page-group"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t,(t=>((0,n.openBlock)(),(0,n.createBlock)(E,{key:t.title,custom:"",to:t.route},{default:(0,n.withCtx)((({href:o})=>[(0,n.createElementVNode)("a",{class:"tm-pagination__page",href:o,onClick:(0,n.withModifiers)((o=>e.handlePaginationClick(t.route)),["prevent"])},(0,n.toDisplayString)(t.title),9,m)])),_:2},1032,["to"])))),128)),0===o&&e.nextPages.length>1?((0,n.openBlock)(),(0,n.createElementBlock)("span",d," ... ")):(0,n.createCommentVNode)("",!0)])))),128))]),(0,n.createVNode)(T,{id:"pagination-prev-page",direction:"next",route:e.navigation.next,onClick:t[1]||(t[1]=t=>e.handlePaginationClick(e.navigation.next))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",u,(0,n.toDisplayString)(e.msg("NAV_NEXT_PAGE")),1),(0,n.createVNode)(g,{id:"arrow-back",class:"tm-pagination__arrow tm-pagination__arrow_next",size:"16"})])),_:1},8,["route"])])):(0,n.createCommentVNode)("",!0)}var h=o(33907);const _=["id","href","rel"],g=["id"];function T(e,t,o,s,a,i){const r=(0,n.resolveComponent)("router-link");return o.route?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,custom:"",to:o.route},{default:(0,n.withCtx)((({href:s})=>[(0,n.createElementVNode)("a",(0,n.mergeProps)({id:o.id,class:"tm-pagination__navigation-link tm-pagination__navigation-link_active"},i.datasetBinding,{href:s,rel:o.direction,onClick:t[0]||(t[0]=(0,n.withModifiers)((t=>e.$emit("click")),["prevent"]))}),[(0,n.renderSlot)(e.$slots,"default")],16,_)])),_:3},8,["to"])):((0,n.openBlock)(),(0,n.createElementBlock)("div",(0,n.mergeProps)({key:1,id:o.id,class:"tm-pagination__navigation-link"},i.datasetBinding),[(0,n.renderSlot)(e.$slots,"default")],16,g))}const E={name:"TMPaginationButton",props:{route:{type:Object,required:!0},direction:{type:String,required:!0},id:{type:String,required:!0}},emits:["click"],computed:{datasetBinding(){return{"data-test-id":`pagination-${this.direction}-page`,[`data-pagination-${this.direction}`]:!0}}}};var S=o(83744);const C=(0,S.Z)(E,[["render",T]]),v=C;var k=o(46206);const f=(e,t)=>({...e,params:{...e.params,pageNum:t}}),A=e=>t=>({route:f(e,t),title:t}),I={name:"TMPagination",components:{TMPaginationButton:v,TMSvgImg:k.Z},props:{currentPage:{type:Number,default:null},routeName:{type:String,default:null},totalPages:{type:Number,required:!0},pagePadding:{type:Number,default:2},pagePaddingMobile:{type:Number,default:1}},computed:{...(0,h.rn)("global",["isPwa"]),route(){return{name:this.routeName||this.$route.name,query:this.$route.query,params:this.$route.params}},navigation(){return{prev:this.currentRoutePage>1?f(this.route,this.currentRoutePage-1):null,next:this.isLastPage?null:f(this.route,this.currentRoutePage+1)}},currentRoutePage(){return this.currentPage||Number(this.$route.params.pageNum)||1},isLastPage(){return this.currentRoutePage===this.totalPages},showPagination(){return this.totalPages>1},previousPages(){const{route:e,currentRoutePage:t,responsivePadding:o}=this;if(1===t)return[];const n=A(e);if(t-1-2*o<=1){const e=[];for(let o=1;o<t;o+=1)e.push(n(o));return[e]}const s=[];for(let i=1;i<=o;i+=1)s.push(n(i));const a=[];for(let i=t-o;i<t;i+=1)a.push(n(i));return[s,a]},nextPages(){const{route:e,currentRoutePage:t,responsivePadding:o,totalPages:n}=this;if(t===n)return[];const s=A(e);if(t+2*o>=n-1){const e=[];for(let o=t+1;o<=n;o+=1)e.push(s(o));return[e]}const a=[];for(let r=t+1;r<=t+o;r+=1)a.push(s(r));const i=[];for(let r=n-o+1;r<=n;r+=1)i.push(s(r));return[a,i]},...(0,h.Se)("global",["isMobile"]),responsivePadding(){const{pagePadding:e,pagePaddingMobile:t}=this;return this.isMobile?t:e}},methods:{handlePaginationClick(e){this.isPwa?this.$router.replace(e):this.$router.push(e)}}},y=(0,S.Z)(I,[["render",p]]),b=y},14355:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(70942);const s={class:"tm-placeholder-line loads"};function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s)}const i={name:"TMPlaceholderLine"};var r=o(83744);const l=(0,r.Z)(i,[["render",a]]),c=l},79063:(e,t,o)=>{"use strict";o.d(t,{Z:()=>gt});var n=o(70942);const s={class:"placeholder-wrapper"},a=(0,n.createElementVNode)("div",{class:"tm-placeholder__user"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__user-pic loads"}),(0,n.createElementVNode)("div",{class:"tm-placeholder__user-date loads"})],-1),i={key:0,class:"tm-placeholder__counters"},r={key:1,class:"tm-placeholder__counters"},l={key:1,class:"tm-placeholder tm-placeholder_article-body"},c=(0,n.createElementVNode)("div",{class:"tm-placeholder__article-img loads"},null,-1),m={key:2,class:"tm-placeholder tm-placeholder_hubs"},d={key:3,class:"tm-placeholder tm-placeholder_categories"},u=(0,n.createElementVNode)("div",{class:"tm-placeholder__category-avatar"},null,-1),p={class:"tm-placeholder__category-info"},h={class:"tm-placeholder__preset-header"},_=(0,n.createElementVNode)("div",{class:"tm-placeholder__preset-title loads"},null,-1),g={class:"tm-placeholder__preset-icons"},T=(0,n.createElementVNode)("div",{class:"tm-placeholder__preset-button loads"},null,-1),E={key:5,class:"tm-placeholder__conversations"},S=(0,n.createElementVNode)("div",{class:"tm-placeholder__conversation-userpic loads"},null,-1),C={class:"tm-placeholder__conversation-body"},v={class:"tm-placeholder__conversation-meta"},k={key:6,class:"tm-placeholder__messages"},f={class:"tm-placeholder__message-meta"},A=(0,n.createElementVNode)("div",{class:"tm-placeholder__message-userpic loads"},null,-1),I={key:7,class:"tm-placeholder tm-placeholder_static"},y=(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-section-name"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-headling loads"})],-1),b={class:"tm-placeholder__static-page-tabs"},N={class:"tm-placeholder__static-page-content"},P=(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-content-headling loads"},null,-1),L={class:"tm-placeholder__static-page-content-wrap-text"},B={class:"tm-placeholder__static-page-content-wrap-text"},O={key:8,class:"tm-placeholder__static-page-section-name"},w=(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-headling loads"},null,-1),M=[w],R={key:9,class:"tm-placeholder__static-page-tabs"},V=(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-headling loads"},null,-1),D=[V],U={key:10,class:"tm-placeholder__static-page-tabs"},$={key:11,class:"tm-placeholder__static-page-content"},x=(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-content-headling loads"},null,-1),F={class:"tm-placeholder__static-page-content-wrap-text"},H={class:"tm-placeholder__static-page-content-wrap-text"},G={key:0,class:"tm-placeholder__comment-article"},W=(0,n.createElementVNode)("div",{class:"tm-placeholder__user"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__user-pic loads"}),(0,n.createElementVNode)("div",{class:"tm-placeholder__user-date loads"}),(0,n.createElementVNode)("div",{class:"tm-placeholder__user-score loads"})],-1),Y={class:"tm-placeholder tm-placeholder_user-profile"},Z=(0,n.createElementVNode)("div",{class:"tm-placeholder__user-profile-data"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__category-avatar tm-placeholder__userinfo-avatar"})],-1),q={class:"tm-placeholder__category-info"},K={class:"tm-placeholder__static-page-tabs"},j={key:16,class:"tm-placeholder tm-placeholder_user-profile"},z=(0,n.createElementVNode)("div",{class:"tm-placeholder__user-profile-data"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__category-avatar"})],-1),Q={class:"tm-placeholder__category-info"},X={key:17,class:"tm-placeholder-inset tm-placeholder-salary"},J=(0,n.createStaticVNode)('<div class="tm-placeholder-inset__header"><div class="tm-placeholder__line tm-placeholder__line_inset-header loads"></div></div><div class="tm-placeholder-salary__body"><div class="tm-placeholder-salary__text"><div class="tm-placeholder__line tm-placeholder__line_salary_average"></div><div class="tm-placeholder-salary__description"><div class="tm-placeholder__line loads"></div><div class="tm-placeholder__line loads"></div><div class="tm-placeholder__line loads"></div><div class="tm-placeholder__line loads"></div></div></div><div class="tm-placeholder-salary__image loads"></div></div><div class="tm-placeholder-inset__footer tm-placeholder-inset__footer_salary"><div class="tm-placeholder__line tm-placeholder__line_inset-footer loads"></div></div>',3),ee=[J],te={key:18,class:"tm-placeholder-inset tm-placeholder-tasks"},oe=(0,n.createElementVNode)("div",{class:"tm-placeholder-inset__header"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-header loads"})],-1),ne={class:"tm-placeholder-inset__body"},se={class:"tm-placeholder-list"},ae=(0,n.createElementVNode)("div",{class:"tm-placeholder-list__title-container"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_item-title loads"})],-1),ie={class:"tm-project-block-items__properties"},re=(0,n.createElementVNode)("span",{class:"tm-placeholder__line loads",style:{width:"100px"}},null,-1),le=[re],ce=(0,n.createElementVNode)("div",{class:"tm-placeholder-inset__footer"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})],-1),me={key:19,class:"tm-placeholder-inset tm-placeholder-questions"},de=(0,n.createElementVNode)("div",{class:"tm-placeholder-inset__header"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-header loads"})],-1),ue={class:"tm-placeholder-inset__body"},pe={class:"tm-placeholder-list"},he=(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_item-title loads"},null,-1),_e={class:"tm-project-block-items__properties"},ge=(0,n.createElementVNode)("span",{class:"tm-placeholder__line loads",style:{width:"100px"}},null,-1),Te=[ge],Ee=(0,n.createElementVNode)("div",{class:"tm-placeholder-inset__footer"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})],-1),Se={key:20,class:"tm-placeholder-inset tm-placeholder-courses"},Ce=(0,n.createElementVNode)("div",{class:"tm-placeholder-inset__header"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-header loads"})],-1),ve={class:"tm-placeholder-inset__body"},ke={class:"tm-placeholder-list"},fe=(0,n.createElementVNode)("div",{class:"tm-placeholder-list__title-container"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__company-avatar"}),(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_item-title loads"})],-1),Ae={class:"tm-project-block-items__properties"},Ie=(0,n.createElementVNode)("span",{class:"tm-placeholder__line loads",style:{width:"100px"}},null,-1),ye=[Ie],be=(0,n.createElementVNode)("div",{class:"tm-placeholder-inset__footer"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})],-1),Ne={key:21,class:"tm-placeholder-inset tm-placeholder-vacancies"},Pe=(0,n.createElementVNode)("div",{class:"tm-placeholder-inset__header"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-header loads"})],-1),Le={class:"tm-placeholder-inset__body"},Be={class:"tm-placeholder-list"},Oe=(0,n.createElementVNode)("div",{class:"tm-placeholder-list__title-container"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_item-title loads"})],-1),we={class:"tm-project-block-items__properties"},Me=(0,n.createElementVNode)("span",{class:"tm-placeholder__line loads",style:{width:"100px"}},null,-1),Re=[Me],Ve=(0,n.createElementVNode)("div",{class:"tm-placeholder-inset__footer"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})],-1),De={key:22,class:"tm-placeholder-inset tm-placeholder-company_courses"},Ue=(0,n.createElementVNode)("div",{class:"tm-placeholder-inset__header"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-header loads"})],-1),$e={class:"tm-placeholder-inset__body"},xe={class:"tm-placeholder-list"},Fe=(0,n.createElementVNode)("div",{class:"tm-placeholder-list__title-container"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__company-avatar"}),(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_item-title loads"})],-1),He={class:"tm-project-block-items__properties"},Ge=(0,n.createElementVNode)("span",{class:"tm-placeholder__line loads",style:{width:"100px"}},null,-1),We=[Ge],Ye=(0,n.createElementVNode)("div",{class:"tm-placeholder-inset__footer"},[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})],-1),Ze={key:23,class:"tm-placeholder-promo"},qe=(0,n.createStaticVNode)('<div class="tm-placeholder-promo__header"><div class="tm-placeholder__line tm-placeholder__line_promo-title"></div></div><div class="tm-placeholder-promo__body"><div class="tm-placeholder-promo__posts"><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div></div><div class="tm-placeholder-promo__dots"><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div></div></div>',2),Ke=[qe],je={key:24,class:"tm-placeholder-article-cards"},ze=(0,n.createStaticVNode)('<div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div>',2),Qe={class:"tm-placeholder-article-card__icons tm-placeholder__counters"},Xe=(0,n.createElementVNode)("div",{class:"tm-placeholder__icon tm-placeholder__icon_large loads"},null,-1),Je=(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_icon-text"},null,-1),et=[Xe,Je],tt={key:25,class:"tm-placeholder tm-placeholder_gallery"},ot={class:"tm-placeholder__gallery-thumbs"},nt=(0,n.createElementVNode)("div",{class:"tm-placeholder__gallery-body loads"},null,-1),st={key:26,class:"tm-placeholder tm-placeholder_banner loads"},at={key:27,class:"tm-placeholder-table"},it={key:29,class:"tm-placeholder__lines"},rt={key:30,class:"tm-placeholder__funnels"},lt={key:31,class:"tm-placeholder__statistics"};function ct(e,t,o,w,V,J){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,["article"===e.type?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:0},(0,n.renderList)(e.times,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:`placeholder-article-${t}`,class:(0,n.normalizeClass)(`tm-placeholder tm-placeholder_article tm-placeholder_article_${e.modificator}`)},[a,((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(2,(o=>(0,n.createElementVNode)("div",{key:`placeholder-article-title-${t}-${o}`,class:(0,n.normalizeClass)(`\n            tm-placeholder__article-title\n            tm-placeholder__article-title_${e.modificator}\n            loads\n          `)},null,2))),64)),"preview"===e.modificator?((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(4,(e=>(0,n.createElementVNode)("div",{key:`placeholder-icon-${e}`,class:"tm-placeholder__icon loads"}))),64))])):(0,n.createCommentVNode)("",!0),"article-comments"===e.modificator?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(e=>(0,n.createElementVNode)("div",{key:`placeholder-icon-${e}`,class:"tm-placeholder__icon loads"}))),64))])):(0,n.createCommentVNode)("",!0)],2)))),128)):(0,n.createCommentVNode)("",!0),"articleBody"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",l,[c,((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(20,(t=>(0,n.createElementVNode)("div",{key:`placeholder-article-body-${t}`,class:"tm-placeholder__line loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64))])):(0,n.createCommentVNode)("",!0),"hubs"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.times,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:`placeholder-hub-${e}`,class:"tm-placeholder__hub loads"})))),128))])):(0,n.createCommentVNode)("",!0),"categories"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",d,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.times,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:`placeholder-category-${t}`,class:"tm-placeholder__category"},[u,(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("span",{class:"tm-placeholder__category-name",style:(0,n.normalizeStyle)(`width: ${e.generateRandomWidth(38,200)}px`)},null,4),(0,n.createElementVNode)("div",{class:"tm-placeholder__category-desctiption",style:(0,n.normalizeStyle)(`width: ${e.generateRandomWidth(50,110)}px`)},null,4)])])))),128))])):(0,n.createCommentVNode)("",!0),"preset"===e.type?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:4},(0,n.renderList)(e.times,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:`placeholder-preset-${t}`,class:"tm-placeholder tm-placeholder_preset"},[(0,n.createElementVNode)("div",h,[_,(0,n.createElementVNode)("div",g,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(2,(e=>(0,n.createElementVNode)("div",{key:`placeholder-preset-icon-${e}`,class:"tm-placeholder__preset-icon tm-placeholder__icon loads"}))),64))])]),((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(t=>(0,n.createElementVNode)("div",{key:`placeholder-preset-line-${t}`,class:"tm-placeholder__line loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64)),T])))),128)):(0,n.createCommentVNode)("",!0),"conversations"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",E,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.times,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:`placeholder-conversations-${t}`,class:(0,n.normalizeClass)(`\n          tm-placeholder\n          tm-placeholder__conversation\n          tm-placeholder__conversation_${e.modificator}\n        `)},[S,(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("div",v,[(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_username loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(5,20)}%;`)},null,4),(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_date loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(5,20)}%;`)},null,4)]),(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_conversations loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4)])],2)))),128))])):(0,n.createCommentVNode)("",!0),"messages"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",k,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.times,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:`placeholder-messages-${t}`,class:(0,n.normalizeClass)(`tm-placeholder tm-placeholder__message tm-placeholder__message_${e.modificator}`)},[(0,n.createElementVNode)("div",f,[A,(0,n.createElementVNode)("div",{class:"tm-placeholder__line tm-placeholder__line_message-date loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(5,20)}%;`)},null,4)]),((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(t=>(0,n.createElementVNode)("div",{key:`placeholder-message-line-${t}`,class:"tm-placeholder__line tm-placeholder__line_messages loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64))],2)))),128))])):(0,n.createCommentVNode)("",!0),"static"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",I,[y,(0,n.createElementVNode)("div",b,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(t=>(0,n.createElementVNode)("div",{key:`placeholder-preset-static-${t}`,class:"tm-placeholder__static-page-tab loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}px;`)},null,4))),64))]),(0,n.createElementVNode)("div",N,[P,(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4),(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4),(0,n.createElementVNode)("div",L,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(12,(t=>(0,n.createElementVNode)("div",{key:`placeholder-preset-static-2-${t}`,class:"tm-placeholder__static-page-content-text loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4))),64))]),(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4),(0,n.createElementVNode)("div",B,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(6,(t=>(0,n.createElementVNode)("div",{key:`placeholder-preset-static-3-${t}`,class:"tm-placeholder__static-page-content-text loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4))),64))])])])):(0,n.createCommentVNode)("",!0),"static_section_name"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",O,M)):(0,n.createCommentVNode)("",!0),"static_dropdown"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",R,D)):(0,n.createCommentVNode)("",!0),"static_tabs"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",U,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(t=>(0,n.createElementVNode)("div",{key:`placeholder-preset-static-${t}`,class:"tm-placeholder__static-page-tab loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}px;`)},null,4))),64))])):(0,n.createCommentVNode)("",!0),"static_article"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",$,[x,(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4),(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4),(0,n.createElementVNode)("div",F,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(12,(t=>(0,n.createElementVNode)("div",{key:`ps-text-${t}`,class:"tm-placeholder__static-page-content-text loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4))),64))]),(0,n.createElementVNode)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4),(0,n.createElementVNode)("div",H,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(6,(t=>(0,n.createElementVNode)("div",{key:`ps-text-2-${t}`,class:"tm-placeholder__static-page-content-text loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4))),64))])])):(0,n.createCommentVNode)("",!0),"comment"===e.type?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:12},(0,n.renderList)(e.times,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:`placeholder-article-${t}`,class:(0,n.normalizeClass)(`tm-placeholder tm-placeholder__comment tm-placeholder__comment_${e.modificator}`)},["user-comment"===e.modificator?((0,n.openBlock)(),(0,n.createElementBlock)("div",G,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(2,(e=>(0,n.createElementVNode)("div",{key:`placeholder-article-title-${t}-${e}`,class:(0,n.normalizeClass)("tm-placeholder__article-title loads")}))),64))])):(0,n.createCommentVNode)("",!0),W,((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(2,(o=>(0,n.createElementVNode)("div",{key:`placeholder-article-title-${t}-${o}`,class:"tm-placeholder__article-title loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64))],2)))),128)):(0,n.createCommentVNode)("",!0),"form"===e.type?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:13},(0,n.renderList)(e.times,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:`placeholder-form-${t}`,class:(0,n.normalizeClass)(["tm-placeholder loads",e.bem("tm-placeholder__form",{modificator:e.modificator})])},null,2)))),128)):(0,n.createCommentVNode)("",!0),"profileInfo"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:14},(0,n.renderList)(12,(t=>(0,n.createElementVNode)("div",{key:`placeholder-form-${t}`,class:"tm-placeholder tm-placeholder__line loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(20,80)}%;`)},null,4))),64)):(0,n.createCommentVNode)("",!0),"userProfileCard"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:15},[(0,n.createElementVNode)("div",Y,[Z,(0,n.createElementVNode)("div",q,[(0,n.createElementVNode)("span",{class:"tm-placeholder__category-name",style:(0,n.normalizeStyle)(`width: ${e.generateRandomWidth(38,300)}px`)},null,4),(0,n.createElementVNode)("div",{class:"tm-placeholder__category-desctiption tm-placeholder__desctiption_profile",style:(0,n.normalizeStyle)(`width: ${e.generateRandomWidth(50,210)}px`)},null,4)])]),(0,n.createElementVNode)("div",K,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(4,(t=>(0,n.createElementVNode)("div",{key:`placeholder-preset-static-${t}`,class:"tm-placeholder__static-page-tab loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}px;`)},null,4))),64))])],64)):(0,n.createCommentVNode)("",!0),"hubProfileCard"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",j,[z,(0,n.createElementVNode)("div",Q,[(0,n.createElementVNode)("span",{class:"tm-placeholder__category-name",style:(0,n.normalizeStyle)(`width: ${e.generateRandomWidth(38,300)}px`)},null,4),(0,n.createElementVNode)("div",{class:"tm-placeholder__category-desctiption tm-placeholder__desctiption_profile",style:(0,n.normalizeStyle)(`width: ${e.generateRandomWidth(50,210)}px`)},null,4)])])):(0,n.createCommentVNode)("",!0),"inset_salary"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",X,ee)):(0,n.createCommentVNode)("",!0),"inset_tasks"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",te,[oe,(0,n.createElementVNode)("div",ne,[(0,n.createElementVNode)("ul",se,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(5,(e=>(0,n.createElementVNode)("li",{key:e,class:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[ae,(0,n.createElementVNode)("div",ie,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(e=>(0,n.createElementVNode)("span",{key:e,class:"tm-project-block-items__property-item"},le))),64))])]))),64))])]),ce])):(0,n.createCommentVNode)("",!0),"inset_questions"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",me,[de,(0,n.createElementVNode)("div",ue,[(0,n.createElementVNode)("ul",pe,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(5,(e=>(0,n.createElementVNode)("li",{key:e,class:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[he,(0,n.createElementVNode)("div",_e,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(e=>(0,n.createElementVNode)("span",{key:e,class:"tm-project-block-items__property-item"},Te))),64))])]))),64))])]),Ee])):(0,n.createCommentVNode)("",!0),"inset_courses"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",Se,[Ce,(0,n.createElementVNode)("div",ve,[(0,n.createElementVNode)("ul",ke,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(5,(e=>(0,n.createElementVNode)("li",{key:e,class:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[fe,(0,n.createElementVNode)("div",Ae,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(e=>(0,n.createElementVNode)("span",{key:e,class:"tm-project-block-items__property-item"},ye))),64))])]))),64))])]),be])):(0,n.createCommentVNode)("",!0),"inset_vacancies"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ne,[Pe,(0,n.createElementVNode)("div",Le,[(0,n.createElementVNode)("ul",Be,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(5,(e=>(0,n.createElementVNode)("li",{key:e,class:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[Oe,(0,n.createElementVNode)("div",we,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(e=>(0,n.createElementVNode)("span",{key:e,class:"tm-project-block-items__property-item"},Re))),64))])]))),64))])]),Ve])):(0,n.createCommentVNode)("",!0),"inset_company_courses"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",De,[Ue,(0,n.createElementVNode)("div",$e,[(0,n.createElementVNode)("ul",xe,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(5,(e=>(0,n.createElementVNode)("li",{key:e,class:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[Fe,(0,n.createElementVNode)("div",He,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(e=>(0,n.createElementVNode)("span",{key:e,class:"tm-project-block-items__property-item"},We))),64))])]))),64))])]),Ye])):(0,n.createCommentVNode)("",!0),"promo_block"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ze,Ke)):(0,n.createCommentVNode)("",!0),"articleCards"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",je,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.times,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e,class:"tm-placeholder-article-card"},[ze,(0,n.createElementVNode)("div",Qe,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(4,(e=>(0,n.createElementVNode)("div",{key:`placeholder-icon-${e}`,class:"tm-placeholder-data-icon"},et))),64))])])))),128))])):(0,n.createCommentVNode)("",!0),"gallery"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",tt,[(0,n.createElementVNode)("div",ot,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(4,(e=>(0,n.createElementVNode)("div",{key:`placeholder-gallery-thumb-${e}`,class:"tm-placeholder__gallery-thumb loads"}))),64))]),nt])):(0,n.createCommentVNode)("",!0),"banner"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",st)):(0,n.createCommentVNode)("",!0),"table"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",at,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.times,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:"tm-placeholder-table__row"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.extra,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:"tm-placeholder__line loads",style:(0,n.normalizeStyle)(e?{flexBasis:`${e}px`}:{flexShrink:"1"})},null,4)))),128))])))),128))])):(0,n.createCommentVNode)("",!0),"line"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:28,class:"tm-placeholder__line loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4)):(0,n.createCommentVNode)("",!0),"lines"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",it,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.times,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:"tm-placeholder__line loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,120)}px;`)},null,4)))),128))])):(0,n.createCommentVNode)("",!0),"funnels"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",rt,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(5,(t=>(0,n.createElementVNode)("div",{key:t,class:"tm-placeholder__line loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64))])):(0,n.createCommentVNode)("",!0),"statistics"===e.type?((0,n.openBlock)(),(0,n.createElementBlock)("div",lt,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(2,(t=>(0,n.createElementVNode)("div",{key:t,class:"tm-placeholder__statistics-item"},[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(3,(t=>(0,n.createElementVNode)("div",{key:t,class:"tm-placeholder__line loads",style:(0,n.normalizeStyle)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64))]))),64))])):(0,n.createCommentVNode)("",!0)])}var mt=o(25109),dt=o(15891);const ut={article:!0,articleBody:!0,articleCards:!0,hubs:!0,categories:!0,preset:!0,conversations:!0,messages:!0,static:!0,static_section_name:!0,static_dropdown:!0,static_tabs:!0,static_article:!0,comment:!0,form:!0,profileInfo:!0,userProfileCard:!0,hubProfileCard:!0,inset_salary:!0,inset_tasks:!0,inset_questions:!0,inset_courses:!0,inset_vacancies:!0,inset_company_courses:!0,promo_block:!0,gallery:!0,banner:!0,table:!0,line:!0,lines:!0,funnels:!0,statistics:!0},pt={name:"TMPlaceholder",props:{type:{type:String,validator(e){return e in ut},default:null},times:{type:Number,default:1},modificator:{type:String,default:""},extra:{type:null,default:null}},methods:{generateRandomWidth:dt.r,bem:mt.P}};var ht=o(83744);const _t=(0,ht.Z)(pt,[["render",ct]]),gt=_t},41700:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveDirective)("hotkey");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"wrapper",class:(0,n.normalizeClass)(["tm-popover",i.bem("tm-popover",{variant:o.variant})])},[(0,n.renderSlot)(e.$slots,"default")],2)),[[r,{esc:()=>e.$emit("close")}]])}var a=o(95551),i=o(25109);const r={name:"TMPopover",props:{placement:{type:String,default:"bottom-start"},offset:{type:Array,default:()=>[0,8]},root:{type:"undefined"===typeof window?null:[HTMLElement,SVGElement],required:!0},variant:{type:String,default:null}},emits:["close"],data(){return{popper:null}},mounted(){document.addEventListener("click",this.handleOuterClick),this.popper=(0,a.fi)(this.root,this.$refs.wrapper,{placement:this.placement,modifiers:[{name:"offset",options:{offset:this.offset}}]})},beforeUnmount(){if(document.removeEventListener("click",this.handleOuterClick),!this.popper)return;const e=this.$refs.wrapper;getComputedStyle(e).transition?(e.addEventListener("transitionend",(()=>{this.popper.destroy()})),e.addEventListener("transitioncancel",(()=>{this.popper.destroy()}))):this.popper.destroy()},methods:{bem:i.P,handleOuterClick(e){this.root.contains(e.target)||this.$refs.wrapper.contains(e.target)||this.$emit("close")}}};var l=o(83744);const c=(0,l.Z)(r,[["render",s]]),m=c},91003:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>u});var n=o(70942);const s={class:"tm-popup-base__body"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMSvgImg"),c=(0,n.resolveComponent)("TMOverlay"),m=(0,n.resolveDirective)("hotkey");return(0,n.openBlock)(),(0,n.createBlock)(c,{onClose:r.close},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-popup-base__wrapper",r.bem("tm-popup-base__wrapper",{centered:o.centered})])},[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("button",{class:"tm-popup-base__close","data-test-id":"popup-settings-close",onClick:t[0]||(t[0]=(...e)=>r.close&&r.close(...e))},[(0,n.createVNode)(l,{id:"close",class:"tm-popup-base__close-icon"})])),[[m,{esc:r.close}]]),(0,n.createElementVNode)("div",s,[(0,n.renderSlot)(e.$slots,"default")])],2)])),_:3},8,["onClose"])}var i=o(6774),r=o(46206),l=o(25109);const c={name:"TMPopupBase",components:{TMOverlay:i.Z,TMSvgImg:r.Z},props:{centered:{type:Boolean,default:!1}},emits:["close"],methods:{bem:l.P,close(){this.$emit("close")}}};var m=o(83744);const d=(0,m.Z)(c,[["render",a]]),u=d},68172:(e,t,o)=>{"use strict";o.d(t,{Z:()=>k});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMBottomSheet"),l=(0,n.resolveComponent)("TMScrollLockTransition"),c=(0,n.resolveComponent)("TMModalWindow");return!e.isTablet&&e.isMobile?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,appear:"",name:"slide-fade"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{title:o.title,onClose:s.close},{body:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"body")])),default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["title","onClose"])])),_:3})):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1,appear:"",name:"transition-fade"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{title:o.title,onClose:s.close},{body:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"body")])),default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["title","onClose"])])),_:3}))}var a=o(33907),i=o(37717);const r={class:"tm-modal-window"},l={class:"tm-modal-window__header"},c=["textContent"],m={key:0,class:"tm-modal-window__content"};function d(e,t,o,s,a,i){const d=(0,n.resolveComponent)("TMSvgImg"),u=(0,n.resolveComponent)("TMOverlay");return(0,n.openBlock)(),(0,n.createBlock)(u,{onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("button",{class:"tm-modal-window__close",type:"button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,n.createVNode)(d,{id:"close",size:"12"})]),o.title?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"tm-modal-window__title",textContent:(0,n.toDisplayString)(o.title)},null,8,c)):(0,n.createCommentVNode)("",!0)]),e.$slots.default?((0,n.openBlock)(),(0,n.createElementBlock)("div",m,[(0,n.renderSlot)(e.$slots,"default")])):(0,n.createCommentVNode)("",!0),(0,n.renderSlot)(e.$slots,"body")])])),_:3})}var u=o(6774),p=o(46206);const h={name:"TMModalWindow",components:{TMSvgImg:p.Z,TMOverlay:u.Z},props:{title:{type:String,default:null}},emits:["close"]};var _=o(83744);const g=(0,_.Z)(h,[["render",d]]),T=g;var E=o(40248),S=o(81422);const C={name:"TMPopup",components:{TMModalWindow:T,TMBottomSheet:i.Z,TMScrollLockTransition:E.Z},props:{title:{type:String,default:null},trackInHistory:Boolean,hash:{type:String,default:null}},emits:["close"],setup(e,{emit:t}){const{setHash:o,removeHash:n}=(0,S.n)(e.hash,e.trackInHistory);return{close(){t("close"),n()},open:o}},computed:{...(0,a.Se)("global",["isMobile","isTablet"])}},v=(0,_.Z)(C,[["render",s]]),k=v},78393:(e,t,o)=>{"use strict";o.d(t,{Z:()=>$});var n=o(70942);const s={class:"tm-post-snippet"},a={class:"tm-post-snippet__meta"},i={key:0,class:"tm-post-snippet__controls"},r=["title"],l={ref:"content",class:"tm-post-snippet__content"},c=(0,n.createElementVNode)("div",null,null,-1);function m(e,t,o,m,d,u){const p=(0,n.resolveComponent)("TMPostAuthorInfo"),h=(0,n.resolveComponent)("TMSvgImg"),_=(0,n.resolveComponent)("router-link"),g=(0,n.resolveComponent)("TMPublicationHubs"),T=(0,n.resolveComponent)("TMArticleLabels"),E=(0,n.resolveComponent)("TMPublicationLink"),S=(0,n.resolveComponent)("TMArticleFormattedBody"),C=(0,n.resolveComponent)("TMIntersect"),v=(0,n.resolveComponent)("TMTagsList"),k=(0,n.resolveComponent)("TMArticleExtraMenu"),f=(0,n.resolveComponent)("TMDataIcons"),A=(0,n.resolveComponent)("TMFullScreenLoading"),I=(0,n.resolveComponent)("TMGallery");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.renderSlot)(e.$slots,"top"),(0,n.createElementVNode)("div",a,[(0,n.createVNode)(p,{"date-as-link":o.dateAsLink,post:o.post},null,8,["date-as-link","post"]),u.showModeratorCheck||u.showControls||u.showStats?((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[u.showModeratorCheck&&o.post.checked?((0,n.openBlock)(),(0,n.createBlock)(h,{key:0,id:"moderator-check",class:"tm-post-snippet__moderation","data-test-id":"postModeratorCheck"})):(0,n.createCommentVNode)("",!0),u.showControls?((0,n.openBlock)(),(0,n.createBlock)(_,{key:1,class:"tm-post-snippet__edit","data-test-id":"postEditButton",to:{name:"PUBLICATION_POST_EDIT",params:{publicationId:o.post.id}}},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h,{id:"edit",class:"icon_edit-post","data-test-id":"postEditIcon",size:"20"})])),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),u.showStats?((0,n.openBlock)(),(0,n.createBlock)(_,{key:2,class:"tm-article-snippet__stats-info",to:u.statisticsPublicationRoute},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(h,{id:"stats-info",class:"icon_statistics-post","data-test-id":"articleStatisticsIcon",size:"20",title:e.msg("ICON_USER_STAT")},null,8,["title"])])),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),u.canDeleteDraft?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:3,class:"tm-post-snippet__delete","data-test-id":"postDeleteDraftButton",title:e.msg("ARTICLE_DRAFT_DELETE"),onClick:t[0]||(t[0]=(...e)=>u.deletePost&&u.deletePost(...e))},[(0,n.createVNode)(h,{id:"trash",class:"icon_edit-post","data-test-id":"articleDeleteDraftIcon",size:"20",title:e.msg("ARTICLE_DRAFT_DELETE")},null,8,["title"])],8,r)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)]),u.showHubs?((0,n.openBlock)(),(0,n.createBlock)(g,{key:0,class:"tm-post-snippet__hubs",hubs:o.post.hubs,"publication-type":"post"},null,8,["hubs"])):(0,n.createCommentVNode)("",!0),u.postLabels.length?((0,n.openBlock)(),(0,n.createBlock)(T,{key:1,article:o.post},null,8,["article"])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{ref:"contentWrapper",class:(0,n.normalizeClass)(u.bem("tm-post-snippet__content-wrapper",{compact:o.compactView,hide_gradient:u.hideGradient}))},[o.compactView?((0,n.openBlock)(),(0,n.createBlock)(E,{key:0,article:o.post,class:"tm-post-snippet__link"},null,8,["article"])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",l,[(0,n.createVNode)(S,{"article-text":o.post.textHtml,version:2},null,8,["article-text"]),o.showIcons&&!o.compactView?((0,n.openBlock)(),(0,n.createBlock)(C,{key:0,threshold:[.5],onEnter:u.logView},{default:(0,n.withCtx)((()=>[c])),_:1},8,["onEnter"])):(0,n.createCommentVNode)("",!0)],512)],2),u.showTags?((0,n.openBlock)(),(0,n.createBlock)(v,{key:2,class:"tm-post-snippet__meta-list","has-show-all":"",tags:o.post.tags,title:e.msg("ARTICLE_TAGS_TITLE")},null,8,["tags","title"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(f,{article:o.post,class:"tm-post-snippet__icons","icons-list":["rating","favorite","share","comments"]},{articleMenu:(0,n.withCtx)((()=>[(0,n.createVNode)(k,{"current-author":o.post.author,"is-post":"","publication-id":o.post.id},null,8,["current-author","publication-id"])])),_:1},8,["article"]),u.showLoading?((0,n.openBlock)(),(0,n.createBlock)(A,{key:3})):(0,n.createCommentVNode)("",!0),d.galleryImages.length?((0,n.openBlock)(),(0,n.createBlock)(I,{key:4,"images-list":d.galleryImages},null,8,["images-list"])):(0,n.createCommentVNode)("",!0)])}var d=o(33907),u=o(11098),p=o(57394),h=o(58986),_=o(56948),g=o(92937),T=o(18287);const E={class:"tm-post-author-info__meta-row"};function S(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMArticleDatetimePublished"),l=(0,n.resolveComponent)("TMIconCounter"),c=(0,n.resolveComponent)("TMUserInfo");return(0,n.openBlock)(),(0,n.createBlock)(c,{author:o.post.author,avatar:o.post.author.avatarUrl,"avatar-size":36,class:"tm-post-author-info","login-appearance":"post","resize-image":!1,onClick:t[0]||(t[0]=t=>e.$emit("logAuthorClick"))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",E,[(0,n.createVNode)(r,{article:o.post,"is-megapost-v1":!1,link:o.dateAsLink},null,8,["article","link"]),(0,n.createVNode)(l,{abbreviated:"",counter:o.post.statistics.readingCount,"icon-id":"counter-views",title:e.msg("DATA_ICONS_VIEWS")},null,8,["counter","title"])])])),_:1},8,["author","avatar"])}var C=o(73599),v=o(28330),k=o(41461);const f={name:"TMPostAuthorInfo",components:{TMUserInfo:k.Z,TMIconCounter:v.Z,TMArticleDatetimePublished:C.Z},props:{post:{type:Object,required:!0},dateAsLink:{type:Boolean,default:!1}},emits:["logAuthorClick"]};var A=o(83744);const I=(0,A.Z)(f,[["render",S]]),y=I;var b=o(9605),N=o(75222),P=o(46206),L=o(6617),B=o(25109),O=o(29587),w=o(67267),M=o(11699),R=o(89136);const V=(0,n.defineAsyncComponent)((()=>o.e(5121).then(o.bind(o,5507)))),D={name:"PostSnippet",components:{TMArticleLabels:h.Z,TMPublicationHubs:b.Z,TMArticleExtraMenu:u.Z,TMArticleFormattedBody:p.Z,TMSvgImg:P.Z,TMDataIcons:_.Z,TMIntersect:T.Z,TMFullScreenLoading:g.Z,TMPostAuthorInfo:y,TMGallery:V,TMTagsList:L.Z,TMPublicationLink:N.Z},props:{post:{type:Object,required:!0},showIcons:{type:Boolean,required:!0},compactView:{type:Boolean,required:!0},dateAsLink:{type:Boolean,default:!1}},emits:["delete"],data(){return{isLoading:!1,isMounted:!1,galleryImages:[],contentHeight:0,contentWrapperHeight:0,resizeObserver:null}},computed:{...(0,d.Se)("articlesList",["isViewedPost"]),...(0,d.Se)("me",["isSuperAdmin","userAlias","isModerator","companiesAdmin"]),...(0,d.Se)("global",["isMobileOnly"]),showHubs(){return!this.compactView},showTags(){var e;return!this.compactView&&(null===(e=this.post.tags)||void 0===e?void 0:e.length)},hideGradient(){return this.contentHeight<=this.contentWrapperHeight},showModeratorCheck(){return this.isSuperAdmin},canDeleteDraft(){return"draft"===this.post.status&&!this.post.timePublished&&!this.post.plannedPublishTime},postLabels(){return this.post.labels||[]},showControls(){return!!this.post.relatedData&&this.post.relatedData.canEdit},showLoading(){return this.isLoading},hubAlias(){return this.post.hubs[0].alias},isArticleAuthor(){return this.post.author&&this.post.author.alias===this.userAlias},showStats(){return this.isSuperAdmin},statisticsPublicationRoute(){return{name:"STATISTICS_PUBLICATION",params:{publicationId:this.post.id}}}},mounted(){this.galleryImages=(0,O.N)(this.$el),this.setContentHeight(),this.startResizeObserver()},beforeUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()},methods:{...(0,d.OI)("articlesList",["setPostView"]),bem:B.P,startResizeObserver(){if(!this.$refs.content)return;if(!this.compactView)return;const e=new ResizeObserver((()=>{this.setContentHeight()}));e.observe(this.$refs.content),this.resizeObserver=e},setContentHeight(){this.contentHeight=this.$refs.content.getBoundingClientRect().height,this.contentWrapperHeight=this.$refs.contentWrapper.getBoundingClientRect().height},editPost(){this.showControls&&this.$router.push({name:"PUBLICATION_POST_EDIT",params:{publicationId:this.post.id}})},deletePost(){this.$route.name.includes("_LIST_")?this.$emit("delete"):window.confirm(this.msg("ARTICLE_DRAFT_DELETE_CONFIRM"))&&(0,M.mZ)(this.post.id,"threads").then((()=>{this.$router.push({name:"POSTS_LIST_BY_USER",params:{login:this.userAlias,hl:this.langOptions.hl}}),this.$toast.info(this.msg("POST_DELETED"))})).catch((e=>{this.$toast.error(e.message)}))},logView(){this.isViewedPost(this.post.id)||(0,R.d1)(this.post.id).then((()=>{this.setPostView(this.post.id)})).catch((e=>{w.Z.notifyException(e)}))}}},U=(0,A.Z)(D,[["render",m]]),$=U},81274:(e,t,o)=>{"use strict";o.d(t,{Z:()=>T});var n=o(70942);const s={class:"tm-project-block-items"},a=["href"],i=["src"],r={class:"tm-project-block-items__properties"};function l(e,t,o,l,c,m){return(0,n.openBlock)(),(0,n.createElementBlock)("ul",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(m.preparedItems,((s,l)=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:l,class:"tm-project-block-items__item"},[(0,n.createElementVNode)("a",{class:"tm-project-block-items__detail tm-project-block-items__title",href:m.getItemUrl(s),rel:"noopener",target:"_blank",onClick:t[0]||(t[0]=t=>e.$emit("click",t))},[o.imageVisible&&s.imageUrl?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,alt:"",class:"tm-project-block-items__image",src:s.imageUrl},null,8,i)):(0,n.createCommentVNode)("",!0),(0,n.createTextVNode)((0,n.toDisplayString)(s.title),1)],8,a),(0,n.createElementVNode)("div",r,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(s.properties,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:e,class:"tm-project-block-items__property-item"},(0,n.toDisplayString)(e),1)))),128))])])))),128))])}var c=o(33907),m=o(72923),d=o.n(m);const u=e=>e.every((e=>{const t=d().map(e,{itemUrl:d().nonEmptyString,properties:d().array,title:d().nonEmptyString});return t})),p={type:Array,required:!0,validator:u},h={name:"TMProjectBlockItems",props:{items:p,imageVisible:{type:Boolean,default:!1},searchParams:{type:Object,default:null}},emits:["click"],computed:{...(0,c.Se)("articlesList",["compactView"]),preparedItems(){return this.compactView?this.items.slice(0,3):this.items}},methods:{getItemUrl(e){const t=new URL(e.itemUrl);return Object.keys(this.searchParams).forEach((e=>t.searchParams.append(e,this.searchParams[e]))),t.href}}};var _=o(83744);const g=(0,_.Z)(h,[["render",l]]),T=g},51229:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMProjectBlockItems"),l=(0,n.resolveComponent)("TMProjectBlock"),c=(0,n.resolveComponent)("TMPlaceholder");return!a.isLoading&&a.items&&0!==a.items.length?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,"footer-link":i.footerLink,"footer-title":e.msg("COURSES_ALL"),title:e.msg("COMPANY_COURSES_TITLE",{company:o.companyTitle?o.companyTitle:"none"}),"title-link":i.titleLink,variant:"company-courses",onClick:t[1]||(t[1]=e=>i.logGa("courses"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{"image-visible":"",items:a.items,"search-params":i.itemParams,onClick:t[0]||(t[0]=e=>i.logGa("post"))},null,8,["items","search-params"])])),_:1},8,["footer-link","footer-title","title","title-link"])):a.isLoading?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,type:"inset_company_courses"})):(0,n.createCommentVNode)("",!0)}var a=o(33907),i=o(79063),r=o(69993),l=o(81274),c=o(50956),m=o(13370),d=o(19913),u=o(83385);const p={name:"TMProjectBlockCompanyCourses",components:{TMProjectBlockItems:l.Z,TMProjectBlock:r.Z,TMPlaceholder:i.Z},props:{location:{type:String,required:!0},companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},schoolAlias:{type:String,default:null},hubs:{type:Array,default:()=>[]},tags:{type:Array,default:()=>[]}},data(){return{isLoading:!0,items:null}},computed:{...(0,a.Se)("i18n",["langOptions"]),isCompanyCourses(){return this.schoolAlias&&this.companyAlias},utm(){let e="courses_postlist";return this.isCompanyCourses&&(e="courses_postlist_company"),{medium:"habr_block",source:"habr_mob",campaign:e}},itemParams(){return c.Z.toUtm({...this.utm,content:"course"})},gaAction(){let e=`career_${this.location}`;return this.isCompanyCourses&&(e+="_company"),e},baseLink(){return(0,m.B)(this.schoolAlias)},titleLink(){const e=c.Z.toUtm({...this.utm,content:"courses"}),t=new URL(this.baseLink);return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href},footerLink(){const e=c.Z.toUtm({...this.utm,content:"courses_all"}),t=new URL(this.baseLink);return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href}},mounted(){const{companyAlias:e,tags:t,hubs:o,langOptions:{hl:n}}=this;(0,u.Sr)({companyAlias:e,tags:t,hubs:o,hl:n}).then((({items:e})=>{this.items=e.map((e=>({...e,properties:e.properties.slice(0,-2)}))),this.isLoading=!1,this.items.length||this.$emit("loadedEmpty")})).catch((()=>{this.isLoading=!1,this.$emit("loadFailed")}))},methods:{logGa(e){(0,d.IZ)(`tm_block_${this.gaAction}_${e}`)}}};var h=o(83744);const _=(0,h.Z)(p,[["render",s]]),g=_},69993:(e,t,o)=>{"use strict";o.d(t,{Z:()=>_});var n=o(70942);const s={class:"tm-project-block__header"},a={class:"tm-project-block__title"},i=["href","textContent"],r={class:"tm-project-block__content"},l={class:"tm-project-block__footer"},c=["href","textContent"];function m(e,t,o,m,d,u){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-project-block",u.bem("tm-project-block",{variant:o.variant})]),"data-test-id":"project-block"},[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("a",{class:"tm-project-block__title-link",href:o.titleLink,rel:"noopener",target:"_blank",onClick:t[0]||(t[0]=t=>e.$emit("click",t)),textContent:(0,n.toDisplayString)(o.title)},null,8,i)])]),(0,n.createElementVNode)("div",r,[(0,n.renderSlot)(e.$slots,"default")]),(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("a",{class:"tm-project-block__link",href:o.footerLink,rel:"noopener",target:"_blank",onClick:t[1]||(t[1]=t=>e.$emit("click",t)),textContent:(0,n.toDisplayString)(o.footerTitle)},null,8,c)])],2)}var d=o(25109);const u={name:"TMProjectBlock",props:{title:{type:String,required:!0},titleLink:{type:String,required:!0},footerTitle:{type:String,required:!0},footerLink:{type:String,required:!0},variant:{type:String,default:null}},emits:["click"],methods:{bem:d.P}};var p=o(83744);const h=(0,p.Z)(u,[["render",m]]),_=h},57411:(e,t,o)=>{"use strict";o.d(t,{Z:()=>ce});var n=o(70942);function s(e,t,o,s,a,i){return a.currentBlockName?((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(i.currentBlock),{key:0,"career-alias":o.careerAlias,"company-alias":o.companyAlias,"company-title":o.companyTitle,hubs:o.hubs,location:o.location,"school-alias":o.schoolAlias,tags:o.tags,onLoadFailed:i.resetBlock,onLoadedEmpty:i.resetBlock},null,40,["career-alias","company-alias","company-title","hubs","location","school-alias","tags","onLoadFailed","onLoadedEmpty"])):(0,n.createCommentVNode)("",!0)}var a=o(33907),i=o(51229);function r(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMProjectBlockItems"),l=(0,n.resolveComponent)("TMProjectBlock"),c=(0,n.resolveComponent)("TMPlaceholder");return!a.isLoading&&a.items&&0!==a.items.length?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,"footer-link":i.footerLink,"footer-title":e.msg("COURSES_ALL"),title:e.msg("COURSES_TITLE"),"title-link":i.titleLink,variant:"courses",onClick:t[1]||(t[1]=e=>i.logGa("courses"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{"image-visible":"",items:a.items,"search-params":e.$options.itemParams,onClick:t[0]||(t[0]=e=>i.logGa("post"))},null,8,["items","search-params"])])),_:1},8,["footer-link","footer-title","title","title-link"])):a.isLoading?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,type:"inset_courses"})):(0,n.createCommentVNode)("",!0)}var l=o(79063),c=o(69993),m=o(81274),d=o(50956),u=o(19913),p=o(83385);const h={medium:"habr_block",source:"habr_mob",campaign:"courses_postlist"},_={name:"TMProjectBlockCourses",components:{TMProjectBlockItems:m.Z,TMProjectBlock:c.Z,TMPlaceholder:l.Z},itemParams:d.Z.toUtm({...h,content:"course"}),props:{location:{type:String,required:!0},hubs:{type:Array,default:null},tags:{type:Array,default:null}},emits:["loadedEmpty","loadFailed"],data(){return{isLoading:!0,items:null}},computed:{gaAction(){return`career_courses_${this.location}`},titleLink(){const e=d.Z.toUtm({...h,content:"courses"}),t=new URL("https://career.habr.com/courses");return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href},footerLink(){const e=d.Z.toUtm({...h,content:"courses_all"}),t=new URL("https://career.habr.com/courses");return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href}},mounted(){const{tags:e,hubs:t,langOptions:{hl:o}}=this;(0,p.Sr)({tags:e,hubs:t,hl:o}).then((({items:e})=>{this.items=e.map((e=>({...e,properties:[e.properties[0],e.properties[3]]}))),this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(e){(0,u.IZ)(`tm_block_${this.gaAction}_${e}`)}}};var g=o(83744);const T=(0,g.Z)(_,[["render",r]]),E=T;function S(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMProjectBlockItems"),l=(0,n.resolveComponent)("TMProjectBlock"),c=(0,n.resolveComponent)("TMPlaceholder");return!a.isLoading&&a.items&&0!==a.items.length?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,"footer-link":i.footerLink,"footer-title":e.msg("QUESTIONS_ALL"),title:e.msg("QUESTIONS_TITLE"),"title-link":i.titleLink,variant:"questions",onClick:t[1]||(t[1]=e=>i.logGa("questions"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{items:a.items,"search-params":e.$options.itemParams,onClick:t[0]||(t[0]=e=>i.logGa("post"))},null,8,["items","search-params"])])),_:1},8,["footer-link","footer-title","title","title-link"])):a.isLoading?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,type:"inset_questions"})):(0,n.createCommentVNode)("",!0)}const C={medium:"habr_block",source:"habr_mob",campaign:"questions_postlist"},v={name:"TMProjectBlockQuestions",components:{TMProjectBlockItems:m.Z,TMProjectBlock:c.Z,TMPlaceholder:l.Z},itemParams:d.Z.toUtm({...C,content:"question"}),props:{location:{type:String,required:!0},tags:{type:Array,required:!0}},emits:["loadedEmpty","loadFailed"],data(){return{isLoading:!0,items:null}},computed:{gaAction(){return`qna_${this.location}`},titleLink(){const e=d.Z.toUtm({...C,content:"questions"}),t=new URL("https://qna.habr.com/questions");return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href},footerLink(){const e=d.Z.toUtm({...C,content:"questions_all"}),t=new URL("https://qna.habr.com/questions");return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href}},mounted(){const{tags:e,langOptions:{hl:t}}=this;(0,p.NN)({tags:e,hl:t}).then((({items:e})=>{this.items=e,this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(e){(0,u.IZ)(`tm_block_${this.gaAction}_${e}`)}}},k=(0,g.Z)(v,[["render",S]]),f=k;function A(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSalaryDistribution"),l=(0,n.resolveComponent)("TMProjectBlock"),c=(0,n.resolveComponent)("TMPlaceholder");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[!a.isLoading&&a.salaryData?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,"footer-link":i.footerLink,"footer-title":e.msg("SALARY_ALL"),title:e.msg("SALARY_TITLE"),"title-link":i.titleLink,variant:"salary",onClick:i.logGa},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{"salary-data":a.salaryData},null,8,["salary-data"])])),_:1},8,["footer-link","footer-title","title","title-link","onClick"])):a.isLoading?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,type:"inset_salary"})):(0,n.createCommentVNode)("",!0)])}const I={class:"tm-salary-distribution"},y={class:"tm-salary-distribution__description"},b=["innerHTML"],N=["innerHTML"],P={ref:"salaryChart",class:"tm-salary-distribution__salary-chart"},L=["height","width"],B={class:"salary-chart__bars"},O=["height","width","x","y","onMouseover"],w={id:"xGrid",class:"salary-chart__grid"},M=["x2","y1","y2"],R=["y1","y2"],V=["x1","x2","y1","y2"],D={class:"salary-chart__x-labels"},U=["x","y"];function $(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMTooltip");return(0,n.openBlock)(),(0,n.createElementBlock)("div",I,[(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("div",{class:"tm-salary-distribution__amount",innerHTML:e.msg("SALARY_DISTRIBUTION_CURRENCY",{amount:i.salaryAverageFormatted})},null,8,b),(0,n.createElementVNode)("p",{class:"tm-salary-distribution__description-text",innerHTML:e.msg("SALARY_DISTRIBUTION_DESCRIPTION",{profilesAmount:o.salaryData.profilesAmount,halfYear:o.salaryData.halfYear,year:o.salaryData.year})},null,8,N)]),(0,n.createElementVNode)("div",P,[a.isTooltipShown?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,content:a.tooltipContent,"flip-options":i.tooltipFlipOptions,placement:"top-start",root:a.tooltipRoot},null,8,["content","flip-options","root"])):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(),(0,n.createElementBlock)("svg",{class:"salary-chart",height:a.chartHeight,width:a.chartWidth,xmlns:"http://www.w3.org/2000/svg"},[(0,n.createElementVNode)("g",B,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(i.stats,((e,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("rect",{key:`bar-${o}-${e.percent}`,ref_for:!0,ref:"statBar",class:"salary-chart__bar",height:i.getBarHeight(e.percent),width:i.barWidth-a.barsGap,x:i.barWidth*o+a.xPadding+a.barsGap,y:a.chartHeight-i.getBarHeight(e.percent),onMouseout:t[0]||(t[0]=(...e)=>i.hideTooltip&&i.hideTooltip(...e)),onMouseover:t=>i.showTooltip(t,e)},null,40,O)))),128))]),(0,n.createElementVNode)("g",w,[(0,n.createElementVNode)("line",{x1:"15",x2:a.chartWidth-a.xPadding,y1:a.chartHeight,y2:a.chartHeight},null,8,M),(0,n.createElementVNode)("line",{x1:"15",x2:"15",y1:a.chartHeight,y2:a.chartHeight+7},null,8,R),(0,n.createElementVNode)("line",{x1:a.chartWidth-a.xPadding,x2:a.chartWidth-a.xPadding,y1:a.chartHeight,y2:a.chartHeight+7},null,8,V)]),(0,n.createElementVNode)("g",D,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(i.xLabels,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("text",{key:`step${e}`,x:i.xLabelsStep*t+a.xPadding,y:a.chartHeight+20},(0,n.toDisplayString)(e)+"k ",9,U)))),128))])],8,L))],512)])}var x=o(93096),F=o.n(x);const H=["innerHTML"];function G(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"tooltip",class:"tm-tooltip",innerHTML:o.content},null,8,H)}var W=o(95551);const Y={name:"TMTooltip",props:{placement:{type:String,default:"bottom-start"},offset:{type:Array,default:()=>[0,8]},root:{type:null,required:!0},content:{type:String,default:""},flipOptions:{type:Object,default:null}},data(){return{tooltip:null}},mounted(){this.tooltip=(0,W.fi)(this.root,this.$refs.tooltip,{placement:this.placement,modifiers:[{name:"offset",options:{offset:this.offset}},{name:"flip",options:this.flipOptions}]}),this.tooltip.update()},beforeUnmount(){this.tooltip&&this.tooltip.destroy()}},Z=(0,g.Z)(Y,[["render",G]]),q=Z,K={name:"TMSalaryDistribution",components:{TMTooltip:q},props:{salaryData:{type:Object,required:!0}},data(){return{tooltipRoot:null,tooltipContent:"",isTooltipShown:!1,chartHeight:160,chartWidth:420,xPadding:15,barsGap:4}},computed:{...(0,a.Se)("global",["isMobile"]),stats(){const e=this.salaryData.labels.map((e=>e.split("-").map((e=>`${parseInt(e/1e3,10)}k`)).join(" - ")));return this.salaryData.data.map(((t,o)=>({percent:t,count:e[o]})))},chartPaddings(){return 2*(this.xPadding+this.barsGap)},barWidth(){return(this.chartWidth-this.chartPaddings)/this.stats.length},xLabelsStepsCount(){return this.isMobile?this.stats.length/2:this.stats.length},xLabels(){const e=[],t=this.getRoundedValue(this.salaryData.min),o=this.getRoundedValue(this.salaryData.max)+5,n=Math.ceil((o-t)/this.xLabelsStepsCount);for(let s=t;s<=o;s+=n)e.push(s);return e},xLabelsStep(){return(this.chartWidth-this.chartPaddings)/this.xLabelsStepsCount},salaryAverageFormatted(){return this.salaryData.average.toLocaleString("ru-RU")},tooltipFlipOptions(){return{boundary:this.$refs.salaryChart,fallbackPlacements:["top-start","top-end"]}}},mounted(){window.addEventListener("resize",this.onResizeThrottled,!1),this.onResizeThrottled()},beforeUnmount(){window.removeEventListener("resize",this.onResizeThrottled)},methods:{getRoundedValue(e){return parseInt(parseInt(e,10)/1e3,10)},getBarHeight(e){const t=Math.abs(this.stats[0].percent),o=Math.abs(this.stats[this.stats.length-1].percent);return this.chartHeight*Math.abs(e)/(t+o)},showTooltip(e,t){this.tooltipRoot=e.target,this.tooltipContent=this.msg("SALARY_DISTRIBUTION_PERCENT",{count:t.count,percent:t.percent}),this.isTooltipShown=!0},hideTooltip(){this.isTooltipShown=!1},updateChartWidth(){const e=this.$refs.salaryChart,t=e.getBoundingClientRect().width;this.chartWidth=t},onResizeThrottled:F()((function(){this.updateChartWidth()}),100)}},j=(0,g.Z)(K,[["render",$]]),z=j,Q={medium:"habr_block",source:"habr_mob",campaign:"salary_postlist"},X={name:"TMProjectBlockSalary",components:{TMPlaceholder:l.Z,TMSalaryDistribution:z,TMProjectBlock:c.Z},inheritAttrs:!1,props:{location:{type:String,required:!0}},emits:["loadedEmpty","loadFailed"],data(){return{isLoading:!0,salaryData:null}},computed:{baseUrl(){return this.salaryData.sourceUrl},titleLink(){const e=d.Z.toUtm({...Q,content:"salary"}),t=new URL(this.baseUrl);return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href},footerLink(){const e=d.Z.toUtm({...Q,content:"salary_all"}),t=new URL(this.baseUrl);return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href}},mounted(){(0,p.l9)().then((e=>{this.isLoading=!1,this.salaryData=e,e||this.$emit("loadedEmpty")})).catch((()=>{this.isLoading=!1,this.$emit("loadFailed")}))},methods:{logGa(){(0,u.IZ)(`tm_block_career_${this.location}_salary`)}}},J=(0,g.Z)(X,[["render",A]]),ee=J;function te(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMProjectBlockItems"),l=(0,n.resolveComponent)("TMProjectBlock"),c=(0,n.resolveComponent)("TMPlaceholder");return!a.isLoading&&a.items&&0!==a.items.length?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,"footer-link":i.footerLink,"footer-title":e.msg("TASKS_ALL"),title:e.msg("TASKS_TITLE"),"title-link":i.titleLink,variant:"tasks",onClick:t[1]||(t[1]=e=>i.logGa("tasks"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{items:a.items,"search-params":e.$options.itemParams,onClick:t[0]||(t[0]=e=>i.logGa("post"))},null,8,["items","search-params"])])),_:1},8,["footer-link","footer-title","title","title-link"])):a.isLoading?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,type:"inset_tasks"})):(0,n.createCommentVNode)("",!0)}const oe={medium:"habr_block",source:"habr_mob",campaign:"tasks_postlist"},ne={name:"TMProjectBlockTasks",components:{TMProjectBlockItems:m.Z,TMProjectBlock:c.Z,TMPlaceholder:l.Z},itemParams:d.Z.toUtm({...oe,content:"task"}),props:{location:{type:String,required:!0},hubs:{type:Array,default:null},tags:{type:Array,default:null}},emits:["loadedEmpty","loadFailed"],data(){return{isLoading:!0,items:null}},computed:{gaAction(){return`freelance_${this.location}`},titleLink(){const e=d.Z.toUtm({...oe,content:"tasks"}),t=new URL("https://freelance.habr.com/tasks");return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href},footerLink(){const e=d.Z.toUtm({...oe,content:"tasks_all"}),t=new URL("https://freelance.habr.com/tasks");return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href}},mounted(){const{tags:e,hubs:t,langOptions:{hl:o}}=this;(0,p.ge)({tags:e,hubs:t,hl:o}).then((({items:e})=>{this.items=e,this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(e){(0,u.IZ)(`tm_block_${this.gaAction}_${e}`)}}},se=(0,g.Z)(ne,[["render",te]]),ae=se;var ie=o(4789);const re={name:"TMRandomProjectBlock",props:{blocks:{type:Object,default:()=>({courses:E,questions:f,salary:ee,tasks:ae,vacancies:ie.Z,companyCourses:i.Z})},location:{type:String,required:!0},hubs:{type:Array,default:null},tags:{type:Array,default:null},blockId:{type:String,required:!0},companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},careerAlias:{type:String,default:null},schoolAlias:{type:String,default:null}},data(){return{currentBlockName:null,failedBlocks:[]}},computed:{...(0,a.Se)("projectsBlocks",["getRandomBlockName","getRegisteredBlockById"]),currentBlock(){return this.blocks[this.currentBlockName]}},created(){this.schoolAlias||delete this.blocks.companyCourses,this.currentBlockName=this.getRegisteredBlockById(this.blockId),this.currentBlockName||(this.currentBlockName=this.getRandomBlockName(Object.keys(this.blocks)),this.currentBlockName&&this.registerBlock({name:this.currentBlockName,id:this.blockId}))},beforeUnmount(){this.unregisterBlock(this.currentBlockName),this.failedBlocks.forEach((e=>this.unregisterBlock(e)))},deactivated(){this.failedBlocks.forEach((e=>this.unregisterBlock(e)))},methods:{...(0,a.OI)("projectsBlocks",["registerBlock","unregisterBlock"]),resetBlock(){this.failedBlocks.push(this.currentBlockName),this.currentBlockName=this.getRandomBlockName(Object.keys(this.blocks)),this.currentBlockName&&this.registerBlock({name:this.currentBlockName,id:this.blockId})}}},le=(0,g.Z)(re,[["render",s]]),ce=le},4789:(e,t,o)=>{"use strict";o.d(t,{Z:()=>_});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMProjectBlockItems"),l=(0,n.resolveComponent)("TMProjectBlock"),c=(0,n.resolveComponent)("TMPlaceholder");return!a.isLoading&&a.items&&0!==a.items.length?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,"footer-link":i.footerLink,"footer-title":e.msg("VACANCIES_ALL"),title:e.msg("VACANCIES_TITLE",{company:o.companyTitle?o.companyTitle:"none"}),"title-link":i.titleLink,variant:"vacancies",onClick:t[1]||(t[1]=e=>i.logGa("vacancies"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{items:a.items,"search-params":i.itemParams,onClick:t[0]||(t[0]=e=>i.logGa("post"))},null,8,["items","search-params"])])),_:1},8,["footer-link","footer-title","title","title-link"])):a.isLoading?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,type:"inset_vacancies"})):(0,n.createCommentVNode)("",!0)}var a=o(79063),i=o(69993),r=o(81274),l=o(50956),c=o(13370),m=o(19913),d=o(83385);const u={name:"TMProjectBlockVacancies",components:{TMProjectBlockItems:r.Z,TMProjectBlock:i.Z,TMPlaceholder:a.Z},props:{location:{type:String,required:!0},companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},careerAlias:{type:String,default:null},hubs:{type:Array,default:()=>[]},tags:{type:Array,default:()=>[]}},emits:["loadedEmpty","loadFailed"],data(){return{isLoading:!0,items:null}},computed:{isCompanyVacancies(){return this.careerAlias&&this.companyAlias},utm(){let e="vacancies_postlist";return this.isCompanyVacancies&&(e="vacancies_postlist_company"),{medium:"habr_block",source:"habr_mob",campaign:e}},itemParams(){return l.Z.toUtm({...this.utm,content:"vacancy"})},gaAction(){let e=`career_${this.location}`;return this.isCompanyVacancies&&(e+="_company"),e},baseLink(){return(0,c.M)(this.careerAlias)},titleLink(){const e=l.Z.toUtm({...this.utm,content:"vacancies"}),t=new URL(this.baseLink);return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href},footerLink(){const e=l.Z.toUtm({...this.utm,content:"vacancies_all"}),t=new URL(this.baseLink);return Object.keys(e).forEach((o=>t.searchParams.append(o,e[o]))),t.href}},mounted(){const{companyAlias:e,tags:t,hubs:o,langOptions:{hl:n}}=this;(0,d.uC)({companyAlias:e,tags:t,hubs:o,hl:n}).then((({items:e})=>{this.items=e,this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(e){(0,m.IZ)(`tm_block_${this.gaAction}_${e}`)}}};var p=o(83744);const h=(0,p.Z)(u,[["render",s]]),_=h},37160:(e,t,o)=>{"use strict";o.d(t,{Z:()=>I});var n=o(70942);const s=["href","rel","onClick"],a={class:"tm-promo-block__head"},i={class:"tm-promo-block__image-wrapper"},r=["src"],l={key:0,class:"tm-promo-block__label"},c={class:"tm-promo-block__info"},m=["innerHTML"];function d(e,t,o,d,u,p){const h=(0,n.resolveComponent)("TMExternalIcon"),_=(0,n.resolveComponent)("TMIntersect"),g=(0,n.resolveComponent)("TMBlock"),T=(0,n.resolveComponent)("TMPlaceholder");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[!e.isLoading&&e.promoBlockPosts?((0,n.openBlock)(),(0,n.createBlock)(g,{key:0,spacing:p.isArticleLayout?"around":"bottom",title:e.msg("PROMO_BLOCK_TITLE")},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(u.isSmallestMobile?"TMSwiper":"div"),{class:"tm-promo-block__content-wrapper","data-test-id":u.isSmallestMobile?"swiper-slider":null,pagination:"","slides-per-view":1},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.promoBlockPosts,(e=>((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(u.isSmallestMobile?"TMSwiperSlide":"div"),{key:e.link.url,class:"tm-promo-block__item-wrapper"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(_,{threshold:[.5],onEnter:t=>p.trackView(e)},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("a",{class:"tm-promo-block__item tm-article-title__link",href:e.link.url,rel:"nofollow "+(e.external?"sponsored":""),onClick:t=>p.logClickToGa(e.link.url)},[(0,n.createElementVNode)("header",a,[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("img",{alt:"",class:"tm-promo-block__image",src:p.promoImage(e.image.url)},null,8,r)]),e.label?((0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createTextVNode)((0,n.toDisplayString)(e.label)+" ",1),e.external?((0,n.openBlock)(),(0,n.createBlock)(h,{key:0,class:"tm-block-promo__external","data-test-id":"external-link-icon"})):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("h3",{class:"tm-promo-block__title",innerHTML:e.title},null,8,m)])],8,s)])),_:2},1032,["onEnter"])])),_:2},1024)))),128))])),_:1},8,["data-test-id"]))])),_:1},8,["spacing","title"])):e.isLoading||!e.hasLoaded||e.promoBlockPosts?((0,n.openBlock)(),(0,n.createBlock)(T,{key:1,type:"promo_block"})):(0,n.createCommentVNode)("",!0)])}var u=o(33907),p=o(11493),h=o(18287),_=o(79063),g=o(19913),T=o(11125),E=o(58178);const S=(0,n.defineAsyncComponent)((()=>o.e(7493).then(o.bind(o,57493)))),C=(0,n.defineAsyncComponent)((()=>Promise.resolve().then(o.bind(o,61712)))),v=(0,n.defineAsyncComponent)((()=>Promise.resolve().then(o.bind(o,3972)))),k={name:"TMPromoBlock",components:{TMPlaceholder:_.Z,TMIntersect:h.Z,TMBlock:p.Z,TMExternalIcon:S,TMSwiper:C,TMSwiperSlide:v},props:{layout:{default:"articles-list",type:String},gaType:{type:String,default:null}},data(){return{isSmallestMobile:!1,matcher:null,trackedItems:[]}},computed:{...(0,u.Se)("global",["isDesktop"]),...(0,u.Se)("promoData",["promoBlockPosts"]),...(0,u.rn)("promoData",["isLoading","hasLoaded"]),...(0,u.Se)("i18n",["langOptions"]),isArticlesListLayout(){return"articles-list"===this.layout},isArticleLayout(){return"article"===this.layout}},mounted(){this.matcher=window.matchMedia("(max-width: 413px)"),this.matcher.addListener(this.onMediaTriggered),this.isSmallestMobile=this.matcher.matches},beforeUnmount(){this.matcher&&this.matcher.removeListener(this.onMediaTriggered)},methods:{onMediaTriggered(e){this.isSmallestMobile=e.matches},logClickToGa(){this.gaType?(0,g.IZ)(`tm_block_promo_${this.gaType}`):this.isArticleLayout?(0,g.IZ)("tm_block_promo_post"):(0,g.IZ)("tm_block_promo_feed_middle")},promoImage(e){const t=this.isDesktop?390:120;return(0,T.dv)(e,t)},trackView({events:e}){const t=e&&e.view;t&&!this.trackedItems.includes(t)&&(this.trackedItems.push(t),(0,E.s)([t]))}}};var f=o(83744);const A=(0,f.Z)(k,[["render",d]]),I=A},76158:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(70942);const s=["href","textContent"],a={class:"tm-promo-post-link__label"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMExternalIcon"),m=(0,n.resolveComponent)("TMIntersect");return(0,n.openBlock)(),(0,n.createBlock)(m,{threshold:[.5],onEnter:l.trackView},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-promo-post-link",l.bem("tm-promo-post-link",{appearance:o.appearance})])},[(0,n.createElementVNode)("a",{class:(0,n.normalizeClass)(["tm-promo-post-link__link",l.bem("tm-promo-post-link__link",{appearance:o.appearance})]),href:o.promoPost.link.url,onClick:t[0]||(t[0]=t=>e.$emit("click")),textContent:(0,n.toDisplayString)(o.promoPost.title)},null,10,s),(0,n.createElementVNode)("div",a,[(0,n.createTextVNode)((0,n.toDisplayString)(o.promoPost.label)+" ",1),o.promoPost.external?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,class:"tm-promo-post-link__external","data-test-id":"external-link-icon",height:"12",width:"12"})):(0,n.createCommentVNode)("",!0)])],2)])),_:1},8,["onEnter"])}var r=o(18287),l=o(25109),c=o(58178);const m=(0,n.defineAsyncComponent)((()=>o.e(7493).then(o.bind(o,57493)))),d={name:"TMPromoPostLink",components:{TMIntersect:r.Z,TMExternalIcon:m},props:{appearance:{type:String,default:"most-reading"},promoPost:{type:Object,required:!0}},emits:["click"],data(){return{tracked:!1}},methods:{bem:l.P,trackView(){const e=this.promoPost.events&&this.promoPost.events.view;e&&!this.tracked&&(this.tracked=!0,(0,c.s)([e]))}}};var u=o(83744);const p=(0,u.Z)(d,[["render",i]]),h=p},9605:(e,t,o)=>{"use strict";o.d(t,{Z:()=>_});var n=o(70942);const s={class:"tm-publication-hubs__container"},a={class:"tm-publication-hubs"},i=["innerHTML"],r=["title"];function l(e,t,o,l,c,m){const d=(0,n.resolveComponent)("TMHubLink");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("div",a,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.hubs,((t,s)=>((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:s,class:(0,n.normalizeClass)(m.bem("tm-publication-hub__link-container",{"old-megapost":o.isOldMegapost}))},[(0,n.createVNode)(d,{class:(0,n.normalizeClass)(m.bem("tm-publication-hub__link",{subscribed:t.relatedData&&t.relatedData.isSubscribed,"old-megapost":o.isOldMegapost})),hub:t,"publication-type":o.publicationType},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:t.title},null,8,i),t.isProfiled?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:"tm-article-snippet__profiled-hub",title:e.msg("PROFILED_HUB")},"*",8,r)):(0,n.createCommentVNode)("",!0)])),_:2},1032,["class","hub","publication-type"])],2)))),128))])])}var c=o(59933),m=o(25109),d=o(99691);const u={name:"TMPublicationHubs",components:{TMHubLink:c.Z},props:{hubs:{type:Array,required:!0},isOldMegapost:Boolean,publicationType:{type:String,default:"article",validator:(0,d.H)(["article","post"])}},methods:{bem:m.P}};var p=o(83744);const h=(0,p.Z)(u,[["render",l]]),_=h},67021:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s=["href"],a={key:3};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("router-link");return l.shouldShowLabel?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(l.bem("tm-publication-label",{variant:l.variants}))},["technotext"===o.label.typeOf?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,to:{name:"ARTICLES_LIST_TECHNOTEXT_ALL",params:{year:l.getTechnotextYear(o.label.type)}}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(o.label.title),1)])),_:1},8,["to"])):"sandbox"===o.label.type?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,to:{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST"}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(o.label.title),1)])),_:1})):o.label.data&&o.label.data.url?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:2,href:o.label.data.url,target:"_blank"},(0,n.toDisplayString)(o.label.title),9,s)):((0,n.openBlock)(),(0,n.createElementBlock)("span",a,(0,n.toDisplayString)(o.label.title),1))],2)):(0,n.createCommentVNode)("",!0)}var r=o(33907),l=o(25109);const c={name:"TMPublicationLabel",props:{label:{type:Object,required:!0}},computed:{...(0,r.Se)("me",["isSuperAdmin"]),shouldShowLabel(){switch(this.label.type){case"textruCheck":return this.isSuperAdmin;default:return!0}},variants(){const e=[this.label.type];return"season"===this.label.typeOf&&e.push(this.label.typeOf),e}},methods:{getTechnotextYear(e){return parseInt(e.substring(10),10)},bem:l.P}};var m=o(83744);const d=(0,m.Z)(c,[["render",i]]),u=d},75222:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createBlock)(r,{to:i.route},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["to"])}var a=o(33907),i=o(10976),r=o(44383);const l={name:"TMPublicationLink",props:{article:{type:Object,required:!0,validator(e){const t=(0,i.T)(e);return"id"in e&&(!!t&&(!e.isCorporative||!!e.hubs&&e.hubs.some((e=>"corporative"===e.type))))}}},computed:{...(0,a.Se)("i18n",["langOptions"]),route(){return(0,r.uT)(this.article,this.langOptions.hl)}}};var c=o(83744);const m=(0,c.Z)(l,[["render",s]]),d=m},10862:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s={class:"pull-down"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMSvgImg");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,["up"===o.direction?(0,n.renderSlot)(e.$slots,"default",{key:0}):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{class:"pull-down__header",style:(0,n.normalizeStyle)({height:i.pullDown.height+"px"})},[(0,n.createElementVNode)("div",{class:"pull-down__content",style:(0,n.normalizeStyle)(r.pullDownContentStyle)},[r.isLoading?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,id:"refresh",class:"icon_refresh pull-down_circle-animate",size:"24"})):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1,id:"pull-arrow",class:(0,n.normalizeClass)(["pull-down__icon",r.labelClass]),size:"24"},null,8,["class"]))],4)],4),"down"===o.direction?(0,n.renderSlot)(e.$slots,"default",{key:1}):(0,n.createCommentVNode)("",!0)])}var i=o(46206);const r={ERROR:-1,START:0,READY:1,REFRESH:2},l="height .2s ease",c={name:"TMPullToRefresh",components:{TMSvgImg:i.Z},props:{onRefresh:{type:Function,required:!0},config:{type:Object,default:()=>{}},direction:{type:String,default:"down",validator(e){return["up","down"].includes(e)}}},data(){return{pullDown:{status:0,height:0,msg:""},canPull:!1,currentConfig:this.config,lastY:null,touchPosition:{start:0,distance:0}}},computed:{label(){return this.pullDown.status===r.ERROR?this.pullDown.msg:this.customLabels[this.pullDown.status+1]},isLoading(){return this.pullDown.status===r.REFRESH},labelClass(){return this.pullDown.status===r.ERROR?this.pullDown.msg:this.customLabels[this.pullDown.status+1]},customLabels(){const e={error:"",start:"down"===this.direction?"pull-down__arrow":"pull-down__arrow_down",ready:"down"===this.direction?"pull-down__arrow_down":"pull-down__arrow",loading:""},t=void 0!==this.currentConfig.errorLabel?this.currentConfig.errorLabel:e.error,o=void 0!==this.currentConfig.startLabel?this.currentConfig.startLabel:e.start,n=void 0!==this.currentConfig.readyLabel?this.currentConfig.readyLabel:e.ready,s=void 0!==this.currentConfig.loadingLabel?this.currentConfig.loadingLabel:e.loading;return[t,o,n,s]},pullDownContentStyle(){return{bottom:(this.currentConfig.pullDownHeight-40)/2+"px"}}},mounted(){this.$nextTick((()=>{const e=this.$el;if(!e)return;const t=e.querySelector(".pull-down__header");this.currentConfig.pullDownHeight=this.currentConfig.pullDownHeight||60,e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd),t.addEventListener("transitionend",this.handleTransitionEnd)}))},beforeUnmount(){const e=this.$el,t=this.$el.querySelector(".pull-down__header");e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchmove",this.handleTouchMove,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("transitionend",this.handleTransitionEnd)},methods:{resetPullDown(e,t){const o=this.$el.querySelector(".pull-down__header"),n=e;t&&(o.style.transition=l),n.height=0,n.status=r.START},handleTouchStart(e){const t=this.$el.querySelector(".pull-down__header"),o="down"===this.direction?window.scrollY<20:t.getBoundingClientRect().top<=window.innerHeight,{baseOffset:n,focusOffset:s}=document.getSelection(),a=n!==s;this.canPull=o&&!a,this.touchPosition.start=e.touches.item(0).pageY,this.lastY=e.touches.item(0).pageY},handleTouchMove(e){const{currentY:t}=e.touches.item(0);if(!this.canPull||t>this.lastY)return void(this.lastY=t);let o=e.touches.item(0).pageY-this.touchPosition.start;o="down"===this.direction?o:-o,o=o>80?80:o,o>10&&document.documentElement.setAttribute("data-pulling",!0),this.touchPosition.distance=o,this.pullDown.height=o,o>this.currentConfig.pullDownHeight?this.pullDown.status=r.READY:this.pullDown.status=r.START,this.lastY=t},handleTouchEnd(){const e=this.$el.querySelector(".pull-down__header");if(this.canPull=!1,e.style.transition=l,this.touchPosition.distance-this.$el.scrollTop>this.currentConfig.pullDownHeight)if(this.$el.scrollTop=0,this.pullDown.height=this.currentConfig.pullDownHeight,this.pullDown.status=r.REFRESH,this.onRefresh&&"function"===typeof this.onRefresh){const e=this.onRefresh();e&&e.then&&"function"===typeof e.then?e.then((()=>{this.resetPullDown(this.pullDown,!0)}),(e=>{let t=e;"string"!==typeof t&&(t=!1),this.pullDown.msg=t||this.customLabels[0],this.pullDown.status=r.ERROR,setTimeout((()=>{this.resetPullDown(this.pullDown,!0)}),1e3)})):this.resetPullDown(this.pullDown)}else this.resetPullDown(this.pullDown),console.warn("please use :on-refresh to pass onRefresh callback");else this.resetPullDown(this.pullDown);this.touchPosition.distance=0,this.touchPosition.start=0},handleTransitionEnd(){const e=this.$el.querySelector(".pull-down__header");e.style.transition=""}}};var m=o(83744);const d=(0,m.Z)(c,[["render",a]]),u=d},44089:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMVotesLever"),l=(0,n.resolveComponent)("TMCounterContainer");return(0,n.openBlock)(),(0,n.createBlock)(l,null,{header:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"icon"),(0,n.createVNode)(r,{appearance:o.variant||"rating","can-vote-minus":!1,"can-vote-plus":!1,formatted:!1,score:o.score||0},null,8,["appearance","score"])])),footer:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(["tm-rating__text",i.bem("tm-rating__text",{variant:o.variant})])},(0,n.toDisplayString)(o.label||e.msg("POINTS_LABEL_RATING")),3)])),_:3})}var a=o(70615),i=o(34733),r=o(25109),l=o(99691);const c={name:"TMRating",components:{TMVotesLever:i.Z,TMCounterContainer:a.Z},props:{score:{type:Number,default:0},label:{type:String,default:null},variant:{type:String,default:null,validator:(0,l.H)(["grade"])}},methods:{bem:r.P}};var m=o(83744);const d=(0,m.Z)(c,[["render",s]]),u=d},36450:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s=["href"],a=["innerHTML"];function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMPopover");return(0,n.openBlock)(),(0,n.createBlock)(c,{class:"restriction-hint",offset:o.offset,placement:o.placement,root:o.target,variant:"hub",onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,n.withCtx)((()=>[o.hasRegistrationLink?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:0,href:l.signUpUrl,onClickCapture:t[0]||(t[0]=(...e)=>l.trackSingUpClick&&l.trackSingUpClick(...e))},(0,n.toDisplayString)(e.msg("COMMENT_SIGN_UP")),41,s)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("span",{innerHTML:e.msg(o.messageKey)},null,8,a)])),_:1},8,["offset","placement","root"])}var r=o(41700),l=o(19913);const c={name:"RestrictionHint",components:{TMPopover:r.Z},props:{target:{type:null,required:!0},offset:{type:Array,default:()=>[-34,0]},placement:{type:String,default:"top-start"},messageKey:{type:String,required:!0},eventLabel:{type:String,required:!0},hasRegistrationLink:{type:Boolean,default:!0}},emits:["close"],computed:{signUpUrl(){const e="/kek/v1/auth/habrahabr-register/";return`${e}?back=${this.$route.path}&hl=${this.langOptions.hl}`}},methods:{trackSingUpClick(){(0,l.IZ)(this.eventLabel)}}};var m=o(83744);const d=(0,m.Z)(c,[["render",i]]),u=d},49303:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgIcon");return i.hasRss?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:(0,n.normalizeClass)(["tm-rss-button",`tm-rss-button_${o.variant}`])},[(0,n.createVNode)(r,{id:"rss",class:"tm-rss-button__icon",onClick:i.copyRssLink},null,8,["onClick"])],2)):(0,n.createCommentVNode)("",!0)}var a=o(33907),i=o(2095),r=o(43059);const l={name:"TMRssButton",components:{TMSvgIcon:i.Z},props:{variant:{type:String,default:"default"}},computed:{...(0,a.Se)("i18n",["langOptions"]),hasRss(){const{params:e,query:t,meta:{rssLink:o,customRssLink:n}}=this.$route;if(n)return!0;const s={...e,...t,fl:this.langOptions.fl,hl:this.langOptions.hl};return Boolean(o&&o(s))}},methods:{copyRssLink(){const e=document.querySelector('link[name="rss"]');if(e){const t=e.getAttribute("href");(0,r.Z)(t),this.$toast.success(this.msg("SOCIAL_COPIED"))}}}};var c=o(83744);const m=(0,c.Z)(l,[["render",s]]),d=m},40248:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(70942);function s(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createBlock)(n.Transition,{appear:o.appear,name:o.name,onAfterLeave:i.onHide,onEnter:i.onShow,onEnterCancelled:i.onCancel,onLeaveCancelled:i.onCancel},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["appear","name","onAfterLeave","onEnter","onEnterCancelled","onLeaveCancelled"])}var a=o(67891);const i={name:"TMScrollLockTransition",props:{appear:{type:Boolean,default:!1},name:{type:String,required:!0}},beforeUnmount(){(0,a.clearAllBodyScrollLocks)()},methods:{onShow(){(0,a.disableBodyScroll)(this.$el.querySelector("[data-scroll-target]"),{reserveScrollBarGap:!0})},onHide(){(0,a.clearAllBodyScrollLocks)()},onCancel(){(0,a.clearAllBodyScrollLocks)()}}};var r=o(83744);const l=(0,r.Z)(i,[["render",s]]),c=l},94675:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={class:"tm-section-name"},a={key:1,class:"tm-section-name__text"},i={key:2,class:"tm-section-name__text"};function r(e,t,o,r,l,c){const m=(0,n.resolveComponent)("TMSvgImg"),d=(0,n.resolveComponent)("TMPlaceholderLine"),u=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[e.backRouteName?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"tm-section-name__back",onClick:t[0]||(t[0]=(...t)=>e.goBack&&e.goBack(...t))},[(0,n.createVNode)(m,{id:"arrow-back",class:"icon_arrow-back icon_arrow-back_section"}),e.isLoading?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0,class:"tm-section-name__placeholder"})):((0,n.openBlock)(),(0,n.createElementBlock)("h1",a,(0,n.toDisplayString)(e.name),1))])):e.route?((0,n.openBlock)(),(0,n.createBlock)(u,{key:1,class:"tm-section-name__link",to:e.route},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.name),1)])),_:1},8,["to"])):((0,n.openBlock)(),(0,n.createElementBlock)("h1",i,(0,n.toDisplayString)(e.name),1)),(0,n.renderSlot)(e.$slots,"default")])}var l=o(14355),c=o(46206);const m={name:"TMSectionName",components:{TMPlaceholderLine:l.Z,TMSvgImg:c.Z},props:{name:{type:String,default:null},route:{type:Object,default:null},backRouteName:{default:null,type:String},backRouteQuery:{default:null,type:Object},isLoading:Boolean},methods:{goBack(){this.backRouteName?this.$router.push({name:this.backRouteName,query:this.backRouteQuery}):this.$router.go(-1)}}};var d=o(83744);const u=(0,d.Z)(m,[["render",r]]),p=u},15971:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s=["textContent"],a={class:"tm-separated-list__list"};function i(e,t,o,i,r,l){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"separatedList",class:(0,n.normalizeClass)(l.bem("tm-separated-list",{clipped:o.hasShowAll&&!r.isOpened}))},[o.title?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:"tm-separated-list__title",textContent:(0,n.toDisplayString)(o.title)},null,8,s)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("ul",a,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.list.slice(0,r.visibleItemsCount),((t,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:o,class:"tm-separated-list__item"},[(0,n.renderSlot)(e.$slots,"default",{item:t})])))),128)),r.visibleItemsCount<o.list.length?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"tm-separated-list__more",onClick:t[0]||(t[0]=(...e)=>l.showAll&&l.showAll(...e))},(0,n.toDisplayString)(e.msg("MORE_SHOW",{count:o.list.length-r.visibleItemsCount})),1)):(0,n.createCommentVNode)("",!0)])],2)}var r=o(25109);const l={name:"TMSeparatedList",props:{list:{type:Array,required:!0},title:{type:String,default:null},hasShowAll:{type:Boolean,default:!1}},data(){return{isOpened:!1,visibleItemsCount:this.list.length}},mounted(){this.hasShowAll&&this.updateHiddenTags()},methods:{bem:r.P,updateHiddenTags(){if(this.isOpened||!this.$refs.separatedList)return;const e=2,t=this.$refs.separatedList.getElementsByClassName("tm-separated-list__item"),o=t[0].offsetHeight,n=t[0].offsetTop,s=n+e*o;if(Array.from(t).forEach((e=>{e.offsetTop>=s&&(this.visibleItemsCount-=1)})),this.visibleItemsCount<this.list.length)while(!this.hasSpaceForShowMore()&&this.visibleItemsCount>1)this.visibleItemsCount-=1;this.$nextTick((()=>{this.$refs.separatedList&&(this.$refs.separatedList.style.visibility="visible",this.$refs.separatedList.style.overflow="visible",this.$refs.separatedList.style.maxHeight="none")}))},hasSpaceForShowMore(){const e=this.$refs.separatedList.getElementsByClassName("tm-separated-list__item"),t=e[this.visibleItemsCount-1],o=this.$refs.separatedList;if(!t||!o)return!1;const n=70,s=t.offsetTop===o.offsetTop,a=o.offsetWidth-t.offsetWidth-t.offsetLeft;return a>n||s},showAll(){this.visibleItemsCount=this.list.length,this.isOpened=!0}}};var c=o(83744);const m=(0,c.Z)(l,[["render",i]]),d=m},43210:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={class:"tm-sidebar__container"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMOverlay");return(0,n.openBlock)(),(0,n.createBlock)(l,{class:(0,n.normalizeClass)(["tm-sidebar",`tm-sidebar_${o.position}`]),"data-test-id":"modal-sidebar",onClose:t[0]||(t[0]=t=>e.$emit("close"))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-sidebar__wrapper",`tm-sidebar__wrapper_${o.position}`]),style:(0,n.normalizeStyle)(r.style)},[(0,n.createElementVNode)("div",s,[(0,n.renderSlot)(e.$slots,"default")])],6)])),_:3},8,["class"])}var i=o(33907),r=o(6774),l=o(21676);const c={right:"isRight",left:"isLeft"},m={name:"TMSidebarModal",components:{TMOverlay:r.Z},props:{position:{required:!0,type:String}},emits:["close"],data(){return{delta:0,swipeListener:null}},computed:{...(0,i.rn)("viewport",["width"]),parallax(){const e=2;return Math.abs(this.delta)/this.width/e},style(){return"left"===this.position&&this.delta>0?{transform:`translateX(${-100*this.parallax}%)`}:"right"===this.position&&this.delta<0?{transform:`translateX(${100*this.parallax}%)`}:null}},watch:{$route(){this.$emit("close")}},beforeUnmount(){(0,l.y)(this.swipeListener)},mounted(){this.swipeListener=(0,l.i)((e=>{this.delta=e.delta,e[c[this.position]]&&this.$emit("close")}))}};var d=o(83744);const u=(0,d.Z)(m,[["render",a]]),p=u},33117:(e,t,o)=>{"use strict";o.d(t,{Z:()=>K});var n=o(70942);const s={class:"similar-and-daily__tab-view"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMOtherNewsBlock"),c=(0,n.resolveComponent)("TMTabs"),m=(0,n.resolveComponent)("TMDailyArticlesBlock"),d=(0,n.resolveComponent)("TMSimilarArticlesBlock"),u=(0,n.resolveComponent)("TMBlock");return(0,n.openBlock)(),(0,n.createBlock)(u,{"body-variant":"condensed-slim","header-variant":"borderless",spacing:o.spacing,title:r.blockTitle,"title-variant":"large"},{default:(0,n.withCtx)((()=>[o.isNews?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,"excluded-ids":[o.articleId],"ga-author":r.ga.news.author,"ga-comments":r.ga.news.comment,"ga-title":r.ga.news.news},null,8,["excluded-ids","ga-author","ga-comments","ga-title"])):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createVNode)(c,{"local-active":i.currentTab,"onUpdate:localActive":t[0]||(t[0]=e=>i.currentTab=e),local:"","no-spacers":"",slim:"",tabs:r.tabs},null,8,["local-active","tabs"]),(0,n.createElementVNode)("div",s,["daily"===i.currentTab?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,"ga-author":r.ga.top.author,"ga-comments":r.ga.top.comment,"ga-title":r.ga.top.post},(0,n.createSlots)({_:2},[e.$slots.dailyTopPromoLink?{name:"lastItem",fn:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"dailyTopPromoLink")])),key:"0"}:void 0]),1032,["ga-author","ga-comments","ga-title"])):(0,n.createCommentVNode)("",!0),"similar"===i.currentTab?((0,n.openBlock)(),(0,n.createBlock)(d,{key:1,"article-id":o.articleId,"ga-author":r.ga.similar.author,"ga-comments":r.ga.similar.comment,"ga-title":r.ga.similar.post},null,8,["article-id","ga-author","ga-comments","ga-title"])):(0,n.createCommentVNode)("",!0)])],64))])),_:3},8,["spacing","title"])}var i=o(11493);const r={key:0,class:"daily-articles-list"},l={class:"daily-articles-block__button-container"};function c(e,t,o,s,a,i){const c=(0,n.resolveComponent)("TMArticleCardList"),m=(0,n.resolveComponent)("TMButtonBase"),d=(0,n.resolveComponent)("router-link"),u=(0,n.resolveComponent)("TMPlaceholder");return e.dailyArticles.length||e.$slots.lastItem?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,[(0,n.createVNode)(c,{articles:e.dailyArticles,"ga-author":o.gaAuthor,"ga-comments":o.gaComments,"ga-title":o.gaTitle},{lastItem:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"lastItem")])),_:3},8,["articles","ga-author","ga-comments","ga-title"]),(0,n.createElementVNode)("div",l,[i.showLoadMoreButton?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,class:"daily-articles-block__button","is-loading":e.isLoading,"style-type":"transparent",onClick:i.loadMore},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("SHOW_MORE")),1)])),_:1},8,["is-loading","onClick"])):((0,n.openBlock)(),(0,n.createBlock)(d,{key:1,class:"daily-articles-block__link",to:{name:"ARTICLES_LIST_TOP_PERIOD",params:{period:"alltime"}}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("PUBLICATION_SHOW_BEST_OF_ALL_TIME")),1)])),_:1}))])])):((0,n.openBlock)(),(0,n.createBlock)(u,{key:1,times:o.placeholderCount,type:"articleCards"},null,8,["times"]))}var m=o(33907);const d={key:0,class:"tm-article-card-list"};function u(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMArticleSnippet"),l=(0,n.resolveComponent)("TMDataIcons"),c=(0,n.resolveComponent)("TMBorderedCard");return o.articles?((0,n.openBlock)(),(0,n.createElementBlock)("ul",d,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.articles,(e=>((0,n.openBlock)(),(0,n.createBlock)(c,{key:e.id,tag:"li"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{article:e,"ga-author":o.gaAuthor,"ga-title":o.gaTitle,lang:e.lang,"no-border":"","use-link":"","with-hubs":!1,"with-labels":"","with-lead":!1},null,8,["article","ga-author","ga-title","lang"]),(0,n.createVNode)(l,{article:e,"bookmark-module":o.bookmarkModule,"ga-event":o.gaComments,"icons-list":["votes","comments","favorite"]},null,8,["article","bookmark-module","ga-event"])])),_:2},1024)))),128)),e.$slots.lastItem&&e.$slots.lastItem()?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"lastItem")])),_:3})):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)}var p=o(70945),h=o(62e3),_=o(56948);const g={name:"TMArticleCardList",components:{TMBorderedCard:h.Z,TMDataIcons:_.Z,TMArticleSnippet:p.Z},props:{articles:{type:Array,required:!0},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""},bookmarkModule:{type:String,default:"articlesList"}}};var T=o(83744);const E=(0,T.Z)(g,[["render",u]]),S=E;var C=o(7281),v=o(79063);const k=10,f={name:"TMDailyArticlesBlock",components:{TMArticleCardList:S,TMPlaceholder:v.Z,TMButtonBase:C.Z},props:{gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""},placeholderCount:{type:Number,default:5}},data(){return{page:1}},computed:{...(0,m.Se)("articlesList",{dailyArticles:"getDailyArticles",pagesCount:"getDailyPagesCount"}),...(0,m.rn)("articlesList",["isLoading"]),showLoadMoreButton(){return this.pagesCount>this.page}},mounted(){this.loadDailyArticles({force:!0,perPage:k})},methods:{...(0,m.nv)("articlesList",["loadDailyArticles"]),loadMore(){this.loadDailyArticles({pageNum:this.page+1,append:!0,force:!0,perPage:k}).then((()=>{this.page+=1}))}}},A=(0,T.Z)(f,[["render",c]]),I=A,y={key:0},b={class:"other-news-block__button-container"};function N(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMArticleCardList"),l=(0,n.resolveComponent)("router-link"),c=(0,n.resolveComponent)("TMButtonBase"),m=(0,n.resolveComponent)("TMPlaceholder");return e.news.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",y,[(0,n.createVNode)(r,{articles:e.news,"ga-author":o.gaAuthor,"ga-comments":o.gaComments,"ga-title":o.gaTitle},null,8,["articles","ga-author","ga-comments","ga-title"]),(0,n.createElementVNode)("div",b,[i.showGoToAllNewsButton?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,class:"other-news-block__all-news btn btn_small btn_transparent",to:{name:"NEWS_LIST_ALL_PAGES",params:{pageNum:4}}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("NEWS_ALL_NEWS")),1)])),_:1})):i.showLoadMoreButton?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,class:"other-news-block__button","is-loading":e.isLoading,"style-type":"transparent",onClick:i.loadMore},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("SHOW_MORE")),1)])),_:1},8,["is-loading","onClick"])):(0,n.createCommentVNode)("",!0)])])):((0,n.openBlock)(),(0,n.createBlock)(m,{key:1,times:e.$options.NEWS_PER_PAGE,type:"articleCards"},null,8,["times"]))}const P=10,L=60,B={name:"TMOtherNewsBlock",components:{TMArticleCardList:S,TMPlaceholder:v.Z,TMButtonBase:C.Z},props:{excludedIds:{type:Array,required:!0},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""}},data(){return{page:1}},computed:{...(0,m.Se)("articlesList",{news:"getOtherNews",pagesCount:"getOtherNewsPagesCount"}),...(0,m.rn)("articlesList",["isLoading"]),showLoadMoreButton(){return this.pagesCount>this.page},showGoToAllNewsButton(){return this.news.length>=L}},mounted(){this.loadNews()},methods:{...(0,m.nv)("articlesList",["loadOtherNews"]),loadNews(){this.loadOtherNews({force:!0,perPage:P,excludedIds:this.excludedIds})},loadMore(){this.loadOtherNews({pageNum:this.page+1,append:!0,force:!0,perPage:P,excludedIds:this.excludedIds}).then((()=>{this.page+=1}))}},NEWS_PER_PAGE:P},O=(0,T.Z)(B,[["render",N]]),w=O,M=["innerHTML"];function R(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMPlaceholder"),l=(0,n.resolveComponent)("TMArticleCardList"),c=(0,n.resolveComponent)("TMEmptyPlaceholder");return s.isLoading?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,times:o.placeholderCount,type:"articleCards"},null,8,["times"])):e.similarList.length?((0,n.openBlock)(),(0,n.createBlock)(l,{key:1,articles:e.similarList,"bookmark-module":"similarList","ga-author":o.gaAuthor,"ga-comments":o.gaComments,"ga-title":o.gaTitle},null,8,["articles","ga-author","ga-comments","ga-title"])):((0,n.openBlock)(),(0,n.createBlock)(c,{key:2},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:e.msg("ARTICLE_OTHER_ARTICLES_SIMILAR_EMPTY")},null,8,M)])),_:1}))}var V=o(17490),D=o(95756),U=o(4218);const $={name:"TMSimilarArticlesBlock",components:{TMEmptyPlaceholder:V.Z,TMArticleCardList:S,TMPlaceholder:v.Z},props:{articleId:{type:String,required:!0},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""},placeholderCount:{type:Number,default:5},count:{type:Number,default:5}},setup(e){const[t]=(0,U.WX)("similarList",["loadSimilarList"]),o=(0,n.ref)(!1),s=n=>{o.value=!0,t({articleId:n,count:e.count}).finally((()=>{o.value=!1}))};return(0,n.onMounted)((()=>{(0,D.n)((()=>e.articleId),(e=>{s(e)}))})),{isLoading:o,loadArticles:s}},computed:{...(0,m.Se)("similarList",["similarList"])},mounted(){this.loadArticles(this.articleId)}},x=(0,T.Z)($,[["render",R]]),F=x;var H=o(62978);const G=(e,t)=>e.reduce(((e,o)=>(e[o]=t(o),e)),{});var W=o(99343),Y=o(99691);const Z={name:"TMSimilarAndDailyArticles",components:{TMBlock:i.Z,TMSimilarArticlesBlock:F,TMDailyArticlesBlock:I,TMTabs:H.Z,TMOtherNewsBlock:w},props:{articleId:{type:String,required:!0},isNews:{type:Boolean,required:!0},spacing:{type:String,default:"bottom",validator:(0,Y.H)(["top","bottom","around","none"])}},data(){return{currentTab:"daily"}},computed:{blockTitle(){return this.isNews?this.msg("ARTICLE_OTHER_NEWS_TITLE"):this.msg("ARTICLE_OTHER_ARTICLES_TITLE")},ga(){const e=["post","comment","author"],t=["news","comment","author"];return{similar:G(e,W.I$.bind(null,"similar")),top:G(e,W.I$.bind(null,"top_daily")),news:G(t,W.aF.bind(null))}},tabs(){return[{route:{name:"daily"},title:this.msg("ARTICLE_OTHER_ARTICLES_TOP")},{route:{name:"similar"},title:this.msg("ARTICLE_OTHER_ARTICLES_SIMILAR")}]}},watch:{articleId(){this.$forceUpdate()}}},q=(0,T.Z)(Z,[["render",a]]),K=q},309:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s={class:"tm-checkbox"},a=["id","checked","disabled"];function i(e,t,o,i,r,l){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("input",{id:o.input.name,checked:o.input.value,class:"tm-checkbox__real",disabled:o.input.disabled,type:"checkbox",onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",!o.input.value))},null,40,a),(0,n.createElementVNode)("span",{class:"tm-checkbox__fake",onClick:t[1]||(t[1]=(...e)=>l.toggleCheckbox&&l.toggleCheckbox(...e))})])}const r={name:"TMSimpleCheckbox",props:{input:{type:Object,required:!0}},emits:["update:modelValue"],methods:{toggleCheckbox(){this.input.disabled||this.$emit("update:modelValue",!this.input.value)}}};var l=o(83744);const c=(0,l.Z)(r,[["render",i]]),m=c},60732:(e,t,o)=>{"use strict";o.d(t,{Z:()=>Ie});var n=o(70942);const s={key:1};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMStoriesEmpty"),c=(0,n.resolveComponent)("TMStoriesCard"),m=(0,n.resolveComponent)("TMSwiperSlide"),d=(0,n.resolveComponent)("TMSwiper"),u=(0,n.resolveComponent)("TMStoriesView"),p=(0,n.resolveComponent)("TMBlock");return r.isShowBlock?((0,n.openBlock)(),(0,n.createBlock)(p,{key:0,"body-variant":"equal",class:"tm-stories-block","data-navigatable":"",spacing:"around",tabindex:"0",title:e.msg("TITLE_STORIES")},{default:(0,n.withCtx)((()=>[i.isSorting?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0})):((0,n.openBlock)(),(0,n.createBlock)(d,{key:1,"active-slide":i.activeSlide,class:"tm-stories",navigation:"","slides-per-view":"auto","space-between":e.isDesktop?20:12,threshold:15},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(i.sortedStories,((e,t)=>((0,n.openBlock)(),(0,n.createBlock)(m,{key:e.id},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{"is-viewed":i.viewedStoriesIds.has(e.id),story:e,onChangeActiveStory:e=>i.activeSlide=t,onOpenStory:e=>r.openStory(t)},null,8,["is-viewed","story","onChangeActiveStory","onOpenStory"])])),_:2},1024)))),128))])),_:1},8,["active-slide","space-between"])),i.isStoriesView?((0,n.openBlock)(),(0,n.createBlock)(u,{key:2,"active-story-index":i.currentStoryIndex,"ga-category":o.gaCategory,stories:i.sortedStories,onClose:t[0]||(t[0]=e=>r.closeView()),onSaveView:r.saveView},null,8,["active-story-index","ga-category","stories","onSaveView"])):(0,n.createCommentVNode)("",!0)])),_:1},8,["title"])):((0,n.openBlock)(),(0,n.createElementBlock)("div",s))}var i=o(33907),r=o(11493);const l={class:"tm-stories-card"},c=["src"],m=(0,n.createElementVNode)("div",{class:"tm-stories-card__gradient"},null,-1),d={key:0,class:"tm-stories-card__overlay"},u=["src"],p=["textContent"];function h(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(i.bem("tm-stories-card__image-block",{loading:a.imageLoading})),onClick:t[3]||(t[3]=t=>e.$emit("openStory")),onFocus:t[4]||(t[4]=e=>i.focus())},[(0,n.createElementVNode)("img",{alt:"",class:"tm-stories-card__image",src:i.getResizedImg(o.story.slides[0].image),onLoad:t[0]||(t[0]=e=>a.imageLoading=!1)},null,40,c),m,o.isViewed?((0,n.openBlock)(),(0,n.createElementBlock)("div",d)):(0,n.createCommentVNode)("",!0),o.isViewed?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.story.author.link?"a":"span"),{key:1,class:"tm-stories-card__author",href:o.story.author.link,onClick:t[1]||(t[1]=(0,n.withModifiers)((()=>{}),["stop"])),onFocus:t[2]||(t[2]=e=>i.focus())},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{alt:"author-logo",class:"tm-stories-card__author-logo",src:o.story.author.logo},null,8,u)])),_:1},40,["href"]))],34),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(i.bem("tm-stories-card__title",{viewed:o.isViewed})),textContent:(0,n.toDisplayString)(o.story.title)},null,10,p)])}var _=o(25109),g=o(11125);const T={name:"TMStoriesCard",props:{story:{type:Object,required:!0},isViewed:{type:Boolean,default:!1}},emits:["openStory","changeActiveStory"],data(){return{imageLoading:!0}},methods:{bem:_.P,getResizedImg(e){const t=390;return(0,g.dv)(e,t)},focus(){this.$emit("changeActiveStory")}}};var E=o(83744);const S=(0,E.Z)(T,[["render",h]]),C=S,v={class:"tm-stories-empty"},k=(0,n.createStaticVNode)('<div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div>',2),f=[k];function A(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",v,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a.cards,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:"tm-stories-card-empty"},f)))),128))])}const I={name:"TMStoriesEmpty",data(){return{cards:[1,2,3,4,5,6]}}},y=(0,E.Z)(I,[["render",A]]),b=y,N={class:"tm-stories-view"};function P(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgIcon"),l=(0,n.resolveComponent)("TMStory"),c=(0,n.resolveComponent)("TMSwiperSlide"),m=(0,n.resolveComponent)("TMSwiper"),d=(0,n.resolveDirective)("hotkey");return(0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[(0,n.createElementVNode)("div",N,[(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("button",{class:"tm-stories-view__close",onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e))},[(0,n.createVNode)(r,{id:"close",class:"tm-stories-view__close-icon",size:"16",title:e.msg("CLOSE")},null,8,["title"])])),[[d,{esc:i.close}]]),(0,n.createElementVNode)("div",{class:"tm-stories-view__bg",onClick:t[1]||(t[1]=(...e)=>i.close&&i.close(...e))}),null!==a.isSmallestMobile?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,"active-slide":a.currentStoryIndex,"centered-slides":!a.isSmallestMobile,"initial-slide":a.currentStoryIndex,"slides-per-view":a.isSmallestMobile?1:"auto","space-between":a.isSmallestMobile?0:70,onSlideChange:i.slideChange},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.stories,((s,r)=>((0,n.openBlock)(),(0,n.createBlock)(c,{key:s.id},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,{"data-story-card":"","ga-category":o.gaCategory,"is-active":r===a.currentStoryIndex,"is-first":0===r,"is-last":r===o.stories.length-1,"loading-status":a.storiesLoading[r],story:s,onChangeActiveStory:e=>i.slideChange(r),onClose:t[2]||(t[2]=t=>e.$emit("close")),onLoadingFinish:e=>i.continueLoading(r,e),onNextStory:i.nextStory,onPrevStory:i.prevStory,onSaveView:t=>e.$emit("saveView",s.id)},null,8,["ga-category","is-active","is-first","is-last","loading-status","story","onChangeActiveStory","onLoadingFinish","onNextStory","onPrevStory","onSaveView"])])),_:2},1024)))),128))])),_:1},8,["active-slide","centered-slides","initial-slide","slides-per-view","space-between","onSlideChange"])):(0,n.createCommentVNode)("",!0)])])}const L={ref:"story",class:"tm-story"},B=["src","onError","onLoad"],O={key:0,class:"tm-story__image"},w=(0,n.createElementVNode)("div",{class:"tm-story__gradient"},null,-1),M={class:"tm-story__author"},R=["src"],V=["href"];function D(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgIcon"),l=(0,n.resolveComponent)("TMSpinner"),c=(0,n.resolveComponent)("TMStoryProgressBar"),m=(0,n.resolveDirective)("hotkey");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(i.bem("tm-story-container",{hidden:!o.isActive}))},[o.isActive?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[i.showLeftButton?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"tm-story__button tm-story__button_left","data-test-id":"story-prev-slide",onClick:t[0]||(t[0]=(...e)=>i.prevSlide&&i.prevSlide(...e))},[(0,n.createVNode)(r,{id:"arrow-back",class:"tm-story__button-icon",size:"24",title:e.msg("NAV_LEFT")},null,8,["title"])])):(0,n.createCommentVNode)("",!0),i.showRightButton?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"tm-story__button tm-story__button_right","data-test-id":"story-next-slide",onClick:t[1]||(t[1]=(...e)=>i.nextSlide&&i.nextSlide(...e))},[(0,n.createVNode)(r,{id:"arrow-back",class:"tm-story__button-icon",size:"24",title:e.msg("NAV_RIGHT")},null,8,["title"])])):(0,n.createCommentVNode)("",!0)],64)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",L,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(i.visibleSlidesImages,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:t,alt:"",class:(0,n.normalizeClass)(i.bem("tm-story__image",{hidden:e!==i.activeSlide.image})),src:i.getResizedImg(e),onError:o=>i.errorImage(t,e),onLoad:o=>i.loadImage(t,e)},null,42,B)))),128)),i.visibleSlidesImages.length?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",O)),a.imageLoading?((0,n.openBlock)(),(0,n.createBlock)(l,{key:1})):(0,n.createCommentVNode)("",!0),w,o.isActive?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:2},[(0,n.createElementVNode)("div",{class:"tm-story__area tm-story__area_left",onClick:t[2]||(t[2]=e=>i.prevSlide(null,!0))}),(0,n.createElementVNode)("div",{class:"tm-story__area tm-story__area_right",onClick:t[3]||(t[3]=e=>i.nextSlide(null,!0))}),a.imageLoading?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"active-slide-index":a.activeSlideIndex,"is-paused":a.isPaused,slides:o.story.slides},null,8,["active-slide-index","is-paused","slides"])),(0,n.createElementVNode)("button",{class:"tm-story__close",onClick:t[4]||(t[4]=t=>e.$emit("close"))},[(0,n.createVNode)(r,{id:"close-rounded",size:"24",title:e.msg("CLOSE")},null,8,["title"])])],64)):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:3,class:"tm-story__overlay",onClick:t[5]||(t[5]=(...e)=>i.changeActiveStory&&i.changeActiveStory(...e))})),(0,n.createElementVNode)("div",M,[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.story.author.link?"a":"span"),{class:"tm-story__author-logo","data-test-id":o.story.author.link?"story-author-link":"story-author",href:o.story.author.link,onClick:t[6]||(t[6]=(0,n.withModifiers)((e=>i.logAuthorClick(o.story)),["prevent"]))},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{alt:"story-author",src:o.story.author.logo},null,8,R)])),_:1},8,["data-test-id","href"])),((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.story.author.link?"a":"span"),{class:"tm-story__author-name","data-test-id":o.story.author.link?"story-author-link":"story-author",href:o.story.author.link,onClick:t[7]||(t[7]=(0,n.withModifiers)((e=>i.logAuthorClick(o.story)),["prevent"]))},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(o.story.author.title),1)])),_:1},8,["data-test-id","href"]))]),o.isActive&&i.activeSlide.button?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:4,class:(0,n.normalizeClass)(i.bem("tm-story__link",{color:i.activeSlide.button.colorType})),"data-test-id":"story-link",href:i.activeSlide.button.link,onClick:t[8]||(t[8]=(0,n.withModifiers)((e=>i.logButtonClick(i.activeSlide.button.link)),["left","prevent"])),onMouseup:t[9]||(t[9]=(0,n.withModifiers)((e=>i.logButtonClick(i.activeSlide.button.link,!0)),["middle","prevent"]))},[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(i.activeSlide.button.title),1),(0,n.createVNode)(r,{id:"pull-arrow",class:"tm-story__link-icon",size:"24",title:i.activeSlide.button.title},null,8,["title"])],42,V)):(0,n.createCommentVNode)("",!0)],512)],2)),[[m,i.hotkeys]])}const U={class:"tm-spinner"},$=(0,n.createElementVNode)("svg",{class:"spinner",height:"66px",viewBox:"0 0 66 66",width:"66px",xmlns:"http://www.w3.org/2000/svg"},[(0,n.createElementVNode)("circle",{class:"path",cx:"33",cy:"33",fill:"none",r:"30","stroke-linecap":"round","stroke-width":"6"})],-1),x=[$];function F(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",U,x)}const H={name:"TMSpinner"},G=(0,E.Z)(H,[["render",F]]),W=G,Y={class:"tm-story-progress-bar"};function Z(e,t,o,s,a,i){return(0,n.openBlock)(),(0,n.createElementBlock)("div",Y,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.slides,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e.id,class:"tm-story-progress-bar__item",style:(0,n.normalizeStyle)(`width: calc(100%/${o.slides.length} - 4px);`)},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(i.bem("tm-story-progress-bar__item-progress",{active:t===o.activeSlideIndex,future:t>o.activeSlideIndex,paused:o.isPaused&&t===o.activeSlideIndex}))},null,2)],4)))),128))])}const q={name:"TMStoryProgressBar",props:{slides:{type:Array,required:!0},isPaused:{type:Boolean},activeSlideIndex:{type:Number,required:!0}},methods:{bem:_.P}},K=(0,E.Z)(q,[["render",Z]]),j=K;var z=o(2095),Q=o(19913),X=o(43188);function J(e){return(0,X.q)("/story",e)}const ee="new",te="pending",oe="loaded",ne="error",se="all",ae="first",ie="none",re={name:"TMStory",components:{TMSvgIcon:z.Z,TMStoryProgressBar:j,TMSpinner:W},props:{story:{type:Object,required:!0},isActive:{type:Boolean,default:!1},isFirst:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1},gaCategory:{type:String,required:!0},loadingStatus:{type:String,required:!0},imagesPreloaded:{type:Boolean,default:!1}},emits:["close","loadingFinish","nextStory","prevStory","changeActiveStory","saveView"],data(){const e={};for(let t=0;t<this.story.slides.length;t+=1){const o=this.story.slides[t];this.imagesPreloaded?e[o.image]=oe:e[o.image]=0===t?te:ee}return{activeSlideIndex:0,timer:1e3,counter:!1,interval:0,isPaused:!1,pauseTimeStamp:0,playTimeStamp:0,imageLoading:!0,slidesImages:e}},computed:{...(0,i.rn)("me",["uuid"]),...(0,i.Se)("global",["isMobile"]),activeSlide(){return this.story.slides[this.activeSlideIndex]},showLeftButton(){return!this.isFirst||0!==this.activeSlideIndex},showRightButton(){return!this.isLast||this.activeSlideIndex!==this.story.slides.length-1},hotkeys(){return this.isActive?{space:this.toggleTimer,right:this.nextSlide,left:this.prevSlide,up:this.prevStory,down:this.nextStory}:{}},isShortClick(){return this.playTimeStamp-this.pauseTimeStamp<300},visibleSlidesImages(){return this.loadingStatus===ie?{}:Object.keys(this.slidesImages).filter((e=>this.slidesImages[e]!==ee))}},watch:{isActive(){this.isActive?(this.startTimer(),this.saveView(),this.logGaStory(),this.logSlideView(),this.loadNextImage(this.activeSlideIndex)):(clearInterval(this.interval),this.interval=0)},imageLoading(){this.isActive&&!this.imageLoading&&this.startSlide()},loadingStatus(e){e===se&&this.loadNextImage(this.visibleSlidesImages.length-1)}},beforeUnmount(){clearInterval(this.interval),this.$refs.story.removeEventListener("mousedown",this.pause),this.$refs.story.removeEventListener("mouseup",this.play),this.$refs.story.removeEventListener("touchstart",this.pause),this.$refs.story.removeEventListener("touchend",this.play),this.$refs.story.removeEventListener("contextmenu",this.closeContextMenu)},mounted(){this.isActive&&this.logGaStory(),this.$refs.story.addEventListener("mousedown",this.pause),this.$refs.story.addEventListener("mouseup",this.play),this.$refs.story.addEventListener("touchstart",this.pause,{passive:!0}),this.$refs.story.addEventListener("touchend",this.play,{passive:!0}),this.$refs.story.addEventListener("contextmenu",this.closeContextMenu)},methods:{bem:_.P,loadImage(e,t){e===this.activeSlideIndex&&(this.imageLoading=!1),0===e&&this.$emit("loadingFinish",ae),this.slidesImages[t]=oe,this.loadNextImage(e)},errorImage(e,t){this.slidesImages[t]=ne,this.loadNextImage(e)},loadNextImage(e){if(e===this.story.slides.length-1)return void this.$emit("loadingFinish",se);if(this.loadingStatus===ae)return;const t=this.story.slides[e+1];this.slidesImages[t.image]===ee&&(this.slidesImages[t.image]=te)},getResizedImg(e){const t=780;return(0,g.dv)(e,t)},toggleTimer(){this.isPaused=!this.isPaused},pause(e){this.pauseTimeStamp=e.timeStamp,this.isPaused=!0},play(e){this.playTimeStamp=e.timeStamp,this.isPaused=!1},closeContextMenu(e){this.isMobile&&e.preventDefault()},nextSlide(e,t=!1){t&&!this.isShortClick||this.changeActiveSlide(1)},prevSlide(e,t=!1){t&&!this.isShortClick||this.changeActiveSlide(-1)},nextStory(){this.$emit("nextStory")},prevStory(){this.$emit("prevStory")},changeActiveStory(){this.$emit("changeActiveStory")},changeActiveSlide(e){this.activeSlideIndex+e<0?this.prevStory():this.activeSlideIndex+e>this.story.slides.length-1?this.nextStory():(this.activeSlideIndex+=e,this.slidesImages[this.activeSlide.image]===ee&&(this.slidesImages[this.activeSlide.image]=te),this.slidesImages[this.activeSlide.image]===oe?this.startSlide():(this.imageLoading=!0,this.isPaused=!0))},startSlide(){this.isPaused=!1,this.saveView(),this.logSlideView(),this.startTimer()},startTimer(){this.timer=1e3,this.interval||(this.interval=setInterval(this.countDown,10))},countDown(){this.isPaused||(this.counter?this.timer>0?this.timer-=1:(this.timer=0,this.counter=!1,this.nextSlide()):this.counter=!0)},saveView(){this.story.slides.length-1===this.activeSlideIndex&&this.$emit("saveView")},logGaStory(){(0,Q.IZ)(`${this.gaCategory}_view_${this.story.id}_open`)},logAuthorClick(e){e.author.link&&J({uuid:this.uuid,storyId:this.story.id,actionType:"authorClick"}).finally((()=>{window.location=e.author.link}))},logSlideView(){J({uuid:this.uuid,storyId:this.story.id,slideId:this.activeSlide.id,actionType:"slideView"}),(0,Q.IZ)(`${this.gaCategory}_view_${this.story.id}`,{event_label:`slide_${this.activeSlide.id}`})},logButtonClick(e,t){J({uuid:this.uuid,storyId:this.story.id,slideId:this.activeSlide.id,actionType:"slideButtonClick"}).finally((()=>{e&&!t&&(window.location.href=e)})),(0,Q.IZ)(`${this.gaCategory}_view_${this.story.id}`,{event_label:`button_${this.activeSlide.id}`})}}},le=(0,E.Z)(re,[["render",D]]),ce=le;var me=o(61712),de=o(3972);const ue="all",pe="first",he="none",_e={name:"TMStoriesView",components:{TMStory:ce,TMSvgIcon:z.Z,TMSwiper:me["default"],TMSwiperSlide:de["default"]},props:{stories:{type:Array,required:!0},activeStoryIndex:{type:Number,required:!0},gaCategory:{type:String,required:!0}},emits:["close","saveView"],data(){const e={};return this.stories.forEach(((t,o)=>{e[o]=o===this.activeStoryIndex?ue:he})),{currentStoryIndex:this.activeStoryIndex,isSmallestMobile:null,matcher:null,storiesLoading:e}},beforeUnmount(){document.body.classList.remove("tm-touch-select-disabled"),this.matcher.removeListener(this.onMediaTriggered)},mounted(){document.body.classList.add("tm-touch-select-disabled"),this.matcher=window.matchMedia("(max-width: 415px)"),this.matcher.addListener(this.onMediaTriggered),this.isSmallestMobile=this.matcher.matches},methods:{close(){this.$emit("close")},slideChange(e){this.currentStoryIndex=e,this.storiesLoading[this.currentStoryIndex]=ue},nextStory(){this.currentStoryIndex+1>this.stories.length-1?this.$emit("close"):this.currentStoryIndex+=1},prevStory(){this.currentStoryIndex-1<0?this.currentStoryIndex=0:this.currentStoryIndex-=1},onMediaTriggered(e){this.isSmallestMobile=e.matches},continueLoading(e,t){e<=this.currentStoryIndex&&0!==e&&this.storiesLoading[e-1]===he&&(this.storiesLoading[e-1]=pe),e>=this.currentStoryIndex&&e!==this.stories.length-1&&this.storiesLoading[e+1]!==t&&(this.storiesLoading[e+1]=t)}}},ge=(0,E.Z)(_e,[["render",P]]),Te=ge;var Ee=o(21805);const Se="habr-stories-viewed",Ce=100,ve=5,ke=3,fe={name:"TMStories",components:{TMBlock:r.Z,TMStoriesView:Te,TMStoriesCard:C,TMStoriesEmpty:b,TMSwiper:me["default"],TMSwiperSlide:de["default"]},props:{isSidebar:{type:Boolean,default:!1},gaCategory:{type:String,required:!0}},setup(){return(0,Ee.w)((({store:e})=>e.dispatch("stories/loadStories")))},data(){return{activeSlide:0,viewedStoriesIds:null,isStoriesView:!1,currentStoryIndex:0,isSorting:!0,sortedStories:[]}},computed:{...(0,i.Se)("stories",["stories"]),...(0,i.Se)("global",["isDesktop"]),isShowBlock(){return!!this.stories&&(this.isSidebar?this.stories.length>=ke:this.stories.length>=ve)}},mounted(){this.viewedStoriesIds=this.getViewedStoriesIds(),this.sortStories()},methods:{bem:_.P,openStory(e){this.isStoriesView=!0,this.currentStoryIndex=e},closeView(){this.isStoriesView=!1,this.viewedStoriesIds=this.getViewedStoriesIds(),this.sortStories()},getViewedStoriesIds(){try{const e=JSON.parse(localStorage.getItem(Se));return e&&Array.isArray(e)?new Set(e):new Set}catch(e){return console.error(e),new Set}},saveView(e){const t=this.getViewedStoriesIds();if(t.has(e))return;t.add(e);let o=Array.from(t);o.length>Ce&&(o=o.slice(-Ce)),localStorage.setItem(Se,JSON.stringify(o))},sortStories(){if(Array.isArray(this.stories)){if(!this.viewedStoriesIds.size)return this.sortedStories=this.stories,void(this.isSorting=!1);this.sortedStories=this.stories.sort(((e,t)=>this.viewedStoriesIds.has(e.id)-this.viewedStoriesIds.has(t.id))),this.isSorting=!1}}}},Ae=(0,E.Z)(fe,[["render",a]]),Ie=Ae},37440:(e,t,o)=>{"use strict";o.d(t,{Z:()=>I});var n=o(70942);const s={class:"tm-subscription"},a={class:"tm-subscription__title"},i={key:0,class:"tm-subscription__thanks"},r={key:1,class:"tm-subscription__form"},l={class:"tm-select__container"},c=["disabled"],m={value:"day"},d={value:"week"},u={value:"month"},p={class:"tm-subscription__button-container"};function h(e,t,o,h,_,g){const T=(0,n.resolveComponent)("TMButtonBase"),E=(0,n.resolveComponent)("TMSvgImg");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("h2",a,(0,n.toDisplayString)(e.msg("SUBSCRIPTION_TITLE")),1),(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(e.msg("SUBSCRIPTION_TEXT")),1),_.showThanks?((0,n.openBlock)(),(0,n.createElementBlock)("div",i,(0,n.toDisplayString)(e.msg("SUBSCRIPTION_THANKS")),1)):((0,n.openBlock)(),(0,n.createElementBlock)("div",r,[(0,n.createElementVNode)("div",l,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>_.period=e),class:"tm-subscription__select",disabled:_.isLoading},[(0,n.createElementVNode)("option",m,(0,n.toDisplayString)(g.i18nSubscriptionPeriod("D")),1),(0,n.createElementVNode)("option",d,(0,n.toDisplayString)(g.i18nSubscriptionPeriod("W")),1),(0,n.createElementVNode)("option",u,(0,n.toDisplayString)(g.i18nSubscriptionPeriod("M")),1)],8,c),[[n.vModelSelect,_.period]])]),(0,n.createElementVNode)("div",p,[(0,n.createVNode)(T,{class:"tm-subscription__button","is-loading":_.isLoading,"style-size":"large","style-type":"solid",type:"submit",onClick:g.sendSubscriptionSettings},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("SUBSCRIPTION_SUBSCRIBE")),1)])),_:1},8,["is-loading","onClick"])])])),(0,n.createElementVNode)("button",{class:"tm-subscription__close",onClick:t[1]||(t[1]=e=>g.sendSubscriptionSettings("never"))},[(0,n.createVNode)(E,{id:"close",class:"tm-subscription__close-icon"})])])}var _=o(33907),g=o(7281),T=o(46206),E=o(19913),S=o(14857);const C=!0,v=e=>{switch(e){case"day":return"subscribe_daily";case"week":return"subscribe_weekly";case"month":return"subscribe_monthly";case"never":return"close";default:return null}},k={name:"TMSubscriptionBlock",components:{TMSvgImg:T.Z,TMButtonBase:g.Z},data(){return{period:"week",showThanks:!1,isLoading:!1}},beforeUnmount(){this.showThanks&&this.init(C)},methods:{...(0,_.nv)("me",["init"]),i18nSubscriptionPeriod(e){return this.msg(`SUBSCRIPTION_PERIOD_${e}`)},sendSubscriptionSettings(e){if(this.showThanks&&"never"===e)return void this.init(C);this.isLoading=!0;const t=e||this.period,o={frequency:t};(0,E.IZ)(`tm_block_digest_feed_${v(t)}`),(0,S.cZ)(o).then((t=>{t.ok&&("never"===e?this.init(C):this.showThanks=!0)})).catch((e=>{this.$toast.error(e.message)})).finally((()=>{this.isLoading=!1}))}}};var f=o(83744);const A=(0,f.Z)(k,[["render",h]]),I=A},2095:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMSvgImg");return(0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.tag),{class:"tm-svg-icon__wrapper",onClick:t[0]||(t[0]=t=>e.$emit("click")),onMouseover:t[1]||(t[1]=t=>e.$emit("mouseover"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{id:e.id,class:"tm-svg-icon",size:e.size,title:e.title},null,8,["id","size","title"])])),_:1},32)}var a=o(46206);const i={name:"TMSvgIcon",components:{TMSvgImg:a.Z},props:{tag:{default:"span",type:String},id:{required:!0,type:String},size:{default:"16",type:String},title:{default:null,type:String}},emits:["click","mouseover"]};var r=o(83744);const l=(0,r.Z)(i,[["render",s]]),c=l},46206:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s=["height","width"],a={key:0},i=["xlink:href"];function r(e,t,o,r,l,c){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",(0,n.mergeProps)(e.svgAttrs,{class:"tm-svg-img",height:e.height||e.size,width:e.width||e.size}),[e.iconTitle?((0,n.openBlock)(),(0,n.createElementBlock)("title",a,(0,n.toDisplayString)(e.iconTitle),1)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("use",{"xlink:href":e.src},null,8,i)],16,s)}const l="/img/megazord-v28.06b08bfb..svg",c=["placeholder-user","placeholder-company","placeholder-hub","placeholder"],m={name:"TMSvgImg",props:{id:{required:!0,type:String},size:{default:"16",type:[String,Number]},width:{default:null,type:[Number,String]},height:{default:null,type:[Number,String]},title:{type:String,default:null},svgAttrs:{type:Object,default(){return{}}}},computed:{src(){return"/"!==this.id.charAt(0)?`${l}#${this.id}`:this.id},iconTitle(){if(this.title)return this.title;const e="/"===this.id.charAt(0),t=e?this.id.split("#")[1]:this.id;if(-1===c.indexOf(t)){const e=`ICON_${t.split("-").join("_").toUpperCase()}`;return this.msg(e)}return null}}};var d=o(83744);const u=(0,d.Z)(m,[["render",r]]),p=u},3972:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>c});var n=o(70942);const s={class:"swiper-slide"};function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.renderSlot)(e.$slots,"default")])}const i={name:"TMSwiperSlide"};var r=o(83744);const l=(0,r.Z)(i,[["render",a]]),c=l},61712:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>T});var n=o(70942);const s={class:"swiper-wrapper"},a={key:0,class:"swiper-pagination"},i={class:"swiper-button-prev"},r={class:"swiper-button-next"};function l(e,t,o,l,c,m){const d=(0,n.resolveComponent)("TMSvgIcon");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"swiper",class:"swiper-container",style:(0,n.normalizeStyle)(m.style)},[(0,n.createElementVNode)("div",s,[(0,n.renderSlot)(e.$slots,"default")]),o.pagination?((0,n.openBlock)(),(0,n.createElementBlock)("div",a)):(0,n.createCommentVNode)("",!0),o.navigation?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createElementVNode)("button",i,[(0,n.createVNode)(d,{id:"arrow-back",class:"swiper-button-icon",size:"24",title:e.msg("NAV_LEFT")},null,8,["title"])]),(0,n.createElementVNode)("button",r,[(0,n.createVNode)(d,{id:"arrow-back",class:"swiper-button-icon",size:"24",title:e.msg("NAV_RIGHT")},null,8,["title"])])],64)):(0,n.createCommentVNode)("",!0)],4)}var c=o(30172),m=o(52997),d=o(7649),u=o(95186),p=o(2095);c.Z.use([m.Z,d.Z,u.Z]);const h={name:"TMSwiper",components:{TMSvgIcon:p.Z},props:{slidesPerView:{type:[Number,String],default:"auto"},pagination:{type:[Boolean,Object],default:null},autoHeight:{type:Boolean,default:!1},autoplay:{type:Object,default(){return{enabled:!1}}},navigation:{type:[Boolean,Object],default:!1},spaceBetween:{type:Number,default:0},breakpoints:{type:Object,default:null},initialSlide:{type:Number,default:0},activeSlide:{type:Number,default:0},centeredSlides:{type:Boolean,default:!1},threshold:{type:Number,default:5}},emits:["slideChange"],data(){return{swiperInstance:null}},computed:{style(){return{"--swiper-space-between":`${this.spaceBetween}px`}}},watch:{activeSlide(e){this.swiperInstance.activeIndex!==e&&this.swiperInstance.slideTo(e)}},mounted(){const{autoHeight:e,autoplay:t,slidesPerView:o,spaceBetween:n,breakpoints:s,initialSlide:a,centeredSlides:i,pagination:r,navigation:l,threshold:m}=this;let d=!!r&&{el:".swiper-pagination",clickable:!0};"object"===typeof r&&(d={...d,...r});let u=!1;l&&(u={nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-lock"});const p={slidesPerView:o,spaceBetween:n,breakpoints:s,pagination:d,navigation:u,autoHeight:e,autoplay:t,initialSlide:a,centeredSlides:i,threshold:m,on:{slideChange:this.slideChange}};this.swiperInstance=new c.Z(this.$refs.swiper,p)},beforeUnmount(){this.swiperInstance&&this.swiperInstance.destroy()},methods:{slideChange(){this.swiperInstance&&this.$emit("slideChange",this.swiperInstance.activeIndex)}}};var _=o(83744);const g=(0,_.Z)(h,[["render",l]]),T=g},62978:(e,t,o)=>{"use strict";o.d(t,{Z:()=>A});var n=o(70942);const s=["href","target"],a=["data-test-id","href","onClick"],i={key:0,class:"tm-tabs__tab-counter"},r={key:1,class:"tm-tabs__tab-counter-new"},l=["onClick"],c={key:0,class:"tm-tabs__dropdown"};function m(e,t,o,m,d,u){const p=(0,n.resolveComponent)("router-link"),h=(0,n.resolveComponent)("TMNavigationDropdown");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-tabs",e.bem("tm-tabs",{variant:e.variant})])},[(0,n.createElementVNode)("div",{ref:"scrollArea",class:(0,n.normalizeClass)({"tm-tabs__scroll-area":!e.noSpacers&&!e.shouldSplitTabs,"tm-tabs__padding-area":!e.noSpacers&&e.shouldSplitTabs})},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.slicedTabs,((t,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:`tab_${o}`,class:"tm-tabs__tab-item"},[t.route.external?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:0,class:(0,n.normalizeClass)(["tm-tabs__tab-link",e.bem("tm-tabs__tab-link",{slim:e.slim})]),href:t.route.path,target:t.route.target||"_self"},(0,n.toDisplayString)(t.title),11,s)):e.local?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:2,class:(0,n.normalizeClass)(["tm-tabs__tab-link",e.bem("tm-tabs__tab-link",e.linkModifiers(t))]),onClick:(0,n.withModifiers)((o=>e.handleNavigationChange(t)),["prevent"])},(0,n.toDisplayString)(t.title),11,l)):((0,n.openBlock)(),(0,n.createBlock)(p,{key:1,custom:"",to:t.route},{default:(0,n.withCtx)((({href:o})=>[(0,n.createElementVNode)("a",{class:(0,n.normalizeClass)(["tm-tabs__tab-link",e.bem("tm-tabs__tab-link",e.linkModifiers(t))]),"data-test-id":e.checkTabActivity(t)?"tab-link-active":null,href:o,onClick:(0,n.withModifiers)((o=>e.handleNavigationChange(t)),["prevent"])},[(0,n.createTextVNode)((0,n.toDisplayString)(t.title)+" ",1),t.count?((0,n.openBlock)(),(0,n.createElementBlock)("span",i,(0,n.toDisplayString)(e.getCount(t.count)),1)):(0,n.createCommentVNode)("",!0),void 0!==t.countNew?((0,n.openBlock)(),(0,n.createElementBlock)("span",r,(0,n.toDisplayString)(t.countNew>0?`+${t.countNew}`:""),1)):(0,n.createCommentVNode)("",!0)],10,a)])),_:2},1032,["to"]))])))),128))],2),e.shouldSplitTabs?((0,n.openBlock)(),(0,n.createElementBlock)("div",c,[(0,n.createVNode)(h,{"current-value":e.$route.name,"custom-title":e.msg("MORE"),options:e.extraMenuTabs,variant:"tabs",onChange:e.handleNavigationChange},null,8,["current-value","custom-title","options","onChange"])])):(0,n.createCommentVNode)("",!0)],2)}var d=o(33907),u=o(7487),p=o(46206),h=o(11269);function _(e){return(0,h.Xq)(e.name)||(0,h.Xq)(e.path)}function g(e){return _(e.route)&&(0,h.HD)(e.title)}function T(e){return e.every(g)}const E={required:!0,type:Array,validator:T};var S=o(25109),C=o(87934);const v={name:"TMTabs",components:{TMSvgImg:p.Z,TMNavigationDropdown:u.Z},props:{tabs:E,tabsCount:{type:Number,default:null},variant:{type:String,default:null},exact:{type:Boolean,default:!1},exactMeta:{type:Boolean,default:!1},hideEmptyTabs:{type:Boolean,default:!1},local:Boolean,localActive:{type:String,default:null},noSpacers:Boolean,slim:Boolean},emits:["update:localActive"],computed:{...(0,d.Se)("global",["isMobile"]),...(0,d.rn)("global",["isPwa"]),filteredTabs(){return this.hideEmptyTabs?this.tabs.filter((e=>0!==e.count||e.isShowAlways)):this.tabs},shouldSplitTabs(){return!this.isMobile&&this.tabsCount&&this.filteredTabs.length>this.tabsCount},slicedTabs(){return this.shouldSplitTabs?this.filteredTabs.slice(0,this.tabsCount):this.filteredTabs},extraMenuTabs(){return this.shouldSplitTabs?this.filteredTabs.slice(this.tabsCount).map((e=>({label:e.title,value:e.route.name,...e}))):[]}},mounted(){this.shouldSplitTabs||this.scrollTab()},methods:{linkModifiers(e){return{active:this.checkTabActivity(e),slim:this.slim}},checkTabActivity(e){return this.local?this.localActive===e.route.name:this.isActive(e)||this.isParentRouteActive(e.route)},handleNavigationChange(e){this.local?this.$emit("update:localActive",e.route.name):this.isPwa?this.$router.replace(e.route):this.$router.push(e.route)},isParentRouteActive(e){return!this.exact&&this.$route.matched.some((t=>t.name===e.name))},isActive(e){var t;if(null!==(t=e.route.params)&&void 0!==t&&t.category)return this.$route.params.category===e.route.params.category;if(e.route.params&&e.route.params.topic)return this.$route.params.topic===e.route.params.topic;if(e.route.params&&e.route.params.alias)return this.$route.params.alias===e.route.params.alias;if(e.route.query&&e.route.query.target_type)return this.$route.query.target_type?this.$route.query.target_type===e.route.query.target_type:"posts"===e.route.query.target_type;if(e.children&&e.children.length){const t=e.children.map((e=>`${e}_PAGES`)).concat(e.children);return-1!==t.indexOf(this.$route.name)}return this.$route.name===e.route.name||this.$route.name===`${e.route.name}_PAGES`},getCount(e){return e&&0!==Number(e)?(0,C.O)(e):""},scrollTab(){const{scrollArea:e}=this.$refs,t=e.querySelector(".tm-tabs__tab-link_active");if(e.scrollWidth<e.clientWidth||!t)return;const{x:o,right:n}=t.parentElement.getBoundingClientRect(!0);n<e.clientWidth||o<0||this.$refs.scrollArea.scroll(o-16,0)},bem:S.P}};var k=o(83744);const f=(0,k.Z)(v,[["render",m]]),A=f},6617:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s=["innerHTML"];function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("router-link"),c=(0,n.resolveComponent)("TMSeparatedList");return(0,n.openBlock)(),(0,n.createBlock)(c,{"has-show-all":o.hasShowAll,list:r.tagsWithRoutes,title:o.title},{default:(0,n.withCtx)((({item:e})=>[(0,n.createVNode)(l,{class:"tm-tags-list__link",to:e.route},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:e.titleHtml},null,8,s)])),_:2},1032,["to"])])),_:1},8,["has-show-all","list","title"])}var i=o(15971);const r={name:"TMTagsList",components:{TMSeparatedList:i.Z},props:{tags:{type:Array,required:!0},title:{type:String,required:!0},hasShowAll:{type:Boolean,default:!1}},computed:{tagsWithRoutes(){return this.tags.map((e=>({...e,route:{name:"SEARCH_QUERY_RESULTS",query:{target_type:"posts",order:"relevance",q:`[${e.titleHtml}]`}}})))}}};var l=o(83744);const c=(0,l.Z)(r,[["render",a]]),m=c},4598:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s=["data-test-id","href"],a=["innerHTML"],i=["innerHTML"],r=["innerHTML"];function l(e,t,o,l,c,m){const d=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.tag),{class:(0,n.normalizeClass)(["tm-title",{[`tm-title_${o.tag}`]:!0}]),lang:o.lang},{default:(0,n.withCtx)((()=>[o.useLink?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[o.externalLink?((0,n.openBlock)(),(0,n.createElementBlock)("a",(0,n.mergeProps)({key:0,class:"tm-title__link"},o.linkProps,{"data-test-id":o.linkTestId,href:o.to,onClickCapture:t[0]||(t[0]=t=>e.$emit("link-click",t))}),[(0,n.createElementVNode)("span",{innerHTML:o.title},null,8,a)],16,s)):((0,n.openBlock)(),(0,n.createBlock)(d,(0,n.mergeProps)({key:1},o.linkProps,{class:"tm-title__link","data-test-id":o.linkTestId,to:o.to,onClickCapture:t[1]||(t[1]=t=>e.$emit("link-click",t))}),{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:o.title},null,8,i)])),_:1},16,["data-test-id","to"]))],64)):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,innerHTML:o.title},null,8,r))])),_:1},8,["class","lang"])}var c=o(75222);const m={name:"TMTitle",components:{TMPublicationLink:c.Z},props:{tag:{type:String,default:"h2"},to:{type:[Object,String],default:null},useLink:{type:Boolean,default:!1},title:{type:String,required:!0},linkProps:{type:Object,default:()=>{}},lang:{type:String,default:null},externalLink:{type:Boolean,default:!1},linkTestId:{type:String,default:null}},emits:["link-click"]};var d=o(83744);const u=(0,d.Z)(m,[["render",l]]),p=u},46898:(e,t,o)=>{"use strict";o.d(t,{Z:()=>le});var n=o(70942);const s={class:"tm-user-card__info-container"},a={class:"tm-user-card__header"},i={class:"tm-user-card__header-data"},r={class:"tm-user-card__meta"},l=["innerHTML"],c=["innerHTML"],m=["innerHTML"],d={key:1,class:"tm-user-card__button"};function u(e,t,o,u,p,h){const _=(0,n.resolveComponent)("TMEntityImage"),g=(0,n.resolveComponent)("router-link"),T=(0,n.resolveComponent)("TMKarma"),E=(0,n.resolveComponent)("TMRating"),S=(0,n.resolveComponent)("TMUserInviteControl"),C=(0,n.resolveComponent)("TMButtonFollow"),v=(0,n.resolveComponent)("BlackListButton"),k=(0,n.resolveComponent)("BlacklistDialog"),f=(0,n.resolveComponent)("TMSvgImg"),A=(0,n.resolveComponent)("TMAdministrationLinks"),I=(0,n.resolveComponent)("RestrictionHint");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-user-card",e.bem("tm-user-card",{variant:e.variant})])},[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("div",i,[(0,n.createVNode)(g,{class:(0,n.normalizeClass)(["tm-user-card__userpic",`tm-user-card__userpic_size-${e.avatarSize}`]),to:e.profileRoute},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(_,{alias:e.user.alias,image:e.user.avatarUrl,type:"user"},null,8,["alias","image"])])),_:1},8,["class","to"]),(0,n.createElementVNode)("div",r,[e.showKarma?((0,n.openBlock)(),(0,n.createBlock)(T,{key:0,user:e.user,onChange:e.onKarmaChange,onCloseVotesDialog:t[0]||(t[0]=t=>e.$emit("closeVotesDialog")),onOpenVotesDialog:t[1]||(t[1]=t=>e.$emit("openVotesDialog"))},null,8,["user","onChange"])):(0,n.createCommentVNode)("",!0),e.user.isReadonly?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(E,{key:1,score:e.user.rating,title:e.msg("USER_RATING")},null,8,["score","title"]))])])]),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-user-card__info",e.bem("tm-user-card__info",{variant:e.variant})])},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-user-card__title",e.bem("tm-user-card__title",{variant:e.variant})])},[e.user.fullname?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:(0,n.normalizeClass)(["tm-user-card__name",e.bem("tm-user-card__name",{variant:e.variant})]),innerHTML:e.user.fullname},null,10,l)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(g,{class:(0,n.normalizeClass)(["tm-user-card__nickname",e.bem("tm-user-card__nickname",{variant:e.variant})]),to:e.profileRoute},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)(" @"+(0,n.toDisplayString)(e.user.alias),1)])),_:1},8,["class","to"]),e.user.isReadonly?((0,n.openBlock)(),(0,n.createElementBlock)("sup",{key:1,class:"tm-user-card__status","data-test-id":"user-read-only",innerHTML:e.msg("READ_ONLY")},null,8,c)):(0,n.createCommentVNode)("",!0)],2),(0,n.createElementVNode)("p",{class:(0,n.normalizeClass)(["tm-user-card__short-info",e.bem("tm-user-card__short-info",{variant:e.variant})]),"data-test-id":"user-card-speciality",innerHTML:e.userSpeciality},null,10,m)],2)]),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-user-card__buttons",e.bem("tm-user-card__buttons",{variant:e.variant})])},[e.showIssueInviteButton?((0,n.openBlock)(),(0,n.createBlock)(S,{key:0,class:"tm-user-card__button",user:e.user,onInvited:e.onUserInvited},null,8,["user","onInvited"])):(0,n.createCommentVNode)("",!0),e.showFollowButton?((0,n.openBlock)(),(0,n.createElementBlock)("div",d,[(0,n.createVNode)(C,{"can-subscribe":e.isLoggedIn,class:"tm-user-card__button-follow",subscribed:e.isSubscribed,"use-follow-label":!0,onOnToggle:t[2]||(t[2]=t=>e.toggleFollow(t))},null,8,["can-subscribe","subscribed"])])):(0,n.createCommentVNode)("",!0),e.isCanIterateWithBlacklist?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:2},[e.isInBlackList?((0,n.openBlock)(),(0,n.createBlock)(v,{key:0,class:"tm-user-card__button",disabled:e.isBlacklistButtonDisabled,"is-blacklisted":e.isInBlackList,onClick:e.toggleInBlacklist},null,8,["disabled","is-blacklisted","onClick"])):(0,n.createCommentVNode)("",!0),"article"===e.variant?((0,n.openBlock)(),(0,n.createBlock)(k,{key:1,"is-visible":e.isBlacklistDialogVisible,user:e.user,onAccept:t[3]||(t[3]=t=>e.setIsInBlacklist({authorAlias:e.user.alias,value:!0})),onClose:e.hideBlacklistDialog},null,8,["is-visible","user","onClose"])):(0,n.createCommentVNode)("",!0)],64)):(0,n.createCommentVNode)("",!0),e.isLoggedIn&&!e.isItMe?((0,n.openBlock)(),(0,n.createBlock)(g,{key:3,class:"tm-user-card__button tm-user-card__button_write","data-test-id":"user-card-conversations",to:e.getConversationLink(e.user.alias)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(f,{id:"mail",class:"tm-user-card__button-icon"})])),_:1},8,["to"])):e.isItMe?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:4,ref:"conversation",class:"tm-user-card__button tm-user-card__button_write","data-test-id":"user-card-conversations",onClick:t[4]||(t[4]=t=>e.toggleHint(t,"message"))},[(0,n.createVNode)(f,{id:"mail",class:"tm-user-card__button-icon"})],512)),((0,n.openBlock)(),(0,n.createBlock)(n.Suspense,null,{default:(0,n.withCtx)((()=>[e.showAdministrationLinks?((0,n.openBlock)(),(0,n.createBlock)(A,{key:0,ref:"userMenu",class:"tm-user-card__button",links:e.userLinksItems},null,8,["links"])):(0,n.createCommentVNode)("",!0)])),_:1}))],2),e.isHintVisible?((0,n.openBlock)(),(0,n.createBlock)(I,(0,n.mergeProps)({key:0},e.hintProps,{onClose:t[5]||(t[5]=t=>e.isHintVisible=!1)}),null,16)):(0,n.createCommentVNode)("",!0)],2)}var p=o(33907);function h(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMButton");return(0,n.openBlock)(),(0,n.createBlock)(r,(0,n.mergeProps)(e.$attrs,{color:i.color,"style-type":"transparent"}),{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(i.text),1)])),_:1},16,["color"])}var _=o(79355);const g={name:"BlackListButton",components:{TMButton:_.Z},props:{isBlacklisted:{type:Boolean,default:!1}},computed:{text(){return this.isBlacklisted?this.msg("REMOVE_FROM_BLACKLIST_BUTTON_TEXT"):this.msg("ADD_TO_BLACKLIST_BUTTON_HEADER")},color(){return this.isBlacklisted?"christi":"fuzzy-wuzzy-brown"}}};var T=o(83744);const E=(0,T.Z)(g,[["render",h]]),S=E,C={class:"blacklist-dialog__body"},v=["innerHTML"],k={class:"blacklist-dialog__buttons"};function f(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMCircleLoader"),l=(0,n.resolveComponent)("TMFormBuilder"),c=(0,n.resolveComponent)("TMButton"),m=(0,n.resolveComponent)("TMPopup"),d=(0,n.resolveComponent)("TMScrollLockTransition");return(0,n.openBlock)(),(0,n.createBlock)(d,{name:"transition-fade"},{default:(0,n.withCtx)((()=>[o.isVisible?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,class:"blacklist-dialog",title:e.msg("ADD_TO_BLACKLIST_BUTTON_HEADER"),onClose:i.close},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("div",{class:"blacklist-dialog__description",innerHTML:e.msg("ADD_TO_BLACKLIST_CONFIRM")},null,8,v),a.isLoadingNote||!a.isFormMounted?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,"circle-height":32,"circle-width":32,height:32,width:32})):(0,n.createCommentVNode)("",!0),a.isLoadingNote?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(l,{key:1,ref:"form",disabled:a.isLoading,fields:i.formSchema,"initial-data":a.formValue,onFormMounted:t[0]||(t[0]=e=>a.isFormMounted=!0),"onUpdate:data":i.updateForm},null,8,["disabled","fields","initial-data","onUpdate:data"])),(0,n.createElementVNode)("div",k,[(0,n.createVNode)(c,{class:"blacklist-dialog__button-accept",color:"fuzzy-wuzzy-brown",disabled:a.isLoading||!a.isFormMounted||a.isLoadingNote,"style-type":"transparent",onClick:i.accept},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("BLACKLIST_BLOCK")),1)])),_:1},8,["disabled","onClick"]),(0,n.createVNode)(c,{disabled:a.isLoading,"style-type":"transparent",onClick:i.close},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("CONFIRM_CANCEL_BUTTON_LABEL")),1)])),_:1},8,["disabled","onClick"])])])])),_:1},8,["title","onClose"])):(0,n.createCommentVNode)("",!0)])),_:1})}var A=o(16643),I=o(50612),y=o(68172),b=o(40248),N=o(14857);const P={name:"BlacklistDialog",components:{TMPopup:y.Z,TMCircleLoader:A.Z,TMFormBuilder:I.Z,TMButton:_.Z,TMScrollLockTransition:b.Z},props:{isVisible:{type:Boolean,default:!1},user:{type:Object,required:!0}},emits:["accept","close"],data(){return{isLoading:!1,isLoadingNote:!1,isFormMounted:!1,formValue:{note:""}}},computed:{...(0,p.rn)("users",["authorRefs"]),formSchema(){return[{className:"tm-textarea",name:"note",type:"BaseTextarea",label:this.msg("PROFILE_WRITE_NOTE_TITLE"),validation:{maxLength:100},description:this.msg("PROFILE_WRITE_NOTE_PLACEHOLDER")}]}},watch:{isVisible(e){e&&!this.isLoadingNote&&this.loadNote()}},async mounted(){await this.loadNote()},methods:{...(0,p.OI)("users",["setUserInfo"]),updateUserInStore(e){const{alias:t}=this.user;this.setUserInfo({userAlias:t,userData:e})},async loadNote(){try{this.isLoadingNote=!0;const{text:e}=await(0,N.jS)(this.user.alias);this.formValue={note:e??""},this.updateUserInStore({note:{text:this.formValue.note}})}catch(e){this.$toast.error((null===e||void 0===e?void 0:e.message)??this.msg("ERROR_PAGE_MESSAGE_INTERNAL"))}finally{this.isLoadingNote=!1}},async accept(){try{var e;if(null===(e=this.user)||void 0===e||!e.alias)return;this.isLoading=!0;const{note:t}=this.formValue;await(0,N.bq)(this.user.alias,{note:t}),this.$emit("accept"),this.updateUserInStore({isInBlacklist:!0,note:{text:t}}),this.user.relatedData.isSubscribed=!1,this.isLoading=!1,this.close(),this.$nextTick((()=>{this.$toast.success(this.msg("ADD_TO_BLACKLIST_SUCCESS"))}))}catch(t){this.$toast.error((null===t||void 0===t?void 0:t.message)??this.msg("ERROR_PAGE_MESSAGE_INTERNAL"))}finally{this.isLoading=!1}},close(){this.isLoading||this.$emit("close")},updateForm(e){this.formValue={...e}}}},L=(0,T.Z)(P,[["render",f]]),B=L;var O=o(7281),w=o(79362),M=o(82598);const R={class:"tm-karma__text"},V=["textContent"];function D(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMVotesLever"),l=(0,n.resolveComponent)("TMVoteHintPopup"),c=(0,n.resolveComponent)("TMMinusReason"),m=(0,n.resolveComponent)("TMPopup"),d=(0,n.resolveComponent)("TMCounterContainer");return(0,n.openBlock)(),(0,n.createBlock)(d,{class:(0,n.normalizeClass)(["tm-karma",i.bem("tm-karma",{"allowed-vote":i.showVoteControl})]),title:e.msg("VOTES_COUNT",{count:i.votesCount})},{header:(0,n.withCtx)((()=>[i.showVoteControl?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,ref:"votesLever",appearance:"karma",class:"tm-karma__votes-switcher","is-loading":a.isKarmaLoading||a.isLoadingReasonsList,"is-natural":!0,score:i.score,"vote-state":i.voteState,onDownvote:i.triggerDownVoteOrShowHint,onUpvote:i.triggerUpVoteOrShowHint},null,8,["is-loading","score","vote-state","onDownvote","onUpvote"])):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:(0,n.normalizeClass)(["tm-karma__votes",{"tm-karma__votes_positive":i.score>0,"tm-karma__votes_negative":i.score<0}])},(0,n.toDisplayString)(i.score),3)),a.hintToRender?((0,n.openBlock)(),(0,n.createBlock)(l,{key:2,hint:a.hintToRender,root:e.$refs.votesLever.$el,onClose:t[0]||(t[0]=e=>a.hintToRender=null)},null,8,["hint","root"])):(0,n.createCommentVNode)("",!0)])),footer:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",R,(0,n.toDisplayString)(e.msg("POINTS_LABEL_KARMA")),1),((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"#overlays"},[a.isOpenArticleVote?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,title:e.msg("KARMA_REASON_DOWNVOTE"),onClose:i.closePopup},{default:(0,n.withCtx)((()=>[a.isOpenSuccessPopup?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,textContent:(0,n.toDisplayString)(e.msg("ARTICLE_REASON_SUCCESS"))},null,8,V)):((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,"is-multiple":!0,"is-vote-loading":a.isKarmaLoading,"reasons-list":e.userReasonsList,onDownVote:i.downVote},null,8,["is-vote-loading","reasons-list","onDownVote"]))])),_:1},8,["title","onClose"])):(0,n.createCommentVNode)("",!0)]))])),_:1},8,["class","title"])}var U=o(70615),$=o(41056),x=o(78340),F=o(34733),H=o(96139),G=o(25109),W=o(19913),Y=o(87032);const Z={name:"TMKarma",components:{TMCounterContainer:U.Z,TMVotesLever:F.Z,TMPopup:y.Z,TMMinusReason:$.Z,TMVoteHintPopup:x.Z},props:{user:H.Z},emits:["change","openVotesDialog","closeVotesDialog"],data(){return{isKarmaLoading:!1,isLoadingReasonsList:!1,isOpenArticleVote:!1,isOpenSuccessPopup:!1,hintToRender:null}},computed:{...(0,p.rn)("articlesList/karma",["userReasonsList"]),...(0,p.rn)("me",{currentUser:e=>e.user}),...(0,p.Se)("i18n",["langOptions"]),isMe(){return this.currentUser&&this.currentUser.alias===this.user.alias},score(){return this.user.scoreStats&&this.user.scoreStats.score||0},votesCount(){return this.user.scoreStats&&this.user.scoreStats.votesCount||0},canVote(){return this.user.relatedData.canVote},voteMinus(){return this.user.relatedData.voteMinus},votePlus(){return this.user.relatedData.votePlus},karmaIsNotEnoughForVote(){return!this.votePlus.canVote&&!this.votePlus.isKarmaEnough},karmaIsNotEnoughForVoteMinus(){return!this.voteMinus.canVote&&!this.voteMinus.isKarmaEnough},chargeIsNotEnoughForVote(){return!this.canVote&&(!this.voteMinus.isChargeEnough||!this.votePlus.isChargeEnough)},shouldShowHint(){return this.chargeIsNotEnoughForVote||this.karmaIsNotEnoughForVote||this.karmaIsNotEnoughForVoteMinus},showVoteControl(){var e;return!(null===(e=this.user)||void 0===e||!e.relatedData)&&(!this.isMe&&(!!this.shouldShowHint||this.user.relatedData.canVote))},voteState(){return this.user.relatedData&&this.user.relatedData.vote&&this.user.relatedData.vote.value||0}},watch:{isOpenArticleVote(e){this.$emit(e?"openVotesDialog":"closeVotesDialog")}},methods:{...(0,p.nv)("articlesList/karma",["vote","loadUserReasonsList"]),...(0,p.nv)("users",["updateKarmaInfo"]),bem:G.P,downVote(e){this.triggerVote(-1,e)},triggerUpVoteOrShowHint(){this.karmaIsNotEnoughForVote?this.hintToRender="karmaTooLow":this.chargeIsNotEnoughForVote?this.hintToRender="chargeTooLow":this.triggerVote(1)},triggerVote(e,t=null){const o=1===e?"up":"down",n="vote_karma_"+(1===e?"plus":"minus");this.isKarmaLoading=!0,this.vote({id:this.user.alias,value:e,reasons:t}).then((e=>{(0,W.IZ)(n),t&&(this.isOpenSuccessPopup=!0,setTimeout((()=>{this.isOpenSuccessPopup=!1,this.isOpenArticleVote=!1}),3e3));const s={direction:o,karmaData:e};this.$emit("change",s),this.updateKarmaInfo({userAlias:this.user.alias,...s}),this.isKarmaLoading=!1})).catch((e=>{let t=null;const o=(0,Y.getErrorCode)(e);"VOTER_NOT_BE_EVIL"===o&&(t={username:this.currentUser.alias});let n=this.msg(`EXTERNAL_${o}`,t);"▇▅▄▅▅▄ ▇▄▅"===n&&e.message&&(n=e.message),this.isKarmaLoading=!1,this.$toast.error(n)}))},triggerDownVoteOrShowHint(){this.karmaIsNotEnoughForVoteMinus?this.hintToRender="karmaTooLow":this.chargeIsNotEnoughForVote?this.hintToRender="chargeTooLow":this.showVotePopup()},showVotePopup(){this.isLoadingReasonsList=!0,this.loadUserReasonsList().then((()=>{this.isOpenArticleVote=!0})).catch((e=>{this.$toast.error(e.message)})).finally((()=>{this.isLoadingReasonsList=!1}))},closePopup(){this.isOpenArticleVote=!1}}},q=(0,T.Z)(Z,[["render",D]]),K=q;var j=o(44089),z=o(36450),Q=o(46206);function X(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMButtonBase");return!a.isLoading&&i.canInvite?((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,"style-size":"medium","style-type":"solid",type:"button",onClick:i.issueUserInvite},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.msg("GIVE_INVITE")),1)])),_:1},8,["onClick"])):(0,n.createCommentVNode)("",!0)}var J=o(59896);const ee={name:"TMUserInviteControl",components:{TMButtonBase:O.Z},props:{user:{type:Object,required:!0}},emits:["invited"],data(){return{isLoading:!0}},computed:{...(0,p.rn)("me",{currentUser:"user"}),canInvite(){return this.currentUser.availableInvitesCount>0}},mounted(){this.loadInvitesList().then((()=>{this.isLoading=!1})).catch((e=>{this.isLoading=!1,(0,J.T)(e)}))},methods:{...(0,p.nv)("userInvites",["loadInvitesList"]),...(0,p.nv)("me",["issueInviteByUserAlias"]),issueUserInvite(){const e=window.confirm(this.msg("CONFIRM_INVITE"));return!!e&&this.issueInviteByUserAlias(this.user.alias).then((()=>{this.$toast.success(this.msg("INVITE_HAS_BEEN_SENT")),this.$emit("invited")})).catch((e=>{this.$toast.error(e.message)}))}}},te=(0,T.Z)(ee,[["render",X]]),oe=te,ne=(0,n.defineAsyncComponent)((()=>o.e(2328).then(o.bind(o,91066)))),se={en:{EDIT_PROFILE:"Edit profile via CP",GIVE_INVITE:"Сharge an invite",INVITE_HAS_BEEN_SENT:"Invite has been charged",PPG_COMMENTS:"Force to pass PPG",PPG_SMILES:"Force to pass PIS",PPG_COMMENTS_HAS_BEEN_SENT:"User has been sent to PPG",PPG_SMILES_HAS_BEEN_SENT:"User has been sent to PIS",SEE_DRAFTS:"See drafts"},ru:{EDIT_PROFILE:"Редактировать профиль в CP",GIVE_INVITE:"Начислить инвайт",INVITE_HAS_BEEN_SENT:"Инвайт начислен",PPG_COMMENTS:"Заставить пройти ППГ",PPG_SMILES:"Заставить пройти ПИС",PPG_COMMENTS_HAS_BEEN_SENT:"Пользователь отправлен на ППГ",PPG_SMILES_HAS_BEEN_SENT:"Пользователь отправлен на ПИС",SEE_DRAFTS:"Посмотреть черновики"}},ae=-31,ie={name:"TMUserCard",components:{BlacklistDialog:B,BlackListButton:S,TMButtonFollow:w.Z,TMButtonBase:O.Z,TMEntityImage:M.Z,TMKarma:K,TMRating:j.Z,TMSvgImg:Q.Z,TMAdministrationLinks:ne,TMUserInviteControl:oe,RestrictionHint:z.Z},props:{user:H.Z,isDonateButtonVisible:Boolean,inviteButtonVisible:{type:Boolean,default:!0},variant:{type:String,default:"profile",validator:e=>["article","profile","popover"].includes(e)},avatarSize:{type:Number,default:48}},emits:["closeVotesDialog","openVotesDialog","payments","karmachange","change:isSubscribed"],data(){return{isHintVisible:!1,hintProps:null,isBlacklistDialogVisible:!1,isBlacklistButtonDisabled:!1}},computed:{...(0,p.Se)("me",["isLoggedIn","isSuperAdmin","isReadOnlyOrReadAndComment"]),...(0,p.rn)("me",{currentUser:"user"}),showAdministrationLinks(){return this.isSuperAdmin||this.isCanIterateWithBlacklist&&"article"===this.variant&&!this.isInBlackList},showKarma(){var e;return this.isItMe||(null===(e=this.user.scoreStats)||void 0===e?void 0:e.score)>ae},userLinksItems(){if(!this.isSuperAdmin)return[{title:this.msg("ADD_TO_BLACKLIST_BUTTON_HEADER"),onclick:this.toggleInBlacklist}];const{alias:e}=this.user,t=`https://habr.com/kek/admin/user/${e}/`,o=[{title:se[this.langOptions.hl].EDIT_PROFILE,link:t},{title:se[this.langOptions.hl].GIVE_INVITE,onclick:this.sendInvite},{title:se[this.langOptions.hl].PPG_COMMENTS,onclick:e=>this.setUserPPG(e,"comments")},{title:se[this.langOptions.hl].PPG_SMILES,onclick:e=>this.setUserPPG(e,"smiles")},{title:se[this.langOptions.hl].SEE_DRAFTS,onclick:e=>this.goToUserDrafts(e)}];return"article"===this.variant&&this.isCanIterateWithBlacklist&&!this.isInBlackList&&o.push({title:this.msg("ADD_TO_BLACKLIST_BUTTON_HEADER"),onclick:this.toggleInBlacklist}),o},userSpeciality(){return this.user.speciality||this.msg("USER")},isSubscribed(){return this.user.relatedData&&this.user.relatedData.isSubscribed},isItMe(){return this.isLoggedIn&&this.user.alias===this.currentUser.alias},showIssueInviteButton(){const{isLoggedIn:e,isItMe:t}=this;return this.inviteButtonVisible&&e&&!t&&this.user.canBeInvited},showFollowButton(){return!this.isItMe&&!this.user.isReadonly&&!this.isInBlackList},profileRoute(){return{name:"USER_PROFILE",params:{login:this.user.alias}}},isCanIterateWithBlacklist(){return!!["article","profile"].includes(this.variant)&&(this.isLoggedIn&&!this.isItMe&&!this.user.isReadonly)},isInBlackList(){var e;return!(null===(e=this.user)||void 0===e||!e.isInBlacklist)}},methods:{...(0,p.OI)("users",["setUserInfo"]),...(0,p.nv)("users",["loadUserInfo","loadProfileInfo","toggleSubscribeStatus"]),...(0,p.OI)("articlesList",["setIsInBlacklist"]),bem:G.P,onUserInvited(){this.loadUserInfo({alias:this.user.alias,force:!0})},onKarmaChange(e){this.$emit("karmachange",e)},getConversationLink(e){return{name:"CONVERSATION_MESSAGES",params:{login:e.toLowerCase()}}},goToUserDrafts(e){e.preventDefault(),this.$router.push({name:"ARTICLES_DRAFTS_LIST_BY_USER",params:{login:this.user.alias}})},sendInvite(e){e.preventDefault(),(0,N.dZ)(this.user.alias).then((()=>{this.$toast.success(se[this.langOptions.hl].INVITE_HAS_BEEN_SENT)})).catch((e=>{this.$toast.error(e.message)}))},setUserPPG(e,t){e.preventDefault(),(0,N.S6)(this.user.alias,t).then((()=>{const e=`PPG_${t.toUpperCase()}_HAS_BEEN_SENT`;this.$toast.success(se[this.langOptions.hl][e])})).catch((e=>{this.$toast.error(e.message)}))},toggleFollow(e){if(!this.isLoggedIn)return void this.toggleHint(e,"u_follow");const{isSubscribed:t}=this.user.relatedData;this.toggleSubscribeStatus({alias:this.user.alias,isSubscribed:t}).then((()=>{this.$emit("change:isSubscribed",this.user.relatedData.isSubscribed)})).catch((e=>{this.$toast.error(e.message)}))},async removeFromBlacklist(){try{const{alias:e}=this.user;this.isBlacklistButtonDisabled=!0,await(0,N.hf)(this.user.alias),this.setUserInfo({userAlias:e,userData:{isInBlacklist:!1}}),this.setIsInBlacklist({authorAlias:this.user.alias,value:!1}),this.$toast.success(this.msg("REMOVE_FROM_BLACKLIST_SUCCESS"))}catch(e){this.$toast.error((null===e||void 0===e?void 0:e.message)??this.msg("ERROR_PAGE_MESSAGE_INTERNAL"))}finally{this.isBlacklistButtonDisabled=!1}},async toggleInBlacklist(){this.isInBlackList?await this.removeFromBlacklist():(this.$refs.userMenu.close(),this.isBlacklistDialogVisible=!0)},hideBlacklistDialog(){this.isBlacklistDialogVisible=!1},toggleHint(e,t){const o="message"===t?this.$refs.conversation:e.target;if(!this.hintProps||this.hintProps.target!==o)return this.isHintVisible=!1,void this.$nextTick((()=>{this.hintProps={target:o,messageKey:`PROFILE_${t.toUpperCase()}_HINT`,eventLabel:`hint_reg_${t}_go`,placement:"bottom-start",offset:[-34,8]},this.isHintVisible=!0,(0,W.IZ)(`hint_reg_${t}_open`)}));this.isHintVisible=!this.isHintVisible,this.isHintVisible&&(0,W.IZ)(`hint_reg_${t}_open`)}}},re=(0,T.Z)(ie,[["render",u]]),le=re},41461:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(70942);const s={class:"tm-user-info"},a={key:0,class:"tm-user-info__realauthor"};function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMEntityImage"),m=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("span",s,[(0,n.createVNode)(m,{class:"tm-user-info__userpic","data-test-id":"user-info-pic",title:e.author.alias||e.author.login,to:e.authorRoute,onMouseenter:t[0]||(t[0]=t=>e.$emit("mouseenter",t)),onMouseleave:t[1]||(t[1]=t=>e.$emit("mouseleave",t))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(c,{alias:e.author.alias||e.author.login,image:e.getAuthorAvatar,size:e.avatarSize,type:"user"},null,8,["alias","image","size"])])),_:1},8,["title","to"]),(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.bem("tm-user-info__user",{appearance:e.loginAppearance})),"data-test-id":"user-info-description"},[(0,n.createVNode)(m,{class:"tm-user-info__username",to:e.authorRoute,onMouseenter:t[2]||(t[2]=t=>e.$emit("mouseenter",t)),onMouseleave:t[3]||(t[3]=t=>e.$emit("mouseleave",t))},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.author.alias||e.author.login)+" ",1),e.realAuthor?((0,n.openBlock)(),(0,n.createElementBlock)("span",a," ("+(0,n.toDisplayString)(e.realAuthor.alias)+") ",1)):(0,n.createCommentVNode)("",!0)])),_:1},8,["to"]),(0,n.renderSlot)(e.$slots,"default")],2)])}var r=o(82598),l=o(25109),c=o(11125),m=o(99691);const d={name:"TMUserInfo",components:{TMEntityImage:r.Z},props:{author:{required:!0,type:Object},avatar:{type:String,default:null},avatarSize:{type:Number,default:24},realAuthor:{required:!1,type:Object,default:null},loginAppearance:{type:String,default:"default",validator:(0,m.H)(["default","post"])},resizeImage:{type:Boolean,default:!0}},emits:["mouseenter","mouseleave"],computed:{getAuthorAvatar(){const e=this.author.avatarUrl||this.avatar;return this.resizeImage?(0,c.dv)(e,2*this.avatarSize):e},realAuthorRoute(){return{name:"USER_PROFILE",params:{login:this.realAuthor.alias||this.realAuthor.login,hl:this.$route.params.hl}}},authorRoute(){return{name:"USER_PROFILE",params:{login:this.author.alias||this.author.login,hl:this.$route.params.hl}}}},methods:{bem:l.P}};var u=o(83744);const p=(0,u.Z)(d,[["render",i]]),h=p},56255:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>g});var n=o(70942);const s={class:"tm-user-notice__icon-wrapper"},a={class:"tm-user-notice__container"},i=["innerHTML"],r=["innerHTML"],l={key:0,class:"tm-user-notice__close"};function c(e,t,o,c,m,d){const u=(0,n.resolveComponent)("TMSvgImg");return m.isVisible?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(["tm-user-notice",d.bem("tm-user-notice",{variant:o.notice.level,bordered:o.bordered,slim:o.slim,colorless:o.colorless,noMargins:o.noMargins})])},[(0,n.createElementVNode)("div",s,[(0,n.createVNode)(u,{id:d.icon,class:"tm-user-notice__icon",size:"24"},null,8,["id"])]),(0,n.createElementVNode)("div",a,[d.title?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"tm-user-notice__title",innerHTML:d.title},null,8,i)):(0,n.createCommentVNode)("",!0),e.$slots.default?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"tm-user-notice__message",innerHTML:d.message},null,8,r)),(0,n.renderSlot)(e.$slots,"default")]),o.notice.isPermanent?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createElementVNode)("button",{class:"tm-user-notice__close-button",onClick:t[0]||(t[0]=(...e)=>d.hide&&d.hide(...e))},[(0,n.createVNode)(u,{id:"close-rounded",class:"tm-user-notice__close-icon",size:"24"})])]))],2)):(0,n.createCommentVNode)("",!0)}var m=o(46206),d=o(25109);const u={error:"user-notice-error",warning:"user-notice-warning",info:"user-notice-info"},p={name:"TMUserNotice",components:{TMSvgImg:m.Z},props:{notice:{type:Object,required:!0},bordered:Boolean,colorless:Boolean,slim:Boolean,noMargins:Boolean},data(){return{isVisible:!0}},computed:{message(){return this.notice.message||this.msg(`USER_NOTICE_MESSAGE_${this.notice.type}`,{host:"https://habr.com"})},title(){return this.notice.title||null},icon(){return u[this.notice.level]}},methods:{bem:d.P,hide(){this.isVisible=!1}}};var h=o(83744);const _=(0,h.Z)(p,[["render",c]]),g=_},62186:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var n=o(70942);const s=["href"],a={class:"tm-vacancies-block__vacancies-count"},i=["href"];function r(e,t,o,r,l,c){const m=(0,n.resolveComponent)("TMBlock");return e.seoLandings&&e.seoLandings.length?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,spacing:o.spacing,title:e.msg("VACANCIES_BLOCK_TITLE")},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.seoLandings,(t=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t.itemUrl,class:"tm-vacancies-block__item"},[(0,n.createElementVNode)("a",{class:"tm-vacancies-block__vacancy-title",href:t.itemUrl,target:"_blank"},(0,n.toDisplayString)(t.title),9,s),(0,n.createElementVNode)("div",a,(0,n.toDisplayString)(e.msg("VACANCIES_COUNT",{count:t.vacanciesCount})),1)])))),128))])),footer:(0,n.withCtx)((()=>[(0,n.createElementVNode)("a",{class:"tm-block-extralink",href:l.careerUrl},(0,n.toDisplayString)(e.msg("VACANCIES_BLOCK_ALL_LINK")),9,i)])),_:1},8,["spacing","title"])):(0,n.createCommentVNode)("",!0)}var l=o(33907),c=o(11493),m=o(21805);const d={name:"TMVacanciesBlock",components:{TMBlock:c.Z},props:{hubs:{type:Array,required:!0},spacing:{type:String,default:"around"}},setup(e){return(0,m.w)((({store:t})=>t.dispatch("career/loadSeoLandings",{hubs:e.hubs.join(",")}).catch((()=>null))))},data(){return{careerUrl:"https://career.habr.com/catalog"}},computed:{...(0,l.rn)("career",["seoLandings"])}};var u=o(83744);const p=(0,u.Z)(d,[["render",r]]),h=p},78340:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var n=o(70942);const s={key:0},a=["href"],i=["innerHTML"],r=["innerHTML"],l=["innerHTML"];function c(e,t,o,c,m,d){const u=(0,n.resolveComponent)("TMMessageInterpolation"),p=(0,n.resolveComponent)("TMPopover");return(0,n.openBlock)(),(0,n.createBlock)(p,{class:"vote-hint-popup",offset:[-4,-4],root:o.root,variant:"hub",onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,n.withCtx)((()=>["registration"===o.hint?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(u,{message:e.msg("ARTICLE_REGISTRATION_HINT")},{link:(0,n.withCtx)((()=>[(0,n.createElementVNode)("a",{href:d.registrationLink,onClickCapture:t[0]||(t[0]=(...e)=>d.trackRegistrationClick&&d.trackRegistrationClick(...e))},(0,n.toDisplayString)(e.msg("ARTICLE_REGISTRATION_HINT_LINK")),41,a)])),_:1},8,["message"])])):(0,n.createCommentVNode)("",!0),"chargeTooLow"===o.hint?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,innerHTML:e.msg("CHARGE_TOO_LOW_FOR_ACTION")},null,8,i)):(0,n.createCommentVNode)("",!0),"isMineArticle"===o.hint?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,innerHTML:e.msg("ARTICLE_YOUR_OWN_HINT")},null,8,r)):(0,n.createCommentVNode)("",!0),"karmaTooLow"===o.hint?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:3,innerHTML:e.msg("KARMA_TOO_LOW_FOR_ACTION")},null,8,l)):(0,n.createCommentVNode)("",!0)])),_:1},8,["root"])}var m=o(96973),d=o(41700),u=o(19913);const p={name:"TMVoteHintPopup",components:{TMPopover:d.Z,TMMessageInterpolation:m.Z},props:{root:{type:null,required:!0},hint:{type:String,required:!0,validator(e){return["registration","chargeTooLow","isMineArticle","karmaTooLow"].includes(e)}}},emits:["close"],computed:{registrationLink(){const e=this.$route.path;return`https://habr.com/kek/v1/auth/habrahabr-register/?back=${e}&hl=${this.langOptions.hl}`}},methods:{trackRegistrationClick(){(0,u.IZ)("hint_reg_raiting")}}};var h=o(83744);const _=(0,h.Z)(p,[["render",c]]),g=_},34733:(e,t,o)=>{"use strict";o.d(t,{Z:()=>E});var n=o(70942);const s=["title"],a=["disabled","title"],i={key:1},r=["disabled","title"];function l(e,t,o,l,c,m){const d=(0,n.resolveComponent)("TMSvgImg"),u=(0,n.resolveComponent)("TMCircleLoader");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["tm-votes-lever",m.bem("tm-votes-lever",{appearance:o.appearance})]),title:m.title},[o.canVotePlus||m.isInComment?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"tm-votes-lever__button","data-test-id":"votes-lever-upvote-button",disabled:o.voteState>0||o.isLoading,title:e.msg("DATA_ICONS_LIKE"),type:"button",onClick:t[0]||(t[0]=(...e)=>m.upvote&&m.upvote(...e))},[(0,n.createVNode)(d,{id:"counter-vote",class:(0,n.normalizeClass)(["tm-votes-lever__icon",{"tm-votes-lever__icon_upvote":o.voteState>0}]),size:"24"},null,8,["class"])],8,a)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["tm-votes-lever__score",m.bem("tm-votes-lever__score",{appearance:o.appearance})]),onClick:t[2]||(t[2]=t=>e.$emit("scoreClick"))},[o.isLoading?((0,n.openBlock)(),(0,n.createBlock)(u,{key:0,"circle-height":12,"circle-width":12,height:18,width:12})):(0,n.renderSlot)(e.$slots,"default",{key:1},(()=>[m.isInComment?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[e.isLoggedIn?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:(0,n.normalizeClass)(["tm-votes-lever__score-counter",m.bem("tm-votes-lever__score-counter",m.counterModifiers)]),"data-test-id":"votes-score-counter"},(0,n.toDisplayString)(o.formatted?m.formatNumber(o.score):o.score),3)):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"tm-votes-lever__score-fallback",onClick:t[1]||(t[1]=(...e)=>m.sendGaAndFireEvent&&m.sendGaAndFireEvent(...e))},[(0,n.createVNode)(d,{id:"votes-fallback",height:18,title:e.msg("ICON_VOTES_FALLBACK"),width:32},null,8,["title"])]))],64)):((0,n.openBlock)(),(0,n.createElementBlock)("span",i,[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(["tm-votes-lever__score-counter",m.bem("tm-votes-lever__score-counter",m.counterModifiers)]),"data-test-id":"votes-score-counter"},(0,n.toDisplayString)(o.formatted?m.formatNumber(o.score):o.score),3)]))]))],2),o.canVoteMinus||m.isInComment?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:"tm-votes-lever__button","data-test-id":"votes-lever-downvote-button",disabled:o.voteState<0||o.isLoading,title:e.msg("DATA_ICONS_DISLIKE"),type:"button",onClick:t[3]||(t[3]=(...e)=>m.downvote&&m.downvote(...e))},[(0,n.createVNode)(d,{id:"counter-vote",class:(0,n.normalizeClass)(["tm-votes-lever__icon tm-votes-lever__icon_arrow-down",{"tm-votes-lever__icon_downvote":o.voteState<0}]),size:"24"},null,8,["class"])],8,r)):(0,n.createCommentVNode)("",!0)],10,s)}var c=o(33907),m=o(16643),d=o(46206),u=o(25109),p=o(87934),h=o(19913);const _={name:"TMVotesLever",components:{TMCircleLoader:m.Z,TMSvgImg:d.Z},props:{score:{required:!0,type:Number},voteState:{type:Number,required:!1,default:null},votesCount:{type:Number,default:0},noVotesTitle:{type:String,default:null},appearance:{type:String,required:!0,validator(e){return["article","karma","comment","rating","grade"].includes(e)}},isLoading:{type:Boolean,default:!1},isPlusified:{type:Boolean,default:!1},canVoteMinus:{type:Boolean,default:!0},canVotePlus:{type:Boolean,default:!0},formatted:{type:Boolean,default:!0}},emits:["scoreClick","upvote","downvote","open-comment-hint","openCommentHint"],computed:{...(0,c.Se)("me",["isLoggedIn"]),title(){return!this.isLoggedIn&&this.isInComment?"":this.votesCount>0?this.msg("ARTICLE_REASON_TOTAL",{total:this.votesCount,positive:(this.votesCount+this.score)/2,negative:(this.votesCount-this.score)/2}):this.noVotesTitle},counterModifiers(){return["rating","grade"].includes(this.appearance)?{rating:"rating"===this.appearance,grade:"grade"===this.appearance}:{negative:this.score<0,positive:this.score>0}},isInComment(){return"comment"===this.appearance}},methods:{bem:u.P,sendGaAndFireEvent(e){(0,h.IZ)("click_hidden_comment"),this.$emit("openCommentHint",e.currentTarget)},upvote(e){this.$emit("upvote",e.target),e.target.blur()},downvote(e){this.$emit("downvote",e.target),e.target.blur()},formatNumber(e){return this.isPlusified?(0,p.j)(e):(0,p.O)(e)}}};var g=o(83744);const T=(0,g.Z)(_,[["render",l]]),E=T},70939:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={class:"tm-votes-meter"},a=["title","textContent"];function i(e,t,o,i,r,l){const c=(0,n.resolveComponent)("TMSvgImg");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(c,{id:l.iconId,class:(0,n.normalizeClass)(["tm-votes-meter__icon",l.iconClassName]),size:"24",title:l.iconTitle},null,8,["id","class","title"]),(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(["tm-votes-meter__value",l.valueClassName]),"data-test-id":"votes-meter-value",title:l.title,textContent:(0,n.toDisplayString)(l.scoreFormatted)},null,10,a)])}var r=o(46206),l=o(25109),c=o(87934);const m={name:"TMVotesMeter",components:{TMSvgImg:r.Z},props:{score:{required:!0,type:Number},noVotesTitle:{type:String,default:null},voteState:{required:!0,type:Number},votesCount:{type:Number,default:0},appearance:{type:String,required:!0,validator(e){return["article","karma","comment"].includes(e)}}},computed:{title(){return this.votesCount>0?this.msg("ARTICLE_REASON_TOTAL",{total:this.votesCount,positive:(this.votesCount+this.score)/2,negative:(this.votesCount-this.score)/2}):this.noVotesTitle},iconTitle(){return this.voteState>0?this.msg("DATA_ICONS_VOTE_UP"):this.voteState<0?this.msg("DATA_ICONS_VOTE_DOWN"):this.title},iconClassName(){return this.bem("tm-votes-meter__icon",{positive:this.voteState>0,negative:this.voteState<0,appearance:this.appearance})},valueClassName(){return this.bem("tm-votes-meter__value",{positive:this.score>0,negative:this.score<0,appearance:this.appearance,rating:0===this.voteState})},iconId(){return 0===this.voteState?"counter-rating":"counter-vote"},scoreFormatted(){return(0,c.j)(this.score)}},methods:{bem:l.P}};var d=o(83744);const u=(0,d.Z)(m,[["render",i]]),p=u},38230:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var n=o(70942);const s={class:"tm-widget-applications__card"},a={class:"tm-widget-applications__aside"},i=["src"],r={class:"tm-widget-applications__body"},l=["innerHTML"],c=["innerHTML"],m={class:"tm-widget-applications__card-links"},d=["href","innerHTML"];function u(e,t,o,u,p,h){return(0,n.openBlock)(),(0,n.createElementBlock)("article",s,[(0,n.createElementVNode)("aside",a,[(0,n.createElementVNode)("img",{alt:"",class:"tm-widget-applications__image",src:o.application.imageUrl},null,8,i)]),(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("h3",{class:"tm-widget-applications__card-title",innerHTML:o.application.title},null,8,l),(0,n.createElementVNode)("p",{class:"tm-widget-applications__card-description",innerHTML:o.application.descriptionHtml},null,8,c),(0,n.createElementVNode)("ul",m,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.application.links,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:`${e.title}-${e.linkUrl}`,class:"tm-widget-applications__card-link-item"},[(0,n.createElementVNode)("a",{class:"tm-widget-applications__card-link",href:e.linkUrl,rel:"nofollow noreferrer",target:"_blank",innerHTML:e.title},null,8,d)])))),128))])])])}const p={name:"TMWidgetApplication",props:{application:{type:Object,required:!0}}};var h=o(83744);const _=(0,h.Z)(p,[["render",u]]),g=_},80720:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s={class:"tm-widget-applications__list"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMWidgetApplication"),c=(0,n.resolveComponent)("TMBlock");return(0,n.openBlock)(),(0,n.createBlock)(c,{title:e.msg("WIDGET_APPLICATIONS")},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("ul",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.widgetData.applications,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:e.title,class:"tm-widget-applications__item"},[(0,n.createVNode)(l,{application:e},null,8,["application"])])))),128))])])),_:1},8,["title"])}var i=o(11493),r=o(38230);const l={name:"TMWidgetApplications",components:{TMBlock:i.Z,TMWidgetApplication:r.Z},props:{widgetData:{type:Object,required:!0}}};var c=o(83744);const m=(0,c.Z)(l,[["render",a]]),d=m},31340:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var n=o(70942);const s={class:"tm-widget-banner-content"},a=["src"],i=["innerHTML"];function r(e,t,o,r,l,c){return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(o.widgetData.imageLinkUrl?"a":"span"),{class:"tm-widget-banner-content__image-wrapper",href:o.widgetData.imageLinkUrl},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{alt:"",class:(0,n.normalizeClass)(["tm-widget-banner-content__image",c.imageClasses]),src:o.widgetData.imageUrl},null,10,a)])),_:1},8,["href"])),o.widgetData.textHtml?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(["tm-widget-banner-content__message",c.messageClasses]),innerHTML:o.widgetData.textHtml},null,10,i)):(0,n.createCommentVNode)("",!0)])}const l={name:"TMWidgetBannerContent",props:{widgetData:{type:Object,required:!0}},computed:{messageClasses(){const{textAlign:e}=this.widgetData;return e?`tm-widget-banner-content__message_align-${e}`:null},imageClasses(){const{textAlign:e}=this.widgetData;return e?`tm-widget-banner-content__image_align-${e}`:null}}};var c=o(83744);const m=(0,c.Z)(l,[["render",r]]),d=m},14772:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMWidgetBannerContent"),l=(0,n.resolveComponent)("TMBlock");return(0,n.openBlock)(),(0,n.createBlock)(l,{"header-variant":"borderless",title:e.msg("WIDGET_BANNER")},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,{"widget-data":o.widgetData},null,8,["widget-data"])])),_:1},8,["title"])}var a=o(11493),i=o(31340);const r={name:"TMWidgetBanner",components:{TMBlock:a.Z,TMWidgetBannerContent:i.Z},props:{widgetData:{type:Object,required:!0}}};var l=o(83744);const c=(0,l.Z)(r,[["render",s]]),m=c},17527:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var n=o(70942);const s={class:"tm-widget-links__list"},a=["href","innerHTML"],i=["textContent"];function r(e,t,o,r,l,c){const m=(0,n.resolveComponent)("TMBlock");return(0,n.openBlock)(),(0,n.createBlock)(m,{title:e.msg("WIDGET_LINKS")},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("ul",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.widgetData.links,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:`${e.title}-${e.linkUrl}`,class:"tm-widget-links__item"},[(0,n.createElementVNode)("a",{class:"tm-widget-links__link",href:e.linkUrl,rel:"nofollow noreferrer",target:"_blank",innerHTML:e.title},null,8,a),(0,n.createElementVNode)("small",{class:"tm-widget-links__host",textContent:(0,n.toDisplayString)(e.linkHost)},null,8,i)])))),128))])])),_:1},8,["title"])}var l=o(11493);const c={name:"TMWidgetLinks",components:{TMBlock:l.Z},props:{widgetData:{type:Object,required:!0}}};var m=o(83744);const d=(0,m.Z)(c,[["render",r]]),u=d},84803:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(70942);const s={class:"tm-widget-news__list"},a=["href","innerHTML"],i={class:"tm-widget-news__date"};function r(e,t,o,r,l,c){const m=(0,n.resolveComponent)("TMDatetime"),d=(0,n.resolveComponent)("TMBlock");return(0,n.openBlock)(),(0,n.createBlock)(d,{level:"2",tag:"aside",title:e.msg("WIDGET_NEWS")},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("ul",s,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(c.news,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:`${e.title}-${e.linkUrl}`,class:"tm-widget-news__item"},[(0,n.createElementVNode)("a",{class:"tm-widget-news__link",href:e.linkUrl,rel:"nofollow noreferrer",target:"_blank",innerHTML:e.title},null,8,a),(0,n.createElementVNode)("small",i,[(0,n.createVNode)(m,{date:e.date},null,8,["date"])])])))),128))])])),_:1},8,["title"])}var l=o(11493),c=o(63599);const m={name:"TMWidgetNews",components:{TMDatetime:c.Z,TMBlock:l.Z},props:{widgetData:{type:Object,required:!0}},computed:{news(){return this.widgetData.news.map((e=>({...e,date:new Date(e.date)})))}}};var d=o(83744);const u=(0,d.Z)(m,[["render",r]]),p=u},28950:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s=["id"];function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMBlock");return(0,n.openBlock)(),(0,n.createBlock)(l,{title:e.msg("WIDGET_VK")},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)("script"),{async:"",src:"https://vk.com/js/api/openapi.js?63",type:"application/javascript",onLoad:r.onLoad},null,40,["onLoad"])),(0,n.createElementVNode)("div",{id:i.elementId},null,8,s)])),_:1},8,["title"])}var i=o(11493);const r={name:"TMWidgetVK",components:{TMBlock:i.Z},props:{widgetData:{type:Object,required:!0},type:{type:String,required:!0}},data(){return{elementId:`widget-social-${Math.random()}`}},methods:{onLoad(){window.VK&&window.VK.Widgets&&window.VK.Widgets.Group&&window.VK.Widgets.Group(this.elementId,{mode:0,width:"260",height:"300",color1:"var(--romance)",color2:"var(--mine-shaft)",color3:"var(--horizon)"},this.widgetData.id)}}};var l=o(83744);const c=(0,l.Z)(r,[["render",a]]),m=c},49404:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(70942);const s={ref:"containerRef"};function a(e,t,o,a,i,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",s,null,512)])}var i=o(25109);const r={name:"TMWysiwygEditor",inheritAttrs:!1,props:{propsConfig:Object,name:String,lang:String,label:String,value:Object,validation:{type:Object,default:()=>({required:!1,nodesLimit:{},maxCharsLimit:null})},withoutPlusMenu:Boolean,description:String,isMobile:Boolean,isMobileOnly:Boolean,useTestIds:Boolean,customDocSchema:String,customTrailingNode:String,compactView:Boolean,stickyMenu:{type:Boolean,default:!0}},emits:["update","update:data","update:error","loading"],setup(e,t){const s=(0,n.ref)(null),a=(0,n.ref)(null),i={...e,...t.attrs},r=e=>(...o)=>t.emit(e,...o);let l;const c=o.e(6342).then(o.t.bind(o,76342,23)).then((e=>{const{Editor:o,Vue:n}=e.default;return n.component("WYSIWYG",o),new n({data(){return{props:i}},methods:{onWYSIWYGUpdate(e){t.emit("update",e)},setEditorRef(){a.value=this.$refs.editor}},render(e){return e("WYSIWYG",{class:this.props.class,style:this.props.style,props:this.props,ref:"editor",on:{update:r("update"),"update:data":r("update:data"),"update:error":r("update:error"),loading:r("loading"),"hook:mounted":this.setEditorRef}})}})}));(0,n.watch)((()=>e),(e=>{l&&Object.keys(e).forEach((t=>{l.props[t]=e[t]}))}),{deep:!0}),(0,n.onMounted)((()=>{s.value&&c.then((e=>{l=e,l.$mount(s.value)}))}));const m=["awaitPendingOperations"],d=m.reduce(((e,t)=>(e[t]=(...e)=>a.value[t](...e),e)),{});return t.expose(d),{containerRef:s}},methods:{bem:i.P}};var l=o(83744);const c=(0,l.Z)(r,[["render",a]]),m=c},43995:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>p});var n=o(70942);const s={class:"tm-articles-subpage"};function a(e,t,o,a,i,r){const l=(0,n.resolveComponent)("TMNewsBlock"),c=(0,n.resolveComponent)("TMArticlesFeed");return(0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(c,{"is-articles":!0},{afterArticle:(0,n.withCtx)((({position:e,currentPage:t})=>[1!==e||1!==t||r.isFlEnglish?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(l,{id:"news_block_1",key:"news_block_1","data-navigatable":"","data-test-id":"news_block","flow-name":r.flowName,"hub-name":r.hubName,tabindex:"0"},null,8,["flow-name","hub-name"]))])),_:1})])}var i=o(22201),r=o(88984),l=o(25100),c=o(21805);const m={components:{TMNewsBlock:l.Z,TMArticlesFeed:r.Z},setup(){const e=(0,i.yj)();return(0,c.w)((({store:t})=>t.dispatch("articlesList/loadArticlesList",{route:e})))},computed:{isFlEnglish(){return"en"===this.langOptions.fl},hubName(){return this.$route.params.hubName},flowName(){return this.$route.params.flowName}}};var d=o(83744);const u=(0,d.Z)(m,[["render",a]]),p=u},92578:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>u});var n=o(70942);function s(e,t,o,s,a,i){const r=(0,n.resolveComponent)("TMStories"),l=(0,n.resolveComponent)("TMArticlesFeed");return(0,n.openBlock)(),(0,n.createBlock)(l,null,{afterArticle:(0,n.withCtx)((({position:e,currentPage:t})=>[1===e&&1===t?((0,n.openBlock)(),(0,n.createBlock)(r,{id:"stories_block_1",key:"stories_block_1","data-test-id":"stories_block","ga-category":"stories_news",tabindex:"0"})):(0,n.createCommentVNode)("",!0)])),_:1})}var a=o(22201),i=o(88984),r=o(60732),l=o(21805);const c={components:{TMArticlesFeed:i.Z,TMStories:r.Z},setup(){const e=(0,a.yj)();return(0,l.w)((({store:t})=>t.dispatch("articlesList/loadArticlesList",{route:e})))}};var m=o(83744);const d=(0,m.Z)(c,[["render",s]]),u=d},24654:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(o.exports,o,o.exports,__webpack_require__),o.loaded=!0,o.exports}__webpack_require__.m=__webpack_modules__,(()=>{var e=[];__webpack_require__.O=(t,o,n,s)=>{if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],s=e[c][2];for(var i=!0,r=0;r<o.length;r++)(!1&s||a>=s)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](o[r])))?o.splice(r--,1):(i=!1,s<a&&(a=s));if(i){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,n,s]}})(),(()=>{__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return __webpack_require__.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if("object"===typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&"function"===typeof o.then)return o}var s=Object.create(null);__webpack_require__.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&o;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>a[e]=()=>o[e]));return a["default"]=()=>o,__webpack_require__.d(s,a),s}})(),(()=>{__webpack_require__.d=(e,t)=>{for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,o)=>(__webpack_require__.f[o](e,t),t)),[]))})(),(()=>{__webpack_require__.u=e=>"js/"+({0:"code-mode/sql-js",92:"code-mode/powershell-js",128:"wysiwig-icons",204:"page-company-add",263:"code-mode/rust-js",269:"page-article",318:"page-my-feed",388:"user-apps",478:"code-mode/javascript-js",734:"page-user",785:"code-mode/stex-js",821:"code-mode/php-js",983:"fail-placeholder",1163:"docs",1231:"page-flows",1663:"code-mode/assembly-js",1763:"code-mode/vbscript-js",1792:"company-add-text-ru",1830:"web-streams-polyfill",1894:"code-mode/commonlisp-js",1967:"code-mode/python-js",2021:"code-mode/yaml-js",2047:"user-app",2136:"events",2159:"code-mode/lua-js",2205:"code-mode/shell-js",2328:"admin",2341:"fetch-readablestream",2443:"about",2636:"page-error",2731:"code-mode/r-js",2755:"code-mode/cmake-js",2780:"apexCharts",2808:"code-mode/mathematica-js",2837:"code-mode/erlang-js",2972:"page-company",3049:"user-upgrade",3193:"statistics",3389:"page-technotext",3839:"page-startup",3977:"company-localization-ru",4017:"code-mode/1c-js",4106:"code-mode/perl-js",4306:"page-ppa",4585:"code-mode/ruby-js",4634:"page-flow",4670:"page-company-admin",4915:"analytics-manual-en",5022:"company-localization-en",5106:"publication",5112:"user-settings",5121:"gallery",5361:"code-mode/simple-mode-js",5550:"code-mode/elixir-js",5631:"page-article-comments",5727:"analytics-manual-ru",5752:"company-add-text-en",5809:"code-mode/diff-js",5996:"info",6359:"code-mode/vhdl-js",6379:"page-hub",6453:"megaposts-admin",6464:"search",6504:"user-invites",6841:"feed-setting",6937:"code-mode/go-js",7029:"code-mode/coffeescript-js",7086:"page-user-comments",7324:"megaprojects",7338:"code-mode/nginx-js",7417:"hljs",7478:"page-feed-preview",7484:"sandbox",7521:"code-mode/css-js",7576:"dialogs",7628:"beta-test",7927:"code-mode/pascal-js",7996:"ppg",8281:"code-mode/xml-js",8463:"user-statistics",8631:"user-articles-subpages",8642:"code-mode/mllike-js",8656:"feedback",8736:"code-mode/clike-js",8746:"code-mode/haskell-js",8778:"tracker",8799:"photoswipe",9039:"requisites-terms-text-en",9291:"code-mode/django-js",9353:"code-mode/smalltalk-js",9386:"code-mode/markdown-js",9451:"code-mode/swift-js",9613:"code-mode/julia-js",9616:"lang",9634:"requisites-terms-text-ru",9722:"voice"}[e]||e)+"."+{0:"79c8dc0b",92:"f4d84bcb",128:"ef26ba12",204:"a3582686",263:"3d71e0ef",269:"8139ef73",318:"b3e2e5e3",388:"1cacf30b",478:"6a38930f",499:"16cff310",624:"c8889194",734:"99b248e8",785:"2defb7f1",821:"d45ac464",983:"0e34db2f",1163:"41f5b3c8",1231:"6b9b5687",1343:"9da3767d",1663:"611409fe",1763:"e9b53db5",1792:"e660e1fe",1830:"efa89fba",1894:"240f38ac",1967:"28b7a117",2021:"e9ae542c",2047:"6b8772fa",2129:"faf1159b",2136:"1fb45351",2159:"fb9c35c6",2182:"ea093efa",2205:"524693f3",2328:"b4ebe1f5",2341:"90d53897",2443:"05e2d40d",2614:"ea84b191",2636:"c6a6fdf3",2731:"2d2e9f06",2755:"4d9c57ae",2780:"3f759e92",2808:"69db4bd1",2837:"a144fa31",2972:"f083a5c7",3049:"a726a81b",3193:"4e6f81a1",3389:"f3669569",3839:"14d8e176",3977:"6ac77d7e",4017:"913d5651",4097:"66deac24",4106:"3e5c35f5",4306:"195042c1",4463:"ec2976f0",4523:"bb49bbd6",4585:"36aba16d",4634:"7d340407",4670:"994325fe",4780:"64d81500",4915:"1a2f33b6",4978:"32591003",5022:"f7d14dc3",5051:"ef798a29",5106:"77643d4b",5112:"c481b665",5121:"3212935a",5209:"8ea3eb13",5225:"6133f845",5361:"c139e4b1",5550:"d16dee1c",5614:"9665961a",5629:"2c83bcdf",5631:"05ffeb3a",5727:"4b7dc181",5752:"71c9ce1f",5809:"26bf5dd6",5996:"eb7f547f",6075:"0ea9da62",6235:"74b18eed",6342:"9c7d59d3",6359:"38e6df0b",6379:"92f803ca",6453:"94f45c87",6464:"7448bffe",6504:"b1569114",6644:"1078a96b",6755:"6774b9a5",6841:"1455fc01",6937:"82e285c7",7029:"041fc66e",7086:"1fbf9c17",7188:"12fb1001",7240:"c9fad41b",7324:"9f086979",7338:"bff8f066",7417:"a98378c2",7478:"cfbcc395",7484:"e35bd8d5",7493:"2ef5d4c9",7521:"b874db26",7529:"d70e6dfa",7576:"cb79411d",7628:"8db5cd15",7734:"21f47555",7927:"c9ad049d",7996:"62021dda",8020:"f78c1d90",8281:"a03c424d",8325:"5f96a303",8463:"28494d8f",8631:"be240e63",8642:"0867f9a7",8656:"7f9d9662",8736:"64527fb8",8746:"7ff224bf",8778:"d981520d",8799:"44a07d4a",8945:"b090b4ef",9039:"6b11b288",9291:"00f51639",9333:"23bcdf80",9353:"c8e2d68c",9386:"66238aed",9403:"0304779d",9451:"a6d1aa9c",9613:"ad9e192c",9616:"6a9c0098",9634:"ab005851",9722:"2868be23",9768:"7351d3f9",9931:"202d1f82",9937:"4920c111",9964:"b1db15eb"}[e]+".js"})(),(()=>{__webpack_require__.miniCssF=e=>"css/"+({204:"page-company-add",269:"page-article",318:"page-my-feed",388:"user-apps",734:"page-user",1163:"docs",1231:"page-flows",2047:"user-app",2136:"events",2328:"admin",2443:"about",2972:"page-company",3049:"user-upgrade",3193:"statistics",3389:"page-technotext",3839:"page-startup",4306:"page-ppa",4634:"page-flow",4670:"page-company-admin",5106:"publication",5112:"user-settings",5121:"gallery",5631:"page-article-comments",5996:"info",6379:"page-hub",6453:"megaposts-admin",6464:"search",6504:"user-invites",6841:"feed-setting",7086:"page-user-comments",7324:"megaprojects",7478:"page-feed-preview",7484:"sandbox",7576:"dialogs",7628:"beta-test",7996:"ppg",8463:"user-statistics",8631:"user-articles-subpages",8656:"feedback",8778:"tracker",9722:"voice"}[e]||e)+"."+{204:"1fc25228",269:"20779f67",318:"be029e88",388:"ad6df1ec",499:"6379417f",734:"fab3e414",1163:"a52b1cf6",1231:"7ba1dfc3",2047:"9f0ccf23",2129:"4cb2ba01",2136:"7c0e9f34",2328:"901ad540",2443:"76b72d9a",2972:"30e8658f",3049:"ac8b699c",3193:"c785290f",3389:"4cf0281a",3839:"66da92d1",4306:"a6efe271",4634:"2863750e",4670:"df90be4b",4978:"76830443",5051:"e6a3e0f1",5106:"60bf9885",5112:"5496495e",5121:"6e359fb4",5225:"114ec465",5614:"46db0a77",5631:"0981f87b",5996:"7f8aa224",6379:"9458f85b",6453:"1cced985",6464:"47680e15",6504:"82b365ee",6755:"cf27a8f6",6841:"1cc47f5c",7086:"ca3ee05a",7188:"1db23f7e",7324:"43ada6ce",7478:"72ae9422",7484:"b7ee227a",7576:"71b19726",7628:"d8c50aa2",7996:"bd16856c",8020:"5f15a553",8463:"eb2113e9",8631:"6b3ee724",8656:"71577a6e",8778:"076babac",9333:"b2f6ecf7",9722:"4296eb7d"}[e]+".css"})(),(()=>{__webpack_require__.h=()=>"38feed724d006b08"})(),(()=>{__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{__webpack_require__.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="habr-web:";__webpack_require__.l=(o,n,s,a)=>{if(e[o])e[o].push(n);else{var i,r;if(void 0!==s)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var m=l[c];if(m.getAttribute("src")==o||m.getAttribute("data-webpack")==t+s){i=m;break}}i||(r=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",t+s),i.src=o),e[o]=[n];var d=(t,n)=>{i.onerror=i.onload=null,clearTimeout(u);var s=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((e=>e(n))),t)return t(n)},u=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),r&&document.head.appendChild(i)}}})(),(()=>{__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{__webpack_require__.p="https://assets.habr.com/habr-web/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,o,n,s)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var i=o=>{if(a.onerror=a.onload=null,"load"===o.type)n();else{var i=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=r,a.parentNode&&a.parentNode.removeChild(a),s(l)}};return a.onerror=a.onload=i,a.href=t,o?o.parentNode.insertBefore(a,o.nextSibling):document.head.appendChild(a),a},t=(e,t)=>{for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var s=o[n],a=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(a===e||a===t))return s}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){s=i[n],a=s.getAttribute("data-href");if(a===e||a===t)return s}},o=o=>new Promise(((n,s)=>{var a=__webpack_require__.miniCssF(o),i=__webpack_require__.p+a;if(t(a,i))return n();e(o,i,null,n,s)})),n={2143:0};__webpack_require__.f.miniCss=(e,t)=>{var s={204:1,269:1,318:1,388:1,499:1,734:1,1163:1,1231:1,2047:1,2129:1,2136:1,2328:1,2443:1,2972:1,3049:1,3193:1,3389:1,3839:1,4306:1,4634:1,4670:1,4978:1,5051:1,5106:1,5112:1,5121:1,5225:1,5614:1,5631:1,5996:1,6379:1,6453:1,6464:1,6504:1,6755:1,6841:1,7086:1,7188:1,7324:1,7478:1,7484:1,7576:1,7628:1,7996:1,8020:1,8463:1,8631:1,8656:1,8778:1,9333:1,9722:1};n[e]?t.push(n[e]):0!==n[e]&&s[e]&&t.push(n[e]=o(e).then((()=>{n[e]=0}),(t=>{throw delete n[e],t})))}}})(),(()=>{var e={2143:0};__webpack_require__.f.j=(t,o)=>{var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var s=new Promise(((o,s)=>n=e[t]=[o,s]));o.push(n[2]=s);var a=__webpack_require__.p+__webpack_require__.u(t),i=new Error,r=o=>{if(__webpack_require__.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var s=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",i.name="ChunkLoadError",i.type=s,i.request=a,n[1](i)}};__webpack_require__.l(a,r,"chunk-"+t,t)}},__webpack_require__.O.j=t=>0===e[t];var t=(t,o)=>{var n,s,a=o[0],i=o[1],r=o[2],l=0;if(a.some((t=>0!==e[t]))){for(n in i)__webpack_require__.o(i,n)&&(__webpack_require__.m[n]=i[n]);if(r)var c=r(__webpack_require__)}for(t&&t(o);l<a.length;l++)s=a[l],__webpack_require__.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return __webpack_require__.O(c)},o=self["webpackChunkhabr_web"]=self["webpackChunkhabr_web"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),__webpack_require__.O(void 0,[4998],(()=>__webpack_require__(18580)));var __webpack_exports__=__webpack_require__.O(void 0,[4998],(()=>__webpack_require__(66586)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.41dbb96a.js.map