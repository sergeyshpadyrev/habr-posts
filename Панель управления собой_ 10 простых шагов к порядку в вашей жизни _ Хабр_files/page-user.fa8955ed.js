(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-user"],{"05c8":function(t,e,s){"use strict";s("3173")},1122:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("TMSubPage",[s("TMArticlesList",{attrs:{"articles-list":t.currentArticlesList,"is-loading":t.isLoading,"pages-count":t.currentPagesCount}})],1)},r=[],a=s("2f62"),n=s("a28c"),o=s("d98f"),u=s("0955"),l={name:"TMUserBookmarksArticlesPage",components:{TMArticlesList:n["a"],TMSubPage:o["a"]},asyncData({store:t,route:e}){return t.dispatch("articlesList/loadArticlesList",{route:e,force:!0})},computed:{...Object(a["e"])("articlesList",["isLoading","pagesCount"]),...Object(a["c"])("users",["getUserByAlias"]),...Object(a["c"])("articlesList",["getArticlesList"]),routeKey(){return Object(u["a"])(this.$route)},currentArticlesList(){return this.getArticlesList(this.routeKey)},currentPagesCount(){return this.pagesCount[this.routeKey]},userInfo(){return this.getUserByAlias(this.$route.params.login)},pageTitlePart(){const t=this.userInfo;return t?this.msg("PROFILE_PAGE_TITLE_BOOKMARKS_ARTICLES",{username:t.alias}):null},totalPages(){return this.pagesCount[Object(u["a"])(this.$route)]}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"}]}}},c=l,_=s("2877"),p=Object(_["a"])(c,i,r,!1,null,null,null);e["default"]=p.exports},"14b71":function(t,e,s){"use strict";s("c349")},"1b70":function(t,e,s){},"24fc":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("TMUsersList",{attrs:{"author-refs":t.authorRefs,"current-author-list":t.currentAuthorList,"current-pages-count":t.currentPagesCount,"default-sort":"title","is-loading":t.authorFollowersLoading,"sorting-options":t.sortingOptions}})},r=[],a=s("2f62"),n=s("8db0"),o={components:{TMUsersList:n["a"]},asyncData({store:t,route:e}){return t.dispatch("users/loadUserFollowers",e)},computed:{...Object(a["e"])("users",["authorFollowers","authorFollowersLoading"]),...Object(a["c"])("users",["getUserByAlias"]),userAlias(){return this.$route.params.login.toLowerCase()},userInfo(){return this.getUserByAlias(this.userAlias)},userFollowers(){return this.authorFollowers[this.userAlias]},authorRefs(){return this.userFollowers?this.userFollowers.authorRefs:{}},currentAuthorList(){return this.userFollowers?this.userFollowers.authorIds:[]},currentPagesCount(){return this.userFollowers?this.userFollowers.pagesCount:0},sortingOptions(){return[{label:this.msg("NAV_SORTING_ABC_USER"),title:this.msg("NAV_SORTING_ABC_USER_TITLE"),id:"title",isSortable:!1},{label:this.msg("NAV_SORTING_RATING"),title:this.msg("NAV_SORTING_RATING_TITLE"),id:"rating",isSortable:!1},{label:this.msg("NAV_SORTING_KARMA_AUTHORS_PAGE_LABEL"),title:this.msg("NAV_SORTING_CONTRIBUTION_TITLE"),id:"karma",isSortable:!1}]},pageTitlePart(){const t=this.userInfo;return t?this.msg("PROFILE_PAGE_TITLE_FOLLOWERS",{gender:t.gender,username:t.alias}):null}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"}]}}},u=o,l=s("2877"),c=Object(l["a"])(u,i,r,!1,null,null,null);e["default"]=c.exports},3003:function(t,e,s){},3173:function(t,e,s){},"33a9":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("TMPage",{staticClass:"tm-user",scopedSlots:t._u([{key:"default",fn:function(){return[s("TMBlock",{scopedSlots:t._u([{key:"body",fn:function(){return[t.userInfo?[s("TMUserCard",{staticClass:"tm-user__user-card",attrs:{user:t.userInfo},on:{karmachange:t.onKarmaChange,payments:function(e){return t.$emit("payments")},toggleFollow:t.toggleFollowUser}}),t._v(" "),s("TMTabs",{staticClass:"tm-user__tabs",attrs:{tabs:t.tabs,"tabs-count":4}}),t._v(" "),t.isBookmarksFilterShown?s("TMNavigationDropdown",{attrs:{"current-value":t.$route.name,options:t.subPagesOptions},on:{change:t.goToPage}},[s("TMRssButton")],1):t._e()]:s("TMPlaceholder",{attrs:{type:"userProfileCard"}})]},proxy:!0}])}),t._v(" "),t.showWriteNote&&t.isMobile&&t.isProfilePage?s("div",{staticClass:"tm-user__write-note-wrapper"},[s("TMWriteNote",{attrs:{condensed:"",note:t.userInfo.note}})],1):t._e(),t._v(" "),s("router-view")]},proxy:!0},{key:"sidebar",fn:function(){return[t.isDesktop?s("TMLayoutSidebar",{attrs:{"show-adv":!1}},[s("TMUserBasicInfoBlock",{attrs:{"user-info":t.userInfo}}),t._v(" "),s("TMUserSpecialization",{attrs:{block:""}}),t._v(" "),t.showWriteNote?s("TMWriteNote",{attrs:{note:t.userInfo.note}}):t._e(),t._v(" "),s("TMHubsContributionBlock",{attrs:{"user-alias":t.$route.params.login}})],1):t._e()]},proxy:!0}])})},r=[],a=s("2f62"),n=s("6862"),o=s("19d1"),u=s("8fab"),l=s("46ac"),c=s("c840"),_=s("0272"),p=s("5b53"),h=s("ff3c"),b=s("5188"),d=s("47e8"),m=s("b92c"),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.userInfo?s("TMBlock",{attrs:{title:t.msg("PROFILE_BLOCK_TITLE")}},[s("TMUserBasicInfo",{attrs:{"user-info":t.userInfo,variant:"columns"}})],1):t._e()},f=[],T=s("d3ab"),I={name:"TMUserBasicInfoBlock",components:{TMUserBasicInfo:T["a"],TMBlock:o["a"]},props:{userInfo:{type:Object,default:null}}},E=I,L=s("2877"),S=Object(L["a"])(E,g,f,!1,null,null,null),v=S.exports,O=s("eff8"),C=s("9b46"),M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.note?s("div",{staticClass:"tm-write-note"},[t.note.text||t.isEdit?s("TMBlock",{attrs:{title:t.msg("PROFILE_WRITE_NOTE_TITLE")}},[t.isEdit?s("textarea",{ref:"noteTextarea",staticClass:"tm-write-note__textarea",attrs:{placeholder:t.msg("PROFILE_WRITE_NOTE_PLACEHOLDER")},domProps:{innerHTML:t._s(t.note.text)}}):s("div",{staticClass:"tm-write-note__text-block",domProps:{innerHTML:t._s(t.note.text)}}),t._v(" "),t.isLoading?s("TMCircleLoader"):s("TMButtonBase",{staticClass:"tm-save-note__button",attrs:{"style-size":"small","style-type":"transparent",type:"button"},on:{click:function(e){return t.sendUserNote()}}},[t._v("\n      "+t._s(t.msg(t.buttonText))+"\n    ")])],1):s("TMBlock",{attrs:{"body-variant":t.condensed?"condensed":null}},[s("TMButtonBase",{staticClass:"tm-write-note__button",attrs:{"style-size":"large","style-type":"transparent",type:"button"},on:{click:function(e){t.isEdit=!0}}},[t._v("\n      "+t._s(t.msg("PROFILE_WRITE_NOTE"))+"\n    ")])],1)],1):t._e()},A=[],R=s("884d"),P=s("68eb"),y={name:"TMWriteNote",components:{TMBlock:o["a"],TMButtonBase:R["a"],TMCircleLoader:P["a"]},props:{note:{type:Object,default:null},condensed:Boolean},data(){return{isEdit:!1,isLoading:!1}},computed:{buttonText(){return this.isEdit?"PROFILE_WRITE_NOTE_SAVE":"PROFILE_WRITE_NOTE_EDIT"}},methods:{...Object(a["b"])("users",["addUserNote"]),sendUserNote(){if(!1===this.isEdit)return void(this.isEdit=!0);const{login:t}=this.$route.params,{value:e}=this.$refs.noteTextarea;this.isLoading=!0,this.addUserNote({alias:t,note:{text:e}}).then(()=>{this.isEdit=!1,this.isLoading=!1}).catch(t=>{this.isLoading=!1,this.$toast.error(t.message)})}}},U=y,N=(s("6d3b"),Object(L["a"])(U,M,A,!1,null,null,null)),B=N.exports,k={components:{TMDatetime:u["a"],TMLayoutSidebar:_["a"],TMNavigationDropdown:p["a"],TMHubsContributionBlock:c["a"],TMPage:h["a"],TMPlaceholder:b["a"],TMDescriptionList:l["a"],TMTabs:m["a"],TMUserBasicInfoBlock:v,TMUserCard:O["a"],TMWriteNote:B,TMRssButton:d["a"],TMBlock:o["a"],TMUserSpecialization:C["a"]},asyncData({store:t,route:e}){return t.dispatch("users/loadUserInfo",{alias:e.params.login})},computed:{...Object(a["c"])("users",["getUserByAlias"]),...Object(a["c"])("global",["isDesktop","isMobile"]),...Object(a["c"])("me",["isLoggedIn","isSuperAdmin","userAlias"]),userInfo(){return this.getUserByAlias(this.$route.params.login)},showWriteNote(){return!this.isItMe&&this.isLoggedIn&&this.userInfo},isProfilePage(){return"USER_PROFILE"===this.$route.name},profileSubPages(){return[{label:this.msg("NAV_PROFILE_WHOIS"),value:"USER_PROFILE"},{label:this.msg("NAV_PROFILE_INVITES"),value:"USER_INVITES"},{label:this.msg("NAV_PROFILE_NOTES"),value:"USER_NOTES"},{label:this.msg("KARMA_RESET"),value:"USER_KARMA_RESET"}]},bookmarksFilterOptions(){return[{label:this.msg("NAV_BOOKMARKS_ARTICLES"),value:"ARTICLES_LIST_BOOKMARKED"},{label:this.msg("NAV_BOOKMARKS_COMMENTS"),value:"COMMENTS_LIST_BOOKMARKED"}]},articlesFilterOptions(){return[{label:this.msg("NAV_ARTICLES_USER"),value:"ARTICLES_LIST_BY_USER"},{label:this.msg("NAV_ARTICLES_SANDBOX_USER"),value:"ARTICLES_LIST_SANDBOX_BY_USER"},{label:this.msg("NAV_DRAFTS"),value:"ARTICLES_DRAFTS_LIST_BY_USER"},{label:this.msg("NAV_PLANNED"),value:"ARTICLES_PLANNED_LIST_BY_USER"},{label:this.msg("NAV_USER_STATISTICS"),value:"USER_STATISTICS"}]},subPagesOptions(){const t=["USER_PROFILE","USER_INVITES","USER_NOTES","USER_NOTES_PAGES","USER_KARMA_RESET"],e=["ARTICLES_LIST_BOOKMARKED","COMMENTS_LIST_BOOKMARKED"],s=["ARTICLES_LIST_BY_USER","ARTICLES_DRAFTS_LIST_BY_USER","ARTICLES_PLANNED_LIST_BY_USER","ARTICLES_LIST_SANDBOX_BY_USER","ARTICLES_LIST_SANDBOX_BY_USER_PAGES","USER_STATISTICS"];return this.isItMe&&-1!==t.indexOf(this.$route.name)?this.profileSubPages:-1!==e.indexOf(this.$route.name)?this.bookmarksFilterOptions:(this.isItMe||this.isSuperAdmin)&&-1!==s.indexOf(this.$route.name)?this.articlesFilterOptions:[]},tabs(){if(!this.userInfo)return[];const{isReadonly:t}=this.userInfo,e=[];return e.push({title:this.msg("NAV_PROFILE"),route:{name:"USER_PROFILE",params:{login:this.userInfo.alias}},children:this.isItMe?this.profileSubPages.map(t=>t.value):[]}),!this.isItMe&&t||e.push({title:this.msg("NAV_ARTICLES_USER"),count:this.userInfo.counterStats&&this.userInfo.counterStats.postCount||0,route:{name:"ARTICLES_LIST_BY_USER",params:{login:this.userInfo.alias}}}),t||e.push({title:this.msg("NAV_COMMENTS"),count:this.userInfo.counterStats&&this.userInfo.counterStats.commentCount||0,route:{name:"USER_COMMENTS",params:{login:this.userInfo.alias}}}),e.push({title:this.msg("NAV_BOOKMARKS"),count:this.userInfo.counterStats&&this.userInfo.counterStats.favoriteCount||0,route:{name:"USER_BOOKMARKED",params:{login:this.userInfo.alias}},children:this.bookmarksFilterOptions.map(t=>t.value)}),t||e.push({title:this.msg("NAV_FOLLOWERS"),count:this.userInfo.followStats&&this.userInfo.followStats.followersCount||0,route:{name:"USER_FOLLOWERS",params:{login:this.userInfo.alias}}},{title:this.msg("NAV_FOLLOWED"),count:this.userInfo.followStats&&this.userInfo.followStats.followCount||0,route:{name:"USER_FOLLOWED",params:{login:this.userInfo.alias}}}),e},isBookmarksFilterShown(){return!0===this.$route.meta.showFilter&&this.subPagesOptions.length},isItMe(){return this.isLoggedIn&&this.userAlias&&this.$route.params.login.toLowerCase()===this.userAlias.toLowerCase()}},mounted(){this.isDesktop&&this.loadUserHubsContributions(this.$route.params)},methods:{...Object(a["b"])("users",["loadUserInfo","toggleSubscribeStatus","updateFollowersCounter"]),...Object(a["b"])("userHubsContribution",["loadUserHubsContributions"]),toggleFollowUser(){const{isSubscribed:t}=this.userInfo.relatedData;this.updateFollowersCounter(this.$route.params.login).then(()=>this.toggleSubscribeStatus({alias:this.$route.params.login,isSubscribed:t})).then(t=>{const e=t?"subscribe":"unsubscribe";Object(n["c"])("author_info_top",e,this.userInfo.alias),t&&Object(n["c"])(e,"user",this.userAlias)}).catch(t=>{this.$toast.error(t.message)})},onKarmaChange(t){const e="up"===t.direction?"vote_plus":"vote_minus";Object(n["c"])("author_info_top",e,this.userInfo.alias)},goToPage({value:t}){this.$router.push({name:t})}}},w=k,F=(s("c149"),Object(L["a"])(w,i,r,!1,null,null,null));e["default"]=F.exports},3781:function(t,e,s){"use strict";s("9536")},"37b9":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tm-profile__body"},[t.profileInfo?[t.isMobile?s("TMUserBasicInfo",{attrs:{"user-info":t.userInfo}}):t._e(),t._v(" "),t.profileInfo.badgets&&t.profileInfo.badgets.length?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_BADGES")}},[s("TMBadges",{attrs:{badges:t.profileInfo.badgets}})],1):t._e(),t._v(" "),t.profileInfo.invitedBy?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_INVITED",{gender:t.userInfo.gender})}},[s("TMDatetime",{attrs:{date:new Date(t.profileInfo.invitedBy.timeCreated)}}),t._v("\n      "+t._s(t.msg("PROFILE_TEXT_BY_INVITATION"))+"\n      "),t.profileInfo.invitedBy.issuerLogin?s("router-link",{staticClass:"tm-user-profile__nickname",attrs:{to:t.parentRoute}},[t._v("\n        @"+t._s(t.profileInfo.invitedBy.issuerLogin)+"\n      ")]):[t._v("\n        "+t._s(t.msg("PROFILE_TEXT_UFO"))+"\n      ")]],2):t._e(),t._v(" "),t.profileInfo.aboutHtml?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_ABOUT")}},[s("div",{staticClass:"tm-user-profile__content"},[s("span",{domProps:{innerHTML:t._s(t.profileInfo.aboutHtml)}})])]):t._e(),t._v(" "),t.isMobile?s("TMUserSpecialization"):t._e(),t._v(" "),t.profileInfo.contacts&&t.profileInfo.contacts.length?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_CONTACTS")}},[s("div",{staticClass:"tm-user-profile__content"},[s("TMUserLinks",{attrs:{links:t.profileInfo.contacts}})],1)]):t._e(),t._v(" "),t.userHubsList&&t.userHubsList.length?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_HUBS")}},[s("TMShowMoreHandler",{attrs:{"current-page":t.userHubs.currentPage,"is-loading":t.userHubsLoading,"pages-count":t.userHubs.pagesCount},on:{showMore:t.loadMoreUserHubs}},[s("TMUserHubs",{attrs:{hubs:t.userHubsList}})],1)],1):t._e(),t._v(" "),t.userInvitationsList&&t.userInvitationsList.length?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_INVITED_TO_SITE",{gender:t.userInfo.gender})}},[s("div",{staticClass:"tm-user-profile__content"},[s("TMShowMoreHandler",{attrs:{"current-page":t.userInvitations.currentPage,"is-loading":t.userInvitationsLoading,"pages-count":t.userInvitations.pagesCount},on:{showMore:t.loadMoreUserInvitations}},t._l(t.userInvitationsList,(function(t){return s("TMUserSnippet",{key:t.id,staticClass:"tm-user-profile__invitations-item",attrs:{user:t}})})),1)],1)]):t._e(),t._v(" "),t.followedCompanies&&t.followedCompanies.length?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_COMPANIES",{gender:t.userInfo.gender})}},[s("div",{staticClass:"tm-user-profile__section tm-user-profile__section_folllowed-companies"},t._l(t.followedCompanies,(function(t){return s("TMCompanySnippet",{key:t.id,staticClass:"tm-user-profile__followed-company",attrs:{company:t}})})),1)]):t._e()]:s("TMPlaceholder",{attrs:{type:"profileInfo"}})],2)},r=[],a=s("2f62"),n=s("4baf"),o=s("68eb"),u=s("fd95"),l=s("8fab"),c=s("46ac"),_=s("5188"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tm-show-more-handler"},[s("div",{staticClass:"tm-show-more-handler__content"},[t._t("default")],2),t._v(" "),t.isLoading?s("TMCircleLoader",{staticClass:"tm-show-more-handler__loader"}):t.showButton?s("button",{staticClass:"tm-show-more-handler__action",attrs:{type:"button"},on:{click:function(e){return t.$emit("showMore")}}},[t._v("\n    "+t._s(t.msg("SHOW_MORE"))+"\n  ")]):t._e()],1)},h=[],b={name:"TMShowMoreHandler",components:{TMCircleLoader:o["a"]},props:{currentPage:{type:Number,required:!0},isLoading:{type:Boolean,required:!0},pagesCount:{type:Number,required:!0}},computed:{showButton(){return this.currentPage<this.pagesCount}}},d=b,m=(s("f2d5"),s("2877")),g=Object(m["a"])(d,p,h,!1,null,null,null),f=g.exports,T=s("d3ab"),I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tm-user-hubs"},[s("div",t._l(t.hubs,(function(e){return s("div",{key:e.alias,staticClass:"tm-user-hubs__item"},[s("TMHubLinkPopup",{attrs:{hub:e}},[s("TMHubLink",{staticClass:"tm-user-hubs__hub",class:{"tm-user-hubs__hub_subscribed":t.hubIsSubscribed(e)},attrs:{hub:e}},[s("span",{domProps:{innerHTML:t._s(e.titleHtml)}})])],1)],1)})),0)])},E=[],L=s("8dbe"),S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tm-hub-link-popup",on:{mouseleave:function(e){t.targetElement=null}}},[s("div",{staticClass:"tm-hub-link-popup__link",on:{mouseenter:function(e){t.targetElement=e.target}}},[t._t("default")],2),t._v(" "),t.targetElement?s("TMHubPopup",{attrs:{hub:t.hub,tabindex:"-1",target:t.targetElement},on:{close:function(e){t.targetElement=null}}}):t._e()],1)},v=[],O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("TMPopover",{attrs:{offset:[0,4],root:t.target,variant:"hub"}},[s("div",{staticClass:"tm-hub-popup"},[s("TMHubCard",{attrs:{hub:t.hub,"show-curator":!1,"show-stat":"","subscribe-btn-position":"afterDescription",variant:"popup"},on:{toggleSubscribe:t.updateHubData}})],1)])},C=[],M=s("d491"),A=s("3cb0"),R={name:"TMHubPopup",components:{TMHubCard:M["a"],TMPopover:A["a"]},props:{target:{type:"undefined"!==typeof HTMLElement?HTMLElement:Object,required:!0},hub:{type:Object,required:!0}},mounted(){this.loadHub({alias:this.hub.alias})},methods:{...Object(a["b"])("hubs",["loadHub"]),...Object(a["b"])("pullRefresh",["toggleRefresh"]),updateHubData(){this.toggleRefresh(!0)}}},P=R,y=(s("a688"),Object(m["a"])(P,O,C,!1,null,null,null)),U=y.exports,N={name:"TMHubLinkPopup",components:{TMHubPopup:U},props:{hub:{type:Object,required:!0}},data(){return{targetElement:null}}},B=N,k=(s("490f"),Object(m["a"])(B,S,v,!1,null,null,null)),w=k.exports,F=s("af72"),D=s.n(F);const H=t=>t.every(t=>{const e=D.a.map(t,{alias:D.a.nonEmptyString,titleHtml:D.a.nonEmptyString});return e}),j={required:!0,type:Array,validator:H};var $={name:"TMUserHubs",components:{TMHubLink:L["a"],TMHubLinkPopup:w},props:{hubs:j},data(){return{isExpanded:!1}},computed:{...Object(a["c"])("i18n",["langOptions"]),...Object(a["c"])("hubs",["getHubByAlias"])},methods:{hubIsSubscribed(t){const e=this.getHubByAlias(t.alias),s=e||t;return s.relatedData&&s.relatedData.isSubscribed}}},x=$,V=(s("87d4"),Object(m["a"])(x,I,E,!1,null,null,null)),K=V.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tm-user-links"},t._l(t.links,(function(e,i){return s("div",{key:i,staticClass:"tm-user-links__row"},[e.title?s("div",{staticClass:"tm-user-links__label"},[s("span",{staticClass:"tm-user-links__title"},[t._v(t._s(e.title))])]):t._e(),t._v(" "),e.url?s("div",{staticClass:"tm-user-links__value"},[s("a",{staticClass:"tm-user-links__link",attrs:{href:e.url,rel:"nofollow noopener",target:"_blank"}},[t._v("\n        "+t._s(e.value)+"\n      ")])]):t._e()])})),0)},z=[],W={name:"TMUserLinks",props:{links:{type:Array,default:()=>[]}}},Y=W,q=(s("3781"),Object(m["a"])(Y,G,z,!1,null,null,null)),X=q.exports,J=s("4924"),Z=s("9b46"),Q={components:{TMCircleLoader:o["a"],TMBadges:n["a"],TMDatetime:l["a"],TMPlaceholder:_["a"],TMDescriptionList:c["a"],TMUserBasicInfo:T["a"],TMCompanySnippet:u["a"],TMUserHubs:K,TMUserLinks:X,TMUserSnippet:J["a"],TMShowMoreHandler:f,TMUserSpecialization:Z["a"]},asyncData({store:t,route:e}){const s=e.params.login;return Promise.all([t.dispatch("users/loadProfileInfo",s),t.dispatch("users/loadUserInvitations",{alias:s}).catch(()=>null),t.dispatch("users/loadUserHubs",{alias:s}).catch(()=>null)])},computed:{...Object(a["c"])("users",["getProfileInfo","getUserByAlias","getUserInvitations","getUserHubs"]),...Object(a["c"])("i18n",["langOptions"]),...Object(a["c"])("global",["isMobile"]),...Object(a["e"])("users",["userInvitationsLoading","userHubsLoading"]),userHubsList(){const{hubRefs:t}=this.userHubs;return t?Object.values(t):[]},userInvitationsList(){const{invitationsRefs:t}=this.userInvitations;return t?Object.values(t):[]},userInvitations(){return this.getUserInvitations(this.$route.params.login)||{}},userHubs(){return this.getUserHubs(this.$route.params.login)||{}},profileInfo(){return this.getProfileInfo(this.$route.params.login)},userInfo(){return this.getUserByAlias(this.$route.params.login)},followedCompanies(){const{companies:t}=this.profileInfo;return t&&t.companyIds&&t.companyIds.length?t.companyIds.map(e=>t.companyRefs[e]):[]},pageTitlePart(){const{userInfo:t}=this;return t?this.msg("USER_PROFILE_PAGE_META_TITLE",{userName:t.fullname||"EMPTY",userAlias:t.alias,companyName:t.companyName||"EMPTY",userInfo:t.speciality}):null},pageDescriptionStats(){const{userInfo:t}=this;if(!t||!t.counterStats)return null;const{counterStats:{commentCount:e,postCount:s}}=t;let i;return e&&s?i="USER_PROFILE_PAGE_META_DESCRIPTION_POSTS_AND_COMMENTS":e?i="USER_PROFILE_PAGE_META_DESCRIPTION_COMMENTS":s&&(i="USER_PROFILE_PAGE_META_DESCRIPTION_POSTS"),i?this.msg(i,{commentsCount:e,postsCount:s}):null},pageDescription(){const{userInfo:t}=this;if(!t)return null;let e=this.msg("USER_PROFILE_PAGE_META_DESCRIPTION",{userName:t.fullname||"EMPTY",userAlias:t.alias,companyName:t.companyName||"EMPTY"});return this.pageDescriptionStats&&(e+=" "+this.pageDescriptionStats),e},parentRoute(){return{name:"USER_PROFILE",params:{login:this.profileInfo.invitedBy.issuerLogin,hl:this.langOptions.hl}}}},methods:{...Object(a["b"])("users",["loadUserInvitations","loadUserHubs"]),loadMoreUserInvitations(){const t=this.$route.params.login;this.loadUserInvitations({alias:t,page:this.userInvitations.currentPage+1}).catch(t=>{this.$toast.error(t.message)})},loadMoreUserHubs(){const t=this.$route.params.login;this.loadUserHubs({alias:t,page:this.userHubs.currentPage+1}).catch(t=>{this.$toast.error(t.message)})}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"},{name:"description",content:this.pageDescription,vmid:"description"},{property:"og:description",content:this.pageDescription,vmid:"og:description"},{name:"keywords",content:[this.userInfo.alias,this.userInfo.fullname].join(", ")}]}}},tt=Q,et=(s("6173"),Object(m["a"])(tt,i,r,!1,null,null,null));e["default"]=et.exports},"490f":function(t,e,s){"use strict";s("d197")},"4baf":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tm-badges"},[s("ul",{staticClass:"tm-badges__list"},t._l(t.badges,(function(e,i){return s("li",{key:i,staticClass:"tm-badges__item"},[s("div",{staticClass:"tm-badges__badge",attrs:{title:e.description}},[t._v("\n        "+t._s(e.title)+"\n      ")])])})),0)])},r=[],a={name:"TMBadges",props:{badges:{type:Array,default:()=>[]}}},n=a,o=(s("5b9e"),s("2877")),u=Object(o["a"])(n,i,r,!1,null,null,null);e["a"]=u.exports},"5b9e":function(t,e,s){"use strict";s("3003")},6173:function(t,e,s){"use strict";s("bb31")},"66dc":function(t,e,s){},"68cd":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("TMSubPage",[s("TMArticlesList",{attrs:{"articles-list":t.currentArticlesList,"is-loading":t.isLoading,"pages-count":t.currentPagesCount}})],1)},r=[],a=s("2f62"),n=s("a28c"),o=s("d98f"),u=s("0955"),l={name:"TMUserArticlesPage",components:{TMArticlesList:n["a"],TMSubPage:o["a"]},asyncData({store:t,route:e}){return t.dispatch("articlesList/loadArticlesList",{route:e})},computed:{...Object(a["e"])("articlesList",["isLoading","pagesCount"]),...Object(a["c"])("articlesList",["getArticlesList"]),...Object(a["c"])("users",["getUserByAlias"]),routeKey(){return Object(u["a"])(this.$route)},currentArticlesList(){return this.getArticlesList(this.routeKey)},currentPagesCount(){return this.pagesCount[this.routeKey]},userInfo(){return this.getUserByAlias(this.$route.params.login)},pageTitlePart(){const t=this.userInfo;return t?this.msg("PROFILE_PAGE_TITLE_ARTICLES",{username:t.alias}):null}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"}]}}},c=l,_=s("2877"),p=Object(_["a"])(c,i,r,!1,null,null,null);e["default"]=p.exports},"6b83":function(t,e,s){},"6d3b":function(t,e,s){"use strict";s("86e8")},"86e8":function(t,e,s){},"87d4":function(t,e,s){"use strict";s("cf3c")},9127:function(t,e,s){},9536:function(t,e,s){},"9b46":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showSpecialization?s("div",{staticClass:"tm-user-specialization"},[s(t.block?"TMBlock":"TMDescriptionList",{tag:"component",attrs:{"body-variant":"stucked",spacing:"bottom",title:t.msg("NAV_SPECIALIZATION")},scopedSlots:t._u([{key:"default",fn:function(){return[s("div",{staticClass:"tm-user-specialization__title"},[s("strong",[t._v(t._s(t.title))])]),t._v(" "),t.specializationInfo.qualification?s("div",{staticClass:"tm-user-specialization__qualification"},[t._v("\n        "+t._s(t.specializationInfo.qualification.title)+"\n      ")]):t._e(),t._v(" "),t.specializationInfo.salary?s("div",{staticClass:"tm-user-specialization__salary"},[t._v("\n        "+t._s(t.msg("VACANCY_SALARY_FROM",{from:t.specializationInfo.salary,currency:t.specializationInfo.currency.sign}))+"\n      ")]):t._e(),t._v(" "),t.specializationInfo.skills&&t.specializationInfo.skills.length?s("div",{staticClass:"tm-user-specialization__skills"},t._l(t.specializationInfo.skills,(function(e){return s("div",{key:e.alias,staticClass:"tm-user-specialization__skill",domProps:{textContent:t._s(e.name)}})})),0):t._e()]},proxy:!0}],null,!1,3412968487)})],1):t._e()},r=[],a=s("2f62"),n=s("19d1"),o=s("46ac"),u={name:"TMUserSpecialization",components:{TMBlock:n["a"],TMDescriptionList:o["a"]},props:{block:Boolean},asyncData({store:t,route:e}){return t.dispatch("users/loadUserSpecialization",{alias:e.params.login})},computed:{...Object(a["c"])("users",["getUserSpecialization"]),specializationInfo(){return this.getUserSpecialization(this.$route.params.login)},showSpecialization(){const{specializationInfo:t}=this;return t&&(t.qualification||t.salary||t.skills.length||t.specializations.length)},title(){const{specializations:t}=this.specializationInfo;return t.map(t=>t.textFieldData||t.title).join(", ")||this.msg("USER_SPECIALIST")}}},l=u,c=(s("e7df"),s("2877")),_=Object(c["a"])(l,i,r,!1,null,null,null);e["a"]=_.exports},a688:function(t,e,s){"use strict";s("1b70")},b4fb:function(t,e,s){"use strict";s("bae5")},bae5:function(t,e,s){},bb31:function(t,e,s){},c149:function(t,e,s){"use strict";s("cf4d")},c349:function(t,e,s){},c840:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.blockHubsContribution&&t.blockHubsContribution.length?s("TMBlock",{attrs:{title:t.msg("NAV_HUBS_CONTRIBUTION")}},[s("TMContributionList",{attrs:{contributions:t.contributions},scopedSlots:t._u([{key:"aside",fn:function(t){var e=t.item;return[s("TMHubLink",{attrs:{hub:e.hub}},[s("TMEntityImage",{attrs:{alias:e.hub.alias,image:e.hub.imageUrl,size:32,type:"hub"}})],1)]}},{key:"header",fn:function(e){var i=e.item;return[s("TMHubLink",{staticClass:"tm-hub-block__hub-name",attrs:{hub:i.hub}},[s("span",{domProps:{textContent:t._s(i.hub.titleHtml)}})])]}}],null,!1,3225048570)})],1):t._e()},r=[],a=s("2f62"),n=s("19d1"),o=s("db31"),u=s("2e8a"),l=s("8dbe"),c={name:"TMHubsContributionBlock",components:{TMContributionList:o["a"],TMBlock:n["a"],TMEntityImage:u["a"],TMHubLink:l["a"]},props:{userAlias:{type:String,default:null},companyAlias:{type:String,default:null}},computed:{...Object(a["c"])("userHubsContribution",{getUserContribution:"getHubsContributionsByAlias"}),...Object(a["c"])("companyHubsContribution",{getCompanyContribution:"getHubsContributionsByAlias"}),blockHubsContribution(){return this.companyAlias?this.getCompanyContribution(this.companyAlias):this.getUserContribution(this.userAlias)},contributions(){return this.blockHubsContribution.map(t=>{const{invest:e}=t;return{id:t.alias,hub:t,relative:this.getWidth(e),absolute:e.toFixed(1)}})}},methods:{getWidth(t){const e=this.blockHubsContribution[0].invest;return 100*t/e}}},_=c,p=(s("14b71"),s("2877")),h=Object(p["a"])(_,i,r,!1,null,null,null);e["a"]=h.exports},cf3c:function(t,e,s){},cf4d:function(t,e,s){},d197:function(t,e,s){},d3ab:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tm-user-basic-info"},["undefined"!==typeof t.userInfo.ratingPos?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_RATING"),variant:t.variant}},[t._v("\n    "+t._s(t.msg(t.ratingPositionPluralKey,{position:t.userInfo.ratingPos||0}))+"\n  ")]):t._e(),t._v(" "),t.geoString.length?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_LOCATION"),variant:t.variant}},[t._v("\n    "+t._s(t.geoString)+"\n  ")]):t._e(),t._v(" "),t.userInfo.workplace&&t.userInfo.workplace.length?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_WORKS_IN"),variant:t.variant}},t._l(t.userInfo.workplace,(function(e){return s("div",{key:"workplace-"+e.alias},[s("router-link",{staticClass:"tm-user-basic-info__link",attrs:{to:{name:"COMPANY_PROFILE",params:{name:e.alias}}}},[t._v("\n        "+t._s(e.title)+"\n      ")])],1)})),0):t._e(),t._v(" "),t.userInfo.birthday?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_BIRTHDAY"),variant:t.variant}},[s("TMDatetime",{attrs:{date:t.birthdayDate}})],1):t._e(),t._v(" "),t.userInfo.registerDateTime?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_REGISTERED",{gender:t.userInfo.gender}),variant:t.variant}},[s("TMDatetime",{attrs:{date:new Date(t.userInfo.registerDateTime)}})],1):t._e(),t._v(" "),t.userInfo.lastActivityDateTime?s("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_ACTIVITY"),variant:t.variant}},[s("TMDatetime",{attrs:{date:new Date(t.userInfo.lastActivityDateTime),"show-full-date-time":!0}})],1):t._e()],1)},r=[],a=s("2f62"),n=s("8fab"),o=s("46ac"),u={name:"TMUserBasicInfo",components:{TMDescriptionList:o["a"],TMDatetime:n["a"]},props:{userInfo:{type:Object,default:null},variant:{type:String,default:"base"}},computed:{...Object(a["c"])("i18n",["msg"]),geoString(){const{location:t}=this.userInfo;return t?Object.values(t).filter(t=>!!t).map(t=>t.title).join(", "):""},ratingPositionPluralKey(){return this.userInfo.gender>1?"PROFILE_RATING_POSITION_FEMALE":"PROFILE_RATING_POSITION_MALE"},birthdayDate(){const[t,e,s]=this.userInfo.birthday.split("-");return new Date(t,e-1,s)}}},l=u,c=(s("ed43"),s("2877")),_=Object(c["a"])(l,i,r,!1,null,null,null);e["a"]=_.exports},d491:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tm-hub-card",class:t.bem("tm-hub-card",{variant:t.variant})},[s("div",{staticClass:"tm-hub-card__header",class:t.bem("tm-hub-card__header",{variant:t.variant})},[s("div",{staticClass:"tm-hub-card__data"},[s("div",{staticClass:"tm-hub-card__avatar"},[s("TMEntityImage",{attrs:{alias:t.hub.alias,image:t.hub.imageUrl,type:"hub"}})],1),t._v(" "),s("TMRating",{attrs:{score:t.hub.statistics&&t.hub.statistics.rating}})],1),t._v(" "),t.isLoggedIn&&"header"===t.subscribeBtnPosition?s("TMButtonFollow",{staticClass:"tm-hub-card__follow",attrs:{subscribed:t.isSubscribed},on:{onToggle:function(e){return t.toggleStatusAndUpdate(t.hub.alias)}}}):s("div")],1),t._v(" "),s("h1",{staticClass:"tm-hub-card__name",class:t.bem("tm-hub-card__name",{variant:t.variant})},[s("span",{domProps:{innerHTML:t._s(t.hub.titleHtml)}}),t._v(" "),t.hub.isProfiled?s("span",{staticClass:"tm-hub-card__profiled",attrs:{title:t.msg("PROFILED_HUB")}},[t._v(" *")]):t._e()]),t._v(" "),s("p",{staticClass:"tm-hub-card__description",class:t.bem("tm-hub-card__description",{variant:t.variant}),domProps:{innerHTML:t._s(t.hub.descriptionHtml)}}),t._v(" "),t.isLoggedIn&&"afterDescription"===t.subscribeBtnPosition?s("TMButtonFollow",{staticClass:"tm-hub-card__follow tm-hub-card__follow_after-description",attrs:{subscribed:t.isSubscribed},on:{onToggle:function(e){return t.toggleStatusAndUpdate(t.hub.alias)}}}):s("div"),t._v(" "),t.hubCurator&&t.showCurator?s("div",{staticClass:"tm-hub-card__curator"},[s("router-link",{staticClass:"tm-hub-card__curator-userpic",attrs:{to:t.userProfileRoute(t.hubCurator.alias)}},[s("TMEntityImage",{attrs:{alias:t.hubCurator.alias,image:t.hubCurator.avatarUrl,type:"user"}})],1),t._v(" "),s("div",{staticClass:"tm-hub-card__curator-info"},[s("div",{staticClass:"tm-hub-card__curator-title"},[s("router-link",{staticClass:"tm-hub-card__curator-name",attrs:{to:t.userProfileRoute(t.hubCurator.alias)}},[t.hubCurator.fullname?[t._v("\n            "+t._s(t.hubCurator.fullname)+"\n          ")]:[t._v("\n            "+t._s(t.hubCurator.alias)+"\n          ")]],2),t._v(" "),s("TMCuratorIcon",{attrs:{title:t.msg("PROFILE_HUB_CURATOR")}}),t._v(" "),s("span",{staticClass:"tm-hub-card__curator-label"},[t._v("\n          "+t._s(t.msg("PROFILE_HUB_CURATOR"))+"\n        ")])],1),t._v(" "),s("p",{staticClass:"tm-hub-card__short-info",domProps:{innerHTML:t._s(t.hubCurator.speciality)}})])],1):t._e(),t._v(" "),t.showStat?s("div",{staticClass:"tm-hub-card__stat"},[s("p",{staticClass:"tm-hub-card__stat-item"},[t._v("\n      "+t._s(t.msg("NAV_ARTICLES_USER"))+": "),s("b",[t._v(t._s(t.postsCountFormatted))])]),t._v(" "),s("p",{staticClass:"tm-hub-card__stat-item"},[t._v("\n      "+t._s(t.msg("NAV_FOLLOWERS"))+": "),s("b",[t._v(t._s(t.subscribersCountFormatted))])])]):t._e()],1)},r=[],a=s("2f62"),n=s("1673"),o=s("2e8a"),u=s("c24c"),l=s("cee5"),c=s("6be8");const _=()=>s.e("chunk-2d0b5996").then(s.t.bind(null,"1a1a",7));var p={name:"TMHubCard",components:{TMButtonFollow:n["a"],TMEntityImage:o["a"],TMRating:u["a"],TMCuratorIcon:_},props:{hub:{type:Object,required:!0},showCurator:{type:Boolean,default:!0},showStat:{type:Boolean,default:!1},subscribeBtnPosition:{type:String,required:!0,validator(t){return["header","afterDescription"].includes(t)}},variant:{type:String,default:"base"}},computed:{...Object(a["c"])("me",["isLoggedIn"]),...Object(a["c"])("hubs",["getHubByAlias"]),isSubscribed(){const t=this.getHubByAlias(this.hub.alias),e=t||this.hub;return e.relatedData&&e.relatedData.isSubscribed},hubCurator(){return this.hub.sponsorship&&this.hub.sponsorship.curator},postsCountFormatted(){return this.hub.statistics&&Object(c["a"])(this.hub.statistics.postsCount)},subscribersCountFormatted(){return this.hub.statistics&&Object(c["a"])(this.hub.statistics.subscribersCount)}},methods:{...Object(a["b"])("hubs",["toggleSubscribeStatus"]),toggleStatusAndUpdate(t){this.toggleSubscribeStatus(t).then(()=>{this.$emit("toggleSubscribe")})},bem:l["a"],userProfileRoute(t){return{name:"USER_PROFILE",params:{login:t}}}}},h=p,b=(s("05c8"),s("2877")),d=Object(b["a"])(h,i,r,!1,null,null,null);e["a"]=d.exports},e7df:function(t,e,s){"use strict";s("6b83")},ed43:function(t,e,s){"use strict";s("66dc")},f2d5:function(t,e,s){"use strict";s("9127")},f4c6:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("TMUsersList",{attrs:{"author-refs":t.authorRefs,"current-author-list":t.currentAuthorList,"current-pages-count":t.currentPagesCount,"default-sort":"title","is-loading":t.authorFollowedLoading,"sorting-options":t.sortingOptions}})},r=[],a=s("2f62"),n=s("8db0"),o={components:{TMUsersList:n["a"]},asyncData({store:t,route:e}){return t.dispatch("users/loadUserFollowed",e)},computed:{...Object(a["e"])("users",["authorFollowed","authorFollowedLoading"]),...Object(a["c"])("users",["getUserByAlias"]),userAlias(){return this.$route.params.login.toLowerCase()},userInfo(){return this.getUserByAlias(this.userAlias)},userFollowed(){return this.authorFollowed[this.userAlias]},authorRefs(){return this.userFollowed?this.userFollowed.authorRefs:{}},currentAuthorList(){return this.userFollowed?this.userFollowed.authorIds:[]},currentPagesCount(){return this.userFollowed?this.userFollowed.pagesCount:0},sortingOptions(){return[{label:this.msg("NAV_SORTING_ABC_USER"),title:this.msg("NAV_SORTING_ABC_USER_TITLE"),id:"title",isSortable:!1},{label:this.msg("NAV_SORTING_RATING"),title:this.msg("NAV_SORTING_RATING_TITLE"),id:"rating",isSortable:!1},{label:this.msg("NAV_SORTING_KARMA_AUTHORS_PAGE_LABEL"),title:this.msg("NAV_SORTING_CONTRIBUTION_TITLE"),id:"karma",isSortable:!1}]},pageTitlePart(){const t=this.userInfo;return t?this.msg("PROFILE_PAGE_TITLE_FOLLOWED",{gender:t.gender,username:t.alias}):null}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"}]}}},u=o,l=s("2877"),c=Object(l["a"])(u,i,r,!1,null,null,null);e["default"]=c.exports},f638:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-view")},r=[],a=s("2f62"),n={computed:{...Object(a["c"])("users",["getUserByAlias"]),userInfo(){return this.getUserByAlias(this.$route.params.login)},pageTitlePart(){const t=this.userInfo;return t?this.msg("PROFILE_PAGE_TITLE_BOOKMARKS",{username:t.alias}):null}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"}]}}},o=n,u=(s("b4fb"),s("2877")),l=Object(u["a"])(o,i,r,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=page-user.fa8955ed.js.map