(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-flow~page-flows"],{1937:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("TMUsersList",{attrs:{"author-refs":t.authorRefs,"contribution-table":t.contributionTable,"current-author-list":t.currentAuthorList,"current-pages-count":t.currentPagesCount,"default-sort":t.defaultSort,"is-loading":t.isLoading,"sorting-options":t.sortingOptions},scopedSlots:t._u([{key:"empty",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.msg("SEARCH_EMPTY_USERS"))}})]},proxy:!0}])})},a=[],n=e("2f62"),o=e("8db0"),r=e("0955"),u={components:{TMUsersList:o["a"]},asyncData({store:t,route:s}){return t.dispatch("users/loadUsers",{route:s})},data(){return{routeKey:Object(r["a"])(this.$route)}},computed:{...Object(n["c"])("i18n",["msg","pageTitle"]),...Object(n["e"])("location",["searchQuery"]),...Object(n["e"])("users",["authorRefs","authorIds","pagesCount","isLoading"]),currentAuthorList(){return this.authorIds[this.routeKey]},currentPagesCount(){return this.pagesCount[this.routeKey]},contributionTable(){return this.isFlowUsers||this.isHubUsers},defaultSort(){return this.contributionTable?"contribution":"rating"},isFlowUsers(){return-1!==["AUTHORS_BY_FLOW","AUTHORS_BY_FLOW_PAGES"].indexOf(this.$route.name)},isHubUsers(){return-1!==["AUTHORS_BY_HUB","AUTHORS_BY_HUB_PAGES"].indexOf(this.$route.name)},sortingOptions(){const t=[{label:this.msg("NAV_SORTING_ABC_USER"),title:this.msg("NAV_SORTING_ABC_USER_TITLE"),id:"title",isSortable:!1}];return this.contributionTable?(t.push({label:this.isFlowUsers?this.msg("NAV_SORTING_KARMA_FLOW_PAGE_LABEL"):this.msg("NAV_SORTING_KARMA_HUB_PAGE_LABEL"),title:this.msg("NAV_SORTING_CONTRIBUTION_TITLE"),id:"contribution",isSortable:!1}),t):(t.push({label:this.msg("NAV_SORTING_RATING"),title:this.msg("NAV_SORTING_RATING_TITLE"),id:"rating",isSortable:!1},{label:this.msg("NAV_SORTING_KARMA_AUTHORS_PAGE_LABEL"),title:this.msg("NAV_SORTING_KARMA_TITLE"),id:"karma",isSortable:!1}),t)}},watch:{searchQuery(t,s){s!==t&&this.loadUsers({route:{...this.$route,query:{q:t}}})}},mounted(){this.isLoading=!0,this.dataPromise.then(()=>{this.isLoading=!1})},methods:{...Object(n["b"])("users",["loadUsers"])}},c=u,l=(e("5c7a"),e("2877")),_=Object(l["a"])(c,i,a,!1,null,null,null);s["default"]=_.exports},2848:function(t,s,e){},"2d5c":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"tm-companies__sorting-panel"},[t.showNavigationSorting?e("TMNavigationSorting",{attrs:{options:t.sortingOptions,sort:t.defaultSort},scopedSlots:t._u([{key:"categoriesFilter",fn:function(){return[e("div",{staticClass:"tm-companies__filter-wrapper"},[e("select",{staticClass:"tm-companies__filter-select",on:{change:function(s){return t.changeCategory(s)}}},[e("option",{attrs:{value:"all"},domProps:{selected:"COMPANIES"===t.$route.name}},[t._v("\n              "+t._s(t.msg("ALL"))+"\n            ")]),t._v(" "),t._l(t.companiesCategories,(function(s){return e("option",{key:s.alias,domProps:{selected:t.$route.params.categoryAlias===s.alias,value:s.alias}},[t._v("\n              "+t._s(s.title)+"\n            ")])}))],2)])]},proxy:!0}],null,!1,2190372478)}):t._e()],1),t._v(" "),t.isLoading?e("TMPlaceholder",{staticClass:"tm-companies__placeholder",attrs:{times:7,type:"categories"}}):[t.showEmptyPlaceholder?e("TMEmptyPlaceholder",[e("span",{domProps:{innerHTML:t._s(t.msg("SEARCH_EMPTY_COMPANIES"))}})]):[e("div",{staticClass:"tm-companies"},t._l(t.companiesIds,(function(s){return e("div",{key:s,staticClass:"tm-companies__item tm-companies__item_inlined"},[e("div",{staticClass:"tm-companies__company-wrapper"},[e("TMCompanySnippet",{attrs:{company:t.currentCompany(s)}}),t._v(" "),t.isDesktop&&t.isCompanyHubsLength(s)?e("div",{staticClass:"tm-companies__company-hubs"},[e("span",{staticClass:"tm-companies__hubs-label"},[t._v(t._s(t.msg("COMPANY_HUBS_LABEL"))+":")]),t._v(" "),t._l(t.currentCompany(s).commonHubs,(function(s){return e("span",{key:s.id,staticClass:"tm-companies__hubs-item"},[e("TMHubLink",{staticClass:"tm-companies__hubs-item-link",attrs:{hub:s}},[e("span",{domProps:{innerHTML:t._s(s.titleHtml)}})])],1)}))],2):t._e()],1),t._v(" "),e("div",{staticClass:"tm-companies__score-counters"},[t.contributionTable?t._e():e("span",{staticClass:"tm-companies__score-counter tm-companies__score-counter_rating"},[t.isMobile?e("TMSvgImg",{staticClass:"tm-companies__icon tm-companies__icon_rating",attrs:{id:"rating"}}):t._e(),t._v("\n              "+t._s(t.currentCompany(s).statistics.rating)+"\n            ")],1),t._v(" "),t.contributionTable?t._e():e("span",{staticClass:"tm-companies__score-counter tm-companies__score-counter_subscribers"},[t.isMobile?e("TMSvgImg",{staticClass:"tm-companies__icon tm-companies__icon_subscribers",attrs:{id:"subscribers"}}):t._e(),t._v("\n              "+t._s(t.abbreviateNumber(t.currentCompany(s).statistics.subscribersCount))+"\n            ")],1),t._v(" "),t.contributionTable?e("span",{staticClass:"tm-companies__score-counter tm-companies__score-counter_contribution"},[t.isMobile?e("TMSvgImg",{staticClass:"tm-companies__icon tm-companies__icon_contribution",attrs:{id:"contribution"}}):t._e(),t._v("\n              "+t._s(t.abbreviateNumber(t.currentCompany(s).statistics.invest))+"\n            ")],1):t._e()])])})),0),t._v(" "),e("TMPagination",{attrs:{"route-name":t.paginationRouteName,"total-pages":t.currentPagesCount}})]]],2)},a=[],n=e("2f62"),o=e("fd95"),r=e("6833"),u=e("2e8a"),c=e("8dbe"),l=e("86f6"),_=e("57fc"),m=e("5188"),b=e("d98f"),h=e("b7d0"),p=e("0955"),g=e("6be8"),d={components:{TMCompanySnippet:o["a"],TMEmptyPlaceholder:r["a"],TMEntityImage:u["a"],TMNavigationSorting:l["a"],TMPagination:_["a"],TMPlaceholder:m["a"],TMSubPage:b["a"],TMSvgImg:h["a"],TMHubLink:c["a"]},asyncData({store:t,route:s}){return t.dispatch("companies/loadCompanies",{route:s})},data(){return{categoryType:"company",routeKey:Object(p["a"])(this.$route)}},computed:{...Object(n["e"])("companies",["companiesCategories","companyRefs","companyIds","pagesCount","isLoading"]),...Object(n["e"])("location",["searchQuery"]),...Object(n["c"])("global",["isMobile","isDesktop"]),companiesIds(){return this.companyIds[this.routeKey]},contributionTable(){return this.isFlowCompanies||this.isHubCompanies},isFlowCompanies(){return-1!==["COMPANIES_BY_FLOW","COMPANIES_BY_FLOW_PAGES"].indexOf(this.$route.name)},isHubCompanies(){return-1!==["COMPANIES_BY_HUB","COMPANIES_BY_HUB_PAGES"].indexOf(this.$route.name)},sortingOptions(){const t={label:this.msg("NAV_SORTING_ABC"),title:this.msg("NAV_SORTING_ABC_TITLE"),id:"title",isSortable:!this.contributionTable},s=this.contributionTable?[{label:this.isFlowCompanies?this.msg("NAV_SORTING_KARMA_FLOW_PAGE_LABEL"):this.msg("NAV_SORTING_KARMA_HUB_PAGE_LABEL"),title:this.msg("NAV_SORTING_CONTRIBUTION_TITLE"),id:"contribution",isSortable:!1}]:[{label:this.msg("NAV_SORTING_RATING"),title:this.msg("NAV_SORTING_RATING_TITLE"),id:"rating",isSortable:!0},{label:this.msg("NAV_SORTING_SUBSCRIBERS"),title:this.msg("NAV_SORTING_SUBSCRIBERS_TITLE"),id:"subscribers",isSortable:!1}];return[t,...s]},currentPagesCount(){return this.pagesCount[this.routeKey]},showEmptyPlaceholder(){return!this.companiesIds||!this.companiesIds.length},paginationRouteName(){if(this.isHubCompanies)return"COMPANIES_BY_HUB_PAGES";if(this.isFlowCompanies)return"COMPANIES_BY_FLOW_PAGES";const t=["COMPANIES_CATEGORIES","COMPANIES_CATEGORIES_PAGES"];return-1!==t.indexOf(this.$route.name)?"COMPANIES_CATEGORIES_PAGES":"COMPANIES_PAGES"},defaultSort(){return this.contributionTable?"contribution":"rating"},showNavigationSorting(){return this.isDesktop&&this.contributionTable||!this.contributionTable},activeCategory(){return this.companiesCategories?this.companiesCategories.find(t=>t.alias===this.$route.params.categoryAlias):null}},watch:{searchQuery(t,s){s!==t&&this.loadCompanies({route:{...this.$route,query:{q:t}}})}},metaInfo(){return this.activeCategory?{title:[this.activeCategory.title,this.msg("NAV_COMPANIES")].join(" / ")}:{}},methods:{...Object(n["b"])("companies",["loadCompanies"]),currentCompany(t){return this.companyRefs[t]},isCompanyHubsLength(t){return this.companyRefs[t].commonHubs&&this.companyRefs[t].commonHubs.length},abbreviateNumber(t){return Object(g["a"])(t)},changeCategory(t){const s="all"===t.target.value?{name:"COMPANIES"}:{name:"COMPANIES_CATEGORIES",params:{categoryAlias:t.target.value}};this.$router.push(s)}}},T=d,S=(e("894e"),e("2877")),C=Object(S["a"])(T,i,a,!1,null,null,null);s["default"]=C.exports},3685:function(t,s,e){},"48ff":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("TMHubsList",{attrs:{"sorting-options":t.sortingOptions}})},a=[],n=e("2f62"),o=e("8078"),r={components:{TMHubsList:o["a"]},asyncData({store:t,route:s}){return t.dispatch("hubs/loadHubs",{route:s})},data(){return{loadingFlows:!0}},computed:{...Object(n["e"])("flows",["flows"]),...Object(n["e"])("location",["searchQuery"]),...Object(n["c"])("i18n",["msg","pageTitle","langOptions"]),i18n(){return{shortInfoPlaceholder:this.msg("HUB")}},sortingOptions(){return[{label:this.msg("NAV_SORTING_ABC"),title:this.msg("NAV_SORTING_ABC_TITLE"),id:"title",isSortable:!0},{label:this.msg("NAV_SORTING_RATING"),title:this.msg("NAV_SORTING_RATING_TITLE"),id:"rating",isSortable:!0},{label:this.msg("NAV_SORTING_SUBSCRIBERS"),title:this.msg("NAV_SORTING_SUBSCRIBERS_TITLE"),id:"subscribers",isSortable:!0}]}},watch:{searchQuery(t,s){s!==t&&this.loadHubs({route:{...this.$route,query:{q:t}}})}},mounted(){0===this.flows.length&&this.loadFlows().then(()=>{this.loadingFlows=!1})},methods:{...Object(n["b"])("flows",["loadFlows"]),...Object(n["b"])("hubs",["loadHubs"])}},u=r,c=e("2877"),l=Object(c["a"])(u,i,a,!1,null,null,null);s["default"]=l.exports},"5c7a":function(t,s,e){"use strict";e("3685")},8078:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t.isLoading?e("TMPlaceholder",{staticClass:"tm-hubs-list__placeholder",attrs:{times:7,type:"categories"}}):[t.showEmptyPlaceholder?e("TMEmptyPlaceholder",[t._t("empty",(function(){return[e("span",{domProps:{innerHTML:t._s(t.msg("SEARCH_EMPTY_HUBS"))}})]}))],2):t._e(),t._v(" "),t.showEmptyPlaceholder?t._e():[t.isDesktop&&t.sortingOptions.length?e("div",{staticClass:"tm-hubs-list__sorting-panel"},[e("TMNavigationSorting",{attrs:{options:t.sortingOptions,sort:t.defaultSort}})],1):t._e(),t._v(" "),e("div",{staticClass:"tm-hubs-list"},t._l(t.currentHubsList,(function(s){return e("div",{key:s.id,staticClass:"tm-hubs-list__category-wrapper"},[e("div",{staticClass:"tm-hubs-list__hub"},[e("TMHubSnippet",{attrs:{hub:s,"show-common-tags":t.isDesktop}}),t._v(" "),e("div",{staticClass:"tm-hubs-list__hub-rating"},[t.isMobile?e("TMSvgImg",{staticClass:"tm-hubs-list__hub-icon tm-hubs-list__hub-icon_rating",attrs:{id:"rating"}}):t._e(),t._v("\n              "+t._s(s.statistics.rating)+"\n            ")],1),t._v(" "),e("div",{staticClass:"tm-hubs-list__hub-subscribers"},[t.isMobile?e("TMSvgImg",{staticClass:"tm-hubs-list__hub-icon tm-hubs-list__hub-icon_subscribers",attrs:{id:"subscribers"}}):t._e(),t._v("\n              "+t._s(t.abbreviateNumber(s.statistics.subscribersCount))+"\n            ")],1)],1)])})),0),t._v(" "),e("TMPagination",{attrs:{"route-name":t.paginationRouteName,"total-pages":t.currentPagesCount}})]]],2)},a=[],n=e("2f62"),o=e("6833"),r=e("e35a"),u=e("86f6"),c=e("57fc"),l=e("5188"),_=e("b7d0"),m=e("0955"),b=e("6be8"),h={name:"TMHubsListPresenter",components:{TMEmptyPlaceholder:o["a"],TMHubSnippet:r["a"],TMNavigationSorting:u["a"],TMPagination:c["a"],TMPlaceholder:l["a"],TMSvgImg:_["a"]},props:{sortingOptions:{type:Array,default:()=>[]},defaultSort:{type:String,default:"rating"}},data(){return{routeKey:Object(m["a"])(this.$route)}},computed:{...Object(n["e"])("hubs",["hubRefs","hubIds","pagesCount","isLoading"]),...Object(n["c"])("global",["isMobile","isDesktop"]),currentHubsList(){const t=this.hubIds[this.routeKey];return t&&Array.isArray(t)?t.map(t=>this.hubRefs[t]):[]},currentPagesCount(){return this.pagesCount[this.routeKey]},paginationRouteName(){return-1!==this.$route.name.indexOf("_PAGES")?this.$route.name:this.$route.name+"_PAGES"},showEmptyPlaceholder(){return this.currentHubsList&&!this.currentHubsList.length||!this.currentHubsList}},methods:{currentHub(t){return this.hubRefs[t]},abbreviateNumber(t){return Object(b["a"])(t)}}},p=h,g=(e("da6c"),e("2877")),d=Object(g["a"])(p,i,a,!1,null,null,null);s["a"]=d.exports},"894e":function(t,s,e){"use strict";e("ce8e")},b5aa:function(t,s,e){"use strict";e("2848")},ce8e:function(t,s,e){},da6c:function(t,s,e){"use strict";e("e358")},e358:function(t,s,e){},e35a:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tm-hub"},[e("TMHubLink",{staticClass:"tm-hub__userpic-link",attrs:{hub:t.hub}},[e("TMEntityImage",{attrs:{alias:t.hub.alias,image:t.hub.imageUrl,type:"hub"}})],1),t._v(" "),e("div",{staticClass:"tm-hub__info"},[e("div",[e("TMHubLink",{staticClass:"tm-hub__title",class:{"tm-hub__title_subscribed":t.hub.relatedData&&t.hub.relatedData.isSubscribed},attrs:{hub:t.hub}},[e("span",{domProps:{innerHTML:t._s(t.hub.titleHtml)}})]),t._v(" "),t.hub.isProfiled?e("span",{staticClass:"tm-hub__profiled",attrs:{title:t.msg("PROFILED_HUB")}},[t._v("\n        *\n      ")]):t._e()],1),t._v(" "),e("div",{staticClass:"tm-hub__description",domProps:{innerHTML:t._s(t.hub.descriptionHtml)}}),t._v(" "),t.showCommonTags&&t.hub.commonTags&&t.hub.commonTags.length?e("div",{staticClass:"tm-hubs-list__hub-tags"},t._l(t.hub.commonTags,(function(s){return e("router-link",{key:s,staticClass:"tm-hubs-list__hub-tag",attrs:{to:t.searchTagRoute(s)},domProps:{textContent:t._s(s)}})})),1):t._e()])],1)},a=[],n=e("2f62"),o=e("2e8a"),r=e("8dbe"),u={name:"TMHubSnippet",components:{TMHubLink:r["a"],TMEntityImage:o["a"]},props:{hub:{type:Object,required:!0},showCommonTags:{type:Boolean}},computed:{...Object(n["c"])("i18n",["langOptions"])},methods:{searchTagRoute(t){return{name:"SEARCH_QUERY_RESULTS",query:{q:`[${t}]`,target_type:"posts",order:"relevance"}}}}},c=u,l=(e("b5aa"),e("2877")),_=Object(l["a"])(c,i,a,!1,null,null,null);s["a"]=_.exports}}]);
//# sourceMappingURL=page-flow~page-flows.8aab4586.js.map