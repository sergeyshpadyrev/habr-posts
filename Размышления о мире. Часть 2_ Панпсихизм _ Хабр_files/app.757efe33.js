(()=>{var __webpack_modules__={64085:(t,e,s)=>{"use strict";s.d(e,{Z:()=>j});var n=function(){var t=this,e=t._self._c;return e("Portal",{attrs:{to:"overlays"}},[t.currentAbbr?e("TMPositionedPopup",{ref:"popup",attrs:{"bounding-element":t.contentRef,"get-final-content-size":t.getFinalContentSize,"horizontal-alignment":"center","target-element":t.abbrElement,"vertical-position":"under"},on:{"click-outside":t.maybeCloseAbbr,close:t.closeAbbr}},[e("div",{staticClass:"abbreviation-presenter"},[t.isMobileOnly&&t.currentAbbr.image?e("div",{staticClass:"abbreviation-presenter__image-container"},[e("TMLoadingImage",{staticClass:"abbreviation-presenter__image",attrs:{alt:t.currentAbbr.textTitle,height:t.currentAbbr.imageHeight,src:t.currentAbbr.image,width:t.currentAbbr.imageWidth}})],1):e("TMCardImage",{attrs:{alt:t.currentAbbr.textTitle,"card-width":320,image:t.currentAbbr.image,"image-height":t.imageHeight,"image-width":t.currentAbbr.imageWidth,"initial-height":t.initialImageHeight,"max-height":160}}),t._v(" "),t.hasText?e("div",{staticClass:"abbreviation-presenter__text"},[t.currentAbbr.abbr?e("div",{staticClass:"abbreviation-presenter__abbr"},[t._v("\n          "+t._s(t.currentAbbr.abbr)+"\n        ")]):t._e(),t._v(" "),t.currentAbbr.title?e("TMFormattedText",{staticClass:"abbreviation-presenter__title",attrs:{"article-text":t.currentAbbr.title,version:t.version}}):t._e()],1):t._e()],1)]):t._e()],1)},i=[],a=s(20629),o=function(){var t=this,e=t._self._c;return e("transition",{attrs:{appear:"",name:"expand"}},[t.image?e("TMLoadingImage",{staticClass:"tm-card-image",class:t.loading&&"loads",style:t.style,attrs:{alt:t.alt,height:t.imageHeight,src:t.image,width:t.imageWidth}}):t._e()],1)},r=[],l=function(){var t=this,e=t._self._c;return t.src?e("img",{ref:"image",attrs:{alt:t.alt,height:t.height,src:t.src,width:t.width},on:{load:t.showImage}}):t._e()},c=[];const m={name:"TMLoadingImage",props:{src:{type:String,default:null},alt:{type:String,default:null,visible:Boolean},height:{type:[Number,String],required:!0},width:{type:[Number,String],required:!0}},data(){return{loading:!0}},watch:{src(){this.$refs.image.classList.add("loads")}},mounted(){this.$refs.image.addEventListener("load",this.showImage)},methods:{showImage(){this.$refs.image.classList.remove("loads")}}},u=m;var d=s(1001),p=(0,d.Z)(u,l,c,!1,null,null,null);const _=p.exports,h={name:"TMCardImage",components:{TMLoadingImage:_},props:{image:{type:String,default:null},alt:{type:String,default:null,visible:Boolean},initialHeight:{type:Number,required:!0},imageHeight:{type:Number,required:!0},imageWidth:{type:[Number,String],required:!0}},data(){return{loading:!0}},computed:{style(){return{"--initial-height":`${this.initialHeight}px`,"--image-height":`${this.imageHeight}px`}}},watch:{image(){this.loading=!0}},methods:{showImage(){this.loading=!1}}},g=h;var T=(0,d.Z)(g,o,r,!1,null,null,null);const v=T.exports;var S=s(28310),f=function(){var t=this,e=t._self._c;return!t.isTablet&&t.isMobile?e("TMScrollLockTransition",{attrs:{appear:"",name:"slide-fade"}},[e("TMBottomSheet",{attrs:{card:"",title:t.title},on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)},[t._t("default")],2)],1):e("transition",{attrs:{appear:"",name:"transition-fade"}},[e("TMPositionedWindow",{attrs:{"bounding-element":t.boundingElement,"get-final-content-size":t.getFinalContentSize,"horizontal-alignment":t.horizontalAlignment,"target-element":t.targetElement,title:t.title,"vertical-position":t.verticalPosition},on:{"click-outside":function(e){return t.$emit("click-outside",e)},close:function(e){return t.$emit("close")}}},[t._t("default")],2)],1)},E=[],I=s(52795),C=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.bubbleClickOutside,expression:"bubbleClickOutside"},{name:"hotkey",rawName:"v-hotkey",value:{esc:t.close},expression:"{ esc: close }"}],ref:"window",staticClass:"tm-positioned-window",style:t.style},[e("div",{staticClass:"tm-positioned-window__wrapper"},[e("button",{staticClass:"tm-positioned-window__close",attrs:{type:"button"},on:{click:t.close}},[e("TMSvgImg",{attrs:{id:"close",size:"12"}})],1),t._v(" "),t.$slots.default?e("div",{staticClass:"tm-positioned-window__content"},[t._t("default")],2):t._e()])])},A=[],b=s(2649),y=s.n(b),P=s(93096),L=s.n(P),O=s(31490),N=s(59436);const M=8,R=40,k={name:"TMPositionedWindow",components:{TMSvgImg:O.Z},directives:{ClickOutside:y()},props:{verticalPosition:{type:String,default:null,validator:(0,N.H)(["above","under"])},horizontalAlignment:{type:String,default:"left",validator:(0,N.H)(["left","center"])},boundingElement:{type:null,default:null},targetElement:{type:null,required:!0},getFinalContentSize:{type:Function,default:null}},data(){return{style:{top:null,left:null,"--max-abbr-height":"auto"}}},watch:{targetElement(){this.$nextTick().then((()=>{this.updateWindowBox()}))}},mounted(){this.updateWindowBox(),window.addEventListener("resize",this.throttledUpdateWindowBox)},beforeDestroy(){window.removeEventListener("resize",this.throttledUpdateWindowBox)},methods:{throttledUpdateWindowBox:L()((function(){this.updateWindowBox()}),300),updateWindowBox(){const t=this.getMaxContentHeight(),e=this.targetElement.getBoundingClientRect(),s=this.$refs.window.getBoundingClientRect(),n=this.getFinalContentSize?this.getFinalContentSize(s):s;n.height>t&&(n.height=t),this.positionWindow(n,e),this.alignWindow(n,e),this.containWithinBounds(n),this.addScroll(n),this.style={left:`${n.x}px`,top:`${n.y}px`,"--max-positioned-window-height":`${t}px`}},alignWindow(t,e){"center"===this.horizontalAlignment&&(t.x-=(t.width-e.width)/2)},positionWindow(t,e){t.x=e.left,t.y=e.top,this.applyWindowPlacement(t,e,this.verticalPosition);const s=this.getOptimalPlacement(t,e);s!==this.verticalPosition&&this.applyWindowPlacement(t,e,s)},applyWindowPlacement(t,e,s){"under"===s?t.y=e.bottom+M:"above"===s&&(t.y=e.top-t.height-M)},getOptimalPlacement(t,e){const s=this.getSpaceUnder(t,e),n=this.getSpaceAbove(t,e);return"under"===this.verticalPosition?s>0||s>n?"under":"above":n>0||n>s?"above":"under"},getSpaceUnder(t,e){return visualViewport.height-(e.bottom+M+t.height)},getSpaceAbove(t,e){return e.top-M-t.height},containWithinBounds(t){if(this.boundingElement){const e=this.boundingElement.getBoundingClientRect();this.containHorizontally(t,e)}},containHorizontally(t,e){let s=0;t.left<e.left&&(s=e.left-t.left),t.right>e.right&&(s=e.right-t.right),t.x+=s},addScroll(t){t.x+=document.documentElement.scrollLeft,t.y+=document.documentElement.scrollTop},close(){this.$emit("close")},bubbleClickOutside(t){this.$emit("click-outside",t)},getMaxContentHeight(){return visualViewport.height/2-R}}},w=k;var B=(0,d.Z)(w,C,A,!1,null,null,null);const D=B.exports;var x=s(10529);const $={name:"TMPositionedPopup",components:{TMPositionedWindow:D,TMBottomSheet:I.Z,TMScrollLockTransition:x.Z},props:{title:{type:String,default:null},verticalPosition:{type:String,default:null,validator:(0,N.H)(["above","under"])},horizontalAlignment:{type:String,default:"left",validator:(0,N.H)(["left","center"])},boundingElement:{type:null,default:null},targetElement:{type:null,required:!0},getFinalContentSize:{type:Function,default:null}},computed:{...(0,a.Se)("global",["isMobile","isTablet"])}},U=$;var F=(0,d.Z)(U,f,E,!1,null,null,null);const V=F.exports,H=180,G=320,W="habraabbr",Z={name:"TMAbbreviationPresenter",components:{TMLoadingImage:_,TMFormattedText:S.Z,TMCardImage:v,TMPositionedPopup:V},props:{contentRef:{type:null,required:!0},version:{type:[String,Number],default:null}},data(){return{prevAbbr:null,currentAbbr:null,disposeAbbrs:null,abbrElement:null}},computed:{...(0,a.Se)("global",["isMobileOnly"]),hasText(){return this.currentAbbr&&(this.currentAbbr.title||this.currentAbbr.abbr)},imageHeight(){return this.currentAbbr&&this.currentAbbr.image?this.constrainImageHeight(this.currentAbbr.imageWidth,this.currentAbbr.imageHeight):0},prevImageHeight(){return this.prevAbbr&&this.prevAbbr.image?this.constrainImageHeight(this.prevAbbr.imageWidth,this.prevAbbr.imageHeight):0},initialImageHeight(){return this.prevAbbr?this.prevImageHeight:this.imageHeight}},mounted(){this.getAbbrElements().forEach((t=>{t.setAttribute("data-text-title",t.getAttribute("title")),t.removeAttribute("title"),t.addEventListener("click",this.abbrClickHandler)}))},beforeDestroy(){this.getAbbrElements().forEach((t=>{t.removeEventListener("click",this.abbrClickHandler)}))},methods:{...(0,a.nv)({trackInHistory:"modal/trackInHistory"}),getAbbrElements(){return this.contentRef.querySelectorAll(`.${W}`)},async abbrClickHandler(t){const e=t.currentTarget;this.setAbbrElement(e),await this.$nextTick(),await this.$nextTick();const{popup:s}=this.$refs;s&&this.trackInHistory({hash:"#abbr",close:()=>{s.$emit("close")},closeEvent:{on:s.$on.bind(s,"close"),off:s.$off.bind(s,"close")}})},setAbbrElement(t){this.abbrElement=t;const{dataset:e}=t;this.prevAbbr=this.currentAbbr,this.currentAbbr={title:e.title,image:e.image,abbr:e.abbr,textTitle:e.textTitle,imageWidth:e.imageWidth,imageHeight:e.imageHeight}},getFinalContentSize(t){return new DOMRect(t.x,t.y,t.width,this.getNextWindowHeight(t.height))},getNextWindowHeight(t){return this.prevAbbr?t-this.prevImageHeight+this.imageHeight:t},constrainImageHeight(t,e){return Math.min(e*(G/t),H)},closeAbbr(){this.currentAbbr=null,this.prevAbbr=null},maybeCloseAbbr(t){t.target.className!==W&&this.closeAbbr()}}},Y=Z;var q=(0,d.Z)(Y,n,i,!1,null,null,null);const j=q.exports},12644:(t,e,s)=>{"use strict";s.d(e,{Z:()=>h});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-adfox-banner__container"},[t.adIsShown?e("a",{staticClass:"tm-adfox-banner__title",attrs:{href:t.advertisingLink,target:"_blank"}},[t._v("\n    "+t._s(t.msg("NAV_ADVERTISING"))+"\n  ")]):t._e(),t._v(" "),e("div",{key:t.uniqueDivId,ref:"adBanner",staticClass:"tm-adfox-banner",class:t.bem("tm-adfox-banner",{variant:t.variant}),attrs:{id:t.containerId}})])},i=[],a=s(20629),o=s(49606);const r=(t={},e={},s={})=>{let n=[];const{hubs:i}=t;return n=n.concat(i?i.map((t=>`h_${t.alias}`)):[]),s.params.hubName&&e&&n.push(`h_${e.alias}`),n},l=(t={},e={},s={})=>{let n=[];const{flows:i}=t;return n=n.concat(i?i.map((t=>`f_${t.alias}`)):[]),s.params.hubName&&e.flow&&e.flow.alias&&n.push(`f_${e.flow.alias}`),s.params.flowName&&n.push(`f_${s.params.flowName}`),n};var c=s(65873),m=s(59436);const u={name:"TMAdfoxBanner",props:{adfoxId:{type:String,required:!0},divId:{type:String,default:(0,o.Z)("adbanner")},variant:{type:String,required:!0,validator:(0,m.H)(["half-page","leaderboard","medium-rectangle","narrow","medium-narrow"])},params:{type:Object,required:!0},showAdTitle:{type:Boolean,default:!0}},data(){return{uniqueDivId:(0,o.Z)(this.divId),adIsShown:!1}},computed:{...(0,a.Se)("articlesList",["getArticleById"]),...(0,a.Se)("hubs",["getHubByAlias"]),...(0,a.rn)("adblock",["hasAcceptableAdsFilter"]),...(0,a.rn)("i18n",["fl","hl"]),articleId(){return this.$route.params.id},hubAlias(){return this.$route.params.hubName},hub(){return this.hubAlias&&this.getHubByAlias(this.hubAlias)},article(){return this.articleId&&this.getArticleById(this.articleId)},containerId(){return`adfox_${this.adfoxId}`},pageType(){let t="default";return this.$route.matched.forEach((e=>{e.meta&&e.meta.pageType&&(t=e.meta.pageType)})),t},advertisingLink(){return`https://company.habr.com/${this.hl}/advertising/`}},mounted(){this.showAdTitle&&this.initiObserver(),this.displayAds()},methods:{bem:c.P,initiObserver(){if(window.MutationObserver){const t=this.$refs.adBanner,e={childList:!0,subtree:!0},s=()=>{const{adBanner:t}=this.$refs;this.adIsShown=t&&(t.firstElementChild&&t.firstElementChild.childElementCount>0||t.childElementCount>1)};this.observer=new MutationObserver(s),this.observer.observe(t,e)}else this.adIsShown=!0},displayAds(){window.yaContextCb.push((()=>{const t=l(this.article,this.hub,this.$route),e=r(this.article,this.hub,this.$route),s={puid1:this.pageType,puid2:t.join(":"),puid3:e.join(":"),puid4:this.hasAcceptableAdsFilter?"yes":"no",puid5:this.$route.path,puid6:"en"===this.fl?"en":"ru"};Ya.adfoxCode.create({ownerId:406261,containerId:this.containerId,params:{...this.params,...s}})}))}}},d=u;var p=s(1001),_=(0,p.Z)(d,n,i,!1,null,null,null);const h=_.exports},46281:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("span",{staticClass:"tm-align-center"},[t.$slots.start?e("span",{staticClass:"tm-align-center__start"},[t._t("start")],2):t._e(),t._v(" "),e("span",{staticClass:"tm-align-center__content"},[t._t("default")],2),t._v(" "),t.$slots.end?e("span",{staticClass:"tm-align-center__end"},[t._t("end")],2):t._e()])},i=[];const a={name:"TMAlignCenter"},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},98068:(t,e,s)=>{"use strict";s.d(e,{Z:()=>It});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-blocks"},[e("TMEditoralSubscription"),t._v(" "),t._t("beforeComments"),t._v(" "),t.isLoading?e("TMCommentsWrapper",[e("TMPlaceholder",{attrs:{times:3,type:"comment"}})],1):e("div",{staticClass:"tm-article-blocks__comments"},[e("TMArticlePageComments",{attrs:{article:t.article}})],1),t._v(" "),t._t("afterComments")],2)},i=[],a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-page-comments",attrs:{id:"publication-comments"}},[t.commentsEnabled?t.shouldSsrArticleComments?e("TMArticleCommentsServerRendered",{attrs:{"article-id":t.articleId,"can-cache-comments":t.canCacheComments,"is-post":t.isPost}}):e("TMIntersectionSwitch",{attrs:{"root-margin":"1000px 0px 1000px 0px"},on:{intersected:t.onIntersected},scopedSlots:t._u([{key:"default",fn:function(){return[t.canStreamComments?e("TMHeightLimiter",{attrs:{"expand-title":t.msg("COMMENTS_SHOW_ALL",{count:t.article.statistics.commentsCount}),"max-height":t.isExpandedLimiter?null:t.commentsInitialHeight}},[e("TMArticleCommentsOffloaded",{attrs:{"article-id":t.articleId,"can-cache-comments":t.canCacheComments,ssr:t.shouldSsrArticleComments},on:{expandLimiter:function(e){t.isExpandedLimiter=!0},toggleCommentsState:t.enableArticleComments}})],1):e("TMArticleCommentsClientRendered",{attrs:{article:t.article},on:{loaded:t.onCommentsLoaded}})]},proxy:!0},{key:"fallback",fn:function(){return[e("TMArticleCommentsCounterButton",{attrs:{article:t.article}})]},proxy:!0}])}):e("TMArticleCommentsDisabledNotice",{attrs:{reason:t.article.commentsEnabled.reason},on:{toggleCommentsState:t.enableArticleComments}})],1)},o=[],r=s(20629),l=s(52322),c=s(11943),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-comments-client-rendered"},[t.shouldClientRenderComments?e("TMArticleComments",{attrs:{"article-id":t.article.id,"is-loading":t.isLoadingComments}}):e("TMArticleCommentsCounterButton",{attrs:{article:t.article}})],1)},u=[],d=s(14834),p=function(){var t=this,e=t._self._c;return e("TMArticleCommentsCounterLink",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.hotkeys,expression:"hotkeys",modifiers:{stop:!0}}],ref:"commentsLink",staticClass:"tm-article-comments-counter-button",attrs:{article:t.article,"comments-count":t.article.statistics.commentsCount,"unread-count":t.article.relatedData&&t.article.relatedData.unreadCommentsCount,variant:"button"}})},_=[],h=s(88014),g=s(70210);const T={name:"TMArticleCommentsCounterButton",components:{TMArticleCommentsCounterLink:h.Z},props:{article:{type:Object,required:!0}},setup(){return{isComponentActive:(0,g.c)()}},computed:{hotkeys(){return this.isComponentActive?{c:this.handleCommentsKey}:{}}},methods:{handleCommentsKey(){this._inactive||this.$refs.commentsLink.click()}}},v=T;var S=s(1001),f=(0,S.Z)(v,p,_,!1,null,null,null);const E=f.exports;var I=s(61424),C=s(5723),A=s(23009);const b={name:"TMArticleCommentsClientRendered",components:{TMArticleComments:d.Z,TMArticleCommentsCounterButton:E},props:{article:{type:Object,required:!0}},data(){return{isLoadingComments:!0}},computed:{shouldClientRenderComments(){return this.article.statistics.commentsCount<=C.Hx}},mounted(){this.shouldClientRenderComments&&this.loadComments()},methods:{...(0,r.nv)("comments",["getComments"]),loadComments(){const t=(0,I.ve)(this.$route),e=(0,A.E)(this.$route.name);this.isLoadingComments=!0,this.getComments({articleId:this.article.id,isPost:e,nocount:t}).then((()=>{this.$emit("loaded"),this.isLoadingComments=!1})).catch((t=>{this.isLoadingComments=!1,this.$toast.error(t.message)}))}}},y=b;var P=(0,S.Z)(y,m,u,!1,null,null,null);const L=P.exports;var O=s(80819),N=s(71651),M=function(){var t=this,e=t._self._c;return e("TMArticleComments",{attrs:{"article-id":t.articleId,"cache-key":t.canCacheComments?t.cacheKey:null,"is-loading":t.$fetchState.isLoading}})},R=[],k=s(61823);const w={name:"TMArticleCommentsServerRendered",components:{TMArticleComments:d.Z},props:{articleId:{type:String,required:!0},canCacheComments:{type:Boolean,default:!1},isPost:{type:Boolean,required:!0}},asyncData({route:t}){const e=[],s=(0,A.E)(t.name);return this.canCacheComments?e.push(this.getGuestComments({articleId:this.articleId,isPost:s})):e.push(this.getComments({articleId:this.articleId,nocount:!0,isPost:s})),Promise.all(e)},computed:{...(0,r.Se)("me",["isLoggedIn"]),...(0,r.Se)("comments",["getCommentsCacheKey"]),cacheKey(){return this.getCommentsCacheKey(this.articleId)}},mounted(){this.readVisitorComments()},methods:{...(0,r.nv)("comments",["getComments","getGuestComments"]),readVisitorComments(){(0,I.ev)(this.$route)||this.isLoggedIn&&!this.canCacheComments&&(this.isPost?(0,k.eT)(this.articleId):(0,k.nN)(this.articleId))}}},B=w;var D=(0,S.Z)(B,M,R,!1,null,null,null);const x=D.exports;var $=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-height-limiter"},[e("div",{staticClass:"tm-height-limiter__wrapper",style:{maxHeight:t.currentPixelsHeight,overflow:t.currentPixelsHeight?"hidden":null}},[t._t("default")],2),t._v(" "),t.currentHeight?e("div",{staticClass:"tm-height-limiter__expand",attrs:{"data-height-limiter":""}},[e("button",{staticClass:"tm-height-limiter__expand-button",domProps:{textContent:t._s(t.expandTitle)},on:{click:function(e){t.currentHeight=null}}})]):t._e()])},U=[];const F={name:"TMHeightLimiter",props:{maxHeight:{type:Number,default:null},expandTitle:{type:String,required:!0}},data(){return{currentHeight:this.maxHeight}},computed:{currentPixelsHeight(){return this.currentHeight?`${this.currentHeight}px`:null}},watch:{maxHeight(){this.currentHeight=this.maxHeight}}},V=F;var H=(0,S.Z)(V,$,U,!1,null,null,null);const G=H.exports;var W=function(){var t=this,e=t._self._c;return e("TMIntersect",{attrs:{"root-margin":t.rootMargin},on:{enter:t.onIntersect}},[t.hasIntersected?t._t("default"):t._t("fallback")],2)},Z=[],Y=s(46750);const q={name:"TMIntersectionSwitch",components:{TMIntersect:Y.Z},props:{rootMargin:{type:String,default:"0px 0px 0px 0px"}},data(){return{hasIntersected:!1}},methods:{onIntersect(){this.$emit("intersected"),this.hasIntersected=!0}}},j=q;var K=(0,S.Z)(j,W,Z,!1,null,null,null);const z=K.exports;var Q=s(70236),X=s(83049);const J={name:"TMArticlePageComments",components:{TMArticleCommentsCounterButton:E,TMArticleCommentsDisabledNotice:O.Z,TMArticleCommentsServerRendered:x,TMArticleCommentsClientRendered:L,TMArticleCommentsOffloaded:N.Z,TMHeightLimiter:G,TMIntersectionSwitch:z},props:{article:{type:Object,required:!0}},data(){return{isExpandedLimiter:!1}},computed:{...(0,r.Se)("me",["isLoggedIn"]),...(0,r.Se)("articlesList",["shouldSsrComments"]),...(0,r.Se)("comments",["getCommentsCacheKey"]),articleId(){return this.article.id},shouldSsrArticleComments(){return(this.commentsStreamingEnabled||!(this.article.statistics.commentsCount>C.Hx))&&this.shouldSsrComments(this.articleId)},commentsInitialHeight(){return this.shouldSsrArticleComments||this.article.statistics.commentsCount<=C.Yi?null:C.ZZ},canCacheComments(){return!(!this.article||this.article.statistics.commentsCount<C.Ng||this.isLoggedIn)&&this.$getFeatureFlag("COMMENTS_CACHING_ENABLED")},cacheKey(){return this.canCacheComments?this.getCommentsCacheKey(this.articleId):null},canStreamComments(){return!(!this.article||this.article.statistics.commentsCount<C.Cl)&&this.commentsStreamingEnabled},commentsStreamingEnabled(){return this.$getFeatureFlag("COMMENTS_STREAMING_ENABLED")},isPost(){return(0,A.E)(this.$route.name)},commentsEnabled(){return!!this.isPost||this.article.commentsEnabled.status}},mounted(){(0,I.ev)(this.$route)&&(this.isPost||((0,I._6)(this.$route),this.$router.replace({name:Q.VU.ARTICLE_COMMENTS,hash:this.$route.hash})),(0,X.dY)(this.$route)),"#publication-comments"===this.$route.hash&&(this.scheduleScrollToCommentsBlock(),this.$router.replace({...this.$route,hash:""}))},deactivated(){this.removeVisitedArticle(),this.removeSsrCommentsArticleId(this.articleId)},beforeDestroy(){this.removeVisitedArticle()},methods:{...(0,r.nv)("articlesList",["setArticleCommentsStatus"]),...(0,r.OI)("articlesList",["removeSsrCommentsArticleId"]),scheduleScrollToCommentsBlock(){setTimeout((()=>{const t=document.getElementById("publication-comments");t&&(0,c.kI)(t)}),300)},enableArticleComments(){return(0,k.oc)(this.articleId).then((()=>this.setArticleCommentsStatus({articleId:this.articleId,status:!this.article.commentsEnabled.status}))).catch((t=>this.$toast.error(t.message)))},onCommentsLoaded(){this.saveVisitedArticle()},onIntersected(){this.saveVisitedArticle()},saveVisitedArticle(){const t=(0,l.ej)("visited_articles",!0)||"",e=t?t.split(":"):[],s=Array.from(new Set([this.articleId,...e])),n=s.slice(0,10).join(":");(0,l.d8)("visited_articles",n,{expires:30})},removeVisitedArticle(){const t=(0,l.ej)("visited_articles")||"",e=t.split(":"),s=new Set(e);s.delete(this.articleId);const n=Array.from(s).join(":");n?(0,l.d8)("visited_articles",n,{expires:30}):(0,l.nJ)("visited_articles")}}},tt=J;var et=(0,S.Z)(tt,a,o,!1,null,null,null);const st=et.exports;var nt=s(31483),it=function(){var t=this,e=t._self._c;return t.showBlock?e("div",{staticClass:"tm-editoral-subscription"},[e("TMSvgIcon",{staticClass:"tm-editoral-subscription__close",attrs:{id:"close"},on:{click:t.closeForm}}),t._v(" "),e("h3",{staticClass:"tm-editoral-subscription__title"},[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_EDITORAL_TITLE"))+"\n  ")]),t._v(" "),e("p",{staticClass:"tm-editoral-subscription__description"},[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_EDITORAL_DESCRIPTION"))+"\n  ")]),t._v(" "),t.requestSended?e("p",{staticClass:"tm-editoral-subscription__success"},[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_EDITORAL_SUCCESS"))+"\n  ")]):e("form",{staticClass:"tm-editoral-subscription__form",attrs:{method:"GET"},on:{submit:t.onSubmit}},[e("TMInputTextDecorated",{ref:"input",staticClass:"tm-editoral-subscription__input",attrs:{disabled:t.isLoading,"is-invalid":t.hasError,name:"email",placeholder:t.msg("SUBSCRIPTION_EDITORAL_PLACEHOLDER"),type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}},[e("button",{staticClass:"tm-editoral-subscription__icon",class:{"tm-editoral-subscription__icon_loading":t.isLoading},attrs:{slot:"after",disabled:t.isLoading,type:"submit"},slot:"after"},[e("TMArrowRight")],1)]),t._v(" "),t.hasError?e("p",{staticClass:"tm-editoral-subscription__error"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")]):t._e()],1)],1):t._e()},at=[],ot=s(24230),rt=s(33936),lt=s(8065),ct=s(69811),mt=s(54226);function ut(t){return(0,ct.Q)((0,mt.k)("digests/editorial/subscribe","v2"),t)}const dt=()=>s.e(5750).then(s.bind(s,45750)),pt="habr-editoral-subscription",_t={name:"TMEditoralSubscription",components:{TMInputTextDecorated:ot.Z,TMSvgIcon:rt.Z,TMArrowRight:dt},data(){return{email:"",isLoading:!1,requestSended:!1,errorMessage:"",hasError:!1,showBlock:!1}},computed:{...(0,r.Se)("i18n",["msg","langOptions"]),...(0,r.Se)("me",["isLoggedIn"])},mounted(){this.showBlock=this.checkBlockShowStatus()},methods:{checkBlockShowStatus(){const t=(0,l.ej)(pt);return!this.isLoggedIn&&!t},onSubmit(t){t.preventDefault(),this.isLoading=!0,this.hasError=!1;const e={email:this.email,...this.langOptions};ut(e).then((t=>{if(!t||!t.ok)throw new Error(t&&t.message);this.requestSended=!0,this.isLoading=!1,(0,l.d8)(pt,"subscribe",{expires:90}),(0,lt.IZ)("tm_block_edit_digest_post_subscribe"),setTimeout((()=>{this.showBlock=!1}),1e4)})).catch((t=>{this.setError(t)}))},setError(t){this.isLoading=!1,this.hasError=!0,this.errorMessage=t&&t.message||this.msg("SUBSCRIPTION_EDITORAL_ERROR")},closeForm(){this.showBlock=!1,(0,l.d8)(pt,"close",{expires:90}),(0,lt.IZ)("tm_block_edit_digest_post_close")}}},ht=_t;var gt=(0,S.Z)(ht,it,at,!1,null,null,null);const Tt=gt.exports;var vt=s(40591);const St={name:"TMArticleBlocks",components:{TMArticlePageComments:st,TMPlaceholder:vt.Z,TMCommentsWrapper:nt.Z,TMEditoralSubscription:Tt},props:{article:{type:Object,default:null},isLoading:{type:Boolean,required:!0}}},ft=St;var Et=(0,S.Z)(ft,n,i,!1,null,null,null);const It=Et.exports},82335:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-body",attrs:{"data-gallery-root":""}},[t.article.metadata&&t.article.metadata.customTrackerLinks?e("TMArticleTrackingPixels",{attrs:{links:t.article.metadata.customTrackerLinks}}):t._e(),t._v(" "),e("TMArticleFormattedBody",{attrs:{id:"post-content-body","article-text":t.article.textHtml,"should-format":!t.isMegapostV1,version:t.editorVersion}}),t._v(" "),t.galleryImages.length?e("TMGallery",{attrs:{"images-list":t.galleryImages}}):t._e(),t._v(" "),t.article.polls&&t.article.polls.length?[e("div",{staticClass:"tm-article-poll-container"},t._l(t.article.polls,(function(s){return e("TMArticlePoll",{key:s.id,attrs:{"is-loading-decline":t.isLoadingDecline,"is-loading-vote":t.isLoadingVote,poll:s,variant:"bordered"},on:{"decline-vote":t.declineVote,"submit-vote":t.sendVote}})})),1)]:t._e()],2)},i=[],a=s(71299);const o=a.Z;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},84506:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("TMComment",{attrs:{comment:t.comment,"is-comment-controls-shown":t.isCommentControlsShown,"popup-toggle-visible":t.popupToggleVisible,"should-display-status":t.shouldDisplayStatus,"user-popover-enabled":t.userPopoverEnabled},scopedSlots:t._u([{key:"comment-link",fn:function(){return[t._t("comment-link",(function(){return[e("TMArticleCommentsLink",{staticClass:"tm-article-comment__link",attrs:{article:t.comment.post||t.comment.publication,"comment-id":t.comment.id}},[e("TMDatetime",{attrs:{date:new Date(t.comment.timePublished),"is-article-format":""}})],1)]}))]},proxy:!0}],null,!0)})},i=[],a=s(74199),o=s(46260),r=s(76068);const l={name:"TMArticleComment",components:{TMArticleCommentsLink:a.Z,TMComment:o.Z,TMDatetime:r.Z},props:{comment:{type:Object,required:!0},isCommentControlsShown:{type:Boolean,default:!0},shouldDisplayStatus:{type:Boolean,default:!0},userPopoverEnabled:Boolean,popupToggleVisible:Boolean}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},88014:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-comments-counter-link"},[e("TMArticleCommentsLink",{ref:"commentsLink",staticClass:"tm-article-comments-counter-link__link",class:{"tm-article-comments-counter-link__link_button-style":t.isButton},attrs:{article:t.article},nativeOn:{click:function(e){return t.onClick.apply(null,arguments)}}},[e("TMSvgImg",{staticClass:"tm-article-comments-counter-link__icon",class:{"tm-article-comments-counter-link__icon_contrasted":t.isButton},attrs:{id:"counter-comments",size:"24"}}),t._v(" "),e("span",{staticClass:"tm-article-comments-counter-link__value",class:{"tm-article-comments-counter-link__value_contrasted":t.isButton}},[t._v("\n      "+t._s(t.textValue)+"\n    ")])],1),t._v(" "),t.unreadCount?e("TMArticleCommentsLink",{ref:"commentsLink",staticClass:"tm-article-comments-counter-link__link",class:{"tm-article-comments-counter-link__link_button-style":t.isButton},attrs:{article:t.article,"first-unread":t.unreadCount&&t.unreadCount!==t.commentsCount},nativeOn:{click:function(e){return t.onClick.apply(null,arguments)}}},[e("div",{class:t.unreadCounterClassNames,attrs:{title:t.msg("DATA_ICONS_READ_NEW_COMMENTS")}},[e("span",[t._v("+"+t._s(t.unreadCount))])])]):t._e()],1)},i=[],a=s(74199),o=s(31490),r=s(65873),l=s(8065);const c={name:"TMArticleCommentsCounterLink",components:{TMArticleCommentsLink:a.Z,TMSvgImg:o.Z},props:{article:{type:Object,required:!0},commentsCount:{type:Number,default:null},unreadCount:{type:[String,Number],default:null},variant:{type:String,default:"icon"},gaEvent:{type:[Object,String],required:!1,default:null},roundOnMobile:{type:Boolean,default:!0}},computed:{isButton(){return"button"===this.variant},textValue(){return this.isButton?this.msg("ARTICLE_COMMENTS_COUNT",{count:this.commentsCount}):this.commentsCount},unreadCounterClassNames(){return(0,r.P)("tm-article-comments-counter-link__unread-counter",{contrasted:this.isButton,roundOnMobile:this.roundOnMobile})}},methods:{bem:r.P,onClick(){var t;null!==(t=this.gaEvent)&&void 0!==t&&t.comment&&(0,l.IZ)(this.gaEvent.comment)},click(){this.$refs.commentsLink.click()}}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},74199:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return t.useRegularLink?e("a",{ref:"link",attrs:{href:t.$router.resolve(t.route).href}},[t._t("default")],2):e("router-link",{ref:"link",attrs:{"active-class":"","exact-active-class":"",to:t.route}},[t._t("default")],2)},i=[],a=s(23009),o=s(23217);const r={name:"TMArticleCommentsLink",props:{article:{type:Object,required:!0,validator(t){return!!(0,a.o)(t)||(!t.isCorporative||!!t.hubs&&t.hubs.some((t=>"corporative"===t.type)))}},commentId:{type:[String,Number],default:null},firstUnread:Boolean},computed:{useRegularLink(){return!!this.commentId},route(){const t=(0,o.ym)(this.article,this.langOptions.hl);return this.commentId&&(t.hash=`#comment_${this.commentId}`),this.firstUnread&&(t.hash="#first_unread"),(0,a.o)(this.article)&&(t.hash="#publication-comments"),t}},methods:{click(){this.useRegularLink?this.$el.click():this.$refs.link.$el.click()}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},80819:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("TMNotice",{attrs:{type:"neutral"}},[e("p",{staticClass:"tm-article-comments-disabled__paragraph"},[t._v("\n    "+t._s(t.msg("ARTICLE_DISABLE_COMMENTS_MESSAGE"))+"\n    "),t.reason?e("span",[t._v(t._s(t.msg("ARTICLE_DISABLE_COMMENTS_MESSAGE_DETAILS",{user:t.reason.author.alias||t.reason.author.fullname,reason:t.reason.reasonHtml})))]):t._e()]),t._v(" "),t.isSuperAdmin?e("TMButtonBase",{staticClass:"tm-article-comments-disabled__button",attrs:{"style-size":"medium","style-type":"transparent"},on:{click:function(e){return t.$emit("toggleCommentsState")}}},[t._v("\n    "+t._s(t.msg("ARTICLE_ENABLE_COMMENTS"))+"\n  ")]):t._e()],1)},i=[],a=s(20629),o=s(17903),r=s(90707);const l={name:"TMArticleCommentsDisabledNotice",components:{TMButtonBase:o.Z,TMNotice:r.Z},props:{reason:{required:!0,type:Object,default:null}},computed:{...(0,a.Se)("me",["isSuperAdmin"])}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},71651:(t,e,s)=>{"use strict";s.d(e,{Z:()=>k});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-comments-offloaded"},[t.shouldOffload?[t.isLoadingCommentsStream?e("TMCommentsWrapper",{attrs:{"comments-count":t.commentsCount}},[e("TMPlaceholder",{attrs:{times:3,type:"comment"}})],1):e("TMDeferredRender",{attrs:{"ready-to-hydrate":!t.$fetchState.isLoading,stream:t.commentsStream},on:{done:t.onDone,error:t.onError},scopedSlots:t._u([{key:"fallback",fn:function(){return[e("TMCommentsWrapper",{attrs:{"comments-count":t.commentsCount}},[e("TMPlaceholder",{attrs:{times:3,type:"comment"}})],1)]},proxy:!0},{key:"default",fn:function(){return[e("TMArticleComments",{attrs:{"article-id":t.articleId,"cache-key":t.canCacheComments?t.cacheKey:null,"is-loading":!1},on:{expandLimiter:function(e){return t.$emit("expandLimiter",e)}}})]},proxy:!0},{key:"tail",fn:function(){return[e("TMPlaceholder",{attrs:{times:3,type:"comment"}})]},proxy:!0}])})]:e("TMArticleComments",{attrs:{"article-id":t.articleId,"cache-key":t.canCacheComments?t.cacheKey:null,"is-loading":t.$fetchState.isLoading},on:{expandLimiter:function(e){return t.$emit("expandLimiter",e)}}})],2)},i=[],a=s(20629),o=s(14834),r=s(31483),l=function(){var t=this,e=t._self._c;return e("div",{ref:"root",staticClass:"tm-deferred-render"},[e("streaming-element",{ref:"streamingElement"},[t.readyToHydrate&&t.rootElement?e("TMClientHydration",{attrs:{element:t.rootElement}},[t._t("default")],2):[t.shouldDisplayFallback?t._t("fallback"):t._e(),t._v(" "),t.readyToHydrate?t._e():t._t("tail")]],2)],1)},c=[],m=s(77945);const u={name:"TMClientHydration",props:{element:{type:m.W6?Object:Element,required:!0}},created(){this._vnode=this.element},render(){return this.$scopedSlots.default()}},d=u;var p,_,h=s(1001),g=(0,h.Z)(d,p,_,!1,null,null,null);const T=g.exports;var v=s(13869);function S(t,e){const s=Math.ceil(t.length/e),n=new Array(s);for(let i=s-1,a=0;i>=0;a+=e,i-=1)n[i]=t.substr(a,e);return n}class f extends Error{}const E=({stream:t,onFirstChunk:e,write:s})=>{const n=new TextDecoder("utf-8"),i=t.getReader();let a,o=!1,r=!1;const l=()=>{o||i.cancel(),a&&a(new f("Render cancelled manually"))},c=()=>new Promise(((t,l)=>{a=t=>{r=!0,l(t)};const c=65536,m=[];let u=0,d=[],p=!1,_=!1;const h=()=>{s(d.pop()),_||(e(),_=!0)},g=()=>{0===d.length&&m.length-1>=u&&(d=S(m[u],c),u+=1)},T=()=>{r||(u===m.length&&0===d.length&&p?t():(requestAnimationFrame(T),g(),0!==d.length&&h()))},v=({done:t,value:e})=>{if(t)return o=!0,p=!0,void requestAnimationFrame(T);requestAnimationFrame((t=>{T(t),i.read().then(v).catch(a)})),m.push(n.decode(e).normalize("NFC"))};i.read().then(v).catch(a)}));return[c,l]},I={name:"TMDeferredRender",components:{TMClientHydration:T},props:{stream:{type:(0,v.Z)()?ReadableStream:Object,required:!0},readyToHydrate:{type:Boolean,default:!0}},data(){return{rootElement:null,shouldDisplayFallback:!0,cancel:null}},mounted(){const{stream:t}=this,e=document.implementation.createHTMLDocument("comments"),[s,n]=E({stream:t,onFirstChunk:()=>{this.shouldDisplayFallback=!1;const t=e.querySelector("streaming-element");this.$refs.streamingElement.replaceChild(t.children[0],this.$refs.streamingElement.childNodes[0])},write(t){e.write(t)}});this.cancel=n,e.open(),e.write("<streaming-element>"),s().then((()=>{e.write("</streaming-element>"),e.close(),this.rootElement=this.$refs.root.querySelector("streaming-element > *"),this.$emit("done")})).catch((t=>{t instanceof f||this.$emit("error",t)}))},beforeDestroy(){this.cancel&&this.cancel()}},C=I;var A=(0,h.Z)(C,l,c,!1,null,null,null);const b=A.exports;var y=s(40591),P=s(23009),L=s(61823);const O=!m.Qg||"fetch"in window&&"TextDecoder"in window,N={name:"TMArticleCommentsOffloaded",components:{TMCommentsWrapper:r.Z,TMPlaceholder:y.Z,TMDeferredRender:b,TMArticleComments:o.Z},props:{articleId:{type:String,required:!0},ssr:{type:Boolean,default:!1},canStreamComments:{type:Boolean,default:!0},canCacheComments:{type:Boolean,default:!1}},asyncData({store:t,route:e}){const s=(0,P.E)(e.name),{articleId:n}=this,i=[];return this.canCacheComments?i.push(t.dispatch("comments/getGuestComments",{articleId:n,isPost:s})):i.push(t.dispatch("comments/getComments",{articleId:n,isPost:s,nocount:this.commentsStreamingEnabled})),Promise.all(i)},data(){return{isLoadingCommentsStream:!0,commentsStream:null,hasHydratableElement:!1,shouldFallbackToClientRendering:!1}},computed:{...(0,a.Se)("me",["isLoggedIn"]),...(0,a.Se)("articlesList",["getArticleById"]),...(0,a.Se)("comments",["getCommentsCacheKey"]),isPost(){return(0,P.E)(this.$route.name)},cacheKey(){return this.getCommentsCacheKey(this.articleId)},article(){return this.getArticleById(this.articleId)},commentsCount(){return this.article&&this.article.statistics?this.article.statistics.commentsCount:null},shouldOffload(){return!(!m.Qg||!this.commentsStreamingEnabled||this.hasHydratableElement||this.shouldFallbackToClientRendering)&&(this.canStreamComments&&O)},commentsStreamingEnabled(){return this.$getFeatureFlag("COMMENTS_STREAMING_ENABLED")}},beforeMount(){this.hasHydratableElement=Boolean(this._vnode||this.$el),this.shouldOffload?this.$watch((()=>this.$fetchState.isLoading),(t=>{t||this.loadCommentsStream()}),{immediate:!0}):this.$watch((()=>this.$fetchState.isLoading),(t=>{t||this.readVisitorComments()}),{immediate:!0})},methods:{...(0,a.nv)("me",["loadUpdates"]),loadCommentsStream(){this.isLoadingCommentsStream=!0;const{articleId:t,isPost:e,cacheKey:s,langOptions:{hl:n}}=this;(0,L.nE)({articleId:t,cacheKey:s,hl:n,isPost:e}).then((t=>{this.isLoadingCommentsStream=!1,this.commentsStream=t})).catch((()=>{this.shouldFallbackToClientRendering=!0,this.isLoadingCommentsStream=!1}))},onError(t){throw this.$toast.error(this.msg("COMMENT_RENDER_FAILED")),t},readVisitorComments(){this.isLoggedIn&&!this.canCacheComments&&(this.isPost?(0,L.eT)(this.articleId).then(this.loadUpdates):(0,L.nN)(this.articleId).then(this.loadUpdates))},onDone(){this.readVisitorComments()}}},M=N;var R=(0,h.Z)(M,n,i,!1,null,null,null);const k=R.exports},14834:(t,e,s)=>{"use strict";s.d(e,{Z:()=>st});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-comments",class:{"tm-article-comments_without-removed":t.isRemovedCommentsHidden}},[e("TMComments",{attrs:{"can-pin-unpin-comment":t.canPinUnpinComment,"comment-component":t.$options.components.TMArticleComment,"comment-submit-action":t.commentSubmitAction,comments:t.comments,"comments-count":t.commentsCount,"complaint-action":t.canSendComplaint?t.complaintAction:null,"favorite-action":t.favoriteAction,"footer-visible":t.shouldDisplayUserItems,"get-comment-link":t.getCommentLink,"is-loading":t.isLoading,"is-post":t.isPost,notice:t.noticeData,"pinned-comments":t.pinnedComments,"show-moderation-controls":t.showModerationControls,"vote-action":t.voteAction},on:{commentDelete:t.onCommentDelete,expandLimiter:function(e){return t.$emit("expandLimiter",e)},pinUnpinComment:t.pinUnpinComment},scopedSlots:t._u([{key:"headerAside",fn:function(){return[t.isLoggedIn&&t.isSuperAdmin&&t.shouldDisplayUserItems?e("TMAdministrationLinks",{staticClass:"tm-article-comments__administration-links",attrs:{"dropdown-align":"center",links:t.commentsAdministrationsLinks,variant:"simple"}}):t._e(),t._v(" "),t.isPost?t._e():e("TMRssButton",{attrs:{variant:"comments-header"}}),t._v(" "),!t.isLoading&&t.isLoggedIn&&t.shouldDisplayUserItems?e("TMArticleSubscriptionControls",{staticClass:"tm-article-comments__subscription",attrs:{"article-id":t.articleId,"is-post":t.isPost}}):t._e()]},proxy:!0},{key:"body",fn:function(){return[t.shouldDisplayUserItems&&t.article&&t.article.rulesRemindEnabled?e("TMArticleCommentsUfoNotice",{staticClass:"tm-article-comments__ufo-notice"}):t._e()]},proxy:!0},{key:"afterComments",fn:function(){return[t.isLoggedIn&&t.shouldDisplayUserItems?e("TMCommentsNavigation",{attrs:{comments:t.comments,"load-action":t.updateCommentsAction},on:{readComment:t.onReadComment}}):t._e()]},proxy:!0}])})],1)},i=[],a=s(20629),o=s(84506),r=function(){var t=this,e=t._self._c;return e("TMNotice",{attrs:{type:"info"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TMSvgImg",{staticClass:"tm-ufo-notice__icon",attrs:{id:"info",title:"info"}})]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"tm-ufo-notice__content"},[e("p",{staticClass:"tm-ufo-notice__intro",domProps:{innerHTML:t._s(t.msg("ARTICLE_COMMENTS_UFO_CARE_NOTICE"))}}),t._v(" "),e("details",[e("summary",[t._v(t._s(t.msg("ARTICLE_COMMENTS_UFO_CARE_SUMMARY_TITLE")))]),t._v(" "),e("div",{staticClass:"tm-ufo-notice__spoiler-text",domProps:{innerHTML:t._s(t.msg("ARTICLE_COMMENTS_UFO_CARE_DETAILS"))}})])])])},l=[],c=s(90707),m=s(31490);const u={name:"TMArticleCommentsUfoNotice",components:{TMNotice:c.Z,TMSvgImg:m.Z}},d=u;var p=s(1001),_=(0,p.Z)(d,r,l,!1,null,null,null);const h=_.exports;var g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-subscription-controls"},[e("button",{staticClass:"tm-article-subscription-controls__button",class:{"tm-article-subscription-controls__button_active":t.isSubscribed},attrs:{title:t.msg("ARTICLE_SUBSCRIBE_TITLE")},on:{click:t.openModal}},[e("TMSvgImg",{attrs:{id:t.icon,size:"24",title:t.msg("ARTICLE_SUBSCRIBE_TITLE")}})],1),t._v(" "),t.modalVisible?e("TMPopup",{attrs:{title:t.msg("ARTICLE_SUBSCRIBE_TITLE")},on:{close:function(e){t.modalVisible=!1}}},[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"tm-article-subscription-controls__checkbox"},[e("TMLabeledCheckbox",{attrs:{name:"subscription_tracker"},model:{value:t.form.tracker,callback:function(e){t.$set(t.form,"tracker",e)},expression:"form.tracker"}},[t._v("\n          "+t._s(t.msg("ARTICLE_SUBSCRIBE_TRACKER"))+"\n        ")])],1),t._v(" "),e("div",{staticClass:"tm-article-subscription-controls__checkbox"},[e("TMLabeledCheckbox",{attrs:{name:"subscription_email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}},[t._v("\n          "+t._s(t.msg("ARTICLE_SUBSCRIBE_EMAIL"))+"\n        ")])],1),t._v(" "),e("div",{staticClass:"tm-article-subscription-controls__submit"},[e("TMButtonBase",{attrs:{"style-size":"large","style-type":"solid"},on:{click:t.onSubmit}},[t._v("\n          "+t._s(t.msg("ARTICLE_SUBSCRIBE_SAVE"))+"\n        ")])],1)])]):t._e(),t._v(" "),e("TMArticleSubscriptionHotkeys",{attrs:{"article-id":t.articleId}})],1)},T=[],v=s(17903),S=s(64712),f=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.hotkeys,expression:"hotkeys",modifiers:{stop:!0}}]})},E=[],I=s(70210),C=s(23009);const A={name:"TMArticleSubscriptionHotkeys",props:{articleId:{type:[String,Number],required:!0}},setup(){return{isComponentActive:(0,I.c)()}},computed:{isPost(){return(0,C.E)(this.$route.name)},hotkeys(){return this.isComponentActive?{t:()=>this.toggleTrackerSubscription({toggleTracker:!0}),m:()=>this.toggleTrackerSubscription({toggleEmail:!0})}:{}},isSubscribedToTracker(){return this.$store.getters["articlesList/isSubscribedToTracker"](this.articleId)},isSubscribedToEmail(){return this.$store.getters["articlesList/isSubscribedToEmail"](this.articleId)}},methods:{...(0,a.nv)("articlesList",["toggleSubscriptionStatus"]),toggleTrackerSubscription({toggleTracker:t,toggleEmail:e}){this.form={tracker:t?!this.isSubscribedToTracker:this.isSubscribedToTracker,email:e?!this.isSubscribedToEmail:this.isSubscribedToEmail},this.toggleSubscriptionStatus({articleId:this.articleId,...this.form,isPost:this.isPost}).then((()=>{let s;t&&(s=this.isSubscribedToTracker?this.msg("ARTICLE_SUBSCRIBE_TRACKER_SUCCESS_VIA_TRACKER"):this.msg("ARTICLE_UNSUBSCRIBE_TRACKER_SUCCESS_VIA_TRACKER")),e&&(s=this.isSubscribedToEmail?this.msg("ARTICLE_SUBSCRIBE_TRACKER_SUCCESS_VIA_EMAIL"):this.msg("ARTICLE_UNSUBSCRIBE_TRACKER_SUCCESS_VIA_EMAIL")),this.$toast.success(s)})).catch((t=>{this.$toast.error(t.message)}))}}},b=A;var y=(0,p.Z)(b,f,E,!1,null,null,null);const P=y.exports;var L=s(6109);const O={name:"TMArticleSubscriptionControls",components:{TMPopup:L.Z,TMSvgImg:m.Z,TMLabeledCheckbox:S.Z,TMButtonBase:v.Z,TMArticleSubscriptionHotkeys:P},props:{articleId:{type:[String,Number],required:!0},isPost:{type:Boolean,required:!0}},data(){return{modalVisible:!1,form:null}},computed:{isSubscribedToTracker(){return this.$store.getters["articlesList/isSubscribedToTracker"](this.articleId)},isSubscribedToEmail(){return this.$store.getters["articlesList/isSubscribedToEmail"](this.articleId)},isSubscribed(){return this.isSubscribedToTracker||this.isSubscribedToEmail},icon(){return this.isSubscribed?"notifications-filled":"notifications"}},methods:{...(0,a.nv)("articlesList",["toggleSubscriptionStatus"]),openModal(){this.form={tracker:this.isSubscribedToTracker,email:this.isSubscribedToEmail},this.modalVisible=!0},onSubmit(){this.toggleSubscriptionStatus({articleId:this.articleId,isPost:this.isPost,...this.form}).catch((t=>{this.$toast.error(t.message)})),this.modalVisible=!1}}},N=O;var M=(0,p.Z)(N,g,T,!1,null,null,null);const R=M.exports;var k=s(22362),w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-comment-navigation tm-comment-navigation__block",class:t.showCounter},[e("button",{directives:[{name:"show",rawName:"v-show",value:!t.hasUnreadComments,expression:"!hasUnreadComments"},{name:"hotkey",rawName:"v-hotkey.stop",value:{r:t.updateComments},expression:"{ 'r': updateComments }",modifiers:{stop:!0}}],staticClass:"tm-comment-navigation__button tm-comment-navigation__button_refresh",attrs:{title:t.msg("UPDATE_COMMENTS")},on:{click:t.updateComments}},[e("TMRefreshserCommentsIcon",{staticClass:"tm-comment-navigation__icon tm-comment-navigation__icon_refresh",class:{"tm-comment-navigation__icon_loading":t.isLoadingNewComments}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasUnreadComments,expression:"hasUnreadComments"}],staticClass:"tm-comment-navigation__wrapper"},[e("button",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{k:t.goToPrevComment},expression:"{ 'k': goToPrevComment }",modifiers:{stop:!0}}],staticClass:"tm-comment-navigation__button",attrs:{title:t.msg("GO_TO_PREV_COMMENT"),type:"button"},on:{click:t.goToPrevComment}},[e("TMRefreshserCommentsUpIcon",{staticClass:"tm-comment-navigation__icon tm-comment-navigation__icon__up"})],1),t._v(" "),e("button",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{f:t.readFirstUnreadCommentThrottled},expression:"{ 'f': readFirstUnreadCommentThrottled }",modifiers:{stop:!0}}],staticClass:"tm-comment-navigation__counter",attrs:{title:t.msg("GO_TO_FIRST_UNREAD_COMMENT"),type:"button"},on:{click:t.readFirstUnreadCommentThrottled}},[t._v("\n      "+t._s(t.unreadCommentIds.length)+"\n    ")]),t._v(" "),e("button",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{j:t.goToNextComment},expression:"{ 'j': goToNextComment }",modifiers:{stop:!0}}],staticClass:"tm-comment-navigation__button",attrs:{title:t.msg("GO_TO_NEXT_COMMENT"),type:"button"},on:{click:t.goToNextComment}},[e("TMRefreshserCommentsUpIcon",{staticClass:"tm-comment-navigation__icon tm-comment-navigation__icon_down"})],1)])])},B=[],D=s(93096),x=s.n(D),$=s(15466),U=s(66622),F=s(83049);const V=()=>s.e(5302).then(s.bind(s,95302)),H=()=>s.e(8456).then(s.bind(s,68456)),G={name:"TMCommentsNavigation",components:{TMRefreshserCommentsIcon:H,TMRefreshserCommentsUpIcon:V},props:{comments:{type:Array,required:!0},loadAction:{type:Function,required:!0}},data(){return{isLoadingNewComments:!1,currentCommentId:null,scrollSettled:!1}},computed:{unreadCommentIds(){return this.comments.reduce((function t(e,s){return s.isNew&&e.push(s.id),s.children&&e.push(...s.children.reduce(t,[])),e}),[])},hasUnreadComments(){return 0!==this.unreadCommentIds.length},showCounter(){return this.hasUnreadComments?"tm-comment-navigation__has-new":"tm-comment-navigation__has-new_reverse"},goToNextClosestCommentThrottled(){return x()($.J7,500)},goToPrevClosestCommentThrottled(){return x()($.lp,500)},readFirstUnreadCommentThrottled(){return x()(this.readFirstUnreadComment,500)}},created(){this.unreadCommentsWatcher=this.$watch("hasUnreadComments",(t=>{this.checkScrollToComments(t)}))},mounted(){!this.scrollSettled&&this.hasUnreadComments&&this.checkScrollToComments(this.hasUnreadComments)},methods:{checkScrollToComments(t){t&&(this.scrollSettled=!0,(0,F.dY)(this.$route),this.unreadCommentsWatcher())},goToNextComment(){this._inactive||(this.scrollSettled=!0,this.unreadCommentsWatcher(),this.goToNextClosestCommentThrottled())},goToPrevComment(){this._inactive||(this.scrollSettled=!0,this.unreadCommentsWatcher(),this.goToPrevClosestCommentThrottled())},updateComments(t){this._inactive||(t.target.blur(),this.isLoadingNewComments=!0,this.scrollSettled=!0,this.unreadCommentsWatcher(),this.loadAction().then((()=>{this.isLoadingNewComments=!1})).catch((t=>{this.isLoadingNewComments=!1;const e=t.data&&t.data.text&&t.data.text.source&&Array.isArray(t.data.text.source);throw e?this.$toast.error(t.data.text.source[0]):this.$toast.error(t.message),t})))},readFirstUnreadComment(){if(this._inactive)return;const t=(0,$.bP)();if(!t)return;this.scrollSettled=!0,this.unreadCommentsWatcher();const e=(0,$.v2)(t);(0,U.Jn)(t).then((s=>{s?this.$emit("readComment",e):setTimeout((()=>{this.$emit("readComment",e)}),250),(0,$.RC)(t)})).catch((t=>{t instanceof U.Fv&&this.$emit("readComment",e)}))}}},W=G;var Z=(0,p.Z)(W,w,B,!1,null,null,null);const Y=Z.exports;var q=s(6628),j=s(8065),K=s(2384),z=s(61823),Q=s(2687);const X=()=>s.e(2328).then(s.bind(s,74574)),J={name:"TMArticleComments",components:{TMArticleComment:o.Z,TMComments:k.Z,TMRssButton:q.Z,TMCommentsNavigation:Y,TMArticleSubscriptionControls:R,TMArticleCommentsUfoNotice:h,TMAdministrationLinks:X},serverCacheKey(t){return!!t.cacheKey&&t.cacheKey},props:{articleId:{type:[Number,String],required:!0},cacheKey:{type:String,default:null},isLoading:{type:Boolean,default:!1}},data(){return{isRemovedCommentsHidden:!1,hasMounted:!1,stopHandlerArticle:null,stopHandlerUserData:null}},computed:{...(0,a.Se)("comments",["getCommentsTreeByArticleId","getCommentAccess","getPinnedCommentsById"]),...(0,a.Se)("articlesList",["getArticleById"]),...(0,a.Se)("me",["isModerator","companiesAdmin","isLoggedIn","userAlias","isSuperAdmin","canSendComplaint"]),isPost(){return(0,C.E)(this.$route.name)},article(){return this.getArticleById(this.articleId)},showModerationControls(){return this.article&&this.article.relatedData&&this.article.relatedData.canModerateComments},comments(){return this.getCommentsTreeByArticleId(this.articleId)},pinnedComments(){return this.getPinnedCommentsById(this.articleId)},commentsAdministrationsLinks(){return[{title:this.msg("ARTICLE_CLEAR_CACHE_COMMENTS"),onclick:t=>this.resetCache(t)},this.isPost?null:{title:this.commentsStateActionText,onclick:t=>this.toggleCommentsState(t)},{title:this.removedCommentsActionText,onclick:t=>this.toggleRemovedComments(t)},{title:this.ufoNoticeActionText,onclick:t=>this.toggleUfoNotice(t)}].filter((t=>t))},isCanComment(){return this.getCommentAccess&&this.getCommentAccess.isCanComment},cantCommentReasonKey(){return this.getCommentAccess?this.getCommentAccess.cantCommentReasonKey:null},userBlockReasonData(){const t=this.getCommentAccess&&this.getCommentAccess.data||{};return t.reason=t.reason||"EMPTY",t.timeElapsed=t.timeElapsed||"EMPTY",t},commentAccessMessage(){if(!this.cantCommentReasonKey)return null;const t=`EXTERNAL_${this.cantCommentReasonKey}`;return this.msg(t,this.userBlockReasonData)},loginUrl(){const t="/kek/v1/auth/habrahabr/";return`${t}?back=${this.$route.path}&hl=${this.langOptions.hl}`},noticeData(){return"draft"===this.article.status?{type:"negative",message:this.msg("POST_IN_DRAFTS")}:this.isLoggedIn&&!this.isCanComment?{type:"negative",message:this.commentAccessMessage}:this.isLoggedIn?null:{type:"positive",message:this.msg("COMMENT_NOTICE_UNAUTH_DECLARATION",{url:this.loginUrl})}},removedCommentsActionText(){return this.isRemovedCommentsHidden?this.msg("ARTICLE_SHOW_REMOVED_COMMENTS"):this.msg("ARTICLE_HIDE_REMOVED_COMMENTS")},commentsStateActionText(){return this.article.commentsEnabled.status?this.msg("ARTICLE_DISABLE_COMMENTS"):this.msg("ARTICLE_ENABLE_COMMENTS")},ufoNoticeActionText(){return this.article&&this.article.rulesRemindEnabled?this.msg("RULES_REMINDER_HIDE_BUTTON_TEXT"):this.msg("RULES_REMINDER_SHOW_BUTTON_TEXT")},commentsCount(){return this.article&&this.article.statistics?this.article.statistics.commentsCount:null},isArticleAuthor(){return this.article.author&&this.article.author.alias===this.userAlias},shouldDisplayUserItems(){return!this.cacheKey||this.hasMounted},canPinUnpinComment(){if(this.isArticleAuthor||this.isSuperAdmin||this.isModerator)return!0;if(!this.article.isCorporative||!this.companiesAdmin||!this.companiesAdmin.length)return!1;const t=this.article.hubs.find((t=>"corporative"===t.type)),e=t&&t.alias;return!!this.companiesAdmin.find((t=>t.alias===e))}},beforeDestroy(){this.clearCommentsList(this.articleId)},mounted(){this.hasMounted=!0,this.cacheKey&&(this.stopHandlerArticle=this.$watch((()=>this.article),(t=>{t&&!this._inactive&&this.isLoggedIn&&(this.loadUserData().catch((t=>{this.$toast.error(t.message)})),this.stopHandlerArticle&&this.stopHandlerArticle())}),{immediate:!0}))},methods:{...(0,a.nv)("articlesList",["setArticleCommentsStatus","setArticleRulesRemindStatus"]),...(0,a.nv)("comments",["getComments","getPinnedComments","loadNewComments","sendComment","suspendComment","setFavorite","vote","pinComment"]),...(0,a.OI)("comments",["addComment","setCommentRead","clearCommentsList","setLastCommentTimestamp","mergeComments","setCommentAccess","setCommentsRoot"]),voteAction({commentId:t,direction:e}){return this.vote({articleId:this.articleId,commentId:t,direction:e,isPost:this.isPost}).catch((t=>{this.$toast.error(t.message)}))},favoriteAction({commentId:t,isFavorite:e}){const{articleId:s,isPost:n}=this;return this.setFavorite({articleId:s,commentId:t,isFavorite:e,isPost:n}).catch((t=>{this.$toast.error(t.message)}))},pinUnpinComment(t){return this.pinComment({articleId:this.articleId,commentId:t.id,isPinned:!t.isPinned,isPost:this.isPost}).then((()=>{const e=t.isPinned?"COMMENT_UNPINNED_SUCCESS":"COMMENT_PINNED_SUCCESS";this.$toast.success(this.msg(e)),this.getPinnedComments({publicationId:this.articleId,isPost:this.isPost})})).catch((t=>{this.$toast.error(t.message)}))},toggleRemovedComments(){this.isRemovedCommentsHidden=!this.isRemovedCommentsHidden},getUfoNoticeActions(){return this.isPost?{enable:Q.qT,disable:Q.sv}:{enable:K.Yc,disable:K.jL}},toggleUfoNotice(){const{articleId:t}=this,{enable:e,disable:s}=this.getUfoNoticeActions(),n=this.article&&this.article.rulesRemindEnabled?s:e;return n(t).then((()=>{this.setArticleRulesRemindStatus({articleId:this.articleId,status:!this.article.rulesRemindEnabled});const t=this.article&&this.article.rulesRemindEnabled?this.msg("RULES_REMINDER_SHOW_ACTION_SUCCESS_MESSAGE"):this.msg("RULES_REMINDER_HIDE_ACTION_SUCCESS_MESSAGE");this.$toast.success(t)})).catch((t=>{this.$toast.error(t.message)}))},onCommentDelete(t){const e={articleId:this.articleId,commentId:t};this.suspendComment({params:e,isPost:this.isPost})},complaintAction({value:t,parentId:e}){const s=this.isPost?"threads":"articles";return(0,z.yw)(this.articleId,e,{message:t},s).then((()=>{this.$toast.success(this.msg("COMMENT_COMPLAINT_SUCCESS"))})).catch((t=>{this.$toast.error(t.message)}))},commentSubmitAction(t){const e={articleId:this.articleId,...t};return this.sendComment({commentBody:e,isPost:this.isPost}).then((t=>{t&&(0,j.IZ)("comment",{publicationType:(0,j.Lq)(this.article)})})).catch((t=>{const e=t.data&&t.data.text&&t.data.text.source&&Array.isArray(t.data.text.source);throw e?this.$toast.error(t.data.text.source[0]):this.$toast.error(t.message),t}))},updateCommentsAction(){return this.loadNewComments({route:this.$route,isPost:this.isPost})},onReadComment(t){this.setCommentRead({articleId:this.articleId,commentId:t})},disableArticleComments(t){const e=window.confirm(this.msg("ARTICLE_DISABLE_COMMENTS_CONFIRM"));if(!e)return!1;const s=prompt(this.msg("ARTICLE_DISABLE_COMMENTS_REASON"));return(0,z.x1)(t,{reason:s})},toggleCommentsState(){const t=this.article.commentsEnabled.status?this.disableArticleComments:z.oc;return t(this.articleId).then((()=>{this.setArticleCommentsStatus({articleId:this.articleId,status:!this.article.commentsEnabled.status}),this.getComments({route:this.$route})})).catch((t=>this.$toast.error(t.message)))},resetCache(){return(0,z.zT)(this.articleId).then((()=>{this.$toast.success(this.msg("ARTICLE_CLEAR_CACHE_SUCCESS_MESSAGE")),setTimeout((()=>{window.location.reload()}),1e3)})).catch((t=>this.$toast.error(t.message)))},getCommentLink(t){return`${window.location.origin}${this.$route.path}#comment_${t.id}`},loadUserData(){const t=this.isPost?z.YS:z.pD;return t({id:this.articleId,hl:this.langOptions.hl}).then((t=>{this.stopHandlerUserData=this.$watch((()=>[this.isLoading,this._inactive]),(([e,s])=>{e||s||(this.applyUserData(t),this.stopHandlerUserData&&this.stopHandlerUserData())}),{immediate:!0})}))},applyUserData(t){const{articleId:e}=this,{lastCommentTimestamp:s,commentRelatedRefs:n,commentAccess:i,commentDeletedRefs:a,commentModeratedRefs:o,threads:r}=t;this.setCommentAccess(i),this.setLastCommentTimestamp(s),this.mergeComments({articleId:e,comments:n}),a&&(this.mergeComments({articleId:e,comments:a}),this.setCommentsRoot({articleId:e,root:r})),o&&Object.keys(o).sort(((t,e)=>t.timePublished-e.timePublished)).forEach((t=>{this.addComment({articleId:e,comment:{...o[t],isReadonly:!0}})}))}}},tt=J;var et=(0,p.Z)(tt,n,i,!1,null,null,null);const st=et.exports},4054:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e(t.link?"TMPublicationLink":"span",{tag:"component",class:t.bem("tm-article-datetime-published",{megapost:t.isMegapostV1,link:t.link}),attrs:{article:t.link?t.article:null}},[t.article.timePublished?e("TMDatetime",{attrs:{date:new Date(t.article.timePublished),"is-article-format":""}}):t.article.plannedPublishTime?e("span",[e("TMMessageInterpolation",{attrs:{message:t.msg("ARTICLE_PLANNED")},scopedSlots:t._u([{key:"datetime",fn:function(){return[e("TMDatetime",{attrs:{"absolute-date":"",date:new Date(t.article.plannedPublishTime),"show-full-date-time":""}})]},proxy:!0}])})],1):e("span",{domProps:{textContent:t._s(t.msg("ARTICLE_NEVER_PUBLISHED"))}})],1)},i=[],a=s(76068),o=s(69137),r=s(4307),l=s(65873);const c={name:"TMArticleDatetimePublished",components:{TMMessageInterpolation:o.Z,TMPublicationLink:r.Z,TMDatetime:a.Z},props:{article:{type:Object,required:!0},isMegapostV1:{type:Boolean,required:!0},link:{type:Boolean,default:!1}},methods:{bem:l.P}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},83146:(t,e,s)=>{"use strict";s.d(e,{Z:()=>k});var n=function(){var t=this,e=t._self._c;return t.shouldDisplayRecommendationsButton||t.canSendComplaint?e("div",{staticClass:"tm-article-extra-menu__admin-icons"},[e("button",{ref:"popupButton",staticClass:"tm-article-extra-menu__admin-button",on:{click:t.togglePopup}},[e("TMSvgImg",{staticClass:"tm-article-extra-menu__icon",attrs:{id:"dots"}})],1),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.articlePopupVisible?e("TMArticlePopup",{attrs:{"can-send-complaint":t.canSendComplaint,"can-send-recommendation":t.shouldDisplayRecommendationsButton,target:t.articlePopupTarget},on:{close:t.togglePopup,sendComplaint:function(e){t.isComplaintFormShown=!0,t.togglePopup()},sendRecommendation:function(e){t.getRecommendationsList(),t.togglePopup()}}}):t._e(),t._v(" "),t.isRecommendationsFormShown?e("TMPopup",{attrs:{title:t.msg("ARTICLE_RECOMMENDATIONS_FORM_TITLE")},on:{close:function(e){t.isRecommendationsFormShown=!1}}},[e("TMRecommendationsForm",{attrs:{"is-processing":t.isRecommendationsFormDisabled,recommendations:t.articleRecommendationsList},on:{submit:t.sendRecommendations}})],1):t._e(),t._v(" "),t.isComplaintFormShown?e("TMPopup",{attrs:{title:t.msg("ARTICLE_COMPLAINT_TITLE")},on:{close:function(e){t.isComplaintFormShown=!1}}},[e("TMComplaintForm",{attrs:{autofocus:"","is-processing":t.isComplaintFormDisabled,"submit-action":t.complaintAction}})],1):t._e()],1)],1):t._e()},i=[],a=s(20629),o=function(){var t=this,e=t._self._c;return e("TMContextMenu",{attrs:{target:t.target},on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"body",fn:function(){return[e("TMContextMenuList",[t.canSendRecommendation?e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.$emit("sendRecommendation")}}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"flag",size:"24",title:t.msg("ARTICLE_RECOMMENDATION_TITLE")}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n            "+t._s(t.msg("ARTICLE_RECOMMENDATION_TITLE"))+"\n          ")]},proxy:!0}],null,!1,3287689164)})],1):t._e(),t._v(" "),t.canSendComplaint?e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.$emit("sendComplaint")}}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"warning",size:"24",title:t.msg("ARTICLE_COMPLAINT_TITLE")}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n            "+t._s(t.msg("ARTICLE_COMPLAINT_TITLE"))+"\n          ")]},proxy:!0}],null,!1,2495209610)})],1):t._e()],1)]},proxy:!0}])})},r=[],l=s(46281),c=s(87906),m=s(18936),u=s(18264),d=s(31490);const p={name:"TMArticlePopup",components:{TMAlignCenter:l.Z,TMContextMenuList:m.Z,TMContextMenuListItem:u.Z,TMContextMenu:c.Z,TMSvgImg:d.Z},props:{target:{type:null,required:!0},canSendComplaint:{type:Boolean,default:!1},canSendRecommendation:{type:Boolean,default:!1}}},_=p;var h=s(1001),g=(0,h.Z)(_,o,r,!1,null,null,null);const T=g.exports;var v=s(30358),S=s(6109),f=function(){var t=this,e=t._self._c;return e("form",{staticClass:"tm-recommendations-form"},[e("fieldset",{staticClass:"tm-recommendations-form__fieldset"},t._l(t.recommendationsArr,(function(s){return e("TMLabeledCheckbox",{key:s.id,staticClass:"tm-recommendations-form__field",attrs:{name:`${s.id}`,value:s.id},model:{value:t.checkedRecommendations[s.id],callback:function(e){t.$set(t.checkedRecommendations,s.id,e)},expression:"checkedRecommendations[item.id]"}},[t._v("\n      "+t._s(s.title)+"\n    ")])})),1),t._v(" "),e("TMButtonBase",{staticClass:"tm-recommendations-form__button",attrs:{disabled:t.isProcessing,"style-size":"medium"},on:{click:t.emitSubmit}},[t._v("\n    "+t._s(t.msg("SUBMIT_FORM_ACTION"))+"\n  ")])],1)},E=[],I=s(17903),C=s(64712);const A={name:"RecommendationsForm",components:{TMButtonBase:I.Z,TMLabeledCheckbox:C.Z},props:{recommendations:{type:Object,required:!0},isProcessing:{type:Boolean}},data(){return{checkedRecommendations:[]}},computed:{recommendationsArr(){return Object.values(this.recommendations)}},methods:{emitSubmit(){const t=[];this.checkedRecommendations.forEach(((e,s)=>{e&&t.push(this.recommendationsArr[s-1].id)})),this.$emit("submit",t)}}},b=A;var y=(0,h.Z)(b,f,E,!1,null,null,null);const P=y.exports;var L=s(2384),O=s(2687);const N={name:"TMArticleExtraMenu",components:{TMSvgImg:d.Z,TMComplaintForm:v.Z,TMRecommendationsForm:P,TMPopup:S.Z,TMArticlePopup:T},props:{publicationId:{type:String,required:!0},currentAuthor:{type:Object,default:()=>null},isPost:{type:Boolean,required:!1}},data(){return{isComplaintFormShown:!1,isComplaintFormDisabled:!1,isRecommendationsFormShown:!1,isRecommendationsFormDisabled:!1,articleRecommendationsList:[],articlePopupVisible:!1}},computed:{...(0,a.Se)("me",["isSuperAdmin","userAlias","canSendComplaint"]),...(0,a.rn)("me",["user"]),isMineArticle(){var t;if(null===(t=this.currentAuthor)||void 0===t||!t.alias)return!1;const e=this.currentAuthor.alias.toLowerCase();return this.isLoggedIn&&e===this.userAlias.toLowerCase()},shouldDisplayRecommendationsButton(){return this.currentAuthor&&!this.isMineArticle&&this.isSuperAdmin&&!this.isPost},articlePopupTarget(){return this.$refs.popupButton}},methods:{closeComplaintForm(){this.isComplaintFormShown=!1,this.isComplaintFormDisabled=!1},closeRecommendationsForm(){this.isRecommendationsFormShown=!1,this.isRecommendationsFormDisabled=!1},complaintAction(t){const e=this.isPost?(0,O.d9)(this.publicationId,{message:t}):(0,L.fo)(this.publicationId,{message:t});return e.then((()=>{this.closeComplaintForm(),this.$toast.success(this.msg("COMMENT_COMPLAINT_SUCCESS"))})).catch((t=>{throw this.$toast.error(t.message),t}))},getRecommendationsList(){(0,L.$K)().then((({postRecommendationRefs:t})=>{this.isRecommendationsFormShown=!0,this.articleRecommendationsList=t})).catch((t=>this.$toast.error(t.message)))},sendRecommendations(t){(0,L.sI)(this.publicationId,{ids:t}).then((t=>{this.closeRecommendationsForm(),this.$router.push({name:"CONVERSATION_MESSAGES",params:{login:this.currentAuthor.alias,hl:this.langOptions.hl,template:t}})})).catch((t=>this.$toast.error(t.message)))},togglePopup(){this.articlePopupVisible=!this.articlePopupVisible}}},M=N;var R=(0,h.Z)(M,n,i,!1,null,null,null);const k=R.exports},35099:(t,e,s)=>{"use strict";s.d(e,{Z:()=>A});var n=function(){var t=this,e=t._self._c;return e("div",[e("div",{ref:"contentRef"},[e("TMFormattedText",{attrs:{"article-text":t.articleText,"should-format":t.shouldFormat,version:t.version}})],1),t._v(" "),!t.disableAbbr&&t.ready?e("TMMobileAbbreviation",{attrs:{"content-ref":t.$refs.contentRef}}):t._e(),t._v(" "),!t.disableAbbr&&t.ready?e("TMAbbreviationPresenter",{attrs:{"content-ref":t.$refs.contentRef,version:t.version}}):t._e()],1)},i=[],a=s(64085),o=s(28310),r=function(){var t=this,e=t._self._c;return e("Portal",{attrs:{to:"overlays"}},[t.isMobile&&t.currentAbbr?e("TMPopup",{attrs:{hash:"#abbr",title:t.currentAbbr.title,"track-in-history":""},on:{close:function(e){t.currentAbbr=null}}},[e("p",{domProps:{textContent:t._s(t.currentAbbr.value)}})]):t._e()],1)},l=[],c=s(20629),m=s(6109);const u=(t,e)=>{const s=t.querySelectorAll("abbr[title]:not(.habraabbr)");if(!s.length)return()=>{};const n=[];return s.forEach((t=>{t.addEventListener("click",e),n.push((()=>{t.removeEventListener("click",e)}))})),()=>{n.forEach((t=>t()))}};var d=s(7748);const p={name:"TMMobileAbbreviation",components:{TMPopup:m.Z},props:{contentRef:{type:null,required:!0}},data(){return{currentAbbr:null,disposeAbbrs:null}},computed:{...(0,c.Se)("global",["isMobile"])},mounted(){this.disposeAbbrs=u(this.contentRef,this.abbrClickHandler)},beforeDestroy(){this.disposeAbbrs()},methods:{abbrClickHandler(t){this.isMobile&&(this.currentAbbr={value:(0,d.V)(t.currentTarget.title),title:(0,d.V)(t.currentTarget.textContent)})}}},_=p;var h=s(1001),g=(0,h.Z)(_,r,l,!1,null,null,null);const T=g.exports;var v=s(27683),S=s(98339),f=s(5163);const E={name:"TMArticleFormattedBody",components:{TMFormattedText:o.Z,TMAbbreviationPresenter:a.Z,TMMobileAbbreviation:T},props:{articleText:{type:String,required:!0},shouldFormat:{type:Boolean,default:!0},version:{type:[String,Number],default:null},disableAbbr:Boolean},data(){return{disconnectObserver:null,disposeLinks:null,ready:!1}},mounted(){(0,S.y)(this.$el),this.ready=!0,this.disposeLinks=(0,f.W)(this.$el,((t,e)=>{t.preventDefault(),this.$router.push({path:e.pathname})})),this.disconnectObserver=(0,v.O)(this.$el,this.msg("ERROR_IMAGE_WAS_NOT_LOADED"))},beforeDestroy(){this.disconnectObserver(),this.disposeLinks()}},I=E;var C=(0,h.Z)(I,n,i,!1,null,null,null);const A=C.exports},63726:(t,e,s)=>{"use strict";s.d(e,{Z:()=>v});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-labels"},[e("div",{staticClass:"tm-article-labels__container"},[t.formatLabel?e("TMPublicationLabel",{attrs:{label:t.formatLabel},nativeOn:{click:function(e){return t.clickArticleFormat(t.article.format)}}}):t._e(),t._v(" "),t._l(t.labels,(function(t){return e("TMPublicationLabel",{key:t.type,attrs:{label:t}})}))],2)])},i=[],a=function(){var t=this,e=t._self._c;return t.shouldShowLabel?e("div",{class:t.bem("tm-publication-label",{variant:t.variants})},["technotext"===t.label.typeOf?e("router-link",{attrs:{to:{name:"ARTICLES_LIST_TECHNOTEXT_ALL",params:{year:t.getTechnotextYear(t.label.type)}}}},[t._v("\n    "+t._s(t.label.title)+"\n  ")]):"sandbox"===t.label.type?e("router-link",{attrs:{to:{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST"}}},[t._v("\n    "+t._s(t.label.title)+"\n  ")]):t.label.data&&t.label.data.url?e("a",{attrs:{href:t.label.data.url,target:"_blank"}},[t._v("\n    "+t._s(t.label.title)+"\n  ")]):e("span",[t._v("\n    "+t._s(t.label.title)+"\n  ")])],1):t._e()},o=[],r=s(20629),l=s(65873);const c={name:"TMPublicationLabel",props:{label:{type:Object,required:!0}},computed:{...(0,r.Se)("me",["isSuperAdmin"]),shouldShowLabel(){switch(this.label.type){case"textruCheck":return this.isSuperAdmin;default:return!0}},variants(){const t=[this.label.type];return"season"===this.label.typeOf&&t.push(this.label.typeOf),t}},methods:{getTechnotextYear(t){return parseInt(t.substring("technotext".length),10)},bem:l.P}},m=c;var u=s(1001),d=(0,u.Z)(m,a,o,!1,null,null,null);const p=d.exports;var _=s(8065);const h={name:"TMArticleLabels",components:{TMPublicationLabel:p},props:{article:{default:()=>{},type:Object}},computed:{labels(){return"post"===this.article.publicationType?this.article.labels:this.article.postLabels},formatLabel(){return this.article.format&&"common"!==this.article.format?{type:this.article.format,title:this.msg(`ARTICLE_LABEL_${this.article.format}`)}:null}},methods:{clickArticleFormat(t){(0,_.IZ)(`post_label_format_${t}`),this.$router.push({name:"SEARCH_QUERY_RESULTS",query:{target_type:"posts",order:"relevance",q:`{${this.msg(`ARTICLE_LABEL_${t}`)}}`}})}}},g=h;var T=(0,u.Z)(g,n,i,!1,null,null,null);const v=T.exports},41670:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{spacing:t.spacing,title:t.title}},[e("ul",{staticClass:"tm-article-list-block__list"},[t._l(t.articleList,(function(s){return e("li",{key:s.id,staticClass:"tm-article-list-block__item"},[e("TMArticleSnippetBlock",{attrs:{article:s,"bookmark-module":t.bookmarkModule,"ga-event":t.gaEvent,layout:t.layout}})],1)})),t._v(" "),t.$slots.lastItem?e("li",{staticClass:"tm-article-list-block__item"},[t._t("lastItem")],2):t._e()],2)])},i=[],a=s(46283),o=s(17907);const r={name:"TMArticleListBlock",components:{TMBlock:o.Z,TMArticleSnippetBlock:a.Z},props:{title:{type:String,default:null},dataList:{type:Array,default:()=>[]},maxPosts:{type:Number,default:5},gaEvent:{type:[String,Object],required:!1,default:null},layout:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},spacing:{type:String,default:"around"}},computed:{articleList(){return this.dataList.slice(0,this.maxPosts)}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},62513:(t,e,s)=>{"use strict";s.d(e,{Z:()=>T});var n=function(){var t=this,e=t._self._c;return e("div",{class:t.bem("tm-article-poll",{variant:t.variant})},[t.isLoggedIn||t.enabledForGuests?t._e():e("TMNotice",{staticClass:"tm-article-poll__notice",attrs:{type:"positive"},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.unauthorizedNoticeMessage)}})]},proxy:!0}],null,!1,4159226856)}),t._v(" "),t.poll.id?[e("div",{staticClass:"tm-article-poll__header",domProps:{innerHTML:t._s(t.poll.textHtml)}}),t._v(" "),t.poll.relatedData&&t.poll.relatedData.canVote?[e("div",{staticClass:"tm-article-poll__answers"},t._l(t.poll.variants,(function(s,n){return e("div",{key:s.id,staticClass:"tm-article-poll__answer"},["checkbox"===t.poll.answersType?e("TMLabeledCheckbox",{staticClass:"tm-article-poll__answer-item",attrs:{name:`${s.id}`},model:{value:t.selectedAnswers.checkboxes[n],callback:function(e){t.$set(t.selectedAnswers.checkboxes,n,e)},expression:"selectedAnswers.checkboxes[i]"}},[e("TMText",{staticClass:"tm-article-poll__answer-label",attrs:{text:s.textHtml}})],1):e("TMInputRadioLabeled",{staticClass:"tm-article-poll__answer-item",attrs:{id:"answer","checked-value":`${s.id}`,value:s.id},model:{value:t.selectedAnswers.radio,callback:function(e){t.$set(t.selectedAnswers,"radio",e)},expression:"selectedAnswers.radio"}},[e("TMText",{staticClass:"tm-article-poll__answer-label",attrs:{text:s.textHtml}})],1)],1)})),0),t._v(" "),e("div",{staticClass:"tm-article-poll__controls"},[e("TMButtonBase",{staticClass:"tm-article-poll__submit",attrs:{disabled:t.isVoteDisabled,"is-loading":t.isLoadingVote,"style-size":"middle","style-type":"solid",type:"submit"},on:{click:t.onSubmitVote}},[t._v("\n          "+t._s(t.msg("POLLS_VOTE"))+"\n        ")]),t._v(" "),e("TMButtonBase",{staticClass:"tm-article-poll__decline",attrs:{"is-loading":t.isLoadingDecline,"style-size":"middle","style-type":"transparent",type:"button"},on:{click:t.onDeclineVote}},[t._v("\n          "+t._s(t.msg("POLLS_ABSTAIN"))+"\n        ")])],1)]:e("div",{staticClass:"tm-article-poll__answers"},t._l(t.poll.variants,(function(s){return e("div",{key:s.id,staticClass:"tm-article-poll__answer"},[e("div",{staticClass:"tm-article-poll__answer-data"},[e("span",{class:t.percentClassName(s.id)},[t._v("\n            "+t._s(s.percent)+"%\n          ")]),t._v(" "),e("span",{class:t.answerLabelClassName(s.selected),domProps:{innerHTML:t._s(s.textHtml)}}),t._v(" "),e("span",{staticClass:"tm-article-poll__answer-votes"},[t._v("\n            "+t._s(s.votesCount)+"\n          ")])]),t._v(" "),e("div",{staticClass:"tm-article-poll__answer-bar"},[e("div",{class:t.progressBarClassName(s.id),style:`width: ${s.percent}%`})])])})),0),t._v(" "),e("div",{staticClass:"tm-article-poll__stats"},[t._v("\n      "+t._s(t.msg("POLLS_STAT_VOTED",{votesCount:t.poll.votesCount}))+"\n\n      "+t._s(t.msg("POLLS_STAT_PASSED",{passCount:t.poll.passCount}))+"\n    ")])]:t._e()],2)},i=[],a=s(20629),o=s(17903),r=s(64712),l=s(91988),c=s(87628),m=s(90707),u=s(65873),d=s(59436);const p={name:"TMArticlePoll",components:{TMButtonBase:o.Z,TMInputRadioLabeled:c.Z,TMLabeledCheckbox:r.Z,TMNotice:m.Z,TMText:l.Z},props:{poll:{default:()=>{},type:Object},variant:{type:String,default:null,validator:(0,d.H)(["bordered"])},isLoadingVote:Boolean,isLoadingDecline:Boolean,enabledForGuests:Boolean},data(){return{selectedAnswers:{checkboxes:[],radio:""}}},computed:{...(0,a.Se)("me",["isLoggedIn"]),...(0,a.Se)("i18n",["msg","langOptions"]),isVoteDisabled(){const t=this.selectedAnswers;return-1===t.checkboxes.indexOf(!0)&&0===t.radio.length},winningAnswer(){return this.poll.variants.reduce(((t,e)=>t.votesCount>e.votesCount?t:e))},progressBarClassName(){return t=>({"tm-article-poll__answer-progress":!0,"tm-article-poll__answer-progress_winning":this.winningAnswer.id===t})},answerLabelClassName(){return t=>({"tm-article-poll__answer-label":!0,"tm-article-poll__answer-label_selected":t})},percentClassName(){return t=>({"tm-article-poll__answer-percent":!0,"tm-article-poll__answer-percent_winning":this.winningAnswer.id===t})},unAuthLinkParams(){const t=this.$route.path,{hl:e}=this.langOptions;return{url:`/kek/v1/auth/habrahabr/?back=${t}&hl=${e}`}},unauthorizedNoticeMessage(){return`${this.msg("POLLS_NOTICE_UNAUTH_DECLARATION")} ${this.msg("POLLS_NOTICE_UNAUTH_ACTION",this.unAuthLinkParams)}`}},methods:{onDeclineVote(){this.$emit("decline-vote",{pollId:this.poll.id})},onSubmitVote(){let t=[];"checkbox"===this.poll.answersType?this.selectedAnswers.checkboxes.forEach(((e,s)=>{e&&t.push(this.poll.variants[s].id)})):t=[this.selectedAnswers.radio];const e={variantId:t,pollId:this.poll.id};this.$emit("submit-vote",e)},bem:u.P}},_=p;var h=s(1001),g=(0,h.Z)(_,n,i,!1,null,null,null);const T=g.exports},38864:(t,e,s)=>{"use strict";s.d(e,{Z:()=>Mt});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-presenter",class:{"tm-article-presenter_wide":t.isWideVariant}},[t._t("beforeBody"),t._v(" "),e("div",{staticClass:"tm-article-presenter__body"},[e("TMMisprintArea",{attrs:{action:t.misprintAction}},[e("article",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.hotkeys,expression:"hotkeys",modifiers:{stop:!0}}],ref:"article",staticClass:"tm-article-presenter__content",class:{"tm-article-presenter__content_narrow":!t.isWideVariant}},[t.isLoading?[e("TMPlaceholder",{attrs:{type:"article"}}),t._v(" "),e("TMPlaceholder",{attrs:{type:"articleBody"}})]:[e("div",{staticClass:"tm-article-presenter__header",class:{"tm-article-presenter__header_wide":t.isWideVariant}},[t._t("beforeSnippet"),t._v(" "),e("TMArticleSnippet",{staticClass:"tm-article-presenter__snippet",class:{"tm-article-presenter__snippet_wide":t.isWideVariant},attrs:{article:t.article,"full-article":"",lang:t.article.lang,tag:"h1"},on:{delete:function(e){return t.deleteArticle(t.article.id)}}})],2),t._v(" "),t._t("body",(function(){return[t.translationData?e("div",{staticClass:"tm-article-presenter__origin"},[e("a",{staticClass:"tm-article-presenter__origin-link",attrs:{href:t.translationData.originalUrl,target:"_blank"}},[t._v("\n                "+t._s(t.msg("ARTICLE_ORIGIN_TITLE"))+"\n                "),e("span",[t._v("\n                  "+t._s(t.translationData.originalAuthorName)+"\n                ")])])]):t._e(),t._v(" "),e("TMArticleBody",{attrs:{article:t.article,lang:t.article.lang}})]})),t._v(" "),t.article.banner?e("a",{staticClass:"tm-article-presenter__banner",attrs:{href:t.article.banner.url}},[e("img",{staticClass:"tm-article-presenter__banner-image",attrs:{alt:"",src:t.isMobileOnly?t.article.banner.mobileImageUrl:t.article.banner.desktopImageUrl}})]):t._e(),t._v(" "),e("div",{staticClass:"tm-article-presenter__meta",class:{"tm-article-presenter__meta_wide":t.isWideVariant}},[t.article.tags&&t.article.tags.length?e("TMTagsList",{staticClass:"tm-article-presenter__meta-list",attrs:{tags:t.article.tags,title:t.msg("ARTICLE_TAGS_TITLE")}}):t._e(),t._v(" "),t.article.hubs&&t.article.hubs.length?e("TMHubsList",{staticClass:"tm-article-presenter__meta-list",attrs:{hubs:t.article.hubs,title:t.msg("ARTICLE_HUBS_TITLE")}}):t._e()],1),t._v(" "),t.showDonationBlock?e("ArticleDonationBlock",{attrs:{article:t.article,author:t.author}}):t._e()]],2)]),t._v(" "),t.article?e("TMArticleStickyPanel",{attrs:{article:t.article,element:t.hasMounted?t.$refs.article:null},scopedSlots:t._u([{key:"articleMenu",fn:function(){return[t._t("articleMenu")]},proxy:!0}],null,!0)}):t._e()],1),t._v(" "),t._t("beforeFooter"),t._v(" "),t.$slots.footer?e("div",{staticClass:"tm-article-presenter__footer"},[t._t("footer")],2):t._e()],2)},i=[],a=s(20629),o=s(34948),r=s(93096),l=s.n(r),c=s(96017),m=s(13517),u=s(82335),d=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"article-donation-block"},[e("div",{staticClass:"article-donation-block__message",domProps:{innerHTML:t._s(t.msg("ARTICLE_DONATE_MESSAGE"))}}),t._v(" "),e("TMButton",{staticClass:"article-donation-block__button",attrs:{color:"horizon"},on:{click:t.openPaymentsPopup}},[t._v("\n    "+t._s(t.msg("ARTICLE_DONATE_BUTTON"))+"\n  ")]),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.shouldOpenPayments?e("TMPopupPayments",{on:{close:function(e){t.shouldOpenPayments=!1}}}):t._e(),t._v(" "),t.shouldOpenDonations?e("TMPopupDonations",{attrs:{"current-user":t.currentUser,"publication-id":t.article.id,user:t.author},on:{close:function(e){t.shouldOpenDonations=!1}}}):t._e()],1)],1)},p=[],_=s(20144),h=s(42907),g=function(){var t=this,e=t._self._c;return e("TMPopup",{staticClass:"donations-popup",attrs:{title:t.msg("ARTICLE_DONATE_BUTTON")},on:{close:function(e){return t.$emit("close")}}},[e("TMFormBuilder",{staticClass:"donations-popup__form",attrs:{disabled:t.isLoading,fields:t.fields,"initial-data":t.formData,lang:t.langOptions.hl,"server-errors":t.serverErrors,"submit-label":t.msg("DONATIONS_BUTTON")},on:{submit:t.proceedForm,"update:data":t.onDataUpdate},scopedSlots:t._u([{key:"to",fn:function(){return[e("div",{staticClass:"donations-popup__author"},[e("TMEntityImage",{staticClass:"donations-popup__author-avatar",attrs:{alias:t.user.alias,image:t.user.avatarUrl,size:36,type:"user"}}),t._v(" "),e("div",{staticClass:"donations-popup__author-name"},[t._v("\n          "+t._s(t.userName)+"\n        ")])],1)]},proxy:!0}])}),t._v(" "),t.isLoggedIn?t._e():e("VueRecaptcha",{ref:"invisibleRecaptcha",attrs:{"load-recaptcha-script":!0,sitekey:t.sitekey,size:"invisible"},on:{verify:t.onVerify}})],1)},T=[],v=s(97991),S=s(51153),f=s(18230),E=s(6109),I=s(23159),C=s(36771),A=s(32057),b=s(23217),y=s(19516);const P={name:"TMPopupDonations",components:{TMPopup:E.Z,TMFormBuilder:f.Z,TMEntityImage:S.Z,VueRecaptcha:v.Z},props:{publicationId:{type:String,required:!0},user:I.Z,currentUser:{type:Object,default:null}},data(){return{formData:{donater:this.currentUser?this.currentUser.fullname||this.currentUser.alias:null,anonymously:!1,currency:"RUB"},serverErrors:null,isLoading:!1,sitekey:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf"}},computed:{...(0,a.Se)("i18n",["langOptions"]),...(0,a.Se)("me",["isLoggedIn"]),fields(){return[{className:"tm-input",name:"donater",type:"BaseInput",label:this.msg("FROM_LABEL"),disabled:this.formData&&this.formData.anonymously,validation:{required:!1,maxLength:50},position:{row:"1"}},{className:"tm-checkbox",name:"anonymously",label:this.msg("DONATIONS_ANONYMOUSLY"),type:"BaseCheckbox",disabled:!1,validation:{required:!1}},{className:"tm-section",name:"to",label:this.msg("TO_LABEL"),type:"BaseSection"},{className:"tm-section",name:"payment",label:this.msg("DONATIONS_AMOUNT"),type:"BaseSection"},{className:"tm-input",name:"amount",type:"BaseInput",validation:{required:!0,pattern:"digits"},position:{column:"1 / 6"},htmlAttrs:{inputmode:"numeric",type:"number"}},{className:"tm-select",name:"currency",type:"BaseSelect",options:[{name:"RUB",value:"RUB"},{name:"EUR",value:"EUR"},{name:"USD",value:"USD"}],validation:{required:!1},position:{column:"6 / 6"}},{className:"tm-textarea",label:this.msg("DONATIONS_MESSAGE"),name:"message",type:"BaseTextarea",validation:{required:!1,maxLength:150}}]},userName(){return this.user.fullname||this.user.alias}},methods:{onDataUpdate(t){this.formData=t},proceedForm(t){this.isLoggedIn?this.sendForm(t):this.$refs.invisibleRecaptcha.execute()},onVerify(t){this.sendForm(t),this.$refs.invisibleRecaptcha.reset()},sendForm(t){let e;this.isLoading=!0;const s=!1;s&&(e="https://rc.habr-web.habratest.net");const n=(0,A.Z)(this.$router.resolve({name:this.$route.name,params:this.$route.params}).href,e),i=`${n}#${b.B5}`,a=`${n}#${b.de}`,{formData:o}=this,r={publicationId:this.publicationId,message:o.message||null,donater:o.anonymously||!o.donater?null:o.donater,amount:o.amount,currency:o.currency,returnSuccessUrl:i,returnFailUrl:a};this.isLoggedIn||(r.recaptchaToken=t),(0,y.ri)(this.user.id,r).then((({url:t})=>{window.location=t})).catch((t=>{const e=(0,C.zg)(t);"FORM_ERRORS"!==e?this.$toast.error(t.message):this.serverErrors=t.data})).finally((()=>{this.isLoading=!1}))}}},L=P;var O=s(1001),N=(0,O.Z)(L,g,T,!1,null,null,null);const M=N.exports;var R=function(){var t=this,e=t._self._c;return e("TMPopup",{attrs:{title:t.msg("ARTICLE_DONATE_POPUP")},on:{close:function(e){return t.$emit("close")}}},t._l(t.payments,(function(s){return e("div",{key:s,staticClass:"tm-popup__item-payment"},[e("a",{staticClass:"tm-popup__link-payment",attrs:{href:t.getUrl(s),target:"_blank"},on:{click:t.logGa}},[t._v("\n      "+t._s(t.getTitle(s))+"\n    ")])])})),0)},k=[],w=s(902),B=s(31490),D=s(8065);const x={paymentWebmoney:"SETTINGS_PROFILE_WEBMONEY",paymentPayPalMe:"SETTINGS_PROFILE_PAYPAL",paymentYandexMoney:"SETTINGS_PROFILE_YANDEX_MONEY"},$={paymentWebmoney:"https://pay.web.money/",paymentPayPalMe:"https://www.paypal.me/",paymentYandexMoney:"https://yoomoney.ru/to/"},U={name:"TMPopupPayments",components:{TMPageSettingsForm:w["default"],TMSvgImg:B.Z,TMPopup:E.Z},computed:{...(0,a.Se)("articlesList",["getArticleById"]),...(0,a.Se)("me",["userAlias"]),article(){return this.getArticleById(this.$route.params.id)},payments(){const t=[],{paymentDetails:e}=this.article.author;return e&&Object.keys(e).forEach((s=>{e[s]&&t.push(s)})),t}},methods:{logGa(){(0,D.IZ)("donation")},getUrl(t){return`${$[t]}${this.article.author.paymentDetails[t]}`},getTitle(t){return this.msg(x[t])}}},F=U;var V=(0,O.Z)(F,R,k,!1,null,null,null);const H=V.exports,G=(0,_.defineComponent)({components:{TMButton:h.Z,TMPopupDonations:M,TMPopupPayments:H},props:{author:{type:Object,default:()=>({})},article:{type:Object,default:()=>({})}},data(){return{shouldOpenDonations:!1,shouldOpenPayments:!1}},computed:{...(0,a.rn)("me",{currentUser:"user"})},methods:{openPaymentsPopup(){(0,D.IZ)("donation"),this.author&&this.author.donationsMethod&&("services"===this.author.donationsMethod?this.shouldOpenDonations=!0:this.shouldOpenPayments=!0)}}}),W=G;var Z=(0,O.Z)(W,d,p,!1,null,null,null);const Y=Z.exports;var q=s(88830),j=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"transition-slide"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isIconsPanelHidden,expression:"!isIconsPanelHidden"}],staticClass:"tm-article-sticky-panel"},[t.article&&t.article.id?e("TMDataIcons",{staticClass:"tm-article-sticky-panel__icons",attrs:{article:t.article,"icons-list":["rating","favorite","share","comments"]},scopedSlots:t._u([{key:"articleMenu",fn:function(){return[t._t("articleMenu")]},proxy:!0}],null,!0)}):t._e()],1)])},K=[],z=s(30404);const Q=t=>{const{top:e,height:s}=t.getBoundingClientRect();return e<=window.innerHeight&&e+s>0},X=(t,e)=>{const{top:s,height:n}=t.getBoundingClientRect();return n*e/100+s<=window.innerHeight},J=t=>{const{bottom:e}=t.getBoundingClientRect();return e-window.innerHeight<=0},tt={name:"TMArticleStickyPanel",components:{TMDataIcons:z.Z},props:{article:{type:Object,default:null},element:{type:null,default:null}},data(){return{isAtTheBottomOfArticle:!1,isIconsPanelHidden:!1,lastScrollPosition:null}},computed:{...(0,a.Se)("global",["isDesktop"])},mounted(){document.addEventListener("scroll",this.handleScroll,{passive:!0})},beforeDestroy(){document.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const t=20,e=window.pageYOffset||document.documentElement.scrollTop;if(!(Math.abs(this.lastScrollPosition-e)<t)&&this.element&&!this._inactive){if(this.isAtTheBottomOfArticle=J(this.element),this.isAtTheBottomOfArticle)return this.scrolledDown||(this.scrolledDown=!0),void(this.isIconsPanelHidden=!1);this.isIconsPanelHidden=e>this.lastScrollPosition,this.lastScrollPosition=e}}}},et=tt;var st=(0,O.Z)(et,j,K,!1,null,null,null);const nt=st.exports;var it=s(60510),at=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.misprintKeymap,expression:"misprintKeymap",modifiers:{stop:!0}}],staticClass:"tm-misprint-area"},[e("div",{ref:"root",staticClass:"tm-misprint-area__wrapper"},[t._t("default")],2),t._v(" "),t.showMisprint?e("TMMisprint",{attrs:{action:t.action,"misprint-text":t.misprintText},on:{close:t.closeMisprint}}):t._e()],1)},ot=[];const rt=()=>s.e(4874).then(s.bind(s,14874)),lt={name:"TMMisprintArea",components:{TMMisprint:rt},props:{action:{type:Function,required:!0}},data(){return{misprintText:null,showMisprint:!1}},computed:{...(0,a.Se)("me",["isLoggedIn"]),misprintKeymap(){return{"ctrl+enter":this.toggleMisprint,"meta+enter":this.toggleMisprint}}},methods:{getTextSelection(){const t=window.getSelection(),e=t.toString(),{anchorNode:s,focusNode:n}=t,{root:i}=this.$refs;return e.length&&i.contains(s)&&i.contains(n)?e:null},toggleMisprint(){if(this._inactive)return;if(this.showMisprint)return void this.closeMisprint();const t=this.getTextSelection();t&&this.isLoggedIn&&(this.misprintText=t,this.showMisprint=!0)},closeMisprint(){this.showMisprint=!1,this.misprintText=""}}},ct=lt;var mt=(0,O.Z)(ct,at,ot,!1,null,null,null);const ut=mt.exports;var dt=s(40591),pt=s(11648),_t=s(70210),ht=s(28306),gt=s(37020),Tt=s(79206),vt=s(13278),St=s(7748),ft=s(2384),Et=s(3371);function It(t){return(0,Et.q)("/read-publication",t)}var Ct=s(77699),At=s(37118),bt=s.n(At),yt=s(89793),Pt=s.n(yt);const Lt={name:"TMArticlePresenter",components:{ArticleDonationBlock:Y,TMArticleStickyPanel:nt,TMHubsList:it.Z,TMTagsList:pt.Z,TMArticleBody:u.Z,TMArticleSnippet:q.Z,TMPlaceholder:dt.Z,TMMisprintArea:ut},props:{article:{type:Object,default:null},isLoading:{type:Boolean,required:!0},variant:{type:String,default:null},shouldLogPageview:{type:Boolean,default:!0},companyInfo:{type:Object,required:!1,default:null}},setup(){return{isComponentActive:(0,_t.c)()}},data(){return{hasMounted:!1,hasTrackedPageview:!1,readingProgress:-1,timerId:null,shouldOpenDonations:!1,shouldOpenPayments:!1}},computed:{...(0,a.Se)("global",["isMobileOnly"]),...(0,a.rn)("articlesList",["lastVisitedRoute"]),...(0,a.Se)("me",["userAlias","isLoggedIn"]),...(0,a.rn)("me",["uuid"]),...(0,a.Se)("users",["getUserByAlias"]),hotkeys(){return this.isComponentActive&&this.article?{"meta+e":this.openArticleEdit,"ctrl+e":this.openArticleEdit,u:this.goToLastVisitedArticlesList}:{}},translationData(){if(!this.article.postLabels)return null;const{data:t=null}=this.article.postLabels.find((t=>"translation"===t.type))||{};return t},adriverPixels(){const{metadata:{adriverPixels:t}={}}=this.article||{};return t},isWideVariant(){return"wide"===this.variant},scrollThrottled(){return l()(this.logReadingProgress,200)},author(){return this.article&&this.article.author?this.getUserByAlias(this.article.author.alias)||this.article.author:null},showDonationBlock(){var t;if(!this.author)return!1;if("services"===this.author.donationsMethod)return!0;const e=Object.values((null===(t=this.author)||void 0===t?void 0:t.paymentDetails)??[]).some(Boolean);return"wallets"===this.author.donationsMethod&&e},articleWithCompanySettings(){return this.companyName?this.companyInfo&&this.companyInfo.settings&&this.article?{...this.article,settings:this.companyInfo.settings}:null:this.article},companyName(){return this.$route.params.companyName}},watch:{isLoading(t){t||this.startLogReadingProgress()}},activated(){this.hasTrackedPageview=!1},metaInfo(){const{article:t}=this;if(!t||!t.metadata)return{};const{lang:e,metadata:s}=t,{shareImageUrl:n,schemaJsonLd:i,amp:a}=s,o=[{href:(0,Ct.articleCanonical)(t),rel:"canonical",vmid:"canonical"},{rel:"image_src",href:n,vmid:"image:href"}];return a&&this.langOptions.hl===e&&o.push({rel:"amphtml",href:`https://habr.com/${e}/amp/publications/${t.id}/`}),{title:(0,St._)(t.titleHtml),link:o,meta:(0,ht.GD)(this.article),script:[{type:"application/ld+json",innerHTML:i,vmid:"ldjson-schema"}],__dangerouslyDisableSanitizers:["script"],__dangerouslyDisableSanitizersByTagID:{"ldjson-schema":["innerHTML"]}}},mounted(){this.hasMounted=!0,this.$activeWatch((()=>this.articleWithCompanySettings),(t=>{t&&(this.collectAnalytics().then((()=>{this.isLoggedIn&&this.loadUpdates()})),(0,m.Df)(),this.isLoggedIn||(0,o.t8)(t.id,t.statistics.commentsCount),this.adriverPixels&&this.adriverPixels.length&&this.initAdriverPixels())}),{immediate:!0,equals:gt.wm}),this.isLoading||this.startLogReadingProgress()},deactivated(){this.stopLogReadingProgress()},beforeDestroy(){this.stopLogReadingProgress()},methods:{...(0,a.nv)("me",["loadUpdates"]),startLogReadingProgress(){this.$refs.article&&(this.timerId=setTimeout((()=>{this.logReadingProgress()}),1e3),document.addEventListener("scroll",this.scrollThrottled,{passive:!0}))},stopLogReadingProgress(){clearInterval(this.timerId),document.removeEventListener("scroll",this.scrollThrottled)},logReadingProgress(){if(!this.$refs.article)return;const t=[0,25,50,75,100];Q(this.$refs.article)&&t.forEach((t=>{this.readingProgress<t&&X(this.$refs.article,t)&&(this.readingProgress=t,It({uuid:this.uuid,publicationId:this.article.id,publicationType:this.article.postType,checkpoint:t}))}))},openArticleEdit(){(0,Tt.I5)(this.article,this.$router)},misprintAction(t){return(0,ft.Ai)(this.article.id,t)},goToLastVisitedArticlesList(){const t=(0,vt.bc)(this.langOptions),e=this.lastVisitedRoute.name?this.lastVisitedRoute:t;this.$router.push(e)},deleteArticle(t){window.confirm(this.msg("ARTICLE_DRAFT_DELETE_CONFIRM"))&&(0,ft.mZ)(t).then((()=>{this.$router.push({name:"ARTICLES_LIST_BY_USER",params:{login:this.userAlias,hl:this.langOptions.hl}}),this.$toast.info(this.msg("ARTICLE_DELETED"))})).catch((t=>{this.$toast.error(t.message)}))},initAdriverPixels(){this.adriverPixels.forEach((t=>{const e=new Image;e.src=t}))},collectAnalytics(){return new Promise((t=>{var e;if(this.hasTrackedPageview)return void t();(0,ft.Az)(this.article.id).catch((t=>{c.Z.notifyException(t)})).finally(t);const s=Pt()({isEditorial:this.article.isEditorial,companySettings:null===(e=this.companyInfo)||void 0===e?void 0:e.settings}),n={hubs_and_flows:bt()(this.article)};s&&(n.page_producer=s),(0,D.Z0)({fullPath:this.$route.fullPath,optionalParams:n}),this.hasTrackedPageview=!0}))}}},Ot=Lt;var Nt=(0,O.Z)(Ot,n,i,!1,null,null,null);const Mt=Nt.exports},46283:(t,e,s)=>{"use strict";s.d(e,{Z:()=>h});var n=function(){var t=this,e=t._self._c;return e("article",{class:`tm-article-snippet-block-${t.layout} tm-article-snippet-block-${t.layout}_preview`},["mostReadingList"!==t.bookmarkModule?e("div",{staticClass:"tm-article-snippet-block__user-meta"},[t.showDate?e("div",{staticClass:"tm-article-snippet-block__date"},[t.article.timePublished?e("TMDatetime",{attrs:{date:new Date(t.article.timePublished),"is-article-format":""}}):t.article.plannedPublishTime?e("span",[e("TMMessageInterpolation",{attrs:{message:t.msg("ARTICLE_PLANNED")},scopedSlots:t._u([{key:"datetime",fn:function(){return[e("TMDatetime",{attrs:{"absolute-date":"",date:new Date(t.article.plannedPublishTime),"show-full-date-time":""}})]},proxy:!0}],null,!1,608089416)})],1):e("span",{domProps:{textContent:t._s(t.msg("ARTICLE_NEVER_PUBLISHED"))}})],1):t._e()]):t._e(),t._v(" "),"fullview"===t.layout?e("h1",{staticClass:"tm-article-title",class:`tm-article-title_${t.layout}`},[e("span",{staticClass:"tm-article-title__text",domProps:{innerHTML:t._s(t.article.titleHtml)}})]):e("h2",{staticClass:"tm-article-title",class:`tm-article-title_${t.layout}`},[e("TMPublicationLink",{staticClass:"tm-article-title__link",class:t.titleClassName,attrs:{article:t.article},nativeOn:{click:function(e){return t.logClickEvent.apply(null,arguments)}}},[e("span",{domProps:{innerHTML:t._s(t.article.titleHtml)}})])],1),t._v(" "),e("TMDataIcons",{attrs:{article:t.article,"bookmark-module":t.bookmarkModule,"ga-event":t.gaEvent,"icons-list":t.iconsList,type:t.layout}})],1)},i=[],a=s(30404),o=s(76068),r=s(69137),l=s(4307),c=s(48001),m=s(8065);const u={name:"TMArticleSnippetBlock",components:{TMDataIcons:a.Z,TMDatetime:o.Z,TMPublicationLink:l.Z,TMMessageInterpolation:r.Z},props:{article:c.sK,gaEvent:{type:[Object,String],required:!1,default:null},layout:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},customIconsList:{type:Array,default:()=>null},showDate:{type:Boolean,default:!0}},computed:{iconsList(){return this.customIconsList?this.customIconsList:"block"===this.layout?["votes","views","comments","favorite"]:["views","comments"]},titleClassName(){return{"tm-article-title__link_megapost":"megaproject"===this.article.postType}}},methods:{logClickEvent(){this.gaEventName&&"string"===typeof this.gaEventName&&(0,m.IZ)(this.gaEventName)}}},d=u;var p=s(1001),_=(0,p.Z)(d,n,i,!1,null,null,null);const h=_.exports},88830:(t,e,s)=>{"use strict";s.d(e,{Z:()=>F});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-snippet",class:t.bem("tm-article-snippet",{noBorder:t.noBorder})},[t._t("top"),t._v(" "),e("div",{staticClass:"tm-article-snippet__meta-container"},[e("div",{staticClass:"tm-article-snippet__meta"},[t.showAuthor?e("TMUserInfo",{staticClass:"tm-article-snippet__author",attrs:{author:t.article.author,avatar:t.article.author.avatarUrl,"avatar-size":t.isMobile?32:24},nativeOn:{click:function(e){return t.logAuthorClick.apply(null,arguments)}}},[e("TMArticleDatetimePublished",{attrs:{article:t.article,"is-megapost-v1":t.isMegapostV1,link:t.dateAsLink}})],1):e("TMArticleDatetimePublished",{attrs:{article:t.article,"is-megapost-v1":t.isMegapostV1,link:t.dateAsLink}})],1),t._v(" "),t.showModeratorCheck||t.showEdit?e("div",{staticClass:"tm-article-snippet__controls"},[t.showModeratorCheck&&t.article.checked?e("TMSvgImg",{staticClass:"tm-article-snippet__moderation",attrs:{id:"moderator-check"}}):t._e(),t._v(" "),t.showEdit?[t.isNewEditor?e("router-link",{staticClass:"tm-article-snippet__edit",attrs:{to:t.editPublicationRoute}},[e("TMSvgImg",{staticClass:"icon_edit-post",attrs:{id:"edit",size:"20"}})],1):e("a",{staticClass:"tm-article-snippet__edit",attrs:{href:t.desktopEditPublicationRoute,target:"_blank"}},[e("TMSvgImg",{staticClass:"icon_edit-post",attrs:{id:"edit",size:"20"}})],1)]:t._e(),t._v(" "),t.canDeleteDraft?e("button",{staticClass:"tm-article-snippet__delete",attrs:{title:t.msg("ARTICLE_DRAFT_DELETE")},on:{click:function(e){return t.$emit("delete")}}},[e("TMSvgImg",{staticClass:"icon_edit-post",attrs:{id:"trash",size:"20",title:t.msg("ARTICLE_DRAFT_DELETE")}})],1):t._e()],2):t._e()]),t._v(" "),e("TMArticleTitle",{class:{"tm-article-snippet__title_megapost":t.isMegapostV1},attrs:{article:t.article,"ga-event":t.gaTitle,lang:t.lang,tag:t.tag,"use-link":t.useLink}}),t._v(" "),e("div",{staticClass:"tm-article-snippet__stats"},[t.article.complexity?e("TMArticleComplexity",{attrs:{complexity:t.article.complexity}}):t._e(),t._v(" "),t.article.readingTime?e("TMArticleReadingTime",{attrs:{"reading-time":t.article.readingTime}}):t._e(),t._v(" "),t.isSandbox?t._e():e("TMIconCounter",{staticClass:"tm-data-icons__item",attrs:{abbreviated:"",counter:t.article.statistics.readingCount,"icon-id":"counter-views",title:t.msg("DATA_ICONS_VIEWS")}})],1),t._v(" "),t.showHubs&&t.article.hubs&&t.article.hubs.length?e("TMPublicationHubs",{attrs:{hubs:t.article.hubs,"is-old-megapost":t.isMegapostV1}}):t._e(),t._v(" "),t.showLabelsOrFormat?e("TMArticleLabels",{attrs:{article:t.article}}):t._e(),t._v(" "),t.article.moderationComment?e("TMNotice",{attrs:{type:"warning"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TMWarningIcon",{staticClass:"tm-article__moderation-comment-icon"})]},proxy:!0},{key:"title",fn:function(){return[e("div",{staticClass:"tm-article__moderation-comment-header"},[e("div",{staticClass:"tm-article__moderation-comment-title"},[t._v("\n          "+t._s(t.msg("ARTICLE_MODERATOR_MESSAGE"))+"\n        ")]),t._v(" "),t.isDesktop?e("TMDatetime",{attrs:{date:new Date(t.article.moderationComment.timeCreated),"show-full-date-time":""}}):t._e()],1)]},proxy:!0}],null,!1,1832162755)},[t._v(" "),t._v(" "),e("div",{staticClass:"tm-article__moderation-comment-body",domProps:{innerHTML:t._s(t.article.moderationComment.textHtml)}})]):t._e(),t._v(" "),t.showLead&&t.article.leadData?e("div",{staticClass:"tm-article-body tm-article-snippet__lead"},[t.article.leadData.image?e("div",{staticClass:"tm-article-snippet__cover",class:t.objectFitClass},[e("img",{staticClass:"tm-article-snippet__lead-image",style:t.objectPositionStyle,attrs:{src:t.article.leadData.image.url}})]):t.article.leadData.imageUrl?e("img",{staticClass:"tm-article-snippet__lead-image",attrs:{src:t.article.leadData.imageUrl}}):t._e(),t._v(" "),t.article.leadData.textHtml?e("TMArticleFormattedBody",{attrs:{"article-text":t.article.leadData.textHtml,version:t.editorVersion}}):t._e(),t._v(" "),t.article.leadData.buttonTextHtml?e("TMPublicationLink",{staticClass:"tm-article-snippet__readmore",attrs:{article:t.article}},[e("span",{domProps:{innerHTML:t._s(t.article.leadData.buttonTextHtml)}})]):t._e()],1):t._e()],2)},i=[],a=s(20629),o=function(){var t=this,e=t._self._c;return e("div",{class:t.bem("tm-article-complexity",{complexity:t.complexity})},[e("TMSvgIcon",{staticClass:"tm-article-complexity__icon",attrs:{id:`complexity-${t.complexity}`,size:"24",title:t.msg("PUBLICATION_COMPLEXITY")}}),t._v(" "),e("span",{staticClass:"tm-article-complexity__label"},[t._v("\n    "+t._s(t.label)+"\n  ")])],1)},r=[],l=s(33936),c=s(65873),m=s(59436);const u={name:"TMArticleComplexity",components:{TMSvgIcon:l.Z},props:{complexity:{type:String,validator:(0,m.H)(["low","medium","high"]),required:!0}},computed:{label(){return this.msg(`PUBLICATION_COMPLEXITY_${this.complexity.toUpperCase()}`)}},methods:{bem:c.P}},d=u;var p=s(1001),_=(0,p.Z)(d,o,r,!1,null,null,null);const h=_.exports;var g=s(4054),T=s(35099),v=s(63726),S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-reading-time"},[e("TMSvgIcon",{staticClass:"tm-article-reading-time__icon",attrs:{id:"clock",size:"24"}}),t._v(" "),e("span",{staticClass:"tm-article-reading-time__label"},[t._v("\n    "+t._s(t.label)+"\n  ")])],1)},f=[];const E={name:"TMArticleReadingTime",components:{TMSvgIcon:l.Z},props:{readingTime:{type:Number,required:!0}},computed:{label(){return this.msg("ARTICLE_READING_TIME",{readingTime:this.readingTime})}}},I=E;var C=(0,p.Z)(I,S,f,!1,null,null,null);const A=C.exports;var b=s(37334),y=s(76068),P=s(3501),L=s(90707),O=s(19695),N=s(4307),M=s(31490),R=s(87843),k=s(52717),w=s(8065),B=s(63715);const D=()=>s.e(3079).then(s.bind(s,43079)),x={name:"TMArticleSnippet",components:{TMArticleLabels:v.Z,TMPublicationHubs:O.Z,TMArticleTitle:b.Z,TMArticleComplexity:h,TMArticleReadingTime:A,TMDatetime:y.Z,TMNotice:L.Z,TMSvgImg:M.Z,TMIconCounter:P.Z,TMUserInfo:R.Z,TMPublicationLink:N.Z,TMWarningIcon:D,TMArticleFormattedBody:T.Z,TMArticleDatetimePublished:g.Z},props:{article:{default:()=>{},type:Object},tag:{type:String,default:"h2"},useLink:{type:Boolean,default:!1},fullArticle:{type:Boolean,default:!1},lang:{type:String,default:null},withHubs:{type:Boolean,default:null},withLabels:{type:Boolean,default:null},withLead:{type:Boolean,default:null},withAuthor:{type:Boolean,default:!0},noBorder:Boolean,articleView:{type:String,default:null,validator(t){return["cards","list"].includes(t)}},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},dateAsLink:{type:Boolean,default:!1}},computed:{...(0,a.Se)("articlesList",{getGlobalArticleView:"getArticleView"}),...(0,a.Se)("global",["isDesktop","isMobile"]),...(0,a.Se)("me",["isSuperAdmin"]),getArticleView(){return this.articleView||this.getGlobalArticleView},isMegapostV1(){return"megaproject"===this.article.postType&&1===this.editorVersion},isMegapostV2(){return"megaproject"===this.article.postType&&2===this.editorVersion},showHubs(){return null===this.withHubs?this.fullArticle||"cards"===this.getArticleView:this.withHubs},showLabels(){return!1!==this.withLabels},showLead(){return null===this.withLead?!this.fullArticle&&"cards"===this.getArticleView:this.withLead},showAuthor(){return this.withAuthor&&this.article.author&&!this.isMegapostV1&&!this.isMegapostV2},editorVersion(){return parseInt(this.article.editorVersion,10)},leadDataImage(){const{article:{leadData:t}}=this;return t&&t.image},objectFitClass(){return this.leadDataImage&&this.leadDataImage.fit&&`tm-article-snippet__cover_${this.leadDataImage.fit}`},objectPositionStyle(){return this.leadDataImage&&`object-position: ${this.leadDataImage.positionX}% ${this.leadDataImage.positionY}%`},showEdit(){const{relatedData:t}=this.article;return t&&t.canEdit&&!this.isMegapost},isNewEditor(){const t=parseInt(this.article.editorVersion,10);return 2===t},showModeratorCheck(){return this.isSuperAdmin},editPublicationRoute(){return"megaproject"===this.article.postType&&this.isNewEditor?{name:"PUBLICATION_MEGAPOST_EDIT",params:{publicationId:this.article.id}}:"news"===this.article.postType?{name:"PUBLICATION_NEWS_EDIT",params:{publicationId:this.article.id}}:{name:"sandbox"===this.article.postType?"PUBLICATION_SANDBOX_EDIT":"PUBLICATION_ARTICLE_EDIT",params:{publicationId:this.article.id}}},desktopEditPublicationRoute(){return this.isMegapostV1?(0,B.c)(this.article.id):(0,k.B)(this.article)},canDeleteDraft(){return"draft"===this.article.status&&!this.article.timePublished&&!this.article.plannedPublishTime},showLabelsOrFormat(){return this.showLabels&&this.article.postLabels&&this.article.postLabels.length||this.article.format&&"common"!==this.article.format},isSandbox(){return"sandbox"===this.$route.meta.pageType||this.$route.meta.isSandboxPage}},methods:{bem:c.P,logAuthorClick(){this.gaAuthor&&(0,w.IZ)(this.gaAuthor)}}},$=x;var U=(0,p.Z)($,n,i,!1,null,null,null);const F=U.exports},37334:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("TMTitle",{attrs:{lang:t.lang,"link-props":t.linkData,tag:t.tag,title:t.article.titleHtml,to:t.route,"use-link":t.useLink},on:{"link-click":t.logTitleClick}})},i=[],a=s(31726),o=s(8065),r=s(23217);const l={name:"TMArticleTitle",components:{TMTitle:a.Z},props:{tag:{type:String,default:"h2"},useLink:{type:Boolean,default:!1},article:{default:()=>{},type:Object},gaEvent:{type:String,default:""},lang:{type:String,default:null}},computed:{route(){return(0,r.uT)(this.article,this.langOptions.hl)},linkData(){return{"data-test-id":"article-snippet-title-link","data-article-link":!0}}},methods:{logTitleClick(){this.gaEvent&&(0,o.IZ)(this.gaEvent)}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},30745:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",t._l(t.links,(function(t){return e("img",{key:t,staticStyle:{display:"none"},attrs:{height:"1",src:t,width:"1"}})})),0)},i=[];const a={name:"TMArticleTrackingPixels",props:{links:{type:Array,required:!0}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},16356:(t,e,s)=>{"use strict";s.d(e,{Z:()=>f});var n=function(){var t=this,e=t._self._c;return t.showFeedBlocks?e("div",{staticClass:"tm-article-feed-blocks"},[t.showPromoBlock?e("TMPromoBlock",{key:`promo_block_${t.position}`,attrs:{id:`promo_block_${t.position}`,"data-navigatable":"","ga-type":"feed_middle",tabindex:"0"}}):t.showAdBannerLeaderBoard?e("TMAdfoxBanner",{key:`ads_block_${t.position}`,attrs:{"adfox-id":"164725660339535756","div-id":"articlesListBanner",params:{pp:"h",ps:"fnps",p2:"hnyb"},variant:"leaderboard"}}):t.showRandomProjectBlock?e("TMRandomProjectBlock",{key:`project-blocks_${t.position}`,attrs:{id:`project-blocks_${t.position}`,"block-id":`project-blocks_${t.position}`,"data-navigatable":"",hubs:t.sortedHubs,location:"feed",tabindex:"0",tags:t.sortedTags}}):t.showStoriesBlock?e("TMStories",{key:`stories_block_${t.position}`,attrs:{id:`stories_block_${t.position}`,"ga-category":"stories_feed"}}):t.showCalendarBlock?e("TMEventsWidget",{key:`calendar_block_${t.position}`,attrs:{id:`calendar_block_${t.position}`}}):t.showAdBanner?e("TMAdfoxBanner",{key:`ads_block_${t.position}`,attrs:{"adfox-id":"169815585631156344","div-id":"articleCentralBanner",params:{pp:"h",ps:"fnps",p2:"iqpa"},"show-ad-title":!1,variant:"medium-narrow"}}):t._e()],1):t._e()},i=[],a=s(20629),o=s(12644),r=s(5606),l=s(99372),c=s(80312),m=s(32170);const u=10,d=13,p={default:{allPositions:[4,7,u,d,16],promoBlockPositions:[4],adBannerPositions:[],adBannerLeaderBoardPositions:[7],projectBlockPositions:[u,d],storiesBlockPositions:[],calendarBlockPositions:[16]},startup:{allPositions:[4,7,u,17],promoBlockPositions:[4],adBannerPositions:[7],adBannerLeaderBoardPositions:[],projectBlockPositions:[u,17],storiesBlockPositions:[],calendarBlockPositions:[]},articles:{allPositions:[4,7,u,13,16],promoBlockPositions:[7],adBannerPositions:[16],adBannerLeaderBoardPositions:[],projectBlockPositions:[u],storiesBlockPositions:[4],calendarBlockPositions:[13]},myFeed:{allPositions:[4,7,u,13,16],promoBlockPositions:[7],adBannerPositions:[],adBannerLeaderBoardPositions:[16],projectBlockPositions:[u],storiesBlockPositions:[4],calendarBlockPositions:[13]}},_=new Set(["NEWS_LIST_ALL","NEWS_LIST_ALL_PAGES","NEWS_LIST_ALL_SCORE","NEWS_LIST_ALL_SCORE_PAGES","NEWS_LIST_TOP","NEWS_LIST_TOP_PERIOD","NEWS_LIST_TOP_PERIOD","NEWS_LIST_TOP_PERIOD_PAGES","NEWS_LIST_BY_FLOW_ALL","NEWS_LIST_BY_FLOW_ALL_PAGES","NEWS_LIST_BY_FLOW_SCORE","NEWS_LIST_BY_FLOW_SCORE_PAGES","NEWS_LIST_BY_FLOW_TOP","NEWS_LIST_BY_FLOW_TOP_PERIOD","NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES","NEWS_LIST_BY_COMPANY","NEWS_LIST_BY_COMPANY_PAGES"]),h=t=>{const e={};return t.forEach((t=>{e[t]=(e[t]||0)+1})),Object.keys(e).sort(((t,s)=>e[t]-e[s]))},g={name:"TMArticlesFeedBlocks",components:{TMAdfoxBanner:o.Z,TMPromoBlock:c.Z,TMRandomProjectBlock:l.Z,TMStories:m.Z,TMEventsWidget:r.Z},props:{rotationType:{type:String,default:"default"},position:{type:Number,required:!0}},computed:{...(0,a.Se)("articlesList",["getAllHubsTitles","getAllTagsNames"]),...(0,a.Se)("me",["userShowAdv"]),currentRotationConfig(){return p[this.rotationType]||p.default},isFlEnglish(){return"en"===this.langOptions.fl},hubs(){return this.getAllHubsTitles(this.$route)},tags(){return this.getAllTagsNames(this.$route)},sortedHubs(){if(!this.hubs)return null;let t=h(this.hubs);return this.$route.params.hubName&&(t=Array.from(new Set([this.$route.params.hubName,...t]))),t},sortedTags(){return this.tags?h(this.tags):null},showFeedBlocks(){return this.currentRotationConfig.allPositions.includes(this.position)},showPromoBlock(){return this.currentRotationConfig.promoBlockPositions.includes(this.position)&&!this.isFlEnglish},showAdBannerLeaderBoard(){return this.currentRotationConfig.adBannerLeaderBoardPositions.includes(this.position)&&this.userShowAdv},showAdBanner(){return this.currentRotationConfig.adBannerPositions.includes(this.position)&&this.userShowAdv},showRandomProjectBlock(){return this.currentRotationConfig.projectBlockPositions.includes(this.position)&&!this.isFlEnglish&&this.correctRandomProjectPositionInNews},correctRandomProjectPositionInNews(){return this.isNewsRoute?this.position===d:this.position===u},showStoriesBlock(){return this.currentRotationConfig.storiesBlockPositions.includes(this.position)},showCalendarBlock(){return this.currentRotationConfig.calendarBlockPositions.includes(this.position)&&!this.isFlEnglish&&this.correctCalendarPositionInNews},correctCalendarPositionInNews(){return this.isNewsRoute?16===this.position:13===this.position},isNewsRoute(){return this.$route.matched.some((t=>_.has(t.name)))}}},T=g;var v=s(1001),S=(0,v.Z)(T,n,i,!1,null,null,null);const f=S.exports},13685:(t,e,s)=>{"use strict";s.d(e,{Z:()=>_});var n=function(){var t=this,e=t._self._c;return e("TMArticlesList",{attrs:{"articles-list":t.currentArticlesList,"is-loading":t.isLoading,"pages-count":t.currentPagesCount,"publications-type":t.publicationsType},scopedSlots:t._u([{key:"afterArticle",fn:function({position:s,currentPage:n}){return[t._t("afterArticle",(function(){return[t.isPosts?t._e():e("TMArticlesFeedBlocks",{attrs:{position:s,"rotation-type":t.isArticles?"articles":"default"}})]}),{currentPage:n,position:s})]}},{key:"afterArticles",fn:function(){return[t.isUserShowSubscriptionBlock?e("TMSubscriptionBlock",{attrs:{id:"subcriptions_block","data-navigatable":"",tabindex:"0"}}):t._e()]},proxy:!0}],null,!0)})},i=[],a=s(20629),o=s(16356),r=s(11766),l=s(73017),c=s(28374);const m={name:"TMArticlesFeed",components:{TMArticlesFeedBlocks:o.Z,TMArticlesList:r.Z,TMSubscriptionBlock:l.Z},props:{isArticles:{type:Boolean,default:!1},isPosts:{type:Boolean,default:!1}},computed:{...(0,a.rn)("me",["user"]),...(0,a.rn)("articlesList",["isLoading","pagesCount"]),...(0,a.Se)("articlesList",["getArticlesList"]),isUserShowSubscriptionBlock(){return this.user&&null===this.user.settings.miscSettings.digestSubscription},routeKey(){return(0,c.Z)(this.$route)},currentArticlesList(){return this.getArticlesList(this.routeKey)},currentPagesCount(){return this.pagesCount[this.routeKey]},publicationsType(){return this.isPosts?"posts":"default"}}},u=m;var d=s(1001),p=(0,d.Z)(u,n,i,!1,null,null,null);const _=p.exports},11766:(t,e,s)=>{"use strict";s.d(e,{Z:()=>x});var n=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("TMPlaceholder",{attrs:{modificator:"preview",times:7,type:"article"}}):t.articlesList&&t.articlesList.length?[e("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.hotkeys,expression:"hotkeys",modifiers:{stop:!0}}],staticClass:"tm-articles-list"},[t._l(t.articlesList,(function(s,n){return[10===n?e("a",{key:`more_news_${n}`,attrs:{name:"more-news"}}):t._e(),t._v(" "),"voice"===s.postType&&s.leadData.textHtml?e("TMVoiceArticle",{key:s.id,staticClass:"tm-articles-list__item",attrs:{id:s.id,article:s,"data-navigatable":"",tabindex:"0"},on:{delete:function(e){return t.$emit("deleteVoice",s)}},scopedSlots:t._u([{key:"top",fn:function(){return[t.showPublicationsTypes?e("PublicationTypeLabel",{key:`type_lable_${n}`,attrs:{"publication-type":t.getPublicationType(s)}}):t._e()]},proxy:!0}],null,!0)}):e("article",{key:s.id+s.titleHtml,class:t.bem("tm-articles-list__item",{"no-padding":"post"===s.publicationType}),attrs:{id:s.id,"data-navigatable":"",tabindex:"0"}},["post"===s.publicationType?e("TMPostSnippet",{attrs:{"article-view":t.articleView,"compact-view":t.postSnippetCompactView,"date-as-link":"",post:s,"show-icons":""},on:{delete:function(e){return t.$emit("deleteArticle",s)}},scopedSlots:t._u([{key:"top",fn:function(){return[t.showPublicationsTypes?e("PublicationTypeLabel",{key:`type_lable_${n}`,attrs:{"publication-type":t.getPublicationType(s)}}):t._e()]},proxy:!0}],null,!0)}):"megaproject"===s.postType&&"1.0"===s.editorVersion?e("TMMegapostSnippet",{attrs:{article:s,"article-view":t.articleView}}):e("TMArticleSnippet",{attrs:{article:s,"article-view":t.articleView,"date-as-link":"","use-link":""},on:{delete:function(e){return t.$emit("deleteArticle",s)}},scopedSlots:t._u([{key:"top",fn:function(){return[t.showPublicationsTypes?e("PublicationTypeLabel",{key:`type_lable_${n}`,attrs:{"publication-type":t.getPublicationType(s)}}):t._e()]},proxy:!0}],null,!0)}),t._v(" "),"post"!==s.publicationType?e("TMDataIcons",{ref:"counters",refInFor:!0,attrs:{article:s,"bookmark-module":t.bookmarkModule,"icons-list":["votes","comments","favorite","share"]}}):t._e()],1),t._v(" "),t.$scopedSlots.afterArticle?e("div",{key:`afterArticle_${n}`,staticClass:"tm-articles-list__after-article"},[t._t("afterArticle",null,{currentPage:t.currentPage,position:n+1})],2):t._e()]}))],2),t._v(" "),t.$slots.afterArticles?e("div",{staticClass:"tm-articles-list__after-articles"},[t._t("afterArticles")],2):t._e(),t._v(" "),t.pagesCount>1?e("TMPagination",{attrs:{"route-name":t.paginationRouteName,"total-pages":t.pagesCount}}):t._e()]:e("TMEmptyPlaceholder",[e("span",{domProps:{textContent:t._s(t.msg("EMPTY_POSTS_MESSAGE"))}})])],2)},i=[],a=s(20629),o=s(88830),r=s(30404),l=s(6251),c=s(61260),m=s(28074),u=s(40591),d=s(72726),p=function(){var t=this,e=t._self._c;return e("div",{class:t.baseClassName},[t.helpLink?e("a",{class:t.labelClassName,attrs:{href:t.helpLink,target:"_blank"}},[t._v("\n    "+t._s(t.label)+"\n  ")]):e("span",{class:t.labelClassName},[t._v("\n    "+t._s(t.label)+"\n  ")])])},_=[],h=s(65873);const g={name:"PublicationTypeLabel",props:{publicationType:{type:String,required:!0,validator(t){return["news","post","article","voice"].includes(t)}}},computed:{label(){switch(this.publicationType){case"news":return this.msg("PUBLICATION_TYPE_NEWS");case"post":return this.msg("PUBLICATION_TYPE_POST");case"voice":return this.msg("PUBLICATION_TYPE_VOICE");default:return this.msg("PUBLICATION_TYPE_ARTICLE")}},helpLink(){return"voice"!==this.publicationType?null:`/${this.langOptions.hl}/docs/help/publications/#voice`},labelClassName(){return(0,h.P)("publication-type-label__label",{type:this.publicationType})},baseClassName(){return(0,h.P)("publication-type-label",{type:this.publicationType})}}},T=g;var v=s(1001),S=(0,v.Z)(T,p,_,!1,null,null,null);const f=S.exports;var E=function(){var t=this,e=t._self._c;return e("article",{staticClass:"tm-voice-article"},[t._t("top"),t._v(" "),e("div",{staticClass:"tm-voice-article__voice-controls"},[t.article.relatedData&&t.article.relatedData.canEdit?e("router-link",{staticClass:"tm-voice-article__voice-control tm-voice-article__edit-voice",attrs:{to:{name:"VOICE_EDIT",params:{voiceId:t.article.id}}}},[e("TMSvgImg",{attrs:{id:"edit",size:"20"}})],1):t._e(),t._v(" "),t.article.relatedData&&t.article.relatedData.canEdit&&!t.article.timePublished?e("button",{staticClass:"tm-voice-article__voice-control tm-voice-article__delete-voice",attrs:{title:t.msg("ARTICLE_DRAFT_DELETE")},on:{click:function(e){return t.$emit("delete")}}},[e("TMSvgImg",{attrs:{id:"trash",size:"20",title:t.msg("ARTICLE_DRAFT_DELETE")}})],1):t._e()],1),t._v(" "),e("TMArticleFormattedBody",{staticClass:"tm-voice-article__body",attrs:{"article-text":t.article.leadData.textHtml,"should-format":!1}})],2)},I=[],C=s(35099),A=s(31490);const b={name:"TMVoiceArticle",components:{TMSvgImg:A.Z,TMArticleFormattedBody:C.Z},props:{article:{type:Object,required:!0}}},y=b;var P=(0,v.Z)(y,E,I,!1,null,null,null);const L=P.exports;var O=s(4441),N=s(75444),M=s(23217),R=s(91256);function k(t){const e=`[name="${t}"]`,s=document.querySelector(e);s&&(0,R.kI)(s);const n=new MutationObserver((()=>{Array.from(document.querySelectorAll(e)).forEach((t=>{t.scrollIntoView(!0),n.disconnect()}))}));return n.observe(document.documentElement,{childList:!0,subtree:!0}),()=>n.disconnect()}const w={name:"TMArticlesList",components:{PublicationTypeLabel:f,TMArticleSnippet:o.Z,TMDataIcons:r.Z,TMEmptyPlaceholder:l.Z,TMMegapostSnippet:c.Z,TMPagination:m.Z,TMPlaceholder:u.Z,TMVoiceArticle:L,TMPostSnippet:d.Z},props:{articlesList:{type:Array,required:!0},pagesCount:{type:Number,default:1},isLoading:{type:Boolean,default:!1},articleView:{type:String,default:null,validator(t){return["cards","list"].includes(t)}},bookmarkModule:{type:String,default:"articlesList"},postsCompactView:{type:Boolean,default:!1},showPublicationsTypes:{type:Boolean,default:!1}},data(){return{disconnectObserver:null}},computed:{...(0,a.Se)("articlesList",["compactView"]),postSnippetCompactView(){return this.postsCompactView&&this.compactView},paginationRouteName(){const t=-1!==this.$route.name.indexOf("_PAGES");return t?this.$route.name:`${this.$route.name}_PAGES`},hotkeys(){const{toggleArticleView:t}=this;return(0,N.c)({toggleArticleView:t})},currentPage(){return Number(this.$route.params.pageNum)||1}},mounted(){this.setLastVisitedRoute(this.$route),this.$route.hash===`#${M.dY}`&&(this.disconnectObserver=k(M.dY))},beforeDestroy(){this.disconnectObserver&&this.disconnectObserver()},methods:{getPublicationType:O.T,bem:h.P,...(0,a.nv)("articlesList",["setLastVisitedRoute","toggleArticleView"])}},B=w;var D=(0,v.Z)(B,n,i,!1,null,null,null);const x=D.exports},10450:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("TMScrollLockTransition",{attrs:{name:"transition-fade"}},[t.isConfirmVisible?e("TMPopupBase",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{enter:t.confirm},expression:"{ enter: confirm }"}],attrs:{centered:""},on:{close:t.cancel}},[e("div",{staticClass:"tm-confirmation-dialog"},[e("h2",{staticClass:"tm-confirmation-dialog__title"},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),t.message?e("p",{staticClass:"tm-confirmation-dialog__description"},[t._v("\n        "+t._s(t.message)+"\n      ")]):t._e(),t._v(" "),e("div",{staticClass:"tm-confirmation-dialog__actions"},[e("TMButtonBase",{staticClass:"tm-confirmation-dialog__action tm-confirmation-dialog__action_confirm",attrs:{"style-size":"small",type:"button"},on:{click:t.confirm}},[t._v("\n          "+t._s(t.confirmLabel)+"\n        ")]),t._v(" "),e("TMButtonBase",{staticClass:"tm-confirmation-dialog__action tm-confirmation-dialog__action_cancel",attrs:{"style-size":"small","style-type":"transparent",type:"button"},on:{click:t.cancel}},[t._v("\n          "+t._s(t.cancelLabel)+"\n        ")])],1)])]):t._e()],1)},i=[],a=s(17903),o=s(19189),r=s(10529);const l={name:"TMAsyncConfirmationDialog",components:{TMButtonBase:a.Z,TMPopupBase:o["default"],TMScrollLockTransition:r.Z},data(){return{title:void 0,message:void 0,confirmLabel:void 0,cancelLabel:void 0,resolvePromise:void 0,rejectPromise:void 0,isConfirmVisible:!1}},methods:{show(t={}){const{title:e,message:s,confirmLabel:n,cancelLabel:i}=t;return this.title=e,this.message=s,this.confirmLabel=n||this.msg("CONFIRM_OK_BUTTON_LABEL"),this.cancelLabel=i||this.msg("CONFIRM_CANCEL_BUTTON_LABEL"),this.isConfirmVisible=!0,new Promise(((t,e)=>{this.resolvePromise=t,this.rejectPromise=e}))},confirm(){this.isConfirmVisible=!1,this.callResolve(!0)},cancel(){this.isConfirmVisible=!1,this.callResolve(!1)},callResolve(t){this.resolvePromise&&(this.resolvePromise(t),this.resolvePromise=void 0)},callReject(t){this.rejectPromise&&(this.rejectPromise(t),this.rejectPromise=void 0)}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},17907:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"component",staticClass:"tm-block",class:t.bem("tm-block",{spacing:t.spacing,variant:t.variant})},[t.title||"header-aside"in t.$slots?e("header",{staticClass:"tm-block__header",class:t.bem("tm-block__header",{variant:t.headerVariant})},[e("div",{staticClass:"tm-block__header-container"},[t.title?e(t.titleTag,{tag:"component",staticClass:"tm-block__title",class:t.bem("tm-block__title",{variant:t.titleVariant}),domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),t._t("block-settings")],2),t._v(" "),"header-aside"in t.$slots?e("div",{staticClass:"tm-block__header-aside"},[t._t("header-aside")],2):t._e()]):t._e(),t._v(" "),t._t("body",(function(){return[e("div",{staticClass:"tm-block__body",class:t.bem("tm-block__body",{variant:t.bodyVariant})},[t._t("default")],2)]})),t._v(" "),t.$slots.footer?e("footer",{staticClass:"tm-block__footer"},[t._t("footer",(function(){return[t._t("default")]}))],2):t._e()],2)},i=[],a=s(65873),o=s(59436);const r={name:"TMBlock",props:{tag:{type:String,default:"section"},title:{type:String,default:null},titleTag:{type:String,default:"h2"},headerVariant:{type:String,default:null,validator:(0,o.H)(["borderless"])},titleVariant:{type:String,default:null,validator:(0,o.H)(["large"])},bodyVariant:{type:String,default:null,validator:(0,o.H)(["balanced","condensed","condensed-slim","stucked","island","equal"])},spacing:{type:String,default:"bottom",validator:(0,o.H)(["top","bottom","around","none"])},variant:{type:String,default:null,validator:(0,o.H)(["border-bottom"])}},methods:{bem:a.P}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},94479:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("button",{staticClass:"bookmarks-button",attrs:{disabled:t.isProcessing,title:t.buttonTitle,type:"button"},on:{click:function(e){return t.$emit("toggle-bookmark")}}},[t.isProcessing?e("TMCircleLoader",{staticClass:"bookmarks-button__loader",attrs:{"circle-height":10,"circle-width":10,height:24,width:24}}):e("TMSvgIcon",{staticClass:"bookmarks-button__icon",class:{"bookmarks-button__icon_highlighted":t.isBookmarked},attrs:{id:"counter-favorite",size:"24",tag:"span",title:t.iconTitleAttr}}),t._v(" "),t.isCounterShown?e("span",{staticClass:"bookmarks-button__counter",class:{"bookmarks-button__counter_highlighted":t.isBookmarked},attrs:{title:t.msg("DATA_ICONS_BOOKMARKS_COUNT")}},[t._v("\n    "+t._s(t.bookmarksCount)+"\n  ")]):t._e()],1)},i=[],a=s(2681),o=s(33936);const r={name:"TMBookmarkButton",components:{TMCircleLoader:a.Z,TMSvgIcon:o.Z},props:{bookmarksCount:{type:Number,default:0},isBookmarked:Boolean,isProcessing:Boolean,isCounterShown:{type:Boolean,default:!0}},computed:{iconTitleAttr(){return this.isBookmarked?this.msg("DATA_ICONS_REMOVE_FROM_BOOKMARKS"):this.msg("DATA_ICONS_ADD_TO_BOOKMARKS")},buttonTitle(){return this.isBookmarked?this.msg("DATA_ICONS_REMOVE_FROM_BOOKMARKS"):this.msg("DATA_ICONS_ADD_TO_BOOKMARKS")}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},91433:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"component",staticClass:"tm-bordered-card"},[t.typeTitle?e("div",{staticClass:"tm-bordered-card__type"},[t._v("\n    "+t._s(t.typeTitle)+"\n  ")]):t._e(),t._v(" "),t._t("default")],2)},i=[],a=s(59436);const o={name:"TMBorderedCard",props:{tag:{type:String,default:"div"},type:{type:String,default:null,validator:(0,a.H)(["vacancy","event"])}},computed:{typeTitle(){switch(this.type){case"event":return this.msg("COMPANY_ADMIN_WIDGETS_MULTI_WIDGET_TYPE_EVENT");case"vacancy":return this.msg("COMPANY_ADMIN_WIDGETS_MULTI_WIDGET_TYPE_VACANCY");default:return null}}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},52795:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("TMOverlay",{on:{close:function(e){return t.$emit("close")}}},[e("div",{ref:"wrapper",staticClass:"tm-bottom-sheet"},[t.noCloseButton?t._e():e("button",{staticClass:"tm-bottom-sheet__close",class:t.bem("tm-bottom-sheet__close",{card:t.card}),attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("TMSvgImg",{staticClass:"tm-bottom-sheet__close-icon",attrs:{id:"close-rounded",size:"24"}})],1),t._v(" "),e("div",{staticClass:"tm-bottom-sheet__header",class:t.bem("tm-bottom-sheet__header",{card:t.card})},[t.title?e("div",{staticClass:"tm-bottom-sheet__title",domProps:{textContent:t._s(t.title)}}):t._e()]),t._v(" "),t.$slots.default?e("div",{staticClass:"tm-bottom-sheet__content",class:t.bem("tm-bottom-sheet__content",{card:t.card})},[t._t("default")],2):t._e(),t._v(" "),t._t("body")],2)])},i=[],a=s(41659),o=s(31490),r=s(65873);const l={name:"TMBottomSheet",components:{TMOverlay:a.Z,TMSvgImg:o.Z},props:{title:{type:String,default:null},card:Boolean,noCloseButton:Boolean},methods:{bem:r.P}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},410:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-button-follow",on:{click:t.onClick}},[t.computedSubscribed?e("span",{staticClass:"tm-button-follow__unfollow"},[t._v("\n    ×\n  ")]):t._e(),t._v(" "),e("button",{staticClass:"tm-button-follow__button tm-button-follow__button_big",class:t.className,attrs:{type:"button"}},[t._v("\n    "+t._s(t.buttonText)+"\n  ")])])},i=[],a=s(20629);const o={name:"TMButtonFollow",props:{useFollowLabel:Boolean,subscribed:Boolean},data(){return{computedSubscribed:this.subscribed}},computed:{...(0,a.Se)("i18n",["msg"]),i18n(){return{subscribe:this.useFollowLabel?this.msg("PROFILE_ACTION_FOLLOW"):this.msg("PROFILE_ACTION_SUBSCRIBE"),subscribed:this.useFollowLabel?this.msg("PROFILE_ACTION_FOLLOWING"):this.msg("PROFILE_ACTION_SUBSCRIBED")}},buttonText(){return this.computedSubscribed?this.i18n.subscribed:this.i18n.subscribe},className(){return{"tm-button-follow__button_is-active":this.computedSubscribed}}},watch:{subscribed(t){this.computedSubscribed=t}},methods:{onClick(){this.computedSubscribed=!this.computedSubscribed,this.$emit("onToggle")}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},42907:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMButtonBase",t._g(t._b({class:t.bem("tm-button",{color:t.color}),attrs:{disabled:t.disabled,"is-loading":t.isLoading,"style-size":t.styleSize,"style-type":t.styleType}},"TMButtonBase",t.$attrs,!1),t.$listeners),[t._t("default")],2)},i=[],a=s(17903),o=s(65873);const r={name:"TMButton",components:{TMButtonBase:a.Z},props:{styleType:{default:"solid",type:String,validator:t=>["solid","transparent"].includes(t)},styleSize:{default:"small",type:String,validator:t=>["small","middle","large"].includes(t)},disabled:{default:!1,type:Boolean},isLoading:{default:!1,type:Boolean},color:{type:String,default:"horizon",validator:t=>["horizon","fuzzy-wuzzy-brown","christi"].includes(t)}},methods:{bem:o.P}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},2681:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lds-ring",style:t.styleVars},[e("div",{style:t.styleVars}),t._v(" "),e("div",{style:t.styleVars}),t._v(" "),e("div",{style:t.styleVars}),t._v(" "),e("div",{style:t.styleVars})])},i=[];const a={name:"TMCircleLoader",props:{width:{type:Number,default:15},height:{type:Number,default:15},color:{type:String,default:"#bbcdd6"},circleWidth:{type:Number,default:15},circleHeight:{type:Number,default:15}},computed:{styleVars(){return{"--circle-loader-width":`${this.width}px`,"--circle-loader-height":`${this.height}px`,"--circle-loader-circle-width":`${this.circleWidth}px`,"--circle-loader-circle-height":`${this.circleHeight}px`,"--circle-loader-circle-border-color":`${this.color}`}}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},16910:(t,e,s)=>{"use strict";s.d(e,{Z:()=>E});var n=function(){var t=this,e=t._self._c;return e("div",{class:t.bem("tm-comment-footer",{"is-pinned":t.isPinnedSection})},[t.comment.isReadonly?t._e():[t.hasMounted&&t.showVotesLever?e("TMVotesLever",{staticClass:"tm-comment-footer__votes-switcher",attrs:{appearance:"comment","is-loading":t.isLoadingVote,"is-plusified":!0,"no-votes-title":t.msg("COMMENT_NOT_RATED"),score:t.comment.score,"vote-state":t.comment.vote&&t.comment.vote.value||0,"votes-count":t.comment.votesCount},on:{downvote:function(e){return t.onVote("down",e)},"open-comment-hint":function(e){return t.openCommentRatingHint(e)},upvote:function(e){return t.onVote("up",e)}}}):e("TMVotesMeter",{ref:"votesMeter",staticClass:"tm-comment-footer__votes-meter",attrs:{appearance:"comment","no-votes-title":t.msg("COMMENT_NOT_RATED"),score:t.comment.score||0,"vote-state":t.hasMounted&&t.comment.vote&&t.comment.vote.value||0,"votes-count":t.comment.votesCount},on:{"open-comment-hint":function(e){return t.openCommentRatingHint(e)}}}),t._v(" "),t._t("button",(function(){return[e("TMArticleCommentsLink",{staticClass:"tm-comment-footer__button tm-comment-footer__button",attrs:{article:t.publication,"comment-id":t.comment.id}},[t._v("\n        "+t._s(t.msg("COMMENT_ACTION_LOOK"))+"\n      ")])]})),t._v(" "),t.favoriteAction&&!t.isPost?e("TMBookmarksButton",{ref:"favoriteButton",staticClass:"tm-comment-footer__button tm-comment-footer__button_with-icon",attrs:{"is-bookmarked":!!t.hasMounted&&t.comment.isFavorite,"is-counter-shown":!1,"is-processing":t.isLoadingFavorite},on:{"toggle-bookmark":t.favorite}}):t._e()],t._v(" "),t.popupToggleVisible?e("button",{ref:"popupButton",staticClass:"tm-comment__button tm-comment__button_with-icon",attrs:{"data-comment-popup":t.comment.id},on:{click:function(e){return t.$emit("openPopup")}}},[e("TMSvgImg",{staticClass:"tm-comment__icon tm-comment__icon_dots",attrs:{id:"dots"}})],1):e("div"),t._v(" "),t.adminControlsVisible?[e("button",{staticClass:"tm-comment-footer__button",attrs:{type:"button"},on:{click:function(e){return t.$emit("moderate",!0)}}},[t._v("\n      "+t._s(t.msg("COMMENT_ACTION_APPROVE"))+"\n    ")]),t._v(" "),e("button",{staticClass:"tm-comment-footer__button",attrs:{type:"button"},on:{click:function(e){return t.$emit("moderate",!1)}}},[t._v("\n      "+t._s(t.msg("COMMENT_ACTION_REJECT"))+"\n    ")])]:t._e()],2)},i=[],a=s(20629),o=s(74199),r=s(94479),l=s(31490),c=s(8130),m=s(20998),u=s(84291),d=s(65873),p=s(13836),_=s(8065),h=s(23009);const g=()=>s.e(3079).then(s.bind(s,43079)),T={name:"TMCommentFooter",components:{TMBookmarksButton:r.Z,TMSvgImg:l.Z,TMVotesLever:c.Z,TMVotesMeter:m.Z,TMWarningIcon:g,TMArticleCommentsLink:o.Z},props:{comment:{type:Object,required:!0,validator:u.gI},voteAction:{type:Function,default:null},favoriteAction:{type:Function,default:null},isPinnedSection:{type:Boolean,default:!1},popupToggleVisible:Boolean,showModerationControls:Boolean},data(){return{isLoadingFavorite:!1,isLoadingVote:!1,hasMounted:!1}},computed:{...(0,a.Se)("me",["isLoggedIn","isSuperAdmin","userAlias"]),...(0,a.Se)("articlesList",["getArticleById"]),...(0,a.rn)("me",["user"]),publicationInStore(){return this.getArticleById(this.publicationId)},publication(){return this.publicationInStore||this.comment.post||this.comment.publication},voteStateStr(){return(0,p.j)(this.comment.vote.value)},isItsMyComment(){var t;return this.isLoggedIn&&(null===(t=this.comment.author)||void 0===t?void 0:t.alias)===this.userAlias},isAlreadyVoted(){var t;return null===(t=this.comment.vote)||void 0===t?void 0:t.value},notEnoughChargeOrKarma(){return!this.comment.isKarmaEnough||!this.comment.isChargeEnough},showVotesLever(){var t,e;return!this.isLoggedIn||!this.isItsMyComment&&!this.isAlreadyVoted&&(!(null!==(t=this.comment.vote)&&void 0!==t&&t.isCanVote||!this.notEnoughChargeOrKarma)||(null===(e=this.comment.vote)||void 0===e?void 0:e.isCanVote)&&this.voteAction)},adminControlsVisible(){const{isReadonly:t,isAuthor:e}=this.comment;return this.hasMounted&&t&&!e&&this.showModerationControls},isPost(){return!!(0,h.E)(this.$route.name)||(0,h.o)(this.comment.publication)},publicationId(){const t=this.$route.params.id;return t||(this.comment.publication?this.comment.publication.id:this.comment.post.id)}},mounted(){this.hasMounted=!0},methods:{openCommentRatingHint(t){const e={target:t,contentType:"guestRating",offset:[-34,8]};this.$emit("open-comment-hint",e)},getVotingRestrictionReason(t){return this.isLoggedIn?"up"!==t||this.comment.canVotePlus&&this.comment.isChargeEnough?!("down"!==t||this.comment.canVoteMinus&&!this.notEnoughChargeOrKarma)&&"notEnoughKarma":"notEnoughCharge":"guestVoteAction"},onVote(t,e){const s="up"===t?"plus":"minus",n=this.publicationInStore?{publication_type:(0,_.Lq)(this.publicationInStore)}:{};(0,_.IZ)(`vote_comment_${s}`,n);const i=this.getVotingRestrictionReason(t);if(i){const s={target:e,offset:"up"===t?[-39,8]:[-29,0],contentType:i};this.$emit("open-comment-hint",s)}else this.runVoteAction(t)},runVoteAction(t){this.isLoadingVote=!0,this.voteAction({commentId:this.comment.id,direction:t}).catch((t=>{this.$toast(t.message)})).finally((()=>{this.isLoadingVote=!1}))},favorite(){if(!this.isLoggedIn)return void this.$toast.error(this.msg("AUTH_REQUIRED"));const t=(new Date).getTime(),e=1e3;this.isLoadingFavorite=!0;const{id:s,isFavorite:n}=this.comment;this.favoriteAction({publicationId:this.publicationId,commentId:s,isFavorite:!n,isPost:this.isPost}).then((()=>{const s=(new Date).getTime()-t,n=s<e?e-s:0;setTimeout((()=>{this.isLoadingFavorite=!1}),n)}))},bem:d.P}},v=T;var S=s(1001),f=(0,S.Z)(v,n,i,!1,null,null,null);const E=f.exports},71535:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMPopover",{staticClass:"comment-rating-hint",attrs:{offset:t.offset,placement:"top-start",root:t.target,variant:"hub"},on:{close:function(e){return t.$emit("close")}}},[t.isGuestContentType?e("a",{attrs:{href:t.signUpUrl},on:{"!click":function(e){return t.trackSingUpClick.apply(null,arguments)}}},[t._v(t._s(t.msg("COMMENT_SIGN_UP")))]):t._e(),e("span",{domProps:{innerHTML:t._s(t.msg(t.contentMessageKey,{karmaHelpUrl:t.karmaHelpUrl}))}})])},i=[],a=s(48348),o=s(8065);const r={name:"VotesGuestFallbackPopover",components:{TMPopover:a.Z},props:{target:{type:null,required:!0},offset:{type:Array,default:()=>[-34,0]},contentType:{type:String,validator:t=>["guestRating","guestVoteAction","notEnoughCharge","notEnoughKarma"].includes(t)}},computed:{isGuestContentType(){return["guestRating","guestVoteAction"].includes(this.contentType)},signUpUrl(){const t="/kek/v1/auth/habrahabr-register/";return`${t}?back=${this.$route.path}&hl=${this.langOptions.hl}`},karmaHelpUrl(){return`https://habr.com/${this.langOptions.hl}/docs/help/karma/`},contentMessageKey(){switch(this.contentType){case"guestRating":return"COMMENT_GUEST_RATING_HINT";case"guestVoteAction":return"COMMENT_GUEST_RATING_HINT";case"notEnoughKarma":return"COMMENT_NOT_ENOUGH_KARMA_HINT";case"notEnoughCharge":return"COMMENT_NOT_ENOUGH_CHARGE_HINT";default:return"COMMENT_GUEST_RATING_HINT"}}},methods:{trackSingUpClick(){(0,o.IZ)("hint_reg_comment_raiting")}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},46260:(t,e,s)=>{"use strict";s.d(e,{Z:()=>H});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-comment",attrs:{"data-gallery-root":""}},[t.authorAliasPresent?e("header",{ref:"commentHeader",staticClass:"tm-comment__header",class:t.hasMounted?t.className:null,attrs:{"data-comment-header":"",tabindex:"-1"}},[e("div",{staticClass:"tm-comment__header-inner"},[e("TMUserInfo",{ref:"userInfo",staticClass:"tm-comment__user-info",attrs:{author:t.comment.author,avatar:t.comment.author.avatarUrl,"real-author":t.comment.realAuthor},on:{mouseenter:t.onUserMouseenter,mouseleave:t.onUserMouseleave}},[t._t("comment-link",(function(){return[e("a",{staticClass:"tm-comment__datetime",attrs:{href:`#comment_${t.comment.id}`}},[e("TMDatetime",{attrs:{date:new Date(t.comment.timePublished),"is-article-format":""}})],1)]}))],2)],1),t._v(" "),t.isCommentControlsShown&&!t.isPinnedSection?e("div",{ref:"commentButtons",staticClass:"tm-comment__buttons"},[t.comment.parentId?e("button",{ref:"scrollToParentButton",staticClass:"tm-comment__button tm-comment__button_with-icon",attrs:{type:"button"},on:{click:()=>{t.scrollTo(`#comment_${t.comment.parentId}`),t.setScrollParents({comment:t.comment})}}},[e("TMSvgImg",{staticClass:"tm-comment__icon",attrs:{id:"small-arrow",title:t.msg("GO_TO_PARENT_COMMENT")}})],1):t._e(),t._v(" "),t.getScrollParents&&t.getScrollParents[t.comment.id]?e("button",{ref:"scrollToChildButton",staticClass:"tm-comment__button tm-comment__button_with-icon",attrs:{type:"button"},on:{click:function(e){return t.scrollTo(`#comment_${t.getScrollParents[t.comment.id]}`)}}},[e("TMSvgImg",{staticClass:"tm-comment__icon tm-comment__icon_rotated",attrs:{id:"small-arrow",title:t.msg("GO_TO_CHILD_COMMENT")}})],1):t._e()]):t._e()]):t._e(),t._v(" "),e("div",{ref:"commentBody",staticClass:"tm-comment__body-content",class:{"tm-comment__body-content_muted":t.opacity,"tm-comment__body-content_empty":!t.authorAliasPresent,"tm-comment__body-content_v2":t.comment.editorVersion>1},style:t.opacity,domProps:{innerHTML:t._s(t.comment.message)}}),t._v(" "),e("transition",{attrs:{name:"transition-fade"}},[t.showUserInfoPopup?e("TMUserInfoPopup",{ref:"userInfoPopup",attrs:{root:t.$refs.userInfo.$el,"user-alias":t.comment.realAuthor?t.comment.realAuthor.alias:t.comment.author.alias},on:{closeVotesDialog:function(e){t.votesDialogIsOpen=!1},openVotesDialog:function(e){t.votesDialogIsOpen=!0}}}):t._e()],1),t._v(" "),t.galleryImages.length?e("TMGallery",{ref:"commentGallary",staticClass:"tm-comment__gallery",attrs:{"images-list":t.galleryImages}}):t._e()],1)},i=[],a=s(20629),o=s(91296),r=s.n(o),l=s(93096),c=s.n(l),m=s(79911),u=s(74199),d=s(76068),p=s(31490),_=s(87843),h=function(){var t=this,e=t._self._c;return e("TMPopover",{staticClass:"user-info-popup",attrs:{root:t.root}},[t.user?[e("div",{staticClass:"user-info-popup__wrapper"},[e("TMUserCard",{attrs:{"avatar-size":40,"is-donate-button-visible":"",user:t.user,variant:"popover"},on:{closeVotesDialog:function(e){return t.$emit("closeVotesDialog")},openVotesDialog:function(e){return t.$emit("openVotesDialog")}}})],1),t._v(" "),e("div",{staticClass:"user-info-popup__footer"},[e("TMDescriptionList",{staticClass:"user-info-popup__stat",attrs:{title:`${t.msg("PROFILE_POSTS")}:`,variant:"inline"}},[t._v("\n        "+t._s(t.user.counterStats.postCount)+"\n      ")]),t._v(" "),e("TMDescriptionList",{staticClass:"user-info-popup__stat",attrs:{title:`${t.msg("PROFILE_COMMENTS")}:`,variant:"inline"}},[t._v("\n        "+t._s(t.user.counterStats.commentCount)+"\n      ")])],1)]:e("div",{staticClass:"user-info-popup__wrapper"},[e("TMUserInfoPopupPlaceholder")],1)],2)},g=[],T=s(6454),v=s(48348),S=s(72584),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-info-popup-placeholder"},[t._m(0),t._v(" "),e("div",{staticClass:"user-info-popup-placeholder__category-info"},[e("span",{staticClass:"user-info-popup-placeholder__category-name",style:`width: ${t.getRandomNumberFromRange(80,150)}px`}),t._v(" "),e("div",{staticClass:"user-info-popup-placeholder__category-description",style:`width: ${t.getRandomNumberFromRange(30,210)}px`})])])},E=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-info-popup-placeholder__user-profile-data"},[e("div",{staticClass:"user-info-popup-placeholder__category-avatar"})])}],I=s(21509);const C={name:"TMUserInfoPopupPlaceholder",methods:{getRandomNumberFromRange:I.r}},A=C;var b=s(1001),y=(0,b.Z)(A,f,E,!1,null,null,null);const P=y.exports,L={name:"TMUserInfoPopup",components:{TMUserInfoPopupPlaceholder:P,TMDescriptionList:T.Z,TMUserCard:S.Z,TMPopover:v.Z},props:{userAlias:{type:[Number,String],required:!0},root:{type:null,required:!0}},computed:{...(0,a.Se)("users",["getUserByAlias"]),user(){return this.getUserByAlias(this.userAlias)}},created(){this.loadUserInfo({alias:this.userAlias})},methods:{...(0,a.nv)("users",["loadUserInfo"])}},O=L;var N=(0,b.Z)(O,h,g,!1,null,null,null);const M=N.exports;var R=s(84291),k=s(27683),w=s(98339),B=s(5163),D=s(68668),x=s(83049);const $=()=>s.e(5121).then(s.bind(s,15716)),U={name:"TMComment",components:{TMGallery:$,TMSvgImg:p.Z,TMUserInfo:_.Z,TMArticleCommentsLink:u.Z,TMUserInfoPopup:M,TMDatetime:d.Z},props:{comment:{type:Object,required:!0,validator:R.gI},isCommentControlsShown:{type:Boolean,default:!0},shouldDisplayStatus:{type:Boolean,default:!0},userPopoverEnabled:Boolean,isPinnedSection:{type:Boolean,default:!1}},data(){return{userInfoPopupVisible:!1,userInfoTimer:null,shouldClosePopup:!1,galleryImages:[],hasMounted:!1,disconnectObserver:null,disposeLinks:null,votesDialogIsOpen:!1}},computed:{...(0,a.Se)("comments",["getScrollParents"]),...(0,a.Se)("i18n",["langOptions"]),showUserInfoPopup(){return!!this.votesDialogIsOpen||this.userPopoverEnabled&&this.userInfoPopupVisible},className(){return this.shouldDisplayStatus?{"tm-comment__header_is-by-op":this.comment.isPostAuthor,"tm-comment__header_is-mine":this.comment.isAuthor,"tm-comment__header_is-new":this.comment.isNew,"tm-comment__header_is-readonly":this.comment.isReadonly,"tm-comment__header_is-deleted":this.comment.isSuspended}:null},opacity(){if(this.comment.score>=0||this.isHovered)return null;const t=90,e=10*this.comment.score,s=Math.abs(Math.max(-50,e));return{opacity:(t-s)/100}},handleMouseMoveThrottled(){return c()(this.handleMouseMove,200)},closeUserInfoPopupDebounced(){return r()((function(){this.shouldClosePopup&&this.closeUserInfoPopup()}),500)},authorAliasPresent(){var t;return null===(t=this.comment.author)||void 0===t?void 0:t.alias}},watch:{shouldClosePopup:"closeUserInfoPopupDebounced"},mounted(){this.hasMounted=!0,this.galleryImages=(0,D.N)(this.$refs.commentBody),(0,w.y)(this.$el),this.disconnectObserver=(0,k.O)(this.$refs.commentBody,this.msg("ERROR_IMAGE_WAS_NOT_LOADED")),this.disposeLinks=(0,B.W)(this.$el,((t,e)=>{t.preventDefault(),this.$router.push({path:e.pathname})}))},beforeDestroy(){this.disconnectObserver(),this.disposeLinks(),document.removeEventListener("mousemove",this.handleMouseMoveThrottled)},methods:{...(0,a.nv)("comments",["setScrollParents"]),scrollTo(t){(0,x.fo)(t),(0,m.l)(t)},openUserInfoPopup(){this.userPopoverEnabled&&!this.userInfoPopupVisible&&(this.userInfoPopupVisible=!0,document.addEventListener("mousemove",this.handleMouseMoveThrottled))},closeUserInfoPopup(){this.userPopoverEnabled&&(this.userInfoPopupVisible=!1,this.shouldClosePopup=!1,document.removeEventListener("mousemove",this.handleMouseMoveThrottled))},onUserMouseenter(){this.userPopoverEnabled&&(clearTimeout(this.userInfoTimer),this.userInfoPopupVisible||(this.userInfoTimer=setTimeout(this.openUserInfoPopup,800)))},onUserMouseleave(){this.userPopoverEnabled&&!this.userInfoPopupVisible&&clearTimeout(this.userInfoTimer)},handleMouseMove({clientX:t,clientY:e}){if(!this.$refs.userInfoPopup)return;const s=document.elementFromPoint(t,e),n=this.$refs.userInfoPopup.$el,i=this.$refs.userInfo.$el;this.shouldClosePopup=![n,i].some((t=>t.contains(s)))}}},F=U;var V=(0,b.Z)(F,n,i,!1,null,null,null);const H=V.exports},31483:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-comments-wrapper"},[e("div",{staticClass:"tm-comments-wrapper__wrapper"},[e("header",{staticClass:"tm-comments-wrapper__header"},[e("h2",{staticClass:"tm-comments-wrapper__title"},[t._v("\n        "+t._s(t.msg("ARTICLE_COMMENTS_TITLE"))+"\n        "),t.commentsCount?e("span",{staticClass:"tm-comments-wrapper__comments-count"},[t._v("\n          "+t._s(t.commentsCount)+"\n        ")]):t._e()]),t._v(" "),t.$slots.headerAside?e("div",{staticClass:"tm-comments-wrapper__header-aside"},[t._t("headerAside")],2):t._e()]),t._v(" "),t.$slots.default?e("div",{staticClass:"tm-comments-wrapper__inner"},[t._t("default")],2):t._e()]),t._v(" "),t._t("footer")],2)},i=[];const a={name:"TMCommentsWrapper",props:{commentsCount:{type:[String,Number],default:null}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},22362:(t,e,s)=>{"use strict";s.d(e,{Z:()=>yt});var n=function(){var t=this,e=t._self._c;return e("TMCommentsWrapper",{attrs:{"comments-count":t.commentsCount},scopedSlots:t._u([{key:"headerAside",fn:function(){return[t._t("headerAside")]},proxy:!0},{key:"default",fn:function(){return[t.isLoading?e("TMPlaceholder",{attrs:{times:3,type:"comment"}}):[t._t("body"),t._v(" "),t.pinnedComments&&t.pinnedComments.length?e("TMPinnedComments",{attrs:{"can-pin-unpin-comment":t.canPinUnpinComment,"complaint-action":t.complaintAction,"favorite-action":t.favoriteAction,"get-comment-link":t.getCommentLink,"pinned-comments":t.pinnedComments,"show-moderation-controls":t.showModerationControls,"vote-action":t.voteAction},on:{commentDelete:function(e){return t.$emit("commentDelete",e)},expandLimiter:function(e){return t.$emit("expandLimiter",e)},moderate:t.moderateReadAndComment,pinUnpinComment:function(e){return t.$emit("pinUnpinComment",e)},showComplaintForm:t.showComplaintForm,showEditForm:t.showEditForm},scopedSlots:t._u([t.formTarget&&t.formTarget.isPinnedSection?{key:"footer",fn:function({comment:s}){return[t.formTarget.commentId===s.id&&"edit"===t.formTarget.type?e("div",{staticClass:"tm-comments__reply-form"},[e("div",{staticClass:"tm-comments__reply-form-wrapper"},[e("button",{staticClass:"tm-comments__close-button",attrs:{title:t.msg("CLOSE")},on:{click:function(e){return t.closeForm()}}},[e("TMSvgImg",{attrs:{id:"close",size:12}})],1),t._v(" "),e("TMCommentEditForm",{attrs:{comment:s,"edit-action":t.editAction,"is-post":t.isPost,"post-id":t.postId},on:{close:t.closeForm,delete:function(e){return t.onDeleteComment(s.id)}}})],1)]):t._e()]}}:null],null,!0)}):t._e(),t._v(" "),t.comments.length?[e("div",{ref:"commentsList",staticClass:"tm-comments__tree",attrs:{"data-comments-list":""}},t._l(t.comments,(function(s){return e("TMCommentThread",{key:s.id,attrs:{"can-pin-unpin-comment":t.canPinUnpinComment,comment:s,"comment-component":t.commentComponent,"complaint-action":t.complaintAction,"favorite-action":t.favoriteAction,"get-comment-link":t.getCommentLink,"show-moderation-controls":t.showModerationControls,"vote-action":t.voteAction},on:{commentDelete:function(e){return t.$emit("commentDelete",e)},moderate:t.moderateReadAndComment,pinUnpinComment:function(e){return t.$emit("pinUnpinComment",e)},showComplaintForm:t.showComplaintForm,showEditForm:t.showEditForm,showReplyForm:t.showReplyForm},scopedSlots:t._u([t.formTarget&&!t.formTarget.isPinnedSection?{key:"footer",fn:function({comment:s}){return[t.formTarget.commentId===s.id?["reply"===t.formTarget.type?e("div",{staticClass:"tm-comments__reply-form"},[e("div",{staticClass:"tm-comments__reply-form-wrapper"},[e("button",{staticClass:"tm-comments__close-button",attrs:{title:t.msg("CLOSE")},on:{click:function(e){return t.closeForm()}}},[e("TMSvgImg",{attrs:{id:"close",size:12}})],1),t._v(" "),t.showNoticeInCommentsThread?e("TMNotice",{attrs:{type:"negative"}},[t.getCommentAccess.cantCommentReason?e("span",[t._v("\n                        "+t._s(t.getCommentAccess.cantCommentReason)+"\n                      ")]):e("span",[t._v("\n                        "+t._s(t.msg(`EXTERNAL_${t.getCommentAccess.cantCommentReasonKey}`))+"\n                      ")])]):e("TMCommentReplyForm",{attrs:{autofocus:"","is-post":t.isPost,"submit-action":t.commentSubmitAction,"target-comment":s},on:{close:t.closeForm}})],1)]):"edit"===t.formTarget.type?e("div",{staticClass:"tm-comments__reply-form"},[e("div",{staticClass:"tm-comments__reply-form-wrapper"},[e("button",{staticClass:"tm-comments__close-button",attrs:{title:t.msg("CLOSE")},on:{click:function(e){return t.closeForm()}}},[e("TMSvgImg",{attrs:{id:"close",size:12}})],1),t._v(" "),e("TMCommentEditForm",{attrs:{comment:s,"edit-action":t.editAction,"is-post":t.isPost,"post-id":t.postId},on:{close:t.closeForm,delete:function(e){return t.onDeleteComment(s.id)}}})],1)]):t._e()]:t._e()]}}:null],null,!0)})})),1)]:e("div",{staticClass:"tm-comments__empty"},[e("span",{domProps:{innerHTML:t._s(t.msg("COMMENT_EMPTY"))}})]),t._v(" "),t._t("afterComments")],t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.complaintCommentId?e("TMPopup",{attrs:{title:t.msg("COMMENT_COMPLAINT_TITLE")},on:{close:function(e){t.complaintCommentId=null}}},[e("TMComplaintForm",{attrs:{autofocus:"true","submit-action":e=>t.commentComplaintAction(e,t.complaintCommentId)}})],1):t._e()],1)]},proxy:!0},!t.isLoading&&t.footerVisible?{key:"footer",fn:function(){return[t.notice?e("TMNotice",{staticClass:"tm-comments__comment-notice",attrs:{type:t.notice.type}},[e("span",{domProps:{innerHTML:t._s(t.notice.message)}})]):t.formTarget?t._e():e("TMCommentReplyForm",{attrs:{"is-post":t.isPost,"submit-action":t.commentSubmitAction}})]},proxy:!0}:null],null,!0)})},i=[],a=s(20629),o=function(){var t=this,e=t._self._c;return t.originalMessageLoaded?e("TMCommentForm",{ref:"form",attrs:{autofocus:!0,"countdown-timer":t.timer,"initial-data":t.currentValue,"is-markdown":t.isMarkdown,"is-processing":t.disabled,label:t.msg("COMMENT_EDIT_FORM_TITLE"),readonly:t.disabled,"show-as-moderator":!1,"show-delete":"",value:t.currentValue},on:{close:function(e){return t.$emit("close")},delete:function(e){return t.$emit("delete",e)},preview:function(e){return t.$emit("preview",e)},submit:t.onSubmit}}):t._e()},r=[],l=function(){var t=this,e=t._self._c;return e(t.useMarkdown?"form":"div",{ref:"form",tag:"component",staticClass:"tm-comment-form",class:{"tm-comment-form_processing":t.isProcessing},on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"tm-comment-form__field"},[t.label?e("label",{ref:"label",staticClass:"tm-comment-form__label",domProps:{innerHTML:t._s(t.label)}}):t._e(),t._v(" "),t.showAsModerator&&(t.isSuperAdmin||t.isModerator)?e("TMLabeledCheckbox",{staticClass:"tm-comment-form__moderator-toggle",attrs:{name:"asModerator"},model:{value:t.asModerator,callback:function(e){t.asModerator=e},expression:"asModerator"}},[t._v("\n      "+t._s(t.msg("COMMENT_AS_MODERATOR"))+"\n    ")]):t._e(),t._v(" "),t.useMarkdown?t.commentPreview?e("TMComment",{staticClass:"tm-comment-form__preview",attrs:{comment:t.commentPreview}}):e("textarea",t._g({directives:[{name:"model",rawName:"v-model",value:t.markdownSource,expression:"markdownSource"},{name:"autosize",rawName:"v-autosize"},{name:"hotkey",rawName:"v-hotkey.stop",value:{c:t.scrollToCommentFormAndFocus},expression:"{ 'c': scrollToCommentFormAndFocus }",modifiers:{stop:!0}}],ref:"textarea",staticClass:"tm-comment-form__textarea",attrs:{autofocus:t.autofocus,cols:"30",rows:"5"},domProps:{value:t.markdownSource},on:{"!keydown":[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?(e.stopPropagation(),t.submitForm.apply(null,arguments)):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?(e.stopPropagation(),t.submitForm.apply(null,arguments)):null}],input:function(e){e.target.composing||(t.markdownSource=e.target.value)}}},t.inputListeners)):e("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{c:t.scrollToCommentFormAndFocus},expression:"{ 'c': scrollToCommentFormAndFocus }",modifiers:{stop:!0}}],staticClass:"tm-comment-form__editor",on:{"!keydown":[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?(e.stopPropagation(),t.submitForm.apply(null,arguments)):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?(e.stopPropagation(),t.submitForm.apply(null,arguments)):null}]}},[t.renderEditor?e("WYSIWYG",{ref:"textarea",attrs:{"is-mobile":t.isMobile||t.isTouchDevice,lang:t.langOptions.hl,"props-config":t.WYSIWYGInitialProps,"use-test-ids":t.useTestIds},on:{loading:t.setFormLoading,update:t.onWYSIWYGUpdate}}):t._e()],1)],1),t._v(" "),e("div",{staticClass:"tm-comment-form__controls"},[e("div",{staticClass:"tm-comment-form__controls-buttons"},[e("button",{ref:"submitButton",staticClass:"tm-comment-form__button tm-comment-form__button_send",attrs:{disabled:t.disableFormButtons},on:{click:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[t._v("\n        "+t._s(t.msg("COMMENT_ACTION_SEND"))+"\n      ")]),t._v(" "),t.useMarkdown?e("button",{ref:"previewButton",staticClass:"tm-comment-form__button tm-comment-form__button_preview",attrs:{disabled:t.disableFormButtons,type:"button"},on:{click:t.togglePreview}},[t._v("\n        "+t._s(t.commentPreview?t.msg("COMMENT_ACTION_EDIT"):t.msg("COMMENT_ACTION_PREVIEW"))+"\n      ")]):t._e()]),t._v(" "),t.isSuperAdmin&&t.showDelete?e("button",{ref:"suspendButton",staticClass:"tm-comment-form__button tm-comment-form__button_delete",attrs:{disabled:t.disableFormButtons,type:"button"},on:{click:t.suspendComment}},[t._v("\n      "+t._s(t.msg("COMMENT_ACTION_SUSPEND"))+"\n    ")]):t._e(),t._v(" "),!t.isModerator&&t.countdownTimer?e("span",{ref:"countdownTimer",staticClass:"tm-comment-form__countdown-timer"},[t._v("\n      "+t._s(t.formattedCountdownTimer)+"\n    ")]):t._e(),t._v(" "),e("TMMarkdownSwitcher",{staticClass:"tm-comment-form__markdown-toggle",attrs:{disabled:!t.isTextareaEmpty,"use-markdown":t.useMarkdown,"use-markdown-settings-key":"useMarkdownInComments"},on:{changeUseMarkdown:function(e){t.useMarkdown=e}}})],1)])},c=[],m=s(20144),u=s(91296),d=s.n(u),p=s(64712),_=s(46260),h=s(20335),g=s(40759),T=s(98367),v=s(23009),S=s(91256);function f(t){const e=Math.floor(parseInt(t,10)/3600),s=Math.floor(parseInt(t,10)/60)%60,n=Math.floor(parseInt(t,10))%60,i=t=>{const e=t>9?t:`0${t}`;return e};return`${i(e)}:${i(s)}:${i(n)}`}var E=s(61823),I=s(54226);m["default"].component("WYSIWYG",(()=>s.e(6342).then(s.t.bind(s,76342,23))));const C=()=>s.e(2803).then(s.bind(s,62803)),A={name:"TMCommentForm",directives:{autosize:g.e},components:{TMComment:_.Z,TMLabeledCheckbox:p.Z,TMHelpIcon:C,TMMarkdownSwitcher:h.Z},inheritAttrs:!1,props:{isProcessing:Boolean,autofocus:Boolean,countdownTimer:{type:Number,default:null},label:{type:String,default:null},showDelete:Boolean,initialData:{type:String,default:null},showAsModerator:{type:Boolean,default:!0},isMarkdown:Boolean},data(){return{renderEditor:!1,WYSIWYGInitialProps:{embedHost:"https://embedd.srv.habr.com",imagesHost:(0,I.k)("publication/upload","v2"),mentionHost:(0,I.k)("publication/suggest-mention","v2"),imagesByUrlHost:(0,I.k)("publication/upload-url","v2"),extensions:[],initialJSON:this.initialData,autoFocus:this.autofocus},WYSIWYGData:{},WYSIWYGLoading:!1,useMarkdown:this.isMarkdown,markdownSource:this.initialData,commentPreview:null,previewLoading:!1,asModerator:!1}},computed:{...(0,a.Se)("me",["isSuperAdmin","isModerator"]),...(0,a.Se)("i18n",["langOptions"]),...(0,a.Se)("global",["isMobile"]),...(0,a.rn)("wysiwyg",["WYSIWYGRulesRefs"]),useTestIds(){return!1},disableFormButtons(){return this.isTextareaEmpty||this.WYSIWYGLoading||this.isProcessing||this.previewLoading},inputListeners(){return{...this.$listeners,input:t=>{this.$emit("input",t.target.value)}}},isTouchDevice(){return(0,T.b)()},isTextareaEmpty(){if(!this.useMarkdown){const t=this.WYSIWYGData.json&&this.WYSIWYGData.json.content.filter((t=>"paragraph"!==t.type)).length,e=this.WYSIWYGData.textContent||"";return!t&&!e.trim().length}return!this.markdownSource},formattedCountdownTimer(){return f(this.countdownTimer)},isPost(){return(0,v.E)(this.$route.name)}},async mounted(){await this.getWYSIWYGRulesRefsIfNotExist();const{postComment:t}=this.WYSIWYGRulesRefs;this.WYSIWYGInitialProps.extensions=t.elements,this.WYSIWYGInitialProps.extensions.push("Typograph"),this.renderEditor=!0,this.useMarkdown&&this.autofocus&&this.$refs.textarea.focus(),window.addEventListener("beforeunload",this.handlePageLeave)},beforeDestroy(){window.removeEventListener("beforeunload",this.handlePageLeave)},methods:{...(0,a.nv)("me",["updateUseMarkdown"]),...(0,a.nv)("wysiwyg",["getWYSIWYGRulesRefsIfNotExist"]),updateUserPreferredEditor:d()((function(t){this.updateUseMarkdown({useMarkdownInComments:t}).catch((t=>{this.$toast.error(t.message)}))}),500),onWYSIWYGUpdate(t){this.WYSIWYGData=t},setFormLoading(t){this.WYSIWYGLoading=t},handlePageLeave(t){if(!this.isTextareaEmpty)return t.preventDefault(),t.returnValue="",!0},loadPreview(){this.previewLoading=!0;const t={articleId:this.$route.params.id,parentId:null,text:{source:this.markdownSource,editorVersion:2,isMarkdown:!0}};this.asModerator&&(t.asModerator=!0);const e=this.isPost?"threads":"posts";(0,E.FI)(this.$route.params.id,t,e).then((({data:t})=>{this.previewLoading=!1,this.commentPreview=t})).catch((t=>{this.previewLoading=!0,this.$toast.error(t.message)}))},clearPreview(){this.commentPreview=null},togglePreview(){this.commentPreview?(this.clearPreview(),this.$nextTick((()=>{this.$refs.textarea.focus()}))):this.loadPreview()},suspendComment(){const t=window.confirm(this.msg("COMMENT_ACTION_SUSPEND_CONFIRM"));t&&this.$emit("delete",this.markdownSource)},async submitForm(){if(this.isTextareaEmpty)return;this.useMarkdown||await this.$refs.textarea.awaitPendingOperations(),this.commentPreview=null;const t={text:{source:this.useMarkdown?this.markdownSource:JSON.stringify(this.WYSIWYGData.json),editorVersion:2,isMarkdown:this.useMarkdown}};this.asModerator&&(t.asModerator=!0),this.$emit("submit",t)},scrollToCommentFormAndFocus(t){this._inactive||(t.preventDefault(),(0,S.kI)(this.$refs.textarea.$el),this.useMarkdown?this.$refs.textarea.focus():this.$el.querySelector(".ProseMirror").focus())},reset(){this.renderEditor=!1,this.markdownSource=null,this.$refs.textarea.value=null,this.WYSIWYGData={},this.$nextTick((()=>{this.renderEditor=!0}))}}},b=A;var y=s(1001),P=(0,y.Z)(b,l,c,!1,null,null,null);const L=P.exports,O={name:"TMCommentEditForm",components:{TMCommentForm:L},props:{postId:{type:String,required:!0},comment:{type:Object,required:!0},editAction:{type:Function,required:!0},isPost:{type:Boolean,required:!0}},data(){return{currentValue:null,isMarkdown:null,originalMessageLoaded:!1,disabled:!1,timer:null,counter:null,interval:null}},created(){const t=this.isPost?E.SE:E.fp;t(this.postId,this.comment.id).then((t=>{const{sourceMessage:e,isMarkdown:s}=t;this.currentValue=e,this.isMarkdown=s,this.originalMessageLoaded=!0,this.$nextTick((()=>{(0,S.kI)(this.$refs.form.$el)})),this.startTimer(new Date(this.comment.timeEditAllowedTill))})).catch((t=>{this.$toast.error(t.message)}))},beforeDestroy(){clearInterval(this.interval)},methods:{startTimer(t){this.timer=Math.trunc((t-new Date)/1e3),this.interval=setInterval(this.countDown,1e3)},countDown(){this.counter?this.timer>0?this.timer-=1:(clearInterval(this.interval),this.timer=null,this.counter=!1):this.counter=!0},onSubmit(t){this.disabled=!0,this.editAction({commentId:this.comment.id,commentBody:t}).then((()=>{this.disabled=!1})).catch((t=>{throw this.disabled=!1,t}))}}},N=O;var M=(0,y.Z)(N,o,r,!1,null,null,null);const R=M.exports;var k=function(){var t=this,e=t._self._c;return e("TMCommentForm",{ref:"form",attrs:{autofocus:t.autofocus,"initial-data":null,"is-markdown":t.useMarkdownInComments,"is-processing":t.disabled,label:t.label,readonly:t.disabled,value:null},on:{close:function(e){return t.$emit("close")},preview:function(e){return t.$emit("preview",e)},submit:t.onSubmit}})},w=[];const B={name:"TMCommentReplyForm",components:{TMCommentForm:L},props:{autofocus:Boolean,isPost:{type:Boolean,required:!0},submitAction:{type:Function,required:!0},targetComment:{type:Object,default:null}},data(){return{currentValue:null,disabled:!1}},computed:{...(0,a.rn)("me",["user"]),useMarkdownInComments(){return this.user.settings.miscSettings.useMarkdownInComments},label(){if(!this.targetComment)return this.msg("COMMENT_BASE_FORM_TITLE");const t=this.targetComment.author.alias||this.targetComment.author.login,e=`&nbsp;<span class="tm-username">${t}</span>`;return`${this.msg("COMMENT_ACTION_REPLY")}${e}`},parentId(){return this.targetComment?this.targetComment.id:null}},methods:{onSubmit(t){this.disabled=!0,this.submitAction({...t,parentId:this.parentId,isPost:this.isPost}).then((()=>{this.$refs.form&&this.$refs.form.reset(),this.disabled=!1,this.$emit("close")})).catch((t=>{throw this.disabled=!1,t}))}}},D=B;var x=(0,y.Z)(D,k,w,!1,null,null,null);const $=x.exports;var U=function(){var t=this,e=t._self._c;return e("section",{class:t.bem("tm-comment-thread",{"is-pinned":t.isPinnedSection})},[t.isCollapsed?[e("div",{staticClass:"tm-comment-thread__collapsed-root",attrs:{"data-comment-collapsed-thread":""}}),t._v(" "),e("button",{staticClass:"tm-comment-thread__breadcrumbs tm-comment-thread__breadcrumbs_collapsed",class:t.indentBreadcrumbsClass,on:{click:t.toggleCollapse}}),t._v(" "),e("button",{staticClass:"tm-comment-thread__collapsed",class:t.indentClass,on:{click:t.toggleCollapse}},[t._m(0),t._v(" "),e("div",{staticClass:"tm-comment-thread__collapsed-text",domProps:{textContent:t._s(t.collapsedText)}}),t._v(" "),e("div",{staticClass:"tm-comment-thread__collapsed-line"})])]:t._e(),t._v(" "),e(t.hasMounted&&t.comment.isNew?"div":"LazyHydrate",{tag:"component",attrs:{"when-visible":""}},[e("article",{directives:[{name:"show",rawName:"v-show",value:!t.isCollapsed,expression:"!isCollapsed"}],class:t.bem("tm-comment-thread__comment",{"is-pinned":t.isPinnedSection})},[e("a",{staticClass:"tm-comment-thread__target",attrs:{"data-comment-new":t.comment.isNew,name:t.isPinnedSection?`pinned-comment_${t.comment.id}`:`comment_${t.comment.id}`}}),t._v(" "),t.comment.author&&!t.isPinnedSection?e("button",{staticClass:"tm-comment-thread__breadcrumbs",class:t.indentBreadcrumbsClass,on:{click:t.toggleCollapse}},[e("div",{staticClass:"tm-comment-thread__circle"})]):t._e(),t._v(" "),t.comment.author?t._e():e("span",{staticClass:"tm-comment-thread__ufo",class:t.indentClass,domProps:{textContent:t._s(t.msg("COMMENT_PLACEHOLDER_EMPTY"))}}),t._v(" "),t.comment.author?[e("div",{class:t.indentClass,attrs:{"data-comment-body":t.comment.id}},[e(t.commentComponent||t.$options.components.TMComment,{tag:"component",attrs:{comment:t.comment,"is-pinned-section":t.isPinnedSection,"user-popover-enabled":""},scopedSlots:t._u([{key:"comment-link",fn:function(){return[e("a",{staticClass:"tm-comment-thread__comment-link",attrs:{href:`#comment_${t.comment.id}`},on:{click:function(e){return e.preventDefault(),t.navigateToComment(t.comment.id)}}},[e("TMDatetime",{attrs:{date:new Date(t.comment.timePublished),"is-article-format":""}}),t._v(" "),t.comment.timeChanged?e("TMSvgImg",{staticClass:"tm-comment-thread__icon-pencil",attrs:{id:"pencil-small",title:t.msg("COMMENT_EDITED")}}):t._e()],1)]},proxy:!0}],null,!1,3622817198)}),t._v(" "),t._t("footer",(function(){return[!t.comment.isSuspended&&t.comment.author&&t.comment.author.alias?e("TMCommentFooter",{attrs:{comment:t.comment,"favorite-action":t.favoriteAction,"is-pinned-section":t.isPinnedSection,"popup-toggle-visible":t.popupEnabled,"show-moderation-controls":t.showModerationControls,"vote-action":t.voteAction},on:{moderate:function(e){return t.$emit("moderate",{comment:t.comment,isApprove:e})},"open-comment-hint":t.toggleCommentRatingHint,openPopup:t.togglePopup},scopedSlots:t._u([{key:"button",fn:function(){return[t.isPinnedSection?e("button",{staticClass:"tm-comment-thread__button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.navigateToComment(t.comment.id,!0)}}},[t._v("\n                  "+t._s(t.msg("COMMENT_ACTION_LOOK"))+"\n                ")]):e("button",{staticClass:"tm-comment-thread__button",attrs:{type:"button"},on:{click:function(e){return t.$emit("showReplyForm",t.comment)}}},[t._v("\n                  "+t._s(t.msg("COMMENT_ACTION_REPLY"))+"\n                ")])]},proxy:!0}],null,!1,3572725708)}):t._e()]}),{comment:t.comment})],2)]:t._e()],2)]),t._v(" "),0===t.comment.children.length||t.isPinnedSection?t._e():[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCollapsed,expression:"!isCollapsed"}],staticClass:"tm-comment-thread__children"},t._l(t.comment.children,(function(s){return e("TMCommentThread",t._g(t._b({key:s.id,attrs:{comment:s},scopedSlots:t._u([{key:"footer",fn:function({comment:e}){return[t._t("footer",null,{comment:e})]}}],null,!0)},"TMCommentThread",t.$props,!1),t.$listeners))})),1)],t._v(" "),t.popupVisible?e("TMCommentPopup",{attrs:{"can-pin-unpin-comment":t.canPinUnpinComment,"can-send-complaint":Boolean(t.complaintAction),comment:t.comment,"comment-editable":t.commentEditable,"comment-link":t.getCommentLink?t.getCommentLink(t.comment):null,"is-pinned-comment":t.comment.isPinned,target:t.popupTargetElement},on:{close:t.closePopup,collapseBranch:function(e){t.toggleCollapse(t.comment),t.closePopup()},enterEditMode:function(e){t.$emit("showEditForm",{comment:t.comment,isPinnedSection:t.isPinnedSection}),t.closePopup()},linkCopied:t.closePopup,pinUnpinComment:function(e){t.$emit("pinUnpinComment",t.comment),t.closePopup()},sendComplaint:function(e){t.$emit("showComplaintForm",t.comment),t.closePopup()}}}):t._e(),t._v(" "),t.isCommentRatingHintVisible?e("CommentRatingHint",t._b({on:{close:function(e){t.isCommentRatingHintVisible=!1}}},"CommentRatingHint",t.commentRatingHintProps,!1)):t._e()],2)},F=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-comment-thread__circle-block"},[e("div",{staticClass:"tm-comment-thread__circle tm-comment-thread__circle_active"})])}],V=s(18887),H=s(79911),G=s(16910),W=function(){var t=this,e=t._self._c;return e("TMContextMenu",{attrs:{target:t.target},on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"body",fn:function(){return[e("TMContextMenuList",[t.canPinUnpinComment?e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.$emit("pinUnpinComment")}}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"pin-unpin",size:"24"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n            "+t._s(t.isPinnedComment?t.msg("COMMENT_ACTION_UNPIN_COMMENT"):t.msg("COMMENT_ACTION_PIN_COMMENT"))+"\n          ")]},proxy:!0}],null,!1,108370405)})],1):t._e(),t._v(" "),!t.isTablet&&t.isMobile&&t.comment.level>0&&t.comment.children.length?e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.$emit("collapseBranch")}}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"collapse",size:"24"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n            "+t._s(t.msg("COMMENT_ACTION_COLLAPSE_BRANCH"))+"\n          ")]},proxy:!0}],null,!1,2982227464)})],1):t._e(),t._v(" "),t.commentLink?e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.copyLink(t.comment)}}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"copy",size:"24"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n            "+t._s(t.msg("COMMENT_ACTION_COPY_LINK"))+"\n          ")]},proxy:!0}],null,!1,2522470812)})],1):t._e(),t._v(" "),t.commentEditable?[t.isSuperAdmin&&1===t.comment.editorVersion?e("TMContextMenuListItem",{attrs:{href:t.getCp2EditFormLink(t.comment.id),tag:"a",target:"_blank"}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"pencil",size:"24"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n              "+t._s(t.msg("COMMENT_ACTION_EDIT"))+"\n            ")]},proxy:!0}],null,!1,2572253346)})],1):e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.$emit("enterEditMode")}}},[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"pencil",size:"24"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n              "+t._s(t.msg("COMMENT_ACTION_EDIT"))+"\n            ")]},proxy:!0}],null,!1,2572253346)})],1)]:t._e(),t._v(" "),t.canSendComplaint&&!t.comment.isSuspended?e("TMContextMenuListItem",{nativeOn:{click:function(e){return t.$emit("sendComplaint")}}},[e("TMAlignCenter",[e("TMAlignCenter",{scopedSlots:t._u([{key:"start",fn:function(){return[e("TMSvgImg",{attrs:{id:"report",size:"24",title:t.msg("COMMENT_COMPLAINT_TITLE")}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n              "+t._s(t.msg("COMMENT_COMPLAINT_TITLE"))+"\n            ")]},proxy:!0}],null,!1,3826254862)})],1)],1):t._e()],2)]},proxy:!0}])})},Z=[],Y=s(46281),q=s(87906),j=s(18936),K=s(18264),z=s(31490),Q=s(85378);const X={name:"TMCommentPopup",components:{TMAlignCenter:Y.Z,TMContextMenuList:j.Z,TMContextMenuListItem:K.Z,TMContextMenu:q.Z,TMSvgImg:z.Z},props:{comment:{type:Object,required:!0},commentLink:{type:String,default:null},commentEditable:{type:Boolean,default:!1},canSendComplaint:{type:Boolean,default:!1},target:{type:null,required:!0},canPinUnpinComment:{type:Boolean,default:!1},isPinnedComment:{type:Boolean,required:!0}},computed:{...(0,a.Se)("global",["isMobile","isTablet"]),...(0,a.Se)("me",["isSuperAdmin"])},methods:{copyLink(){try{(0,Q.Z)(this.commentLink),this.$toast.success(this.msg("COMMENT_NOTICE_COPY_LINK_SUCCESS"))}catch(t){this.$toast.error(this.msg("COMMENT_NOTICE_COPY_LINK_ERROR"))}this.$emit("linkCopied")},getCp2EditFormLink(t){return`https://habr.com/kek/admin/comments_edit/?id=${t}`}}},J=X;var tt=(0,y.Z)(J,W,Z,!1,null,null,null);const et=tt.exports;var st=s(71535),nt=s(76068),it=s(65873),at=s(83049);let ot;const rt=()=>{if(ot)return ot;const t=localStorage.getItem("collapsedCommentIds");if(!t)return null;const e=JSON.parse(t);return ot=e,e},lt={name:"TMCommentThread",components:{TMCommentPopup:et,TMComment:_.Z,TMCommentFooter:G.Z,LazyHydrate:V.ZP,TMSvgImg:z.Z,TMDatetime:nt.Z,CommentRatingHint:st.Z},props:{commentComponent:{type:Object,default:null},comment:{type:Object,required:!0},isAuthorized:{type:Boolean,default:!1},voteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},favoriteAction:{type:Function,default:null},isPinnedSection:{type:Boolean,default:!1},canPinUnpinComment:{type:Boolean,default:!1},showModerationControls:Boolean},data(){return{isCollapsed:!1,popupVisible:!1,popupTargetElement:null,hasMounted:!1,isCommentRatingHintVisible:!1,commentRatingHintProps:null}},computed:{collapsedText(){return this.msg("COMMENT_COLLAPSED",{count:this.hiddenCommentsCount})},hiddenCommentsCount(){return this.comment.children.reduce((function t(e,{children:s}){return s.length?s.reduce(t,e+1):e+1}),1)},indentClass(){if(this.isPinnedSection)return"";const t=10,e=Math.min(this.comment.level,t);return`tm-comment-thread__indent_l-${e}`},indentBreadcrumbsClass(){const t=10,e=Math.min(this.comment.level,t);return`tm-comment-thread__indent_b_l-${e}`},popupEnabled(){return Boolean(this.complaintAction||this.getCommentLink||this.commentEditable||this.comment.level>0&&this.comment.children.length)},commentEditable(){return this.comment.isCanEdit&&!this.comment.isSuspended}},mounted(){this.hasMounted=!0;const t=rt();t&&this.comment.id in t&&(this.isCollapsed=!0)},methods:{toggleCollapse(){this.isCollapsed=!this.isCollapsed;const{id:t}=this.comment;if(this.isCollapsed)try{const e=JSON.parse(localStorage.getItem("collapsedCommentIds")||"{}");localStorage.setItem("collapsedCommentIds",JSON.stringify({...e,[t]:1}))}catch(e){localStorage.setItem("collapsedCommentIds",JSON.stringify({[t]:1}))}else{const e=JSON.parse(localStorage.getItem("collapsedCommentIds")||"{}");delete e[t],localStorage.setItem("collapsedCommentIds",JSON.stringify(e))}},navigateToComment(t,e=!1){e&&!(0,at.m2)(t)&&this.$emit("expandLimiter");const s=`#comment_${t}`;(0,at.fo)(s).then((()=>(0,H.q)(s)))},togglePopup(){this.popupVisible=!this.popupVisible;let t=null;t=this.isPinnedSection?document.querySelector("[data-pinned-comments]"):document.querySelector("[data-comments-list]"),this.popupTargetElement=t.querySelector(`[data-comment-popup="${this.comment.id}"]`)},closePopup(){this.popupVisible=!1},toggleCommentRatingHint(t){var e;if(null!==(e=this.commentRatingHintProps)&&void 0!==e&&e.target&&t.target!==this.commentRatingHintProps.target)return this.isCommentRatingHintVisible=!1,void this.$nextTick((()=>{this.commentRatingHintProps=t,this.isCommentRatingHintVisible=!0}));this.isCommentRatingHintVisible?this.isCommentRatingHintVisible=!1:(this.commentRatingHintProps=t,this.isCommentRatingHintVisible=!0)},bem:it.P}},ct=lt;var mt=(0,y.Z)(ct,U,F,!1,null,null,null);const ut=mt.exports;var dt=s(31483),pt=s(30358),_t=s(90707),ht=function(){var t=this,e=t._self._c;return e("section",{staticClass:"tm-pinned-comments",attrs:{"data-pinned-comments":""}},[e("div",{staticClass:"tm-pinned-comments__header"},[e("TMSvgImg",{staticClass:"tm-pinned-comments__icon",attrs:{id:"pinned",size:"24"}}),t._v(" "),e("span",{staticClass:"tm-pinned-comments__header-title"},[t._v(" "+t._s(t.msg("COMMENTS_PINNED"))+" ")])],1),t._v(" "),e("div",{staticClass:"tm-pinned-comments__wrapper"},t._l(t.pinnedComments,(function(s){return e("TMCommentThread",{key:s.id,attrs:{"can-pin-unpin-comment":t.canPinUnpinComment,comment:s,"complaint-action":t.complaintAction,"favorite-action":t.favoriteAction,"get-comment-link":t.getCommentLink,"is-pinned-section":!0,"show-moderation-controls":t.showModerationControls,"vote-action":t.voteAction},on:{commentDelete:function(e){return t.$emit("commentDelete",e)},expandLimiter:function(e){return t.$emit("expandLimiter",e)},moderate:function(e){return t.$emit("moderate",e)},pinUnpinComment:function(e){return t.$emit("pinUnpinComment",e)},showComplaintForm:function(e){return t.$emit("showComplaintForm",e)},showEditForm:function(e){return t.$emit("showEditForm",e)}},scopedSlots:t._u([{key:"footer",fn:function({comment:e}){return[t._t("footer",null,{comment:e})]}}],null,!0)},[t._v(" "),t._t("footer",null,{comment:s})],2)})),1)])},gt=[];const Tt={name:"TMPinnedComments",components:{TMCommentThread:ut,TMSvgImg:z.Z},props:{pinnedComments:{type:Array,required:!0},voteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},favoriteAction:{type:Function,default:null},showModerationControls:Boolean,canPinUnpinComment:{type:Boolean,default:!1}}},vt=Tt;var St=(0,y.Z)(vt,ht,gt,!1,null,null,null);const ft=St.exports;var Et=s(40591),It=s(6109);const Ct={name:"TMComments",components:{TMCommentsWrapper:dt.Z,TMCommentReplyForm:$,TMCommentEditForm:R,TMPlaceholder:Et.Z,TMSvgImg:z.Z,TMNotice:_t.Z,TMComplaintForm:pt.Z,TMCommentThread:ut,TMPopup:It.Z,TMPinnedComments:ft},props:{comments:{type:Array,default:null},commentComponent:{type:Object,default:null},commentsCount:{type:[Number,String],default:null},pinnedComments:{type:Array,default:null},isLoading:{type:Boolean,default:!1},isPost:{type:Boolean,required:!0},notice:{type:Object,default:null},commentSubmitAction:{type:Function,required:!0},voteAction:{type:Function,default:null},favoriteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},footerVisible:{type:Boolean,default:!0},showModerationControls:Boolean,canPinUnpinComment:{type:Boolean,default:!1}},data(){return{formTarget:null,firstUnreadId:null,complaintCommentId:null}},computed:{...(0,a.Se)("me",["isLoggedIn","isSuperAdmin"]),...(0,a.Se)("comments",["getCommentAccess"]),showNoticeInCommentsThread(){return this.isLoggedIn&&this.unableToComment},postId(){return this.$route.params.id},unableToComment(){return!(!this.getCommentAccess||"boolean"!==typeof this.getCommentAccess.isCanComment)&&!this.getCommentAccess.isCanComment}},methods:{...(0,a.nv)("comments",["updateComment","moderateComment"]),editAction({commentId:t,commentBody:e}){const s=this.$route.params.id,n={...e,timestamp:(new Date).getTime()},i=this.isPost?E.QF:E.DF;return i(s,t,n).then((({data:{comment:t}})=>{this.updateComment({articleId:s,comment:t}),this.closeForm()})).catch((t=>{throw this.$toast.error(t.message),t}))},commentComplaintAction(t,e){return this.complaintAction({value:t,parentId:e}).then((()=>{this.complaintCommentId=null}))},moderateReadAndComment({comment:t,isApprove:e}){return this.moderateComment({isApprove:e,commentId:t.id,postId:this.$route.params.id,isPost:this.isPost})},showReplyForm(t){this.isLoggedIn?this.formTarget={commentId:t.id,type:"reply",isPinnedSection:!1}:this.$toast.error(this.msg("AUTH_REQUIRED"))},showEditForm({comment:t,isPinnedSection:e}){this.formTarget={commentId:t.id,type:"edit",isPinnedSection:e}},showComplaintForm(t){this.complaintCommentId=t.id},closeForm(){this.formTarget=null},onDeleteComment(t){this.$emit("commentDelete",t),this.closeForm()}}},At=Ct;var bt=(0,y.Z)(At,n,i,!1,null,null,null);const yt=bt.exports},37374:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"companies-admin-list"},t._l(t.companies,(function(s){return e("li",{key:s.alias,staticClass:"companies-admin-list__item"},[e("router-link",{staticClass:"companies-admin-list__link",attrs:{to:t.getCompanyAdminLink(s)}},[e("TMEntityImage",{staticClass:"company-admin-dropdown__image",attrs:{alias:s.alias,image:s.imageUrl,type:"company"}}),t._v(" "),e("span",{domProps:{innerHTML:t._s(s.titleHtml)}})],1)],1)})),0)},i=[],a=s(51153);const o={name:"TMCompaniesAdminList",components:{TMEntityImage:a.Z},props:{companies:{type:Array,required:!0}},methods:{getCompanyAdminLink(t){return`/company/${t.alias}/admin/`}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},35813:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("ADMINISTRATION_BLOCK_TITLE")}},t._l(t.items,(function(s){return e("a",{key:s.link,staticClass:"tm-administration-block__link",attrs:{href:s.link,target:"_blank"}},[t._v("\n    "+t._s(s.title)+"\n  ")])})),0)},i=[],a=s(20629),o=s(17907);const r={name:"TMCompanyAdministrationBlock",components:{TMBlock:o.Z},props:{companyInfo:{type:Object,required:!0}},computed:{...(0,a.Se)("i18n",["langOptions"]),items(){const t=`/company/${this.companyInfo.alias}/admin/`;return[{title:this.msg("ADMINISTRATION_BLOCK_CP"),link:t},{title:this.msg("ADMINISTRATION_BLOCK_CONTENT"),link:`https://company.habr.com/${this.langOptions.hl}/native-special/`},{title:this.msg("ADMINISTRATION_BLOCK_DOCS"),link:"/docs/companies/preparations/"}]}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},19353:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return t.companyInfo?e("TMBlock",{attrs:{title:t.msg("PROFILE_BLOCK_TITLE")}},[e("TMCompanyBasicInfo",{attrs:{"company-info":t.companyInfo,variant:"columns-nowrap"}})],1):t._e()},i=[],a=s(17907),o=s(81553);const r={name:"TMCompanyBasicInfoBlock",components:{TMCompanyBasicInfo:o.Z,TMBlock:a.Z},props:{companyInfo:{type:Object,default:null}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},81553:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-company-basic-info"},[t.companyInfo.siteUrl?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_WEBSITE"),variant:t.variant}},[e("a",{staticClass:"tm-company-basic-info__link",attrs:{href:t.companyInfo.siteUrl,target:"_blank"}},[t._v("\n      "+t._s(t.hostname)+"\n    ")])]):t._e(),t._v(" "),t.companyInfo.registrationDate?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_REGISTRATION_DATE"),variant:t.variant}},[e("TMDatetime",{attrs:{date:new Date(t.companyInfo.registrationDate)}})],1):t._e(),t._v(" "),t.companyInfo.foundationDate?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_FOUNDATION_DATE"),variant:t.variant}},[t.foundationHasFullDate?e("TMDatetime",{attrs:{date:t.foundationDate}}):e("span",[t._v("\n      "+t._s(t.foundationDate)+"\n    ")])],1):t._e(),t._v(" "),t.companyInfo.staffNumber?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_EMPLOYEES_COUNT"),variant:t.variant}},[t._v("\n    "+t._s(t.companyInfo.staffNumber)+"\n  ")]):t._e(),t._v(" "),t.companyInfo.location&&t.companyInfo.location.country?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_LOCATION"),variant:t.variant}},[t._v("\n    "+t._s(t.companyInfo.location.country.title)+"\n  ")]):t._e(),t._v(" "),t.companyInfo.representativeUser?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_COMPANY_TITLE_REPRESENTIVE_USER"),variant:t.variant}},[e("router-link",{staticClass:"tm-company-basic-info__link",attrs:{to:t.representativeUserRoute}},[t._v("\n      "+t._s(t.representativeUserTitle)+"\n    ")])],1):t._e()],1)},i=[],a=s(20629),o=s(76068),r=s(6454);const l={name:"TMCompanyBasicInfo",components:{TMDescriptionList:r.Z,TMDatetime:o.Z},props:{companyInfo:{type:Object,default:null},variant:{type:String,default:"base"}},computed:{...(0,a.Se)("i18n",["msg"]),hostname(){const t=new URL(this.companyInfo.siteUrl);return t.hostname},foundationHasFullDate(){const{day:t,month:e,year:s}=this.companyInfo.foundationDate;return t&&e&&s},foundationDate(){const{day:t,month:e,year:s}=this.companyInfo.foundationDate;if(this.foundationHasFullDate){const n=parseInt(e,10)-1;return new Date(s,n,t)}return s},representativeUserTitle(){const{companyInfo:{representativeUser:t}}=this;return t.fullname||t.alias},representativeUserRoute(){return{name:"USER_PROFILE",params:{login:this.companyInfo.representativeUser.alias}}}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},25349:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return t.showCompanyBranding?e("div",{staticClass:"tm-company-card__branding",class:{"tm-company-card__branding_loading":t.imageLoading}},[t.imageLoading?e("div",{staticClass:"tm-company-card__branding-placeholder"},[t.error?e("div",{staticClass:"tm-company-card__branding-error"},[t._v("\n      "+t._s(t.msg("ERROR_MISSING_BRANDING_IMAGE"))+"\n    ")]):t._e()]):t._e(),t._v(" "),t.companyInfo.settings.branding.linkUrl?e("a",{attrs:{href:t.companyInfo.settings.branding.linkUrl}},[e("img",{staticClass:"tm-company-card__branding-image",attrs:{src:t.companyInfo.settings.branding.imageUrl,width:"100%"},on:{error:function(e){t.error=!0},load:function(e){t.imageLoading=!1}}})]):e("img",{staticClass:"tm-company-card__branding-image",attrs:{src:t.companyInfo.settings.branding.imageUrl,width:"100%"},on:{error:function(e){t.error=!0},load:function(e){t.imageLoading=!1}}})]):t._e()},i=[];const a={name:"TMCompanyBranding",props:{companyInfo:{type:Object,required:!0}},data(){return{imageLoading:!0,error:!1}},computed:{showCompanyBranding(){return this.companyInfo.settings&&this.companyInfo.settings.branding&&this.companyInfo.settings.branding.imageUrl}},mounted(){this.companyInfo.settings&&this.companyInfo.settings.branding&&this.companyInfo.settings.branding.pixelUrl&&this.initTrackingPixel()},methods:{initTrackingPixel(){const{pixelUrl:t}=this.companyInfo.settings.branding,e=new Image;e.src=t}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},56800:(t,e,s)=>{"use strict";s.d(e,{Z:()=>P});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-company-card"},[e("div",{staticClass:"tm-company-card__header"},[e("router-link",{staticClass:"tm-company-card__avatar",attrs:{to:t.profileRoute}},[e("TMEntityImage",{attrs:{alias:t.company.alias,image:t.company.imageUrl,size:48,type:"company"}})],1),t._v(" "),t.company.statistics?[null!=t.company.statistics.careerRating?e("TMGrade",{staticClass:"tm-company-card__rating",attrs:{alias:t.company.careerAlias,grade:t.company.statistics.careerRating}}):t._e(),t._v(" "),null!=t.company.statistics.rating?e("TMRating",{staticClass:"tm-company-card__rating",attrs:{score:t.company.statistics.rating}}):t._e(),t._v(" "),t.showSubscribers&&null!==t.company.statistics.subscribersCount?e("TMCompanySubscribers",{attrs:{"subscribers-count":t.company.statistics.subscribersCount}}):t._e()]:t._e()],2),t._v(" "),e("div",{staticClass:"tm-company-card__info"},[e("router-link",{staticClass:"tm-company-card__name",attrs:{to:t.profileRoute},domProps:{innerHTML:t._s(t.companyTitle)}}),t._v(" "),t.hasDescription?e("div",{staticClass:"tm-company-card__description",domProps:{innerHTML:t._s(t.company.descriptionHtml)}}):t._e()],1)])},i=[],a=function(){var t=this,e=t._self._c;return e("TMCounterContainer",{scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"tm-company-subscribers__count"},[t._v("\n      "+t._s(t.formattedCount)+"\n    ")])]},proxy:!0},{key:"footer",fn:function(){return[e("span",{staticClass:"tm-company-subscribers__label"},[t._v("\n      "+t._s(t.msg("SUBSCRIBERS"))+"\n    ")])]},proxy:!0}])})},o=[],r=s(21913);const l={name:"TMCompanySubscribers",components:{TMCounterContainer:r.Z},props:{subscribersCount:{type:Number,required:!0}},computed:{formattedCount(){const t=new Intl.NumberFormat(this.langOptions.hl),e=e=>t.format(e);return e(this.subscribersCount)}}},c=l;var m=s(1001),u=(0,m.Z)(c,a,o,!1,null,null,null);const d=u.exports;var p=s(51153),_=function(){var t=this,e=t._self._c;return e("a",{staticClass:"tm-grade",attrs:{href:`${t.$options.CAREER_HOST}/companies/${t.alias}`,rel:"noopener",target:"_blank"}},[e("TMRating",{attrs:{label:t.msg("POINTS_LABEL_GRADE_SHORT"),score:t.grade,variant:"grade"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TMSvgImg",{staticClass:"tm-svg-grade__icon",attrs:{id:"grade",size:"24",title:t.msg("POINTS_LABEL_GRADE")}})]},proxy:!0}])})],1)},h=[],g=s(70874),T=s(31490),v=s(77945);const S={name:"TMGrade",components:{TMSvgImg:T.Z,TMRating:g.Z},props:{grade:{type:Number,required:!0},alias:{type:String,required:!0}},CAREER_HOST:v.Yu},f=S;var E=(0,m.Z)(f,_,h,!1,null,null,null);const I=E.exports;var C=s(7748);const A={name:"TMCompanyCard",components:{TMCompanySubscribers:d,TMEntityImage:p.Z,TMRating:g.Z,TMGrade:I},props:{company:{type:Object,default:null},hasDescription:{type:Boolean,default:!0},showSubscribers:{type:Boolean,default:!1}},computed:{profileRoute(){return{name:"COMPANY_PROFILE",params:{name:this.company.alias}}},companyTitle(){return this.company.titleHtml&&(0,C._)(this.company.titleHtml)}}},b=A;var y=(0,m.Z)(b,n,i,!1,null,null,null);const P=y.exports},84418:(t,e,s)=>{"use strict";s.d(e,{Z:()=>k});var n=function(){var t=this,e=t._self._c;return t.company?e("div",{staticClass:"tm-company-profile-card"},[e("TMCompanyCard",{staticClass:"tm-company-profile-card__info",attrs:{company:t.company}}),t._v(" "),t.isLoggedIn?e("div",{staticClass:"tm-company-profile-card__buttons"},[e("TMButtonFollow",{staticClass:"tm-company-profile-card__button tm-company-profile-card__button_follow",attrs:{subscribed:t.isSubscribed},on:{onToggle:t.toggleFollowCompany}}),t._v(" "),t.workplaceInfo?e("TMCompanyEmployeeRequest",{staticClass:"tm-company-profile-card__button tm-company-profile-card__button_request",attrs:{company:t.company,"current-user":t.userAlias,"workplace-info":t.workplaceInfo}}):t._e(),t._v(" "),t.isSuperAdmin?e("div",{staticClass:"tm-company-profile-card__button tm-company-profile-card__button_admin"},[e("TMAdministrationLinks",{attrs:{links:t.companyLinksItems}})],1):t._e()],1):t._e()],1):t._e()},i=[],a=s(20629),o=s(410),r=s(56800),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"company-employee-request"},[e("button",{staticClass:"company-employee-request__button",attrs:{type:"button"},on:{click:t.toggleButtonAction}},[e("span",{staticClass:"company-employee-request__button-inner",class:{"company-employee-request__button-inner_active":t.isButtonActive}},[t._v("\n      "+t._s(t.requestButtonText)+"\n    ")]),t._v(" "),t.isButtonActive?e("span",{staticClass:"company-employee-request__button-cancel"},[t._v("\n      ×\n    ")]):t._e()]),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.isPopupVisible?e("TMEmployeeRequestPopup",{attrs:{company:t.company,"user-alias":t.currentUser},on:{closePopup:function(e){t.isPopupVisible=!1},setRequestData:e=>t.updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:e})}}):t._e(),t._v(" "),e("TMAsyncConfirmationDialog",{ref:"confirmDialog"})],1)],1)},c=[],m=s(10450),u=function(){var t=this,e=t._self._c;return e("TMPopup",{staticClass:"employee-request-popup",attrs:{title:t.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_POPUP_TITLE")},on:{close:function(e){return t.$emit("closePopup")}}},[e("div",{staticClass:"employee-request-popup__content"},[e("div",{staticClass:"employee-request-popup__company-info"},[e("TMEntityImage",{staticClass:"employee-request-popup__company-logo",attrs:{alias:t.company.alias,image:t.company.imageUrl,size:36,type:"company"}}),t._v(" "),e("span",{staticClass:"employee-request-popup__company-name"},[t._v(t._s(t.company.titleHtml))])],1),t._v(" "),e("TMFormBuilder",{staticClass:"employee-request-popup__form",attrs:{disabled:t.isLoading,fields:t.formFields,"initial-data":t.initialData,lang:t.langOptions.hl,"server-errors":t.serverErrors,"submit-label":t.msg("SUBMIT_FORM_ACTION")},on:{submit:t.proceedForm}})],1)])},d=[],p=s(51153),_=s(18230),h=s(6109),g=s(19516),T=s(26452);const v={name:"TMEmployeeRequestPopup",components:{TMPopup:h.Z,TMEntityImage:p.Z,TMFormBuilder:_.Z},props:{company:{type:Object,default:null},userAlias:{type:String,required:!0}},data(){return{isLoading:!1,initialData:{messageText:""},serverErrors:{}}},computed:{formFields(){return[{className:"tm-textarea",label:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_LABEL_TEXT"),description:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_DESCRIPTION_TEXT"),name:"messageText",type:"BaseTextarea",disableCounter:!0,validation:{required:!0,maxLength:300},htmlAttrs:{placeholder:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_PLACEHOLDER_TEXT")}}]}},methods:{proceedForm(t){return this.isLoading=!0,this.serverErrors={},(0,g.w9)(this.userAlias,{company:this.company.alias,note:t.messageText}).then((t=>{this.isLoading=!1,this.initialData={messageText:""},t&&this.$emit("setRequestData",t),this.$emit("closePopup"),this.$toast.success(this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_SUBMIT_SUCCESS_MESSAGE"))})).catch((t=>{this.isLoading=!1;const e=(0,T.getErrorCode)(t);"FORM_ERRORS"!==e?this.$toast.error(t.message):this.serverErrors=t.data}))}}},S=v;var f=s(1001),E=(0,f.Z)(S,u,d,!1,null,null,null);const I=E.exports;var C=s(12790);const A={name:"TMEmployeeRequest",components:{TMEmployeeRequestPopup:I,TMAsyncConfirmationDialog:m.Z},props:{company:{type:Object,default:null},currentUser:{type:String,required:!0},workplaceInfo:{type:Object,required:!0}},data(){return{isPopupVisible:!1}},computed:{isButtonActive(){return this.workplaceInfo.employeeRequest||this.workplaceInfo.isUserEmployee},requestButtonText(){return this.workplaceInfo.employeeRequest?this.msg("COMPANY_ADMIN_REQUEST_STATUS_WAITING"):this.msg("COMPANY_ADMIN_REQUEST_BUTTON_TEXT")}},methods:{...(0,a.nv)("companies",["updateWorkplaceInfo"]),toggleButtonAction(){this.workplaceInfo.employeeRequest?this.cancelRequest():this.workplaceInfo.isUserEmployee?this.deleteEmployee():this.isPopupVisible=!0},cancelRequest(){this.$refs.confirmDialog.show({title:this.msg("COMPANY_ADMIN_CANCEL_REQUEST_CONFIRM_TITLE"),message:this.msg("COMPANY_ADMIN_CANCEL_REQUEST_CONFIRM_MESSAGE",{companyName:this.company.titleHtml}),confirmLabel:this.msg("COMPANY_ADMIN_APPROVE_REQUEST_BUTTON_TEXT"),cancelLabel:this.msg("CONFIRM_CANCEL_BUTTON_LABEL")}).then((t=>{t&&(0,g.fK)(this.currentUser,this.workplaceInfo.employeeRequest.id).then((()=>{this.updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:null}),this.$toast.success(this.msg("COMPANY_ADMIN_CANCEL_REQUEST_SUCCESS_MESSAGE"))})).catch((t=>this.$toast.error(t.message)))}))},deleteEmployee(){this.$refs.confirmDialog.show({title:this.msg("COMPANY_ADMIN_REMOVE_EMPLOYEE_CONFIRM_TITLE"),message:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_DECLINE_MESSAGE",{companyName:this.company.titleHtml})}).then((t=>{t&&(0,C.hS)(this.company.alias,this.currentUser).then((()=>{this.updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:null}),this.$toast.success(this.msg("COMPANY_ADMIN_REMOVE_COMPANY_EMPLOYEE_SUCCESS_MESSAGE"))})).catch((t=>this.$toast.error(t.message)))}))}}},b=A;var y=(0,f.Z)(b,l,c,!1,null,null,null);const P=y.exports;var L=s(8065);const O=()=>s.e(2328).then(s.bind(s,74574)),N={name:"TMCompanyProfileCard",components:{TMCompanyCard:r.Z,TMButtonFollow:o.Z,TMAdministrationLinks:O,TMCompanyEmployeeRequest:P},props:{company:{type:Object,default:null}},computed:{...(0,a.Se)("me",["isLoggedIn","isSuperAdmin","userAlias"]),...(0,a.rn)("companies",["workplaceInfo"]),isSubscribed(){return this.company.relatedData&&this.company.relatedData.isSubscribed},companyLinksItems(){const{alias:t}=this.company,e={en:{EDIT_PROFILE:"Edit profile via CP"},ru:{EDIT_PROFILE:"Редактировать профиль в CP"}},s=`https://habr.com/kek/admin/company/${t}/`;return[{title:e[this.langOptions.hl].EDIT_PROFILE,link:s}]}},methods:{...(0,a.nv)("companies",["toggleSubscribeStatus"]),toggleFollowCompany(){return this.toggleSubscribeStatus(this.company.alias.toLowerCase()).then((()=>{this.isSubscribed&&(0,L.IZ)("subscribe_company")}))}}},M=N;var R=(0,f.Z)(M,n,i,!1,null,null,null);const k=R.exports},2483:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-company-snippet"},[e("router-link",{staticClass:"tm-company-snippet__logo-link",attrs:{to:t.companyProfileRoute}},[e("TMEntityImage",{attrs:{alias:t.company.alias,image:t.company.imageUrl,size:40,type:"company"}})],1),t._v(" "),e("div",{staticClass:"tm-company-snippet__info"},[e("router-link",{staticClass:"tm-company-snippet__title",class:{"tm-company-snippet__title_subscribed":t.isSubscribed},attrs:{to:t.companyProfileRoute},domProps:{innerHTML:t._s(t.company.titleHtml)}}),t._v(" "),e("div",{staticClass:"tm-company-snippet__description",domProps:{innerHTML:t._s(t.company.descriptionHtml||t.msg("COMPANY"))}})],1)],1)},i=[],a=s(51153);const o={name:"TMCompanySnippet",components:{TMEntityImage:a.Z},props:{company:{type:Object,default:null}},computed:{companyProfileRoute(){return{name:"COMPANY_PROFILE",params:{name:this.company.alias,hl:this.$route.params.hl}}},isSubscribed(){return this.company.relatedData&&this.company.relatedData.isSubscribed}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},44492:(t,e,s)=>{"use strict";s.d(e,{Z:()=>L});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-company-widgets"},t._l(t.widgets,(function(s,n){return e(t.$options.presenters[s.type],{key:n,tag:"component",attrs:{type:s.type,"widget-data":s.data}})})),1)},i=[],a=s(20629),o=s(5242),r=s(55127),l=function(){var t=this,e=t._self._c;return e("TMBlock",{staticClass:"tm-widget-banners-slider",class:{"tm-widget-banners-slider_shadowed":t.renderShadow},attrs:{"header-variant":"borderless",title:t.msg("WIDGET_BANNER")}},[e("TMSwiper",{attrs:{"auto-height":"",autoplay:t.$options.autoplayParams,pagination:"","slides-per-view":1}},t._l(t.widgetData,(function(t,s){return e("TMSwiperSlide",{key:s},[e("TMWidgetBannerContent",{attrs:{"widget-data":t.data}})],1)})),1)],1)},c=[],m=s(17907),u=s(15946),d=s(86951),p=s(78215);const _=1e4,h={name:"TMWidgetBannersSlider",components:{TMBlock:m.Z,TMWidgetBannerContent:p.Z,TMSwiper:u["default"],TMSwiperSlide:d["default"]},props:{widgetData:{type:Array,required:!0}},autoplayParams:{delay:_,disableOnInteraction:!1},computed:{renderShadow(){return this.widgetData.length>12}}},g=h;var T=s(1001),v=(0,T.Z)(g,l,c,!1,null,null,null);const S=v.exports;var f=s(94497),E=s(33700),I=s(57921),C=s(5490),A=s(27583);const b={name:"TMCompanyWidgets",props:{companyAlias:{type:String,required:!0},widgetsAsSlider:{type:Boolean,default:!1}},presenters:{vk:A.Z,facebook:f.Z,twitter:C.Z,news:I.Z,links:E.Z,banner:r.Z,applications:o.Z,bannersSlider:S},computed:{...(0,a.Se)("global",["isDesktop"]),...(0,a.rn)("companies",["companiesWidgets"]),needShowSlider(){return this.widgetsAsSlider&&this.bannersWidgets.length>1},rawWidgets(){const t=this.companiesWidgets[this.companyAlias];return t?t.filter((t=>!!t.data&&(("news"!==t.type||0!==t.data.news.length)&&("links"!==t.type||0!==t.data.links.length)))):[]},bannersWidgets(){return this.rawWidgets.filter((t=>"banner"===t.type))},regularWidgets(){return this.rawWidgets.filter((t=>"banner"!==t.type))},widgets(){return this.needShowSlider?[{type:"bannersSlider",data:this.bannersWidgets},...this.regularWidgets]:this.rawWidgets}},mounted(){this.isDesktop&&this.loadCompanyWidgets(this.companyAlias)},methods:{...(0,a.nv)("companies",["loadCompanyWidgets"])}},y=b;var P=(0,T.Z)(y,n,i,!1,null,null,null);const L=P.exports},30358:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("form",{ref:"form",staticClass:"tm-complaint-form",class:{"tm-complaint-form_processing":t.disabled},on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"tm-complaint-form__field"},["checkbox"===t.$attrs.type?e("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"tm-complaint-form__input",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{checked:Array.isArray(t.currentValue)?t._i(t.currentValue,null)>-1:t.currentValue},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.submitForm.apply(null,arguments):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.submitForm.apply(null,arguments):null}],change:function(e){var s=t.currentValue,n=e.target,i=!!n.checked;if(Array.isArray(s)){var a=null,o=t._i(s,a);n.checked?o<0&&(t.currentValue=s.concat([a])):o>-1&&(t.currentValue=s.slice(0,o).concat(s.slice(o+1)))}else t.currentValue=i}}},"input",t.$attrs,!1)):"radio"===t.$attrs.type?e("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"tm-complaint-form__input",attrs:{disabled:t.disabled,type:"radio"},domProps:{checked:t._q(t.currentValue,null)},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.submitForm.apply(null,arguments):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.submitForm.apply(null,arguments):null}],change:function(e){t.currentValue=null}}},"input",t.$attrs,!1)):e("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"tm-complaint-form__input",attrs:{disabled:t.disabled,type:t.$attrs.type},domProps:{value:t.currentValue},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.submitForm.apply(null,arguments):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.submitForm.apply(null,arguments):null}],input:function(e){e.target.composing||(t.currentValue=e.target.value)}}},"input",t.$attrs,!1)),t._v(" "),e("div",{staticClass:"tm-complaint-form__hint"},[t._v("\n      "+t._s(t.msg("COMMENT_COMPLAINT_HINT"))+"\n    ")])]),t._v(" "),e("div",{staticClass:"tm-complaint-form__controls"},[e("TMButtonBase",{attrs:{disabled:t.isTextareaEmpty||t.disabled},nativeOn:{click:function(e){return t.submitForm.apply(null,arguments)}}},[t._v("\n      "+t._s(t.msg("COMMENT_ACTION_SEND"))+"\n    ")])],1)])},i=[],a=s(17903);const o={name:"TMComplaintForm",components:{TMButtonBase:a.Z},inheritAttrs:!1,props:{submitAction:{type:Function,required:!0}},data(){return{currentValue:null,disabled:!1}},computed:{isTextareaEmpty(){return!this.currentValue}},mounted(){this.$attrs.autofocus&&this.$refs.input.focus()},methods:{submitForm(){this.disabled=!0,this.submitAction(this.currentValue).then((()=>{this.disabled=!1})).catch((t=>{throw this.disabled=!1,t}))}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},18264:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("li",{staticClass:"tm-context-menu-list__item"},[e(t.tag,t._b({tag:"component",class:t.itemClassNames},"component",t.$attrs,!1),[t._t("default")],2)],1)},i=[],a=s(65873);const o={name:"TMContextMenuListItem",inheritAttrs:!1,props:{tag:{type:String,default:"button"},variant:{type:String,default:null}},computed:{itemClassNames(){return["tm-context-menu-list__item-inner",...this.bem("tm-context-menu-list__item-inner",{[this.variant]:!0}),{"tm-context-menu-list__button":"button"===this.tag,"tm-context-menu-list__external-link":["a","router-link"].includes(this.tag)}]}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},18936:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"tm-context-menu-list",class:t.bem("tm-context-menu-list",{variant:t.variant})},[t._t("default")],2)},i=[],a=s(65873);const o={name:"TMContextMenuList",props:{variant:{type:String,default:null}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},87906:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return!t.isTablet&&t.isMobile?e("TMScrollLockTransition",{attrs:{appear:"",name:"slide-fade"}},[e("TMBottomSheet",{on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"default",fn:function(){return[t._t("default")]},proxy:!0},{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)})],1):e("transition",{attrs:{appear:"",name:"transition-fade"}},[e("TMPopover",{attrs:{root:t.target,variant:"dropdown"},on:{close:function(e){return t.$emit("close")}}},[t._t("default"),t._v(" "),t._t("body")],2)],1)},i=[],a=s(20629),o=s(52795),r=s(48348),l=s(10529);const c={name:"TMContextMenu",components:{TMPopover:r.Z,TMBottomSheet:o.Z,TMScrollLockTransition:l.Z},props:{target:{type:null,required:!0}},computed:{...(0,a.Se)("global",["isMobile","isTablet"])}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},21913:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-counter-container"},[e("div",{staticClass:"tm-counter-container__header"},[t._t("header")],2),t._v(" "),e("div",{staticClass:"tm-counter-container__footer"},[t._t("footer")],2)])},i=[];const a={name:"TMCounterContainer"},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},30404:(t,e,s)=>{"use strict";s.d(e,{Z:()=>et});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-data-icons"},[t.showIcon("rating")?e("TMArticleRating",{staticClass:"tm-data-icons__item",attrs:{article:t.article},on:{scoreClick:t.showVotesPopup}}):t._e(),t._v(" "),t.showIcon("votes")?e("TMVotesMeter",{staticClass:"tm-data-icons__item",attrs:{appearance:"article",score:t.article.statistics.score,"vote-state":t.voteState,"votes-count":t.article.statistics.votesCount},nativeOn:{click:function(e){return t.showVotesPopup.apply(null,arguments)}}}):t._e(),t._v(" "),t.showIcon("views")?e("TMIconCounter",{staticClass:"tm-data-icons__item",attrs:{abbreviated:"",counter:t.article.statistics.readingCount,"icon-id":"counter-views",title:t.msg("DATA_ICONS_VIEWS")}}):t._e(),t._v(" "),t.showIcon("favorite")?e("TMBookmarksButton",{staticClass:"tm-data-icons__item",attrs:{"bookmarks-count":t.article.statistics.favoritesCount,"is-bookmarked":t.isLoggedIn&&t.isBookmarked,"is-processing":t.isLoadingBookmark},on:{"toggle-bookmark":function(e){return t.onBookmarkClick(t.article)}}}):t._e(),t._v(" "),t.showIcon("share")?e("TMSharing",{staticClass:"tm-data-icons__item",attrs:{article:t.article,title:t.msg("DATA_ICONS_SHARE")}}):t._e(),t._v(" "),t.showIcon("comments")?e("TMArticleCommentsCounterLink",{staticClass:"tm-data-icons__item",attrs:{article:t.article,"comments-count":t.article.statistics.commentsCount,"ga-event":t.gaEvent,title:t.msg("DATA_ICONS_READ_COMMENTS"),"unread-count":t.unreadCommentsCount}}):t._e(),t._v(" "),t._t("articleMenu"),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.votesPopupVisible?e("TMPopup",{attrs:{title:t.msg("ARTICLE_REASON_TOTAL",t.votesStats)},on:{close:function(e){t.votesPopupVisible=!1}}},[e("TMArticleVoteStats",{attrs:{"is-post":t.isPost,"reasons-map":t.reasonsMap,voting:t.votesStats}})],1):t._e()],1)],2)},i=[],a=s(20629),o=s(34948),r=s(88014),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-rating"},[t.showVotesLevel?e("TMVotesLever",{staticClass:"tm-article-rating__votes-switcher",attrs:{appearance:"article","can-vote-minus":t.showMinusControl,"can-vote-plus":t.showPlusControl,"is-loading":t.isVoteLoading||t.isLoadingReasonsList,"is-plusified":!0,score:t.article.statistics.score,"vote-state":t.voteState,"votes-count":t.article.statistics.votesCount},on:{downvote:t.showVotePopupOrShowHint,scoreClick:function(e){return t.$emit("scoreClick")},upvote:t.upVoteArticleOrShowHint}}):e("TMVotesMeter",{staticClass:"tm-article-rating__votes-switcher",attrs:{appearance:"article",score:t.article.statistics.score,"vote-state":t.voteState,"votes-count":t.article.statistics.votesCount},nativeOn:{click:function(e){return t.$emit("scoreClick")}}}),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.isOpenArticleVote?e("TMPopup",{attrs:{title:t.title},on:{close:t.closePopup}},[t.isOpenSuccessPopup?e("div",{domProps:{textContent:t._s(t.msg("ARTICLE_REASON_SUCCESS"))}}):e("TMMinusReason",{attrs:{"is-vote-loading":t.isVoteLoading,"reasons-list":t.reasonsList},on:{downVote:t.articleDownVote}})],1):t._e()],1),t._v(" "),t.karmaHintsIsEnabled&&t.hintToRender?e("TMVoteHintPopup",{attrs:{hint:t.hintToRender,root:t.$el},on:{close:function(e){t.hintToRender=null}}}):t._e()],1)},c=[],m=s(13497),u=s(6109),d=function(){var t=this,e=t._self._c;return e("TMPopover",{staticClass:"vote-hint-popup",attrs:{offset:[-4,-4],root:t.root,variant:"hub"},on:{close:function(e){return t.$emit("close")}}},["registration"===t.hint?e("div",[e("TMMessageInterpolation",{attrs:{message:t.msg("ARTICLE_REGISTRATION_HINT")},scopedSlots:t._u([{key:"link",fn:function(){return[e("a",{attrs:{href:t.registrationLink},on:{"!click":function(e){return t.trackRegistrationClick.apply(null,arguments)}}},[t._v("\n          "+t._s(t.msg("ARTICLE_REGISTRATION_HINT_LINK"))+"\n        ")])]},proxy:!0}],null,!1,1835685460)})],1):t._e(),t._v(" "),"upvote"===t.hint?e("div",{domProps:{innerHTML:t._s(t.msg("ARTICLE_UPVOTE_HINT"))}}):t._e(),t._v(" "),"downvote"===t.hint?e("div",{domProps:{innerHTML:t._s(t.msg("ARTICLE_DOWNVOTE_HINT"))}}):t._e()])},p=[],_=s(69137),h=s(48348),g=s(8065);const T={name:"TMVoteHintPopup",components:{TMPopover:h.Z,TMMessageInterpolation:_.Z},props:{root:{type:null,required:!0},hint:{type:String,required:!0,validator(t){return["registration","upvote","downvote"].includes(t)}}},computed:{registrationLink(){const t=this.$route.path;return`https://habr.com/kek/v1/auth/habrahabr-register/?back=${t}&hl=${this.langOptions.hl}`}},methods:{trackRegistrationClick(){(0,g.IZ)("hint_reg_raiting")}}},v=T;var S=s(1001),f=(0,S.Z)(v,d,p,!1,null,null,null);const E=f.exports;var I=s(8130),C=s(20998),A=s(48001),b=s(23009);const y={name:"TMArticleRating",components:{TMVoteHintPopup:E,TMVotesLever:I.Z,TMVotesMeter:C.Z,TMMinusReason:m.Z,TMPopup:u.Z},props:{article:A.sK},data(){return{isOpenArticleVote:!1,isOpenSuccessPopup:!1,title:null,isVoteLoading:!1,isLoadingReasonsList:!1,hintToRender:null}},computed:{...(0,a.Se)("me",["isSuperAdmin","userAlias","isLoggedIn","karma"]),...(0,a.Se)("articlesList",["getPostReasonsList","getReasonsList"]),isChargeEnough(){var t;return null===(t=this.article.relatedData)||void 0===t?void 0:t.isChargeEnough},karmaHintsIsEnabled(){return this.$getFeatureFlag("KARMA_HINTS")},isKarmaEnough(){var t;return null===(t=this.article.relatedData)||void 0===t?void 0:t.isKarmaEnough},showMinusControl(){return!(!this.karmaHintsIsEnabled||this.canVoteMinus||this.isKarmaEnough)||this.canVoteMinus},showPlusControl(){return!(!this.karmaHintsIsEnabled||this.canVotePlus||this.isChargeEnough)||this.canVotePlus},canVoteMinus(){var t;return null===(t=this.article.relatedData)||void 0===t?void 0:t.canVoteMinus},canVotePlus(){var t;return null===(t=this.article.relatedData)||void 0===t?void 0:t.canVotePlus},voteState(){return this.isLoggedIn&&this.article.relatedData&&!this.isVoteLoading&&this.article.relatedData.vote.value||0},showVotesLevel(){var t,e;return!!this.isVoteLoading||(this.karmaHintsIsEnabled&&0===this.voteState?this.showMinusControl||this.showPlusControl:(null===(t=this.article.relatedData)||void 0===t?void 0:t.canVotePlus)||(null===(e=this.article.relatedData)||void 0===e?void 0:e.canVoteMinus))},isPost(){return(0,b.o)(this.article)},reasonsList(){return this.isPost?this.getPostReasonsList:this.getReasonsList},GAPublicationType(){return(0,g.Lq)(this.article)}},methods:{...(0,a.nv)("articlesList",["downvote","upvote","loadReasonsList"]),upVoteArticleOrShowHint(){(0,g.IZ)("vote_content_plus",{publication_type:this.GApublicationType}),this.karmaHintsIsEnabled?this.isLoggedIn?!this.isLoggedIn||this.canVotePlus?this.articleUpVote():this.hintToRender="upvote":this.hintToRender="registration":this.articleUpVote()},articleUpVote(){this.isVoteLoading=!0,this.upvote({article:this.article}).then((()=>{(0,g.IZ)("vote_content_plus",{publication_type:this.GAPublicationType})})).catch((t=>{this.$toast.error(t.message)})).finally((()=>{this.isVoteLoading=!1}))},showVotePopupOrShowHint(){(0,g.IZ)("vote_content_minus",{publication_type:this.GApublicationType}),this.karmaHintsIsEnabled?this.isLoggedIn?this.canVoteMinus||this.isKarmaEnough?this.showVotePopup():this.hintToRender="downvote":this.hintToRender="registration":this.showVotePopup()},articleDownVote(t){this.isVoteLoading=!0,this.downvote({article:this.article,reason:t}).then((()=>{this.title=null,this.isOpenSuccessPopup=!0,setTimeout((()=>{this.isOpenSuccessPopup=!1,this.isOpenArticleVote=!1}),3e3),(0,g.IZ)("vote_content_minus",{publication_type:this.GAPublicationType})})).catch((t=>{this.$toast.error(t.message)})).finally((()=>{this.isVoteLoading=!1}))},closePopup(){this.isOpenArticleVote=!1},showVotePopup(){this.isLoadingReasonsList=!0,this.loadReasonsList({isPost:this.isPost}).then((()=>{this.isOpenArticleVote=this.isLoggedIn&&this.article.relatedData.canVotePlus&&this.article.relatedData.canVoteMinus,this.title=this.msg("ARTICLE_REASON_POPUP_TITLE"),this.isLoadingReasonsList=!1})).catch((t=>{this.isLoadingReasonsList=!1,this.$toast.error(t.message)}))}}},P=y;var L=(0,S.Z)(P,l,c,!1,null,null,null);const O=L.exports;var N=function(){var t=this,e=t._self._c;return t.reasonsList?e("div",{staticClass:"tm-article-vote-stats",style:{"--percent-value":t.percentValue}},[t.emptyResult?e("div",[t._v("\n    "+t._s(t.msg("ARTICLE_REASON_NO_DATA"))+"\n  ")]):[e("div",{staticClass:"tm-article-vote-stats__result-border"}),t._v(" "),e("h3",{staticClass:"tm-article-vote-stats__title"},[t._v("\n      "+t._s(t.msg("ARTICLE_REASON_SUBTITLE"))+"\n    ")]),t._v(" "),t._l(t.reasonsMap,(function(s){return e("div",{key:s.reasonId,staticClass:"tm-article-vote-stats__result-item"},[e("div",{staticClass:"tm-article-vote-stats__text"},[t._v("\n        "+t._s(t.getReasonTitle(s))+"\n      ")]),t._v(" "),e("div",{staticClass:"tm-article-vote-stats__percent"},[t._v("\n        "+t._s(s.percent)+"%\n      ")]),t._v(" "),e("div",{staticClass:"tm-article-vote-stats__result-line",style:{width:s.percent+"%"}})])}))]],2):t._e()},M=[];const R={name:"TMArticleVoteStats",props:{voting:{type:Object,required:!0},reasonsMap:{type:Array,required:!0},isPost:{type:Boolean,required:!0}},computed:{...(0,a.Se)("articlesList",["getPostReasonsList","getReasonsList"]),emptyResult(){let t=0;return this.reasonsMap.forEach((e=>{t+=e.percent})),0===t},percentValue(){const{positive:t,total:e}=this.voting;return t/e*100+"%"},reasonsList(){return this.isPost?this.getPostReasonsList:this.getReasonsList}},mounted(){this.loadReasonsList({isPost:this.isPost}).catch((t=>{this.$toast.error(t.message)}))},methods:{...(0,a.nv)("articlesList",["loadReasonsList"]),getReasonTitle({id:t}){const e=this.reasonsList.find((e=>e.id===t));return e&&e.title||""}}},k=R;var w=(0,S.Z)(k,N,M,!1,null,null,null);const B=w.exports;var D=s(94479),x=s(3501),$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-sharing"},[e("button",{staticClass:"tm-sharing__button",attrs:{type:"button"},on:{click:t.invokeSharing}},[e("TMShareIcon",{staticClass:"tm-sharing__icon"})],1),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.isOpenShare?e("TMPopup",{attrs:{title:t.msg("ARTICLE_SHARING_TITLE")},on:{close:t.closePopup}},[e("ul",{staticClass:"tm-sharing__socials"},t._l(t.socials,(function(s){return e("li",{key:s.key},[e("span",{staticClass:"tm-sharing__social",on:{click:s.action}},[t._v("\n            "+t._s(t.msg(s.key))+"\n          ")])])})),0)]):t._e()],1)],1)},U=[],F=s(28306),V=s(85378),H=s(79206),G=s(7748);const W=()=>s.e(7298).then(s.bind(s,97298)),Z={name:"TMSharing",components:{TMShareIcon:W,TMPopup:u.Z},props:{article:A.sK},data(){return{isOpenShare:!1}},computed:{articleUrl(){return(0,H.Zl)(this.article)},socials(){const t=encodeURIComponent(this.articleUrl),e=(0,b.o)(this.article)?(0,F.vz)(this.article,this.msg):(0,G.V)(this.article.titleHtml),s=encodeURIComponent(e);return[{key:"SOCIAL_COPY",action:this.copyLink},{key:"SOCIAL_FACEBOOK",action:()=>this.openLink(`https://www.facebook.com/sharer/sharer.php?u=${t}`)},{key:"SOCIAL_TWITTER",action:()=>this.openLink(`https://twitter.com/intent/tweet?text=${s}+${t}+via+%40habr_com`)},{key:"SOCIAL_VK",action:()=>this.openLink(`https://vk.com/share.php?url=${t}`)},{key:"SOCIAL_TELEGRAM",action:()=>this.openLink(`https://t.me/share/url?url=${t}&title=${s}`)},{key:"SOCIAL_POCKET",action:()=>this.openLink(`https://getpocket.com/edit?url=${t}`)}]}},methods:{openLink(t){(0,g.IZ)("share",{publication_type:(0,g.Lq)(this.article)}),window.open(t,"_blank"),this.closePopup()},copyLink(){(0,V.Z)(this.articleUrl),this.closePopup(),this.$toast.success(this.msg("SOCIAL_COPIED")),(0,g.IZ)("share",{publication_type:(0,g.Lq)(this.article)})},invokeSharing(){navigator.share?navigator.share({title:this.msg("SITENAME"),text:this.article.titleHtml,url:this.articleUrl}).then((()=>{(0,g.IZ)("share",{publication_type:(0,g.Lq)(this.article)})})).catch((t=>{throw t})):this.isOpenShare=!0},closePopup(){this.isOpenShare=!1}}},Y=Z;var q=(0,S.Z)(Y,$,U,!1,null,null,null);const j=q.exports;var K=s(2384),z=s(2687);const Q=["rating","votes","views","favorite","comments","share"],X={name:"TMDataIcons",components:{TMArticleVoteStats:B,TMIconCounter:x.Z,TMPopup:u.Z,TMArticleCommentsCounterLink:r.Z,TMArticleRating:O,TMBookmarksButton:D.Z,TMSharing:j,TMVotesMeter:C.Z},props:{article:{type:Object,default:null},iconsList:{type:Array,default:()=>[],validator:t=>t.every((t=>-1!==Q.indexOf(t)))},type:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},gaEvent:{type:[Object,String],required:!1,default:null}},data(){return{isLoadingBookmark:!1,votesPopupVisible:!1,reasonsMap:null,unreadCommentsCount:this.article.relatedData?this.article.relatedData.unreadCommentsCount:null}},computed:{...(0,a.rn)("articlesList",["articlesList"]),...(0,a.Se)("me",["isLoggedIn","isSuperAdmin","userAlias"]),isBookmarked(){return!this.isLoadingBookmark&&this.article.relatedData&&this.article.relatedData.bookmarked},voteState(){const{relatedData:t}=this.article;return t&&t.vote&&t.vote.value?t.vote.value:0},votesStats(){const{votesCount:t,score:e}=this.article.statistics;return{total:t,positive:(t+e)/2,negative:(t-e)/2}},isPost(){return(0,b.o)(this.article)}},beforeMount(){if(!this.isLoggedIn){const{article:{id:t,statistics:e}}=this;(0,o.U2)(t).then(((t=0)=>{const s=Math.max(e.commentsCount-t,0);this.unreadCommentsCount=s}))}},methods:{...(0,a.nv)("articlesList",["toggleArticleBookmark"]),showIcon(t){return this.iconsList&&-1!==this.iconsList.indexOf(t)},onBookmarkClick(){if(!this.isLoggedIn)return void this.$toast.error(this.msg("AUTH_REQUIRED"));const{bookmarked:t}=this.article.relatedData;this.isLoadingBookmark=!0,this.toggleArticleBookmark({article:this.article,bookmarkModule:this.bookmarkModule}).then((()=>{this.$emit("bookmarkChange",!t),this.article.relatedData.bookmarked&&(0,g.IZ)("favorite",{publication_type:(0,g.Lq)(this.article)}),this.isLoadingBookmark=!1}))},showVotesPopup(){if(!this.isSuperAdmin&&this.userAlias!==this.article.author.alias)return;const t=(0,b.o)(this.article)?z.$X:K.Mc;t(this.article.id).then((t=>{this.votesPopupVisible=!0,this.reasonsMap=t.data})).catch((t=>{this.$toast.error(t.message)}))}}},J=X;var tt=(0,S.Z)(J,n,i,!1,null,null,null);const et=tt.exports},76068:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return t.$scopedSlots.default?e("span",[t._t("default",null,{formattedDate:t.formattedDate})],2):e("time",{attrs:{datetime:t.jsDate.toISOString(),title:t.fullForm},domProps:{textContent:t._s(t.formattedDate)}})},i=[],a=s(16480);const o={name:"TMDatetime",props:{date:{required:!0,type:[String,Date]},showFullDateTime:Boolean,shortMonth:Boolean,absoluteDate:Boolean,hideToday:Boolean,isArticleFormat:Boolean},data(){return{now:new Date}},computed:{jsDate(){return new Date(this.date)},time(){return(0,a.rp)(this.jsDate)},fullForm(){const t=(0,a.SI)(this.jsDate);return`${t}, ${this.time}`},isMoreThanOneYear(){return this.now.getFullYear()-this.jsDate.getFullYear()>=1},countMinutesAgo(){return Math.trunc((this.now.getTime()-this.jsDate.getTime())/6e4)},countHoursAgo(){return Math.trunc(this.countMinutesAgo/60)},timeParams(){return{time:this.time}},dateTimeParams(){const t=(this.absoluteDate||this.isMoreThanOneYear)&&this.jsDate.getFullYear();return{day:this.jsDate.getDate().toString(),month:this.jsDate.getMonth().toString(),year:t,...this.timeParams}},articleFormatTextParams(){return this.countMinutesAgo<1?{name:"WHEN_JUST_NOW"}:this.countMinutesAgo<60?{name:"WHEN_MIN",params:{time:this.countMinutesAgo}}:this.countHoursAgo<24?{name:"WHEN_HOUR",params:{time:this.countHoursAgo}}:(0,a.gO)(this.jsDate,this.now)?{name:"WHEN_YESTERDAY_AT",params:this.timeParams}:{name:"WHEN_FULL_DATE_SHORT_MONTH_AT",params:this.dateTimeParams}},textParams(){if(!this.absoluteDate){if((0,a.zk)(this.jsDate,this.now))return{name:this.hideToday?"WHEN_AT":"WHEN_TODAY_AT",params:this.timeParams};if((0,a.gO)(this.jsDate,this.now))return{name:"WHEN_YESTERDAY_AT",params:this.timeParams}}return this.showFullDateTime?{name:this.shortMonth?"WHEN_FULL_DATE_SHORT_MONTH_AT":"WHEN_FULL_DATE_AT",params:this.dateTimeParams}:{name:"WHEN_FULL_DATE",params:this.dateTimeParams}},formattedDate(){return this.isArticleFormat?this.msg(this.articleFormatTextParams.name,this.articleFormatTextParams.params):this.msg(this.textParams.name,this.textParams.params)}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},6454:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("dl",{staticClass:"tm-description-list",class:t.bem("tm-description-list",{variant:t.variant})},[e("dt",{staticClass:"tm-description-list__title",class:t.bem("tm-description-list__title",{variant:t.variant}),domProps:{textContent:t._s(t.title)}}),t._v(" "),e("dd",{staticClass:"tm-description-list__body",class:t.bem("tm-description-list__body",{variant:t.variant})},[t._t("default")],2)])},i=[],a=s(65873);const o={name:"TMDescriptionList",props:{title:{type:String,required:!0},variant:{type:String,default:"base"}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},50350:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.closeOptions},expression:"{ 'esc': closeOptions }"}],staticClass:"tm-dropdown",class:{"tm-dropdown_active":t.optionsVisible}},[e("div",{staticClass:"tm-dropdown__head"},[t._t("head",null,{toggle:t.toggleOptions})],2),t._v(" "),t.optionsVisible?e("div",{staticClass:"tm-dropdown__body",class:t.getClass,style:t.getOffset},[t._t("body",null,{visible:t.optionsVisible})],2):t._e()])},i=[];const a={name:"TMDropdown",props:{align:{type:String,default:"left"},bodyOffset:{type:Number,default:0},variant:{type:String,default:"default"}},data(){return{optionsVisible:!1}},computed:{getClass(){return{"tm-dropdown__body_left":"left"===this.align,"tm-dropdown__body_right":"right"===this.align,"tm-dropdown__body_center":"center"===this.align,"tm-dropdown__body_inline":"inline"===this.variant,"tm-dropdown__body_padding-none":"noBodyPadding"===this.variant}},getOffset(){return{[`margin-${this.align}`]:`${this.bodyOffset}px`}}},watch:{$route(t,e){t.path!==e.path&&this.optionsVisible&&(this.optionsVisible=!1)}},methods:{close(){this.optionsVisible=!1},toggleOptions(){this.optionsVisible=!this.optionsVisible,this.optionsVisible?document.addEventListener("click",this.listenClickOutside):document.removeEventListener("click",this.listenClickOutside)},closeOptions(){this.optionsVisible=!1,document.removeEventListener("click",this.listenClickOutside)},listenClickOutside(t){this.optionsVisible&&!this.$el.contains(t.target)&&this.toggleOptions()}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},6251:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("div",{class:t.bem("tm-empty-placeholder",{variant:t.variant})},[e("TMSvgImg",{class:t.bem("tm-empty-placeholder__image",{variant:t.variant}),attrs:{id:t.image}}),t._v(" "),e("div",{staticClass:"tm-empty-placeholder__text"},[t._t("default",(function(){return[t._v("\n      "+t._s(t.title||t.msg("EMPTY_POSTS_MESSAGE"))+"\n    ")]}))],2),t._v(" "),t._t("footer")],2)},i=[],a=s(31490),o=s(65873);const r={name:"TMEmptyPlaceholder",components:{TMSvgImg:a.Z},props:{title:{type:String,default:null},image:{type:String,default:"/img/empty-post-placeholder.svg#placeholder"},variant:{type:String,default:"default",validator(t){return["default","user-profile","ufo"].includes(t)}}},methods:{bem:o.P}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},51153:(t,e,s)=>{"use strict";s.d(e,{Z:()=>_});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-entity-image"},[t.hasPlaceholderImage?["user"===t.type?e("img",{staticClass:"tm-entity-image__pic",attrs:{alt:"",height:t.size,loading:t.lazy?"lazy":null,src:t.getDefaultUserAvatar(t.alias),width:t.size}}):e("TMSvgImg",{staticClass:"tm-image-placeholder",class:`tm-image-placeholder_${t.color}`,attrs:{id:`placeholder-${t.type}`,color:t.color,height:t.size,size:t.size,type:t.type,width:t.size}})]:e("img",{staticClass:"tm-entity-image__pic",attrs:{alt:"",height:t.size,loading:t.lazy?"lazy":null,src:t.image,width:t.size}})],2)},i=[],a=s(31490);const o=200,r=["blue","pink","lilac","green"],l=r.length,c=(t,e)=>{const s=Math.abs(t.split("").reduce(((t,e)=>t+e.charCodeAt(0)),0)%e);return s+1},m={name:"TMEntityImage",components:{TMSvgImg:a.Z},props:{alias:{type:String,default:null},image:{type:String,default:null},type:{type:String,required:!0},lazy:{type:Boolean,default:!1},size:{type:[Number,String],default:null}},computed:{hasPlaceholderImage(){return!this.image||this.image.indexOf("stub-user-middle.gif")>-1||this.image.indexOf("stub-user-small.gif")>-1},color(){return r[this.hashNumber]},hashNumber(){return this.alias?c(this.alias,l):0}},methods:{getDefaultUserAvatar(t){const e=c(t,o),s=`${e.toString().padStart(3,"0")}.png`;return`https://assets.habr.com/habr-web/img/avatars/${s}`}}},u=m;var d=s(1001),p=(0,d.Z)(u,n,i,!1,null,null,null);const _=p.exports},15993:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-error-message"},[e("h1",{staticClass:"tm-error-message__title"},[t._t("title")],2),t._v(" "),e("div",{staticClass:"tm-error-message__body"},[t._t("message")],2),t._v(" "),e("div",[t._t("button")],2)])},i=[];const a={name:"TMErrorMessage"},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},8717:(t,e,s)=>{"use strict";s.d(e,{Z:()=>g});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{id:t.event.id,"data-navigatable":!t.isWidget,spacing:t.isWidget?"none":"around",tabindex:t.isWidget?-1:0},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{ref:"eventCard",class:t.bem("tm-event-card",{"is-widget":t.isWidget,responsive:t.responsive})},[e("img",{staticClass:"tm-event-card__image",attrs:{alt:"","data-src":t.event.imageUrl,loading:t.lazyImage?"lazy":"eager",src:t.smallImage,srcset:t.responsiveImagesSet}}),t._v(" "),t.galleryImages.length?e("TMGallery",{attrs:{"images-list":t.galleryImages}}):t._e(),t._v(" "),e("div",{staticClass:"tm-event-card__info"},[t.isWidget?e("router-link",{staticClass:"tm-event-card__title-link",attrs:{to:{name:"EVENTS",hash:`#${t.event.id}`}},domProps:{innerHTML:t._s(t.event.titleHtml)},nativeOn:{click:function(e){return t.$emit("click",t.event)}}}):e("div",{staticClass:"tm-event-card__title",domProps:{innerHTML:t._s(t.event.titleHtml)}}),t._v(" "),e("div",{staticClass:"tm-event-card__date"},[e("div",{staticClass:"tm-event-card__day"},[e("TMSvgImg",{staticClass:"tm-event-card__icon",attrs:{id:"calendar",size:"24"}}),t._v(" "),e("span",[t._v(t._s(t.formattedDate))])],1),t._v(" "),t.formattedTime?e("div",{staticClass:"tm-event-card__time"},[e("TMSvgImg",{staticClass:"tm-event-card__icon",attrs:{id:"clock",size:"24",title:t.msg("EVENTS_TIME")}}),t._v(" "),e("span",[t._v(t._s(t.formattedTime))])],1):t._e()]),t._v(" "),e("div",{staticClass:"tm-event-card__places"},[e("TMSvgImg",{staticClass:"tm-event-card__icon tm-event-card__icon_place",attrs:{id:"geo",size:"24"}}),t._v(" "),e("div",{staticClass:"tm-event-card__places-list"},t._l(t.places,(function(s,n){return e("span",{key:n,staticClass:"tm-event-card__places-item"},[e("span",{domProps:{innerHTML:t._s(s)}}),t._v(" "),n<t.places.length-1?e("span",{staticClass:"tm-event-card__places-separator"},[t._v(" • ")]):t._e()])})),0)],1),t._v(" "),t.isWidget?e("div",{staticClass:"tm-event-card__footer"},[e("router-link",{staticClass:"tm-event-card__link",attrs:{to:{name:"EVENTS",hash:`#${t.event.id}`}},nativeOn:{click:function(e){return t.$emit("click",t.event)}}},[t._v("\n            "+t._s(t.msg("EVENTS_TO_CALENDAR"))+"\n          ")])],1):e("div",{staticClass:"tm-event-card__footer"},[e("div",{staticClass:"tm-event-card__more",on:{click:function(e){t.isOpen=!t.isOpen}}},[e("TMSvgImg",{class:t.bem("tm-event-card__more-icon",{open:t.isOpen}),attrs:{id:"expand-triangle",size:"16"}}),t._v(" "),e("span",{staticClass:"tm-event-card__more-text"},[t._v(t._s(t.msg("EVENTS_MORE")))])],1),t._v(" "),e("a",{staticClass:"tm-event-card__link",attrs:{href:t.event.eventUrl,target:"_blank"},on:{click:t.logEventLinkEvent}},[t._v(" "+t._s(t.msg("EVENTS_GO_TO"))+"\n          ")])])],1),t._v(" "),t.isOpen?e("div",{staticClass:"tm-event-card__description",domProps:{innerHTML:t._s(t.event.descriptionHtml)}}):t._e()],1)]},proxy:!0}])})},i=[],a=s(17907),o=s(31490),r=s(65873),l=s(68668),c=s(8065),m=s(28287);const u=()=>s.e(5121).then(s.bind(s,15716)),d={name:"TMEventCard",components:{TMBlock:a.Z,TMSvgImg:o.Z,TMGallery:u},props:{event:{type:Object,required:!0},isWidget:{type:Boolean,default:!1},responsive:{type:Boolean,default:!0},lazyImage:{type:Boolean,default:!1}},emits:["click"],data(){return{galleryImages:[],isOpen:!1}},computed:{smallImage(){return(0,m.dv)(this.event.imageUrl,390)},responsiveImagesSet(){return`${this.smallImage}, ${this.event.imageUrl} 2x`},jsDateStart(){return new Date(this.event.startDay)},jsDateFinish(){return this.event.finishDay&&new Date(this.event.finishDay)},dateParams(){const{jsDateStart:t,jsDateFinish:e}=this,s={day:t.getDate().toString(),month:t.getMonth().toString(),year:t.getFullYear()},n=e&&{day:e.getDate().toString(),month:e.getMonth().toString(),year:e.getFullYear()};return{startParams:s,finishParams:n}},formattedDate(){const{jsDateStart:t,jsDateFinish:e}=this,{startParams:s,finishParams:n}=this.dateParams;if(!e||e.getTime()===t.getTime())return this.msg("WHEN_FULL_DATE",{...s,year:void 0});const i=t.getMonth(),a=t.getFullYear(),o=e.getMonth(),r=e.getFullYear();let l,c;return a!==r?(l=this.msg("WHEN_FULL_DATE",s),c=this.msg("WHEN_FULL_DATE",n)):i!==o?(l=this.msg("WHEN_FULL_DATE",{...s,year:void 0}),c=this.msg("WHEN_FULL_DATE",{...n,year:void 0})):(l=t.getDate(),c=this.msg("WHEN_FULL_DATE",{...n,year:void 0})),`${l} – ${c}`},formattedTime(){return this.event.startTime&&this.event.finishTime?`${this.event.startTime} – ${this.event.finishTime}`:this.event.startTime?this.event.startTime:""},places(){const t=[...this.event.geo];return this.event.isOnline&&t.push(this.msg("EVENTS_ONLINE")),t}},mounted(){this.isWidget||(this.galleryImages=(0,l.N)(this.$refs.eventCard),this.$route.hash.includes(this.event.id)&&(this.isOpen=!0))},methods:{bem:r.P,logEventLinkEvent(){(0,c.IZ)("calendar_link",{event_label:this.event.id})}}},p=d;var _=s(1001),h=(0,_.Z)(p,n,i,!1,null,null,null);const g=h.exports},5606:(t,e,s)=>{"use strict";s.d(e,{Z:()=>g});var n=function(){var t=this,e=t._self._c;return t.events&&t.events.length?e("TMBlock",{staticClass:"tm-events-block",attrs:{"body-variant":"equal","data-navigatable":"","header-variant":"borderless",spacing:"around",tabindex:"0",title:t.msg("EVENTS_UPCOMING")}},[e("TMSwiper",{staticClass:"tm-events-widget",attrs:{"active-slide":0,navigation:"","slides-per-view":1,"space-between":22}},t._l(t.events,(function(s){return e("TMSwiperSlide",{key:s.id},[e("TMEventCard",{key:s.id,attrs:{event:s,"is-widget":"","lazy-image":""},on:{click:t.logWidgetClickEvent}})],1)})),1)],1):t._e()},i=[],a=s(20629),o=s(17907),r=s(8717),l=s(15946),c=s(86951),m=s(65873),u=s(8065);const d={name:"TMEventsWidget",components:{TMEventCard:r.Z,TMBlock:o.Z,TMSwiper:l["default"],TMSwiperSlide:c["default"]},asyncData({store:t}){return t.dispatch("events/loadEvents")},computed:{...(0,a.Se)("events",["events"]),...(0,a.Se)("global",["isDesktop"])},methods:{bem:m.P,logWidgetClickEvent(t){(0,u.IZ)("tm_block_calendar",{event_label:t.id})}}},p=d;var _=s(1001),h=(0,_.Z)(p,n,i,!1,null,null,null);const g=h.exports},18230:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return t.isMounted?e("FormBuilder",t._g(t._b({attrs:{"initial-data":t.value||t.initialData},on:{"update:data":function(e){return t.$emit("input",e)}},scopedSlots:t._u([t._l(t.$scopedSlots,(function(e,s){return{key:s,fn:function(e){return[t._t(s,null,null,e)]}}}))],null,!0)},"FormBuilder",t.$attrs,!1),t.$listeners)):e("TMPlaceholder",{attrs:{times:2,type:"form"}})},i=[],a=s(40591);const o={name:"TMFormBuilder",components:{TMPlaceholder:a.Z,FormBuilder:()=>s.e(6235).then(s.t.bind(s,96235,23))},props:{value:{type:Object,default:null},initialData:{type:Object,default:null}},data(){return{isMounted:!1}},mounted(){this.isMounted=!0}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},28310:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return t.shouldFormat?e("div",{staticClass:"article-formatted-body",class:t.bem("article-formatted-body",{version:t.version}),domProps:{innerHTML:t._s(t.articleText)}}):e("div",{domProps:{innerHTML:t._s(t.articleText)}})},i=[],a=s(65873);const o={name:"TMFormattedText",props:{articleText:{type:String,required:!0},shouldFormat:{type:Boolean,default:!0},version:{type:[String,Number],default:null}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},84707:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-fs-loading",class:{"tm-fs-loading_fixed":t.fixedLayout}},[e("div",{staticClass:"tm-fs-loading__loader",class:{"tm-fs-loading__loader_fixed":t.fixedLoaderPosition}},[t._v("\n    Loading...\n  ")])])},i=[];const a={name:"TMFullScreenLoading",props:{fixedLayout:Boolean,fixedLoaderPosition:Boolean}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},90854:(t,e,s)=>{"use strict";s.d(e,{Z:()=>w});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-header-user-menu"},[e("router-link",{staticClass:"tm-header-user-menu__item tm-header-user-menu__search",attrs:{to:t.toSearchPage}},[e("TMSvgImg",{staticClass:"tm-header-user-menu__icon tm-header-user-menu__icon_search",class:{"tm-header-user-menu__icon_dark":t.showDarkIcons},attrs:{id:"search",size:"24"}})],1),t._v(" "),t.isLoggedIn?e("router-link",{staticClass:"tm-header-user-menu__item tm-header-user-menu__notifications",attrs:{to:{name:"TRACKER"}}},[e("TMSvgImg",{staticClass:"tm-header-user-menu__icon tm-header-user-menu__icon_notifications",class:{"tm-header-user-menu__icon_dark":t.showDarkIcons},attrs:{id:"notifications",size:"24"}}),t._v(" "),t.showUnreadNotifications?e("span",{staticClass:"tm-header-user-menu__notifications-count"},[t._v("\n      "+t._s(t.totalUnreadNotificationsFormatted)+"\n    ")]):t._e()],1):t._e(),t._v(" "),t.adminDropdownVisible?e("TMCompanyAdminDropdown",{staticClass:"tm-header-user-menu__item"}):t._e(),t._v(" "),t.isLoggedIn?e("div",{staticClass:"tm-header-user-menu__item tm-header-user-menu__write"},[t.showDropdown?e("TMDropdown",{attrs:{align:"right"},scopedSlots:t._u([{key:"head",fn:function({toggle:s}){return[e("button",{staticClass:"tm-header-user-menu__toggle",on:{click:function(e){t.isDesktop?s():t.editorPopupVisible=!0}}},[e("TMSvgImg",{staticClass:"tm-header-user-menu__icon tm-header-user-menu__icon_write",class:{"tm-header-user-menu__icon_dark":t.showDarkIcons},attrs:{id:"write",size:"24"}})],1)]}},{key:"body",fn:function(){return[e("div",{staticClass:"tm-header-user-menu__popup-wrapper"},[t.canCreateArticleAndNews?e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_ARTICLE"}}},[t._v("\n            "+t._s(t.msg("PUBLICATION_CREATE_ARTICLE"))+"\n          ")]):e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_SANDBOX"}}},[t._v("\n            "+t._s(t.msg("PUBLICATION_CREATE_ARTICLE"))+"\n          ")]),t._v(" "),t.canCreatePost?e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_POST"}}},[t._v("\n            "+t._s(t.msg("PUBLICATION_CREATE_POST"))+"\n          ")]):t._e(),t._v(" "),t.canCreateArticleAndNews?e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_NEWS"}}},[t._v("\n            "+t._s(t.msg("PUBLICATION_CREATE_NEWS"))+"\n          ")]):t._e(),t._v(" "),t.canPostVoice?e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"VOICE"}}},[t._v("\n            "+t._s(t.msg("VOICE_TITLE"))+"\n          ")]):t._e(),t._v(" "),t.isSuperAdmin?e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_MEGAPOST"}}},[t._v("\n            "+t._s(t.msg("PUBLICATION_CREATE_MEGAPOST"))+"\n          ")]):t._e()],1)]},proxy:!0}],null,!1,2845652825)}):e("TMNewPublicationSandboxLink",[e("TMSvgImg",{staticClass:"tm-header-user-menu__icon tm-header-user-menu__icon_write",class:{"tm-header-user-menu__icon_dark":t.isDesktop||!t.isPwa},attrs:{id:"write",size:"24"}})],1),t._v(" "),t.editorPopupVisible?e("TMPopup",{on:{close:function(e){t.editorPopupVisible=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"tm-header-user-menu__popup-wrapper"},[t.canCreateArticleAndNews?e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_ARTICLE"}},nativeOn:{click:function(e){t.editorPopupVisible=!1}}},[t._v("\n            "+t._s(t.msg("PUBLICATION_CREATE_ARTICLE"))+"\n          ")]):e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_SANDBOX"}},nativeOn:{click:function(e){t.editorPopupVisible=!1}}},[t._v("\n            "+t._s(t.msg("PUBLICATION_CREATE_ARTICLE"))+"\n          ")]),t._v(" "),t.canCreatePost?e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_POST"}},nativeOn:{click:function(e){t.editorPopupVisible=!1}}},[t._v("\n            "+t._s(t.msg("PUBLICATION_CREATE_POST"))+"\n          ")]):t._e(),t._v(" "),t.canCreateArticleAndNews?e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_NEWS"}},nativeOn:{click:function(e){t.editorPopupVisible=!1}}},[t._v("\n            "+t._s(t.msg("PUBLICATION_CREATE_NEWS"))+"\n          ")]):t._e(),t._v(" "),t.canPostVoice?e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"VOICE"}},nativeOn:{click:function(e){t.editorPopupVisible=!1}}},[t._v("\n            "+t._s(t.msg("VOICE_TITLE"))+"\n          ")]):t._e(),t._v(" "),t.isSuperAdmin?e("router-link",{staticClass:"tm-header-user-menu__popup-item",attrs:{to:{name:"PUBLICATION_MEGAPOST"}},nativeOn:{click:function(e){t.editorPopupVisible=!1}}},[t._v("\n            "+t._s(t.msg("PUBLICATION_CREATE_MEGAPOST"))+"\n          ")]):t._e()],1)]},proxy:!0}],null,!1,2517505024)}):t._e()],1):t._e(),t._v(" "),t.isLoggedIn?e("div",{staticClass:"tm-header-user-menu__item",class:{"tm-header-user-menu__user_desktop":t.showDarkIcons}},[t.showDarkIcons?e("TMDropdown",{attrs:{align:"right"},scopedSlots:t._u([{key:"head",fn:function({toggle:s}){return[e("TMEntityImage",{attrs:{alias:t.user.alias,"data-test-id":t.toggleTestId,image:t.user.avatarUrl,size:32,type:"user"},nativeOn:{click:function(t){return s.apply(null,arguments)}}}),t._v(" "),t.unreadConversations?e("span",{staticClass:"tm-header-user-menu__conversations-count",domProps:{textContent:t._s(t.unreadConversations)}}):t._e()]}},{key:"body",fn:function({visible:s}){return[s?e("TMUserMenu",{on:{openPageSettings:t.openPageSettings}}):t._e()]}}],null,!1,3627265070)}):e("button",{staticClass:"tm-header-user-menu__toggle",class:{"tm-header-user-menu__toggle_has-conversations":t.unreadConversations>0},attrs:{"data-test-id":t.toggleTestId},on:{click:function(e){t.overlayVisible=!0}}},[e("TMEntityImage",{attrs:{alias:t.user.alias,image:t.user.avatarUrl,size:t.isMobile&&!t.isTablet?24:32,type:"user"}})],1)],1):[e("div",{staticClass:"tm-header-user-menu__item"},[e("button",{staticClass:"tm-header-user-menu__toggle",on:{click:t.openPageSettings}},[e("TMSvgImg",{staticClass:"tm-header-user-menu__icon",class:{"tm-header-user-menu__icon_dark":t.showDarkIcons},attrs:{id:"page-settings",size:24}})],1)]),t._v(" "),e("TMLoginLink",{staticClass:"tm-header-user-menu__item",attrs:{"ga-event":"button_login"}},[e("TMButtonBase",{staticClass:"tm-header-user-menu__login"},[t._v("\n        "+t._s(t.msg("NAV_LOGIN"))+"\n      ")])],1)],t._v(" "),e("TMScrollLockTransition",{attrs:{name:"fade-sidebar"}},[t.overlayVisible?e("TMSidebar",{attrs:{position:"right"},on:{close:function(e){t.overlayVisible=!1}}},[e("TMUserMenu",{on:{close:function(e){t.overlayVisible=!1},openPageSettings:t.openPageSettings}})],1):t._e()],1),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[e("TMScrollLockTransition",{attrs:{name:"transition-fade"}},[t.pageSettingsVisible?e("TMPopupBase",{on:{close:function(e){t.pageSettingsVisible=!1}}},[e("TMPageSettingsForm",{on:{closePopup:function(e){t.pageSettingsVisible=!1}}})],1):t._e()],1)],1)],2)},i=[],a=s(20629),o=s(17903),r=function(){var t=this,e=t._self._c;return e("TMDropdown",{staticClass:"company-admin-dropdown",attrs:{align:"right",variant:"noBodyPadding"},scopedSlots:t._u([{key:"head",fn:function({toggle:s}){return[1===t.companiesAdmin.length?e("a",{staticClass:"company-admin-dropdown__button",attrs:{href:t.companyAdminLink,title:t.msg("COMPANY_ADMIN")}},[e("TMSvgImg",{staticClass:"company-admin-dropdown__icon",attrs:{id:"company",size:"24"}})],1):e("button",{staticClass:"company-admin-dropdown__button",attrs:{title:t.msg("COMPANIES_ADMIN")},on:{click:s}},[e("TMSvgImg",{staticClass:"company-admin-dropdown__icon",attrs:{id:"company",size:"24"}}),t._v(" "),e("TMSvgImg",{staticClass:"company-admin-dropdown__icon company-admin-dropdown__icon_arrow",attrs:{id:"arrow-down",size:"20"}})],1)]}},{key:"body",fn:function(){return[e("div",{staticClass:"company-admin-dropdown__list"},[e("TMCompaniesAdminList",{attrs:{companies:t.companiesAdmin}})],1)]},proxy:!0}])})},l=[],c=s(37374),m=s(50350),u=s(31490);const d={name:"TMCompanyAdminDropdown",components:{TMCompaniesAdminList:c.Z,TMSvgImg:u.Z,TMDropdown:m.Z},computed:{...(0,a.Se)("me",["companiesAdmin"]),companyAdminLink(){return`https://habr.com/company/${this.companiesAdmin[0].alias}/admin/`}}},p=d;var _=s(1001),h=(0,_.Z)(p,r,l,!1,null,null,null);const g=h.exports;var T=s(51153),v=s(5092),S=function(){var t=this,e=t._self._c;return t.isLoggedIn?e("router-link",{attrs:{to:{name:"PUBLICATION_SANDBOX"}}},[t._t("default")],2):e("TMLoginLink",[t._t("default")],2)},f=[];const E={name:"TMNewPublicationSandboxLink",components:{TMLoginLink:v.Z},computed:{...(0,a.Se)("me",["isLoggedIn"])}},I=E;var C=(0,_.Z)(I,S,f,!1,null,null,null);const A=C.exports;var b=s(6109),y=s(10529),P=s(63672);const L=()=>Promise.resolve().then(s.bind(s,19189)),O=()=>Promise.resolve().then(s.bind(s,902)),N=()=>s.e(2152).then(s.bind(s,22152)),M={name:"TMHeaderUserMenu",components:{TMLoginLink:v.Z,TMPageSettingsForm:O,TMPopupBase:L,TMNewPublicationSandboxLink:A,TMScrollLockTransition:y.Z,TMPopup:b.Z,TMCompanyAdminDropdown:g,TMDropdown:m.Z,TMSidebar:P.Z,TMEntityImage:T.Z,TMSvgImg:u.Z,TMUserMenu:N,TMButtonBase:o.Z},data(){return{dropdownVisible:!1,overlayVisible:!1,pageSettingsVisible:!1,editorPopupVisible:!1,isMounted:!1}},computed:{...(0,a.Se)("global",["isMobile","isTablet","isDesktop"]),...(0,a.Se)("me",["isLoggedIn","companiesAdmin","canPostVoice","isSuperAdmin","isReadOnlyOrCommentsManual","isReadOnlyOrReadAndComment","totalUnreadNotifications","unreadConversations"]),...(0,a.Se)("i18n",["langOptions"]),...(0,a.rn)("me",["user"]),...(0,a.rn)("global",["isPwa"]),showUnreadNotifications(){return this.isMounted&&this.totalUnreadNotifications},totalUnreadNotificationsFormatted(){return this.totalUnreadNotifications>99?"99+":`+${this.totalUnreadNotifications}`},showDarkIcons(){return this.isDesktop&&!this.isPwa},toggleTestId(){return this.isLoggedIn?this.unreadConversations>0?"menu-toggle-unread":"menu-toggle-user":"menu-toggle-guest"},toSearchPage(){return{name:"SEARCH_QUERY_RESULTS",params:{hl:this.langOptions.hl}}},adminDropdownVisible(){return this.isDesktop&&!this.isPwa&&this.isLoggedIn&&0!==this.companiesAdmin.length},showDropdown(){return this.canPostVoice||this.canCreatePost},canCreatePost(){return!this.isReadOnlyOrCommentsManual},canCreateArticleAndNews(){return!this.isReadOnlyOrReadAndComment}},mounted(){this.isMounted=!0},methods:{openPageSettings(){this.pageSettingsVisible=!0}}},R=M;var k=(0,_.Z)(R,n,i,!1,null,null,null);const w=k.exports},92686:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("router-link",{attrs:{to:t.route}},[t._t("default")],2)},i=[],a=s(20629),o=s(59436);const r={article:{corporative:"ARTICLES_LIST_BY_COMPANY",collective:"HUB_PAGE"},post:{corporative:"POSTS_BY_COMPANY",collective:"POSTS_BY_HUB_ALL"}},l={name:"TMHubLink",props:{hub:{type:Object,required:!0},publicationType:{type:String,default:"article",validator:(0,o.H)(["article","post"])}},computed:{...(0,a.Se)("i18n",["langOptions"]),route(){const{hub:{alias:t},langOptions:{hl:e}}=this,s=this.hub.type||"collective",n=r[this.publicationType][s];return{name:n,params:{name:t,hubName:t,hl:e}}}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},60510:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMSeparatedList",{attrs:{list:t.hubs,title:t.title},scopedSlots:t._u([{key:"default",fn:function({item:s}){return[e("TMHubLink",{staticClass:"tm-hubs-list__link",attrs:{hub:s},domProps:{innerHTML:t._s(s.title)}})]}}])})},i=[],a=s(92686),o=s(1396);const r={name:"TMHubsList",components:{TMSeparatedList:o.Z,TMHubLink:a.Z},props:{hubs:{type:Array,required:!0},title:{type:String,required:!0}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},3501:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("span",{staticClass:"tm-icon-counter"},[e("TMSvgImg",{staticClass:"tm-icon-counter__icon",attrs:{id:t.iconId,size:"24",title:t.title}}),t._v(" "),e("span",{staticClass:"tm-icon-counter__value",domProps:{textContent:t._s(t.formattedCounter)}})],1)},i=[],a=s(31490),o=s(13836);const r={name:"TMIconCounter",components:{TMSvgImg:a.Z},props:{iconId:{type:String,required:!0},counter:{type:[String,Number],default:null},abbreviated:Boolean,title:{type:String,required:!0}},computed:{formattedCounter(){return this.abbreviated?(0,o.O)(this.counter):this.counter}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},87628:(t,e,s)=>{"use strict";s.d(e,{Z:()=>h});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-input-radio-labeled"},[e("label",{staticClass:"tm-input-radio-labeled__label"},[e("div",{staticClass:"tm-checkbox-labeled__input",attrs:{"data-test-id":`checkbox-labeled-input_${t.$attrs.name}`}},[e("TMInputRadioBase",t._b({staticClass:"tm-input-radio-labeled__real",attrs:{"checked-value":t.checkedValue},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}},"TMInputRadioBase",t.$attrs,!1)),t._v(" "),e("span",{staticClass:"tm-input-radio-labeled__fake"})],1),t._v(" "),t._t("default")],2)])},i=[],a=function(){var t=this,e=t._self._c;return e("input",{attrs:{type:"radio"},domProps:{checked:t.value===t.checkedValue},on:{change:t.onChange}})},o=[];const r={name:"TMInputRadioBase",props:{checkedValue:{type:String,default:null},value:{type:String,default:null}},methods:{onChange(){this.$emit("input",this.checkedValue)}}},l=r;var c=s(1001),m=(0,c.Z)(l,a,o,!1,null,null,null);const u=m.exports,d={name:"TMInputRadioLabeled",components:{TMInputRadioBase:u},inheritAttrs:!1,props:{checkedValue:{type:String,default:null},value:{type:String,default:null}},computed:{localValue:{get(){return this.value},set(t){this.$emit("input",t)}}}},p=d;var _=(0,c.Z)(p,n,i,!1,null,null,null);const h=_.exports},46750:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});const n={name:"TMIntersect",props:{threshold:{type:Array,required:!1,default:()=>[0,.2]},root:{type:"undefined"!==typeof HTMLElement?HTMLElement:Object,required:!1,default:null},rootMargin:{type:String,required:!1,default:"0px 0px 0px 0px"}},mounted(){if(this.observer=new IntersectionObserver((([{target:t,isIntersecting:e}])=>{const s=()=>this.observer.unobserve(t);e?this.$emit("enter",{unobserve:s}):this.$emit("leave",{unobserve:s})}),{threshold:this.threshold,root:this.root,rootMargin:this.rootMargin}),this.$slots.default&&this.$slots.default.length>1)throw new Error("You may only wrap one element in a <intersect> component.");if(!this.$slots.default||this.$slots.default.length<1)throw new Error("You must have one child inside a <intersect> component.");this.observer.observe(this.$slots.default[0].elm)},destroyed(){this.observer.disconnect()},render(){return this.$slots.default?this.$slots.default[0]:null}},i=n;var a,o,r=s(1001),l=(0,r.Z)(i,a,o,!1,null,null,null);const c=l.exports},42102:(t,e,s)=>{"use strict";s.d(e,{Z:()=>g});var n=function(){var t=this,e=t._self._c;return e("div",{ref:"sidebarWrapper",staticClass:"tm-layout-sidebar"},[t.showAdv?e("div",{ref:"adBlock",staticClass:"tm-layout-sidebar__ads",class:`tm-layout-sidebar__ads_${t.scrollMode}`},[t.userShowAdv&&t.showAdv?e("TMAdfoxBanner",{staticClass:"tm-layout-sidebar__banner tm-layout-sidebar__banner_top",attrs:{"adfox-id":"164725680533065327","div-id":"sidebarBanner",params:{pp:"g",ps:"fnps",p2:"hnxd"},variant:"half-page"}}):t._e()],1):e("div",{class:`tm-layout-sidebar__placeholder_${t.scrollMode}`}),t._v(" "),e("div",{ref:"sidebar",staticClass:"tm-sexy-sidebar",class:`tm-sexy-sidebar_${t.scrollMode}`,style:{"margin-top":`${t.sidebarMargin}px`}},[t._t("default"),t._v(" "),t.userShowAdv&&t.showAdv&&t.showBottomBanner?e("TMAdfoxBanner",{staticClass:"tm-layout-sidebar__banner tm-layout-sidebar__banner_bottom",attrs:{"adfox-id":"164725691003361602","div-id":"sidebarBannerBottom",params:{pp:"i",ps:"fnps",p2:"hnxg"},variant:"medium-rectangle"}}):t._e()],2)])},i=[],a=s(20629),o=s(12644);const r="stick-top",l="stick-bottom",c="margin",m="initial",u=56,d={name:"TMLayoutSidebar",components:{TMAdfoxBanner:o.Z},props:{showAdv:{type:Boolean,default:!1},showBottomBanner:{type:Boolean,default:!0}},data(){return{prevScroll:0,sidebarMargin:0,scrollMode:m}},computed:{...(0,a.rn)("me",["user"]),...(0,a.Se)("me",["userShowAdv"]),scrollModeMarginOrInitial(){return-1!==[c,m].indexOf(this.scrollMode)}},mounted(){requestAnimationFrame((()=>{this.prevScroll=window.scrollY,this.handleScroll(),window.addEventListener("scroll",this.handleScroll,{passive:!0})}))},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const t=this.$refs.sidebar,e=document.querySelector(".tm-page__main > *");if(t&&e){const s=t.scrollHeight,n=window.innerHeight,i=e.scrollHeight,a=t.offsetTop,o=s+a;if(s<=n||o>i)return this.sidebarMargin=0,void(this.scrollMode=r);const{prevScroll:m}=this,{scrollY:d}=window,p=m>d,_=m<d,h=t.getBoundingClientRect(),g=h.y,T=s+g;_&&(this.scrollModeMarginOrInitial&&T<n&&(this.sidebarMargin=0,this.scrollMode=l),this.scrollMode===r&&(this.sidebarMargin=t.offsetTop,this.scrollMode=c)),p&&(this.scrollMode===l&&(this.sidebarMargin=t.offsetTop,this.scrollMode=c),this.scrollModeMarginOrInitial&&g-u>=0&&(this.sidebarMargin=0,this.scrollMode=r)),this.prevScroll=d}}}},p=d;var _=s(1001),h=(0,_.Z)(p,n,i,!1,null,null,null);const g=h.exports},5092:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("a",{attrs:{href:t.loginUrl,rel:"nofollow"},on:{"!click":function(e){return t.logEvent.apply(null,arguments)}}},[t._t("default")],2)},i=[],a=s(8065);const o={name:"TMLoginLink",props:{gaEvent:{type:[String,Object],required:!1,default:null}},computed:{loginUrl(){const t=this.$route.path;return`https://habr.com/kek/v1/auth/habrahabr/?back=${t}&hl=${this.langOptions.hl}`}},methods:{logEvent(){this.gaEvent&&(0,a.IZ)(this.gaEvent)}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},20335:(t,e,s)=>{"use strict";s.d(e,{Z:()=>g});var n=function(){var t=this,e=t._self._c;return e("div",{class:t.bem("tm-markdown-switcher",{disabled:t.disabled})},[e("button",{class:t.bem("tm-markdown-switcher__control",{disabled:t.disabled}),attrs:{type:"button"},on:{click:t.onControlClick}},[e("TMSvgImg",{staticClass:"tm-markdown-switcher__control-icon",attrs:{id:t.savedMode,size:"24",title:t.savedModeTitle}})],1),t._v(" "),t.showPopup?e("TMPopup",{attrs:{title:t.msg("EDITOR_SETTINGS")},on:{close:function(e){t.showPopup=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"tm-markdown-switcher-popup"},[e("div",{staticClass:"tm-markdown-switcher-popup__info"},[t._v("\n          "+t._s(t.msg("EDITOR_SETTINGS_TITLE"))+"\n        ")]),t._v(" "),e("div",{staticClass:"tm-markdown-switcher-popup__radio-group"},[e("div",{staticClass:"tm-markdown-switcher-popup__radio"},[e("TMInputRadioLabeled",{attrs:{"checked-value":"wysiwyg",name:"editor-mode",value:"wysiwyg"},model:{value:t.editorMode,callback:function(e){t.editorMode=e},expression:"editorMode"}},[t._v("\n              "+t._s(t.msg("EDITOR_WYSIWYG"))+"\n            ")]),t._v(" "),e("router-link",{staticClass:"tm-markdown-switcher__help-icon",attrs:{target:"_blank",to:{path:"/docs/help/wysiwyg/"}}},[e("TMSvgIcon",{attrs:{id:"help",size:"24"}})],1)],1),t._v(" "),e("div",{staticClass:"tm-markdown-switcher-popup__radio"},[e("TMInputRadioLabeled",{attrs:{"checked-value":"markdown",name:"editor-mode",value:"markdown"},model:{value:t.editorMode,callback:function(e){t.editorMode=e},expression:"editorMode"}},[t._v("\n              "+t._s(t.msg("EDITOR_MARKDOWN"))+"\n            ")]),t._v(" "),e("router-link",{staticClass:"tm-markdown-switcher__help-icon",attrs:{target:"_blank",to:{path:"/docs/help/markdown/"}}},[e("TMSvgIcon",{attrs:{id:"help",size:"24"}})],1)],1)]),t._v(" "),e("TMButtonBase",{staticClass:"tm-markdown-switcher-popup__save",attrs:{"is-loading":t.isLoading,"style-size":"small","style-type":"solid",type:"submit"},on:{click:t.onUseMarkdownSave}},[t._v("\n          "+t._s(t.msg("FORMS_SAVE_SETTINGS_TEXT"))+"\n        ")])],1)]},proxy:!0}],null,!1,1632261881)}):t._e()],1)},i=[],a=s(20629),o=s(17903),r=s(87628),l=s(6109),c=s(33936),m=s(31490),u=s(65873);const d={name:"TMMarkdownSwitcher",components:{TMPopup:l.Z,TMInputRadioLabeled:r.Z,TMButtonBase:o.Z,TMSvgIcon:c.Z,TMSvgImg:m.Z},props:{useMarkdown:Boolean,useMarkdownSettingsKey:{required:!0,type:String},disabled:Boolean},data(){return{showPopup:!1,editorMode:this.useMarkdown?"markdown":"wysiwyg",savedMode:this.useMarkdown?"markdown":"wysiwyg",isLoading:!1}},computed:{savedModeTitle(){return"markdown"===this.savedMode?this.msg("EDITOR_MARKDOWN"):this.msg("EDITOR_WYSIWYG")}},watch:{useMarkdown(){this.editorMode=this.useMarkdown?"markdown":"wysiwyg",this.setSavedMode()}},methods:{bem:u.P,...(0,a.nv)("me",["updateUseMarkdown"]),setSavedMode(){this.savedMode=this.useMarkdown?"markdown":"wysiwyg"},onControlClick(){this.disabled||(this.showPopup=!0)},onUseMarkdownSave(){const t="markdown"===this.editorMode;this.isLoading=!0,this.updateUseMarkdown({[this.useMarkdownSettingsKey]:t}).then((()=>{this.setSavedMode(),this.showPopup=!1,this.$emit("changeUseMarkdown",t)})).catch((t=>{this.$toast.error(t.message)})).finally((()=>{this.isLoading=!1}))}}},p=d;var _=s(1001),h=(0,_.Z)(p,n,i,!1,null,null,null);const g=h.exports},61260:(t,e,s)=>{"use strict";s.d(e,{Z:()=>h});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-megapost-snippet"},[e("div",{staticClass:"tm-megapost-snippet__wrapper",style:t.getBackgroundStyles},[e("div",{staticClass:"tm-megapost-snippet__tint"},[e("header",{staticClass:"tm-megapost-snippet__header"},[t.companyHub?e("router-link",{ref:"companyBlogName",staticClass:"tm-megapost-snippet__link tm-megapost-snippet__company-blog",attrs:{to:t.companyRoute}},[e("span",{domProps:{innerHTML:t._s(t.companyBlogName)}})]):t._e(),t._v(" "),e("TMPublicationLink",{staticClass:"tm-megapost-snippet__link tm-megapost-snippet__date",attrs:{article:t.article}},[e("TMDatetime",{ref:"megapostPublishedDate",staticClass:"tm-megapost-snippet__datetime-published",attrs:{date:new Date(t.article.timePublished)}})],1)],1),t._v(" "),e("TMPublicationLink",{staticClass:"tm-megapost-snippet__link tm-megapost-snippet__card",attrs:{article:t.article}},[e("h2",{ref:"megapostTitle",staticClass:"tm-megapost-snippet__title",domProps:{innerHTML:t._s(t.article.titleHtml)}})]),t._v(" "),0!==t.hubs.length?e("ul",{ref:"megapostHubs",staticClass:"tm-megapost-snippet__hubs"},t._l(t.hubs,(function(s){return e("li",{key:s.id,staticClass:"tm-megapost-snippet__hub"},[e("TMHubLink",{staticClass:"tm-megapost-snippet__link",attrs:{hub:s}},[e("span",{domProps:{innerHTML:t._s(s.titleHtml)}})])],1)})),0):t._e()],1)]),t._v(" "),t.showLead&&t.article.leadData?e("div",{staticClass:"tm-megapost-snippet__body"},[t.article.leadData.textHtml?e("TMArticleFormattedBody",{ref:"megapostLeadText",attrs:{"article-text":t.article.leadData.textHtml,version:t.editorVersion}}):t._e(),t._v(" "),t.article.leadData.buttonTextHtml?e("TMPublicationLink",{ref:"megapostLeadReadMore",staticClass:"tm-megapost-snippet__readmore",attrs:{article:t.article}},[e("span",{domProps:{innerHTML:t._s(t.article.leadData.buttonTextHtml)}})]):t._e()],1):t._e()])},i=[],a=s(20629),o=s(35099),r=s(76068),l=s(92686),c=s(4307),m=s(28287);const u={name:"TMMegapostSnippet",components:{TMArticleFormattedBody:o.Z,TMHubLink:l.Z,TMDatetime:r.Z,TMPublicationLink:c.Z},props:{article:{type:Object,default:()=>{}},articleView:{type:String,default:null,validator(t){return["cards","list"].includes(t)}}},computed:{...(0,a.Se)("articlesList",{getGlobalArticleView:"getArticleView"}),getArticleView(){return this.articleView||this.getGlobalArticleView},showLead(){return"cards"===this.getArticleView},getBackgroundStyles(){return!this.$isServer&&this.article.leadData&&this.article.leadData.imageUrl?{background:`url(${(0,m.V0)(this.article.leadData.imageUrl)}) no-repeat center center / cover`}:null},editorVersion(){return parseInt(this.article.editorVersion,10)},companyHub(){return this.article.isCorporative?this.article.hubs.find((t=>"corporative"===t.type)):null},companyBlogName(){return this.companyHub.titleHtml},companyRoute(){const{alias:t}=this.companyHub;return t?{name:"COMPANY_PROFILE_ROOT",params:{name:t}}:null},hubs(){return this.article.hubs.filter((t=>t!==this.companyHub))}}},d=u;var p=s(1001),_=(0,p.Z)(d,n,i,!1,null,null,null);const h=_.exports},69137:(t,e,s)=>{"use strict";function n(t){const e=[];let s="",n="",i="",a=!1,o=!1;for(let r=0;r<t.length;r+=1){const l=t[r];"<"!==l?">"!==l?"/"===l&&a?(a=!1,o=!1,e.push([n.trim()]),n="",r+=1):a?n+=l:o?i+=l:s+=l:(a=!1,o=!0):(a=!0,o?(e.push([n,i]),r+=n.length+2,n="",i="",a=!1,o=!1):s&&(e.push(s),s=""))}return s&&e.push(s),e}s.d(e,{Z:()=>m});const i={name:"TMMessageInterpolation",functional:!0,props:{message:{type:String,required:!0}},render(t,e){const{scopedSlots:s,props:{message:i}}=e,a=n(i);return a.map((t=>{if(Array.isArray(t)){const[e,n]=t;return e in s?s[e]({content:n}):n}return t}))}},a=i;var o,r,l=s(1001),c=(0,l.Z)(a,o,r,!1,null,null,null);const m=c.exports},13497:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-minus-reason"},[t.isMultiple?e("div",{staticClass:"tm-minus-reason__description"},[t._v("\n    "+t._s(t.msg("KARMA_REASON_DESCRIPTION"))+"\n  ")]):t._e(),t._v(" "),e("TMFormBuilder",{attrs:{fields:t.formFields,"initial-data":t.initialData,lang:t.langOptions.hl},on:{"update:data":t.onDataUpdate}}),t._v(" "),e("TMButtonBase",{staticClass:"tm-minus-reason__btn",attrs:{disabled:t.isVoteLoading||!t.reasonValue||0===t.reasonValue.length,"style-size":"small","style-type":"solid",type:"submit"},on:{click:function(e){return t.$emit("downVote",t.reasonValue)}}},[t._v("\n    "+t._s(t.msg("ARTICLE_REASON_BUTTON_SEND"))+"\n  ")])],1)},i=[],a=s(20629),o=s(17903),r=s(18230);const l={name:"TMMinusReason",components:{TMButtonBase:o.Z,TMFormBuilder:r.Z},props:{reasonsList:{type:Array,required:!0},isMultiple:{type:Boolean,default:!1},isVoteLoading:{type:Boolean,default:!1}},data(){return{reasonValue:null,initialData:null}},computed:{...(0,a.Se)("i18n",["langOptions"]),formFields(){return this.isMultiple?this.reasonsList.map((t=>({className:"tm-checkbox",name:t.id,label:t.title,type:"BaseCheckbox",validation:{required:!1}}))):[{className:"tm-radio",label:"",name:"reason",type:"BaseRadio",validation:{required:!0},options:this.reasonsList.map((t=>({name:t.title,value:t.id})))}]}},methods:{onDataUpdate(t){this.isMultiple?this.reasonValue=Object.keys(t).filter((e=>t[e])):this.reasonValue=t.reason}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},41985:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return t.mostReadingList&&t.mostReadingList.length?e("TMArticleListBlock",{attrs:{"bookmark-module":"mostReadingList","data-list":t.mostReadingList,"ga-options":t.mostReadingGaOptions(t.gaType),layout:t.layout,spacing:t.spacing,title:t.msg("TITLE_MOST_READING")},scopedSlots:t._u([t.hasLoaded&&t.mostReadingPromoLink?{key:"lastItem",fn:function(){return[e("TMPromoPostLink",{attrs:{"promo-post":t.mostReadingPromoLink},on:{click:t.onPromoLinkClick}})]},proxy:!0}:null],null,!0)}):t._e()},i=[],a=s(20629),o=s(41670),r=s(31186),l=s(8065);const c={name:"TMMostReadingBlock",components:{TMPromoPostLink:r.Z,TMArticleListBlock:o.Z},props:{gaType:{type:String,default:"post"},layout:{type:String,default:null},spacing:{type:String,default:"around"}},computed:{...(0,a.Se)("mostReadingList",["mostReadingList"]),...(0,a.rn)("mostReadingList",["promoPost"]),...(0,a.rn)("promoData",["hasLoaded"]),...(0,a.Se)("promoData",["mostReadingPromoLink"])},mounted(){this.$store.dispatch("mostReadingList/loadMostReadingList",{route:this.$route})},methods:{mostReadingGaOptions(t){return{category:"tm_block",action:`read_now_${t}`,label:{post:"post",comment:"comment"}}},onPromoLinkClick(){(0,l.IZ)(`tm_block_read_now_${this.gaType}`)}}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},74748:(t,e,s)=>{"use strict";s.d(e,{Z:()=>Z});var n=function(){var t=this,e=t._self._c;return t.isLoading||t.blocks.length?e("TMBlock",{attrs:{"body-variant":"condensed-slim","header-variant":"borderless",title:t.blockTitle,"title-variant":"large"}},[t.isLoading?e("TMPlaceholder",{attrs:{times:5,type:"articleCards"}}):e("div",{staticClass:"tm-multiwidget-block__list"},t._l(t.blocks,(function(s,n){return e("div",{key:n},["post"===s.type?e("TMBorderedCard",[e("TMArticleSnippet",{staticClass:"tm-multiwidget-block__article",attrs:{article:s.content,"article-view":"cards",lang:s.content.lang,"use-link":"","with-author":!1,"with-hubs":!1,"with-labels":!1,"with-lead":!1}}),t._v(" "),e("TMDataIcons",{attrs:{article:s.content,"bookmark-module":t.bookmarkModule,"icons-list":["votes","comments","favorite","share"]},on:{bookmarkChange:function(e){return t.bookmarkChangeHandler(e,s.content)}}})],1):"event"===s.type?e("TMMultiWidgetEventCard",{attrs:{event:s.content}}):"vacancy"===s.type?e("TMVacancyCard",{attrs:{vacancy:s.content}}):t._e()],1)})),0)],1):t._e()},i=[],a=s(20629),o=s(88830),r=s(17907),l=s(91433),c=s(30404),m=function(){var t=this,e=t._self._c;return e("TMBorderedCard",{attrs:{type:"event"}},[e("TMArticleTitle",{attrs:{article:t.event.eventPost,lang:t.event.eventPost.lang,tag:"h1","use-link":""}}),t._v(" "),e("TMDatetime",{attrs:{"absolute-date":"",date:t.event.timeHappened}})],1)},u=[],d=s(37334),p=s(76068);const _={name:"TMMultiWidgetEventCard",components:{TMBorderedCard:l.Z,TMArticleTitle:d.Z,TMDatetime:p.Z},props:{event:{type:Object,required:!0}}},h=_;var g=s(1001),T=(0,g.Z)(h,m,u,!1,null,null,null);const v=T.exports;var S=s(40591),f=function(){var t=this,e=t._self._c;return e("TMBorderedCard",{attrs:{record:t.vacancy,type:"vacancy"}},[e("TMTitle",{attrs:{"external-link":"","link-props":t.vacancyLinkProps,tag:"h1",title:t.vacancy.title,to:t.vacancy.url,"use-link":""}}),t._v(" "),e("div",{staticClass:"tm-vacancy-card__location"},[t._v("\n    "+t._s(t.location)+"\n  ")]),t._v(" "),e("div",{staticClass:"tm-vacancy-card__salary"},[t._v("\n    "+t._s(t.salary)+"\n  ")]),t._v(" "),t.tags&&t.tags.length?e("div",{staticClass:"tm-vacancy-card__tags"},[e("TMInlineList",{attrs:{items:t.tags,"separator-color":"inherit"},scopedSlots:t._u([{key:"default",fn:function({item:s}){return[e("span",{domProps:{textContent:t._s(s)}})]}}],null,!1,3156429496)})],1):t._e()],1)},E=[],I=function(){var t=this,e=t._self._c;return e("span",{staticClass:"inline-list"},t._l(t.items,(function(s,n){return e("span",{key:t.getKey?t.getKey(s):s.key},[t._t("default",null,{index:n,item:s}),t._v(" "),n!==t.lastElementIndex?["comma"===t.separator?[t._v(t._s(", "))]:"space"===t.separator?[t._v(t._s(" "))]:e("TMInlineSeparator",{attrs:{color:t.separatorColor}})]:t._e()],2)})),0)},C=[],A=function(){var t=this,e=t._self._c;return e("span",{staticClass:"inline-separator",class:t.bem("inline-separator",{color:t.color})},[t._v(" • ")])},b=[],y=s(65873),P=s(59436);const L={name:"TMInlineSeparator",props:{color:{type:String,default:null,validator:(0,P.H)(["inherit"])}},methods:{bem:y.P}},O=L;var N=(0,g.Z)(O,A,b,!1,null,null,null);const M=N.exports,R={name:"TMInlineList",components:{TMInlineSeparator:M},props:{items:{type:Array,required:!0},separator:{type:String,default:null},separatorColor:{type:String,default:null,validator:(0,P.H)(["inherit"])},getKey:{type:Function,default:null}},computed:{lastElementIndex(){return this.items.length-1}}},k=R;var w=(0,g.Z)(k,I,C,!1,null,null,null);const B=w.exports;var D=s(31726),x=s(4249);const $={name:"TMVacancyCard",components:{TMBorderedCard:l.Z,TMTitle:D.Z,TMInlineList:B},props:{vacancy:{type:Object,required:!0}},computed:{location(){return x.z.location(this.vacancy,this.msg)},salary(){return x.z.salary(this.vacancy,this.msg)},tags(){return x.z.tags(this.vacancy,this.msg)},vacancyLinkProps(){return{rel:"noreferrer noopener",target:"_blank"}}}},U=$;var F=(0,g.Z)(U,f,E,!1,null,null,null);const V=F.exports,H={name:"TMMultiwidgetBlock",components:{TMPlaceholder:S.Z,TMBlock:r.Z,TMVacancyCard:V,TMMultiWidgetEventCard:v,TMDataIcons:c.Z,TMArticleSnippet:o.Z,TMBorderedCard:l.Z},props:{blocks:{type:Array,required:!0},isLoading:{type:Boolean,default:!1},place:{type:String,default:"feed",validator:(0,P.H)(["feed","publication"])},articleId:{type:String,default:null}},computed:{blockTitle(){return this.msg("MULTI_WIDGET_TITLE")},bookmarkModule(){return"feed"===this.place?"companies":"articlesList"}},methods:{...(0,a.OI)("articlesList",["setBookmarkedMultiwidget"]),bookmarkChangeHandler(t,e){this.setBookmarkedMultiwidget({articleId:e.id,refArticleId:this.articleId,shouldBookmarked:t})}}},G=H;var W=(0,g.Z)(G,n,i,!1,null,null,null);const Z=W.exports},76881:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-navigation-dropdown",class:t.bem("tm-navigation-dropdown",{variant:t.variant})},[e("div",{staticClass:"tm-navigation-dropdown__wrapper"},[t.transformedOptions.length?e("button",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.closeOptions},expression:"{ 'esc': closeOptions }"}],ref:"button",staticClass:"tm-navigation-dropdown__button",class:t.bem("tm-navigation-dropdown__button",{variant:t.variant}),on:{click:t.toggleOptions}},[e("div",{staticClass:"tm-navigation-dropdown__button-text"},[t._v("\n        "+t._s(t.labelOfCurrentValue)+"\n      ")]),t._v(" "),e("TMSvgImg",{staticClass:"icon_dropdown-arrow",class:{"icon_dropdown-arrow-rotated":t.optionsVisible},attrs:{id:"arrow-down"}})],1):t._e(),t._v(" "),t._t("default")],2),t._v(" "),t.transformedOptions.length?e("ul",{ref:"options",staticClass:"tm-navigation-dropdown__options",class:t.getClass,style:t.getStyles},t._l(t.transformedOptions,(function(s,n){return e("li",{key:`${s.optionValue}_${n}`,staticClass:"tm-navigation-dropdown__option",class:t.activeOptionIndex===n&&"tm-navigation-dropdown__option_active"},[e("button",{class:t.bem("tm-navigation-dropdown__option-button",{variant:t.variant}),on:{click:function(e){return t.handleOptionClick(s)}}},[t._v("\n        "+t._s(s.label)+"\n        "),s.count?e("span",{staticClass:"tm-navigation-dropdown__option-count"},[t._v("\n          "+t._s(t.getCount(s.count))+"\n        ")]):t._e()])])})),0):t._e()])},i=[],a=s(20629),o=s(31490),r=s(65873),l=s(13836);const c={name:"TMNavigationDropdown",components:{TMSvgImg:o.Z},props:{sections:{type:Array,default:null},options:{type:Array,default:()=>[]},currentValue:{type:String,default:null},customTitle:{type:String,default:null},variant:{type:String,default:null}},data(){return{optionsVisible:!1,maxHeightStyles:null}},computed:{...(0,a.Se)("global",["isDesktop"]),...(0,a.rn)("global",["isPwa"]),transformedOptions(){return this.sections?this.sections.map((t=>({label:t.title,value:t.route.name,...t}))):this.options},activeOptionIndex(){let t=this.currentValue;const e="_PAGES";return this.currentValue&&-1!==this.currentValue.indexOf(e)&&(t=t.replace(e,"")),this.currentValue&&-1!==this.currentValue.indexOf("_DRAFTS_")&&(t="ARTICLES_DRAFTS_LIST_BY_USER"),this.currentValue&&-1!==this.currentValue.indexOf("_PLANNED_")&&(t="ARTICLES_PLANNED_LIST_BY_USER"),this.transformedOptions.findIndex((e=>e.value===t||e.optionValue===t))},getStyles(){return this.optionsVisible&&this.maxHeightStyles},labelOfCurrentValue(){if(this.sections){const t=this.sections.find((t=>{const e=t.route.name===this.$route.name;if(t.route.params&&this.$route.params){let s;const n=Object.keys(t.route.params);return 0===n.length?s=!0:(s=!1,n.forEach((e=>{s=this.$route.params[e]===t.route.params[e]}))),e&&s}return e}));if(t)return t.title}if(this.customTitle)return this.customTitle;const t=this.activeOptionIndex>0?this.activeOptionIndex:0;return this.transformedOptions[t].label},getClass(){return{"tm-navigation-dropdown__options_absolute":this.isDesktop}}},mounted(){this.$nextTick((()=>{this.$refs.options&&(this.maxHeightStyles=`max-height: ${this.$refs.options.scrollHeight}px`)}))},methods:{getCount(t){return t&&0!==Number(t)?(0,l.O)(t):""},handleOptionClick(t){t.route?this.isPwa?this.$router.replace(t.route):this.$router.push(t.route):t.value!==this.currentValue&&(this.$emit("change",t),this.optionsVisible=!1,this.$refs.button.focus())},toggleOptions(){this.optionsVisible=!this.optionsVisible,this.optionsVisible?document.addEventListener("click",this.listenClickOutside):document.removeEventListener("click",this.listenClickOutside)},closeOptions(){this.optionsVisible=!1,document.removeEventListener("click",this.listenClickOutside)},listenClickOutside(t){this.optionsVisible&&!this.$el.contains(t.target)&&this.toggleOptions()},bem:r.P}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},41573:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-navigation-filters-spoiler"},[e("div",{staticClass:"tm-navigation-filters-spoiler__wrapper"},[t.hasButton?e("button",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.closeOptions},expression:"{ 'esc': closeOptions }"}],ref:"button",staticClass:"tm-navigation-filters-spoiler__button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleOptions.apply(null,arguments)}}},[t._t("label"),t._v(" "),e("TMSvgImg",{staticClass:"icon_dropdown-arrow",class:{"icon_dropdown-arrow-rotated":t.visibleModel},attrs:{id:"arrow-down"}})],2):t._e(),t._v(" "),t._t("afterButton")],2),t._v(" "),e("div",{ref:"content",class:t.bem("tm-navigation-filters-spoiler__content",{transitions:t.enableTransitions}),style:t.getStyles,on:{transitionend:function(e){return e.target!==e.currentTarget?null:t.onTransitionEnd.apply(null,arguments)}}},[t._t("content",null,{contentVisible:t.visibleModel})],2)])},i=[],a=s(31490),o=s(65873);const r={name:"TMNavigationFiltersSpoiler",components:{TMSvgImg:a.Z},props:{useVModel:{type:Boolean,default:!1},value:{type:Boolean,default:!1},hasButton:{type:Boolean,default:!0}},data(){return{contentVisible:!1,maxHeight:null,overflow:"hidden",enableTransitions:!1,contentMutationObserver:null}},computed:{visibleModel:{get(){return this.useVModel?this.value:this.contentVisible},set(t){this.useVModel?this.$emit("input",t):this.contentVisible=t}},getStyles(){return this.visibleModel?{maxHeight:this.maxHeight,overflow:this.overflow}:null}},mounted(){this.useVModel&&this.value&&(this.overflow="visible"),this.calculateMaxHeight(),this.initMutationObserver(),this.$nextTick((()=>{this.enableTransitions=!0}))},beforeDestroy(){this.contentMutationObserver&&this.contentMutationObserver.disconnect()},methods:{bem:o.P,onTransitionEnd(){this.visibleModel&&(this.overflow="visible")},calculateMaxHeight(){this.maxHeight=`${this.$refs.content.scrollHeight}px`},toggleOptions(){this.overflow="hidden",this.calculateMaxHeight(),this.visibleModel=!this.visibleModel,this.$emit("toggle",this.visibleModel)},closeOptions(){this.visibleModel=!1},initMutationObserver(){this.contentMutationObserver=new MutationObserver((()=>{this.enableTransitions=!1,this.calculateMaxHeight(),setTimeout((()=>{this.enableTransitions=!0}),0)})),this.contentMutationObserver.observe(this.$refs.content,{childList:!0,subtree:!0})}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},98297:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"tm-navigation-filters-tabs__list"},t._l(t.options,(function(s,n){return e("li",{key:`${s.label}`,staticClass:"tm-navigation-filters-tabs__option"},[e("button",{staticClass:"tm-navigation-filters-tabs__option-button",class:{"tm-navigation-filters-tabs__option-button_active":t.activeIndex===n},attrs:{tabindex:t.getTabIndex},on:{click:function(e){return t.setFilter(n)}}},[t._v("\n      "+t._s(s.label)+"\n    ")])])})),0)},i=[];const a={name:"TMNavigationFiltersTabs",props:{options:{type:Array,required:!0},tabType:{type:String,default:"root"},activeIndex:{type:Number,required:!0},applyImmidiate:{type:Boolean,default:!1},contentVisible:{type:Boolean,default:!1}},computed:{getTabIndex(){return this.contentVisible?0:-1}},methods:{setFilter(t){if(this.applyImmidiate)return void this.$emit("applyNavigationFilter",t);const e={};"main"===this.tabType?e.mainActiveIndex=t:(e.rootActiveIndex=t,e.mainActiveIndex=0),this.$emit("setIndex",e)},isOptionActive(t,e=!1){const{value:s,params:n}=t;if(e&&n){const e=!!this.$route.matched.find((t=>t.name===s));let n;const i=Object.keys(t.params);return 0===i.length?n=!0:(n=!1,i.forEach((e=>{const s=this.$route.params&&"undefined"!==typeof this.$route.params[e]&&this.$route.params[e],i=t.params&&"undefined"!==typeof t.params[e]&&t.params[e];n=s===i}))),n&&e}return!!this.$route.matched.find((t=>t.name===s))}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},12463:(t,e,s)=>{"use strict";s.d(e,{Z:()=>_});var n=function(){var t=this,e=t._self._c;return e("TMNavigationFiltersSpoiler",{attrs:{"has-button":t.options.length>0},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n    "+t._s(t.title)+"\n  ")]},proxy:!0},{key:"afterButton",fn:function(){return[t._t("default")]},proxy:!0},{key:"content",fn:function({contentVisible:s}){return[e("div",{staticClass:"tm-navigation-filters__options"},[t.options[t.rootActiveIndex]?e("div",{staticClass:"tm-navigation-filters__list-label"},[t._v("\n        "+t._s(t.options[t.rootActiveIndex].rootLabel)+"\n      ")]):t._e(),t._v(" "),e("div",{staticClass:"tm-navigation-filters__tabs"},[e("TMNavigationFiltersTabs",{attrs:{"active-index":t.rootActiveIndex,"content-visible":s,options:t.options,"tab-type":"root"},on:{applyNavigationFilter:t.applyNavigationFilter,setIndex:t.setIndex}})],1),t._v(" "),t.options[t.rootActiveIndex]&&t.options[t.rootActiveIndex].mainLabel?e("div",{staticClass:"tm-navigation-filters__list-label"},[t._v("\n        "+t._s(t.options[t.rootActiveIndex].mainLabel)+"\n      ")]):t._e(),t._v(" "),t.options[t.rootActiveIndex]&&t.options[t.rootActiveIndex].mainLabel?e("div",{staticClass:"tm-navigation-filters__tabs"},[e("TMNavigationFiltersTabs",{attrs:{"active-index":t.mainActiveIndex,"content-visible":s,options:t.options[t.rootActiveIndex].children,"tab-type":"main"},on:{applyNavigationFilter:t.applyNavigationFilter,setIndex:t.setIndex}})],1):t._e(),t._v(" "),t._l(t.extraOptions,(function({value:n,label:i,children:a}){return e("div",{key:n},[e("div",{staticClass:"tm-navigation-filters__list-label"},[t._v("\n          "+t._s(i)+"\n        ")]),t._v(" "),e("ul",{staticClass:"tm-navigation-filters__list"},t._l(a,(function({label:i},a){return e("li",{key:i,staticClass:"tm-navigation-filters__option"},[e("button",{staticClass:"tm-navigation-filters__option-button",class:{"tm-navigation-filters__option-button_active":t.extraOptionsActiveMap[n]===a},attrs:{tabindex:t.getTabIndex(s)},on:{click:function(e){return t.setExtraOptionActive(n,a)}}},[t._v("\n              "+t._s(i)+"\n            ")])])})),0)])})),t._v(" "),e("TMButtonBase",{staticClass:"tm-navigation-filters__apply",attrs:{"style-size":"small","style-type":"solid",tabindex:t.getTabIndex(s),type:"button"},on:{click:function(e){return t.applyNavigationFilter({rootActiveIndex:t.rootActiveIndex,mainActiveIndex:t.mainActiveIndex})}}},[t._v("\n        "+t._s(t.msg("NAV_APPLY"))+"\n      ")])],2)]}}],null,!0)})},i=[],a=s(20629),o=s(17903),r=s(41573),l=s(98297),c=s(31490);const m={name:"TMNavigationFilters",components:{TMNavigationFiltersTabs:l.Z,TMSvgImg:c.Z,TMButtonBase:o.Z,TMNavigationFiltersSpoiler:r.Z},props:{options:{type:Array,required:!0},extraOptions:{type:Array,default:()=>[]}},data(){const t=this.options.findIndex((t=>t.children?t.children.some((t=>this.isOptionActive(t,!0))):this.isOptionActive(t,!0))),e=t>-1&&this.options[t].children,s=e?e.findIndex((t=>this.isOptionActive(t,!0))):null,n={};return this.extraOptions.forEach((t=>{const e=t.children.map((t=>this.isOptionActive(t,!0))).lastIndexOf(!0);n[t.value]=-1===e?0:e})),{optionsVisible:!1,rootActiveIndex:t,mainActiveIndex:s,extraOptionsActiveMap:n}},computed:{...(0,a.rn)("global",["isPwa"]),getStyles(){return this.optionsVisible&&this.maxHeightStyles},title(){return this.$route.meta.navTitle?this.msg(this.$route.meta.navTitle,this.$route.params||{}):""}},methods:{setIndex(t){this.rootActiveIndex="number"===typeof t.rootActiveIndex?t.rootActiveIndex:this.rootActiveIndex,this.mainActiveIndex=t.mainActiveIndex},setExtraOptionActive(t,e){this.extraOptionsActiveMap={...this.extraOptionsActiveMap,[t]:e}},getTabIndex(t){return t?0:-1},isOptionActive(t,e=!1){const{value:s,params:n}=t;if(e&&n){const e=!!this.$route.matched.find((t=>t.name===s));let n;const i=Object.keys(t.params);return 0===i.length?n=!0:(n=!1,i.forEach((e=>{const s=this.$route.params&&"undefined"!==typeof this.$route.params[e]&&this.$route.params[e],i=t.params&&"undefined"!==typeof t.params[e]&&t.params[e];n=s===i}))),n&&e}return!!this.$route.matched.find((t=>t.name===s))},applyNavigationFilter(){const t=this.options[this.rootActiveIndex],e=t.children?t.children[this.mainActiveIndex]:t;let s={};Object.entries(this.extraOptionsActiveMap).forEach((([t,e])=>{const n=this.extraOptions.find((e=>e.value===t));s={...s,...n.children[e].params}}));const n={name:e.value,params:{...e.params,...s}};this.$emit("applyFilter",n),this.isPwa?this.$router.replace(n):this.$router.push(n)}}},u=m;var d=s(1001),p=(0,d.Z)(u,n,i,!1,null,null,null);const _=p.exports},9795:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-navigation-search__input"},[e("TMInputTextDecorated",{ref:"input",attrs:{autocomplete:"off",maxlength:t.maxlength,name:"searchQuery",placeholder:t.placeholder||t.msg("SEARCH_INPUT_PLACEHOLDER"),value:t.value},on:{input:t.onInputChange}},[e("TMSvgIcon",{staticClass:"tm-search__icon",attrs:{slot:"after",id:"input-search"},slot:"after"})],1)],1)},i=[],a=s(91296),o=s.n(a),r=s(24230),l=s(33936);const c={name:"TMNavigationSearch",components:{TMInputTextDecorated:r.Z,TMSvgIcon:l.Z},props:{placeholder:{type:String,default:null},maxlength:{type:Number,default:50}},computed:{value:{get(){return this.$route.query.q}}},mounted(){void 0!==this.$route.query.q&&this.$refs.input.focus()},methods:{onInputChange:o()((function(t){const e=-1!==["COMPANIES","COMPANIES_PAGES"].indexOf(this.$route.name),s="HUBS"===this.$route.name;let n=3;if(e&&(n=2),s&&(n=1),t&&t.length<n)return;const i={query:{q:t},params:{pageNum:1}};this.$router.push(i)}),500)}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},80707:(t,e,s)=>{"use strict";s.d(e,{Z:()=>J});var n=function(){var t=this,e=t._self._c;return t.showBlock?e("TMBlock",{attrs:{"header-variant":"borderless",title:t.msg("NAV_NEWS"),"title-tag":"h2"},scopedSlots:t._u([t.showTypeNav?{key:"block-settings",fn:function(){return[e("TMSmallTabs",{attrs:{"active-tab":t.selection,tabs:t.tabs},on:{change:t.setSelection}})]},proxy:!0}:null],null,!0)},[t._v(" "),e("keep-alive",[e("TMNewsBlockList",{key:t.selection,attrs:{"company-alias":t.companyAlias,"company-title":t.companyTitle,"flow-name":t.flowName,"hub-name":t.hubName,selection:t.selection},on:{"has-news-change":t.setShowBlock}})],1)],1):t._e()},i=[],a=s(17907),o=function(){var t=this,e=t._self._c;return e("TMNewsBlockLayout",{attrs:{"is-loading":t.isLoading,"show-placeholder":!t.pagesCount&&!t.newsItems.length},scopedSlots:t._u([{key:"items",fn:function(){return t._l(t.newsItems,(function(s){return e("TMNewsBlockItem",{key:s.id,staticClass:"tm-news-block__item",attrs:{"news-item":s},on:{"comments-click":function(e){return t.logClick("comments")},"title-click":function(e){return t.logClick("title")}}})}))},proxy:!0},{key:"footer",fn:function(){return[t.showLoadMore?e("button",{staticClass:"tm-news-block__all",attrs:{type:"button"},on:{click:t.onShowMoreClick}},[t._v("\n      "+t._s(t.msg("SHOW_MORE"))+"\n    ")]):e("router-link",{staticClass:"tm-news-block__all",attrs:{to:t.newsRoute},nativeOn:{click:function(e){return t.logClick("all_news")}}},[t._v("\n      "+t._s(t.allNewsText)+"\n    ")])]},proxy:!0}])})},r=[],l=s(20629),c=function(){var t=this,e=t._self._c;return e("li",{staticClass:"tm-news-block-item"},[e("h3",{staticClass:"tm-news-block-item__title"},[e("TMPublicationLink",{staticClass:"tm-news-block-item__title-link tm-news-block-item__title",attrs:{article:t.newsItem},nativeOn:{"!click":function(e){return t.$emit("title-click")}}},[e("span",{domProps:{innerHTML:t._s(t.newsItem.titleHtml)}})])],1),t._v(" "),e("div",{staticClass:"tm-news-block-item__meta"},[e("TMDatetime",{staticClass:"tm-news-block-item__date",attrs:{date:new Date(t.newsItem.timePublished),"hide-today":!0,"show-full-date-time":!0}}),t._v(" "),e("TMArticleCommentsLink",{staticClass:"tm-news-block-item__comments-link",attrs:{article:t.newsItem},nativeOn:{"!click":function(e){return t.$emit("comments-click")}}},[e("span",{staticClass:"tm-news-block-item__comments"},[e("TMSvgImg",{staticClass:"tm-news-block-item__comments-icon",attrs:{id:"counter-comments",size:"24"}}),t._v(" "),e("span",[t._v("\n          "+t._s(t.newsItem.statistics.commentsCount)+"\n        ")]),t._v(" "),t.unreadCommentsCount?e("span",{staticClass:"tm-news-block-item__comments_unread"},[t._v("\n          "+t._s(t.unreadCommentsCount)+"\n        ")]):t._e()],1)])],1)])},m=[],u=s(34948),d=s(74199),p=s(76068),_=s(4307),h=s(31490),g=s(13836);const T={name:"TMNewsBlockItem",components:{TMSvgImg:h.Z,TMArticleCommentsLink:d.Z,TMDatetime:p.Z,TMPublicationLink:_.Z},props:{newsItem:{type:Object,required:!0}},data(){return{unreadCommentsCount:null}},computed:{...(0,l.Se)("me",["isLoggedIn"])},beforeMount(){if(this.isLoggedIn){const{relatedData:t}=this.newsItem;t&&t.unreadCommentsCount&&(this.unreadCommentsCount=(0,g.j)(t.unreadCommentsCount))}else{const{newsItem:{id:t,statistics:e}}=this;(0,u.U2)(t).then(((t=0)=>{const s=Math.max(e.commentsCount-t,0);s&&(this.unreadCommentsCount=(0,g.j)(s))}))}}},v=T;var S=s(1001),f=(0,S.Z)(v,c,m,!1,null,null,null);const E=f.exports;var I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-news-block-layout"},[e("ul",{staticClass:"tm-news-block-layout__items"},[t.isLoading&&t.showPlaceholder?t._l(t.placeholdersCount,(function(t){return e("li",{key:t,staticClass:"tm-news-block-layout__item"},[e("TMNewsBlockItemPlaceholder")],1)})):t._t("items")],2),t._v(" "),e("div",{staticClass:"tm-news-block-layout__footer"},[t.isLoading&&!t.showPlaceholder?e("TMCircleLoader"):t._t("footer")],2)])},C=[],A=s(2681),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"news-block-item-placeholder"},[e("div",{staticClass:"news-block-item-placeholder__header",style:{width:`${t.getRandomNumberFromRange(140,300)}px`}}),t._v(" "),e("div",{staticClass:"news-block-item-placeholder__meta",style:{width:`${t.getRandomNumberFromRange(240,280)}px`}})])},y=[],P=s(21509);const L={name:"TMNewsBlockItemPlaceholder",methods:{getRandomNumberFromRange:P.r}},O=L;var N=(0,S.Z)(O,b,y,!1,null,null,null);const M=N.exports,R={name:"TMNewsBlockLayout",components:{TMCircleLoader:A.Z,TMNewsBlockItemPlaceholder:M},props:{isLoading:{type:Boolean,default:!1},showPlaceholder:{type:Boolean,default:!1},placeholdersCount:{type:Number,default:5}}},k=R;var w=(0,S.Z)(k,I,C,!1,null,null,null);const B=w.exports;var D=s(8065),x=s(33055);const $=5,U={name:"TMNewsBlockList",components:{TMNewsBlockItem:E,TMNewsBlockLayout:B},props:{selection:{type:String,default:"date",validator:t=>["rating","date"].includes(t)},hasNews:Boolean,companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},flowName:{type:String,default:null},hubName:{type:String,default:null}},data(){return{isLoading:!0,newsItems:[],pagesCount:null,currentOption:"all"}},computed:{...(0,l.Se)("i18n",["langOptions"]),allNewsText(){if(this.companyNews)return this.msg("NEWS_ALL_NEWS_COMPANY",{companyTitle:this.companyTitle});if(this.flowNews){const t=this.flowName.toUpperCase(),e=this.msg(`NAV_FLOW_${t}`);return this.msg("NEWS_ALL_NEWS_FLOW",{flowTitle:e})}return this.msg("NEWS_ALL_NEWS")},newsRouteName(){return this.companyNews?"NEWS_LIST_BY_COMPANY":this.flowNews?"NEWS_LIST_BY_FLOW_ALL":"NEWS_LIST_ALL"},newsRoute(){const t=this.routeHasHash?"#more-news":null;return{name:this.newsRouteName,params:{hl:this.langOptions.hl},...t?{hash:t}:{}}},routeHasHash(){return this.pagesCount>2},companyNews(){return Boolean(this.companyAlias)},flowNews(){return Boolean(this.flowName)},hubNews(){return Boolean(this.hubName)},contextParams(){return this.hubNews?{context_hub_alias:this.hubName}:this.flowNews?{context_flow_alias:this.flowName}:this.companyNews?{context_company_alias:this.companyAlias}:{}},showLoadMore(){return this.pagesCount>1&&this.newsItems.length===$}},mounted(){this.loadNews({pageNum:1})},methods:{loadNews({pageNum:t}){const e={...this.langOptions,...this.contextParams,selection:this.selection,extend_context:!1,per_page:$,page_num:t};this.isLoading=!0,(0,x.Pq)(e).then((t=>{if(t&&t.articleRefs&&t.articleIds){const e=t.articleIds.map((e=>t.articleRefs[e]));this.newsItems.push(...e),this.pagesCount=t.pagesCount}})).catch((t=>{this.newsItems.length&&this.$toast.error(t.message)})).finally((()=>{this.isLoading=!1,this.$emit("has-news-change",!!this.newsItems.length)}))},onShowMoreClick(){this.logClick("more"),this.loadNews({pageNum:2})},logClick(t){(0,D.IZ)(`tm_block_news_${t}`)}}},F=U;var V=(0,S.Z)(F,o,r,!1,null,null,null);const H=V.exports;var G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-options-switch"},t._l(t.tabs,(function(s){return e("button",{key:s.value,staticClass:"tm-options-switch__item",class:t.bem("tm-options-switch__item",{active:t.isActive(s)}),attrs:{"data-active":t.isActive(s),disabled:t.isActive(s)},on:{click:function(e){return t.select(s)}}},[t._v("\n    "+t._s(s.label)+"\n  ")])})),0)},W=[],Z=s(65873);const Y={name:"TMSmallTabs",model:{prop:"activeTab",event:"change"},props:{activeTab:{type:[String,Number],default:null},tabs:{type:Array,required:!0}},methods:{bem:Z.P,select(t){this.$emit("change",t.value)},isActive(t){return t.value===this.activeTab}}},q=Y;var j=(0,S.Z)(q,G,W,!1,null,null,null);const K=j.exports,z={name:"TMNewsBlock",components:{TMSmallTabs:K,TMBlock:a.Z,TMNewsBlockList:H},props:{companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},flowName:{type:String,default:null},hubName:{type:String,default:null},showTypeNav:{type:Boolean,default:!0},defaultSelection:{type:String,default:"date",validator:t=>["date","rating"].includes(t)}},data(){return{showBlock:!0,selection:this.defaultSelection}},computed:{tabs(){return[{value:"date",label:this.msg("NAV_TITLE_LATEST").toLowerCase()},{value:"rating",label:this.msg("NAV_BEST").toLowerCase()}]}},methods:{setSelection(t){this.selection=t;const e="date"===t?"filter_all":"filter_best";(0,D.IZ)(`tm_block_news_${e}`)},setShowBlock(t){this.showBlock=t}}},Q=z;var X=(0,S.Z)(Q,n,i,!1,null,null,null);const J=X.exports},90707:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-notice",class:`tm-notice_${t.type}`},[t.$slots.icon?e("div",{staticClass:"tm-notice__icon"},[t._t("icon")],2):t._e(),t._v(" "),e("div",{staticClass:"tm-notice__inner"},[t.$slots.title?e("div",{staticClass:"tm-notice__title"},[t._t("title")],2):t._e(),t._v(" "),e("div",{staticClass:"tm-notice__content"},[t._t("default")],2)])])},i=[];function a(t){const e=["info","negative","positive","neutral","warning"];return e.includes(t)}const o={required:!0,type:String,validator:a},r={name:"TMNotice",props:{type:o}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},51152:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-our-projects"},[e("div",{staticClass:"tm-our-projects__label"},[t._v("\n    "+t._s(t.msg("NAV_PROJECTS_SECTION_LABEL"))+"\n  ")]),t._v(" "),e("div",{staticClass:"tm-our-projects__items"},t._l(t.ourProjects,(function(s,n){return e("a",{key:`${s.name}_${n}`,staticClass:"tm-our-projects__item",attrs:{href:s.url,target:"_blank"}},[e("svg",{staticClass:"tm-our-projects__logo",class:`tm-our-projects__logo${s.logo}`,attrs:{height:s.heightSVG,width:s.widthSVG}},[e("title",[t._v(t._s(s.name))]),t._v(" "),e("use",{attrs:{"xlink:href":s.logo}})]),t._v(" "),t.showDescription?e("span",{staticClass:"tm-our-projects__description"},[t._v("\n        "+t._s(s.description)+"\n      ")]):t._e()])})),0)])},i=[],a=s(20629),o=s(33936),r=s(31490);const l="/img/services.0af9b389..svg",c={name:"TMOurProjects",components:{TMSvgIcon:o.Z,TMSvgImg:r.Z},props:{showDescription:{type:Boolean,default:!1},useText:{type:Boolean,default:!1}},computed:{...(0,a.Se)("i18n",["msg","langOptions"]),ourProjects(){return[{name:this.msg("NAV_PROJECT_HABR"),description:this.msg("NAV_PROJECT_HABR_DESCR"),logo:`${l}#service-habrcom_ru`,url:"/",widthSVG:"52",heightSVG:"22"},{name:this.msg("NAV_PROJECT_TOSTER"),description:this.msg("NAV_PROJECT_TOSTER_DESCR"),logo:`${l}#service-qna_ru`,url:"https://qna.habr.com?utm_source=habr&utm_medium=habr_top_panel",widthSVG:"46",heightSVG:"18"},{name:this.msg("NAV_PROJECT_MOYKRUG"),description:this.msg("NAV_PROJECT_MOYKRUG_DESCR"),logo:`${l}#service-career_ru`,url:"https://career.habr.com?utm_source=habr&utm_medium=habr_top_panel",widthSVG:"84",heightSVG:"21"},{name:this.msg("NAV_PROJECT_FREELANSIM"),description:this.msg("NAV_PROJECT_FREELANSIM_DESCR"),logo:`${l}#service-freelance_ru`,url:"https://freelance.habr.com?utm_source=habr&utm_medium=habr_top_panel",widthSVG:"91",heightSVG:"21"}]}}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},41659:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:()=>t.$emit("close")},expression:"{ esc: () => $emit('close') }"}],staticClass:"tm-overlay"},[e("div",{staticClass:"tm-overlay__background"}),t._v(" "),e("div",{ref:"inner",staticClass:"tm-overlay__inner",attrs:{"data-scroll-target":""},on:{click:function(e){return e.target!==e.currentTarget?null:t.onClick.apply(null,arguments)},mousedown:t.onMousedown}},[t._t("default")],2)])},i=[];const a={name:"TMOverlay",data(){return{mouseTarget:null}},mounted(){this.mouseTarget=this.$refs.inner},methods:{onClick(){this.mouseTarget===this.$refs.inner&&this.$emit("close")},onMousedown(t){this.mouseTarget=t.target}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},902:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>I});var n=function(){var t=this,e=t._self._c;return e("form",{staticClass:"tm-page-settings-form",on:{submit:t.onSubmit}},[e("div",{staticClass:"tm-page-settings-form__title"},[t._v("\n    "+t._s(t.getTranslation("SETTINGS_TITLE"))+"\n  ")]),t._v(" "),e("TMFieldset",{staticClass:"tm-page-settings-form__fieldset",attrs:{errors:[],title:t.getTranslation("SETTINGS_UI_TITLE")}},[e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{id:"uiRussian","checked-value":"ru",name:"ui"},on:{input:function(e){return t.checkboxCheck()}},model:{value:t.uiLang,callback:function(e){t.uiLang=e},expression:"uiLang"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_LANG_RUSSIAN"))+"\n      ")])],1),t._v(" "),e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{id:"uiEnglish","checked-value":"en",name:"ui"},on:{input:function(e){return t.checkboxCheck()}},model:{value:t.uiLang,callback:function(e){t.uiLang=e},expression:"uiLang"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_LANG_ENGLISH"))+"\n      ")])],1)]),t._v(" "),e("TMFieldset",{staticClass:"tm-page-settings-form__fieldset",attrs:{errors:t.articlesLangErrors,title:t.getTranslation("SETTINGS_ARTICLES_TITLE")}},[e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMLabeledCheckbox",{attrs:{name:"articlesRussian"},model:{value:t.articlesLangRussian,callback:function(e){t.articlesLangRussian=e},expression:"articlesLangRussian"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_FL_LANG_RUSSIAN"))+"\n      ")])],1),t._v(" "),e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMLabeledCheckbox",{attrs:{name:"articlesEnglish"},model:{value:t.articlesLangEnglish,callback:function(e){t.articlesLangEnglish=e},expression:"articlesLangEnglish"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_FL_LANG_ENGLISH"))+"\n      ")])],1)]),t._v(" "),e("TMFieldset",{staticClass:"tm-page-settings-form__fieldset",attrs:{errors:[],title:t.getTranslation("SETTINGS_FEED")}},[e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{"checked-value":"cards",name:"feed"},model:{value:t.feed,callback:function(e){t.feed=e},expression:"feed"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_FEED_CLASSIC"))+"\n      ")])],1),t._v(" "),e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{"checked-value":"list",name:"feed"},model:{value:t.feed,callback:function(e){t.feed=e},expression:"feed"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_FEED_COMPACT"))+"\n      ")])],1)]),t._v(" "),t.showDarkMode?e("TMFieldset",{staticClass:"tm-page-settings-form__fieldset",attrs:{errors:[],title:t.getTranslation("SETTINGS_COLOR_THEME")}},[e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{"checked-value":"dark",name:"colorTheme"},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_DARK"))+"\n      ")])],1),t._v(" "),e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{"checked-value":"light",name:"colorTheme"},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_LIGHT"))+"\n      ")])],1),t._v(" "),e("p",{staticClass:"tm-page-settings-form__input-wrapper"},[e("TMInputRadioLabeled",{attrs:{"checked-value":"system",name:"colorTheme"},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}},[t._v("\n        "+t._s(t.getTranslation("SETTINGS_SYSTEM"))+"\n      ")])],1)]):t._e(),t._v(" "),e("p",{staticClass:"tm-page-settings-form__controls"},[e("TMButtonBase",{staticClass:"tm-page-settings-form__submit",attrs:{disabled:Boolean(t.articlesLangErrors.length),"style-size":"large","style-type":"solid",type:"submit"}},[t._v("\n      "+t._s(t.getTranslation("SETTINGS_ACTION_SAVE"))+"\n    ")])],1)],1)},i=[],a=s(20629),o=s(46940),r=s.t(o,2),l=s(17903),c=s(71943),m=s(64712),u=s(52322),d=s(87628),p=s(46100);function _(t){return(0,u.d8)("fl",t,{expires:365})}function h(t){return(0,u.d8)("hl",t,{expires:365})}var g=s(22827),T=s(19516);const v={name:"TMPageSettingsForm",components:{TMButtonBase:l.Z,TMFieldset:c.Z,TMInputRadioLabeled:d.Z,TMLabeledCheckbox:m.Z},data(){return{feed:this.$store.state.articlesList.view,theme:(0,g.Yw)(),isDirtyLang:!1}},computed:{articlesLangEnglish:(0,p.X)("articlesLangEnglish"),articlesLangRussian:(0,p.X)("articlesLangRussian"),uiLang:(0,p.X)("uiLang"),showDarkMode(){const t=(0,u.ej)("dark_theme_mode");return t&&"on"===t},cookieFl(){return(0,u.ej)("fl")},...(0,a.Se)("i18n",["isEnglishContentEnabled","isRussianContentEnabled","msg"]),...(0,a.rn)("i18n",["hl","fl"]),...(0,a.rn)("settingsOther",["inputs"]),...(0,a.Se)("me",["isLoggedIn"]),...(0,a.Se)("settingsOther",["formData"]),...(0,a.rn)("global",["isPwa"]),...(0,a.rn)("articlesList",["view"]),articlesLangErrors(){return this.articlesLangEnglish||this.articlesLangRussian?[]:[this.getTranslation("SETTINGS_ARTICLES_ERROR")]}},beforeMount(){this.markDataLoaded()},mounted(){const t=[{name:"articlesLangEnglish",value:this.isEnglishContentEnabled},{name:"articlesLangRussian",value:this.isRussianContentEnabled},{name:"uiLang",value:this.hl}];t.forEach((({name:t,value:e})=>{this.setInputValue({name:t,value:e})}))},methods:{...(0,a.nv)("settingsOther",["setInputValue"]),...(0,a.nv)("ssr",["markDataLoaded"]),...(0,a.nv)("articlesList",["setArticleView"]),getTranslation(t){return this.uiLang?r[this.uiLang][t]:this.msg(t)},checkboxCheck(){if(!this.cookieFl){const t={ru:"articlesLangRussian",en:"articlesLangEnglish"};Object.keys(t).forEach((e=>{this.setInputValue({name:t[e],value:e===this.uiLang})}))}},reloadThePage(){this.isPwa?window.location="/pwa":window.location.reload(!0)},flushWorkboxCache(){return"serviceWorker"in navigator&&this.isPwa?navigator.serviceWorker.ready.then((t=>{t.active.postMessage({flushCache:!0})})):Promise.resolve()},onSubmit(t){if(t.preventDefault(),!this.articlesLangErrors.length)if(this.theme!==(0,g.Yw)()&&((0,g.Hs)(this.theme),(0,g.Lr)(this.theme)),this.feed!==this.view&&this.setArticleView({view:this.feed}),this.formData.fl!==this.fl||this.formData.hl!==this.hl)if(_(this.formData.fl),h(this.formData.hl),this.isLoggedIn){const t={hl:this.formData.hl,fl:[...this.articlesLangEnglish?["en"]:[],...this.articlesLangRussian?["ru"]:[]]};(0,T.KE)(t).then((()=>this.flushWorkboxCache())).then((()=>this.reloadThePage())).catch((t=>this.$toast.error(t)))}else this.reloadThePage();else this.$emit("closePopup")}}},S=v;var f=s(1001),E=(0,f.Z)(S,n,i,!1,null,null,null);const I=E.exports},19747:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-page-width",class:{"tm-page-width_no-padding":t.noPadding,"tm-page-width_full-width":t.fullWidth}},[t._t("default")],2)},i=[];const a={name:"TMPageWidth",props:{noPadding:{type:Boolean,default:!1},fullWidth:Boolean}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},43222:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-page",class:{"tm-page_wide":t.wide,"tm-page_no-top-margin":t.noTopMargin}},[e(t.wide?"div":"TMPageWidth",{tag:"component",attrs:{"no-padding":t.isTablet}},[t.$slots.header?e("div",{staticClass:"tm-page__header"},[t._t("header")],2):t._e(),t._v(" "),e("div",{staticClass:"tm-page__wrapper"},[e("div",{staticClass:"tm-page__main",class:{"tm-page__main_has-sidebar":Boolean(t.$slots.sidebar)}},[t.hasPullToRefresh?e("TMPullToRefresh",{attrs:{config:{pullDownHeight:60},"on-refresh":t.refreshData}},[t._t("default")],2):t._t("default")],2),t._v(" "),t.$slots.sidebar?e("div",{staticClass:"tm-page__sidebar"},[t._t("sidebar")],2):t._e()])])],1)},i=[],a=s(20629),o=s(19747),r=s(45136);const l={name:"TMPage",components:{TMPullToRefresh:r.Z,TMPageWidth:o.Z},props:{wide:{type:Boolean,default:!1},noTopMargin:{type:Boolean,default:!1},hasPullToRefresh:{type:Boolean,default:!0}},computed:{...(0,a.rn)("i18n",["hl"]),...(0,a.rn)("global",["isPwa"]),...(0,a.Se)("global",["isMobile","isTablet"])},methods:{...(0,a.nv)("pullRefresh",["toggleRefresh"]),refreshData(){return this.error&&this.$store.dispatch("ssr/reset"),this.toggleRefresh(!0),new Promise((t=>{setTimeout((()=>{t()}),1e3)}))}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},28074:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return t.showPagination?e("div",{staticClass:"tm-pagination"},[e(t.navigation.prev?"router-link":"div",{key:"decrementLink",tag:"component",staticClass:"tm-pagination__navigation-link",class:{"tm-pagination__navigation-link_active":t.navigation.prev},attrs:{id:"pagination-prev-page","data-pagination-prev":"",event:"",rel:"prev",to:t.navigation.prev},nativeOn:{click:function(e){return e.preventDefault(),t.handlePaginationClick(t.navigation.prev)}}},[e("TMSvgImg",{staticClass:"tm-pagination__arrow tm-pagination__arrow_prev",attrs:{id:"arrow-back",size:"16"}}),t._v(" "),e("span",{staticClass:"tm-pagination__navigation-link-title"},[t._v("\n      "+t._s(t.msg("NAV_PREV_PAGE"))+"\n    ")])],1),t._v(" "),e("div",{staticClass:"tm-pagination__pages"},[t._l(t.previousPages,(function(s,n){return e("div",{key:n+"prev",staticClass:"tm-pagination__page-group"},[t._l(s,(function(s){return e("router-link",{key:s.title,staticClass:"tm-pagination__page",attrs:{event:"",to:s.route},nativeOn:{click:function(e){return e.preventDefault(),t.handlePaginationClick(s.route)}}},[t._v("\n        "+t._s(s.title)+"\n      ")])})),t._v(" "),0===n&&t.previousPages.length>1?e("span",{key:"skip-prev",staticClass:"tm-pagination__page tm-pagination__page_skip"},[t._v("\n        ...\n      ")]):t._e()],2)})),t._v(" "),e("span",{staticClass:"tm-pagination__page tm-pagination__page_current"},[t._v("\n      "+t._s(t.currentRoutePage)+"\n    ")]),t._v(" "),t._l(t.nextPages,(function(s,n){return e("div",{key:n+"next",staticClass:"tm-pagination__page-group"},[t._l(s,(function(s){return e("router-link",{key:s.title,staticClass:"tm-pagination__page",attrs:{event:"",to:s.route},nativeOn:{click:function(e){return e.preventDefault(),t.handlePaginationClick(s.route)}}},[t._v("\n        "+t._s(s.title)+"\n      ")])})),t._v(" "),0===n&&t.nextPages.length>1?e("span",{key:"skip-next",staticClass:"tm-pagination__page tm-pagination__page_skip"},[t._v("\n        ...\n      ")]):t._e()],2)}))],2),t._v(" "),e(t.navigation.next?"router-link":"div",{key:"incrementLink",tag:"component",staticClass:"tm-pagination__navigation-link",class:{"tm-pagination__navigation-link_active":t.navigation.next},attrs:{id:"pagination-next-page","data-pagination-next":"",event:"",rel:"next",to:t.navigation.next},nativeOn:{click:function(e){return e.preventDefault(),t.handlePaginationClick(t.navigation.next)}}},[e("span",{staticClass:"tm-pagination__navigation-link-title"},[t._v("\n      "+t._s(t.msg("NAV_NEXT_PAGE"))+"\n    ")]),t._v(" "),e("TMSvgImg",{staticClass:"tm-pagination__arrow tm-pagination__arrow_next",attrs:{id:"arrow-back",size:"16"}})],1)],1):t._e()},i=[],a=s(20629),o=s(31490);const r=(t,e)=>({...t,params:{...t.params,pageNum:e}}),l=t=>e=>({route:r(t,e),title:e}),c={name:"TMPagination",components:{TMSvgImg:o.Z},props:{currentPage:{type:Number,default:null},routeName:{type:String,default:null},totalPages:{type:Number,required:!0},pagePadding:{type:Number,default:2},pagePaddingMobile:{type:Number,default:1}},computed:{...(0,a.rn)("global",["isPwa"]),route(){return{name:this.routeName||this.$route.name,query:this.$route.query,params:this.$route.params}},navigation(){return{prev:this.currentRoutePage>1?r(this.route,this.currentRoutePage-1):null,next:this.isLastPage?null:r(this.route,this.currentRoutePage+1)}},currentRoutePage(){return this.currentPage||Number(this.$route.params.pageNum)||1},isLastPage(){return this.currentRoutePage===this.totalPages},showPagination(){return this.totalPages>1},previousPages(){const{route:t,currentRoutePage:e,responsivePadding:s}=this;if(1===e)return[];const n=l(t);if(e-1-2*s<=1){const t=[];for(let s=1;s<e;s+=1)t.push(n(s));return[t]}const i=[];for(let o=1;o<=s;o+=1)i.push(n(o));const a=[];for(let o=e-s;o<e;o+=1)a.push(n(o));return[i,a]},nextPages(){const{route:t,currentRoutePage:e,responsivePadding:s,totalPages:n}=this;if(e===n)return[];const i=l(t);if(e+2*s>=n-1){const t=[];for(let s=e+1;s<=n;s+=1)t.push(i(s));return[t]}const a=[];for(let r=e+1;r<=e+s;r+=1)a.push(i(r));const o=[];for(let r=n-s+1;r<=n;r+=1)o.push(i(r));return[a,o]},...(0,a.Se)("global",["isMobile"]),responsivePadding(){const{pagePadding:t,pagePaddingMobile:e}=this;return this.isMobile?e:t}},methods:{handlePaginationClick(t){this.isPwa?this.$router.replace(t):this.$router.push(t)}}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},5806:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-line loads"})},i=[];const a={name:"TMPlaceholderLine"},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},40591:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"placeholder-wrapper"},["article"===t.type?t._l(t.times,(function(s){return e("div",{key:`placeholder-article-${s}`,class:`tm-placeholder tm-placeholder_article tm-placeholder_article_${t.modificator}`},[t._m(0,!0),t._v(" "),t._l(2,(function(n){return e("div",{key:`placeholder-article-title-${s}-${n}`,class:`\n          tm-placeholder__article-title\n          tm-placeholder__article-title_${t.modificator}\n          loads\n        `})})),t._v(" "),"preview"===t.modificator?e("div",{staticClass:"tm-placeholder__counters"},t._l(4,(function(t){return e("div",{key:`placeholder-icon-${t}`,staticClass:"tm-placeholder__icon loads"})})),0):t._e(),t._v(" "),"article-comments"===t.modificator?e("div",{staticClass:"tm-placeholder__counters"},t._l(3,(function(t){return e("div",{key:`placeholder-icon-${t}`,staticClass:"tm-placeholder__icon loads"})})),0):t._e()],2)})):t._e(),t._v(" "),"articleBody"===t.type?e("div",{staticClass:"tm-placeholder tm-placeholder_article-body"},[e("div",{staticClass:"tm-placeholder__article-img loads"}),t._v(" "),t._l(20,(function(s){return e("div",{key:`placeholder-article-body-${s}`,staticClass:"tm-placeholder__line loads",style:`width:${t.generateRandomWidth(80,100)}%;`})}))],2):t._e(),t._v(" "),"hubs"===t.type?e("div",{staticClass:"tm-placeholder tm-placeholder_hubs"},t._l(t.times,(function(t){return e("div",{key:`placeholder-hub-${t}`,staticClass:"tm-placeholder__hub loads"})})),0):t._e(),t._v(" "),"categories"===t.type?e("div",{staticClass:"tm-placeholder tm-placeholder_categories"},t._l(t.times,(function(s){return e("div",{key:`placeholder-category-${s}`,staticClass:"tm-placeholder__category"},[e("div",{staticClass:"tm-placeholder__category-avatar"}),t._v(" "),e("div",{staticClass:"tm-placeholder__category-info"},[e("span",{staticClass:"tm-placeholder__category-name",style:`width: ${t.generateRandomWidth(38,200)}px`}),t._v(" "),e("div",{staticClass:"tm-placeholder__category-desctiption",style:`width: ${t.generateRandomWidth(50,110)}px`})])])})),0):t._e(),t._v(" "),"preset"===t.type?t._l(t.times,(function(s){return e("div",{key:`placeholder-preset-${s}`,staticClass:"tm-placeholder tm-placeholder_preset"},[e("div",{staticClass:"tm-placeholder__preset-header"},[e("div",{staticClass:"tm-placeholder__preset-title loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__preset-icons"},t._l(2,(function(t){return e("div",{key:`placeholder-preset-icon-${t}`,staticClass:"tm-placeholder__preset-icon tm-placeholder__icon loads"})})),0)]),t._v(" "),t._l(3,(function(s){return e("div",{key:`placeholder-preset-line-${s}`,staticClass:"tm-placeholder__line loads",style:`width:${t.generateRandomWidth(80,100)}%;`})})),t._v(" "),e("div",{staticClass:"tm-placeholder__preset-button loads"})],2)})):t._e(),t._v(" "),"conversations"===t.type?e("div",{staticClass:"tm-placeholder__conversations"},t._l(t.times,(function(s){return e("div",{key:`placeholder-conversations-${s}`,class:`\n        tm-placeholder\n        tm-placeholder__conversation\n        tm-placeholder__conversation_${t.modificator}\n      `},[e("div",{staticClass:"tm-placeholder__conversation-userpic loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__conversation-body"},[e("div",{staticClass:"tm-placeholder__conversation-meta"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_username loads",style:`width:${t.generateRandomWidth(5,20)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_date loads",style:`width:${t.generateRandomWidth(5,20)}%;`})]),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_conversations loads",style:`width:${t.generateRandomWidth(60,80)}%;`})])])})),0):t._e(),t._v(" "),"messages"===t.type?e("div",{staticClass:"tm-placeholder__messages"},t._l(t.times,(function(s){return e("div",{key:`placeholder-messages-${s}`,class:`tm-placeholder tm-placeholder__message tm-placeholder__message_${t.modificator}`},[e("div",{staticClass:"tm-placeholder__message-meta"},[e("div",{staticClass:"tm-placeholder__message-userpic loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_message-date loads",style:`width:${t.generateRandomWidth(5,20)}%;`})]),t._v(" "),t._l(3,(function(s){return e("div",{key:`placeholder-message-line-${s}`,staticClass:"tm-placeholder__line tm-placeholder__line_messages loads",style:`width:${t.generateRandomWidth(80,100)}%;`})}))],2)})),0):t._e(),t._v(" "),"static"===t.type?e("div",{staticClass:"tm-placeholder tm-placeholder_static"},[t._m(1),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-tabs"},t._l(3,(function(s){return e("div",{key:`placeholder-preset-static-${s}`,staticClass:"tm-placeholder__static-page-tab loads",style:`width:${t.generateRandomWidth(80,100)}px;`})})),0),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content"},[e("div",{staticClass:"tm-placeholder__static-page-content-headling loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(80,100)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(60,80)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-wrap-text"},t._l(12,(function(s){return e("div",{key:`placeholder-preset-static-2-${s}`,staticClass:"tm-placeholder__static-page-content-text loads",style:`width:${t.generateRandomWidth(60,80)}%;`})})),0),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(80,100)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-wrap-text"},t._l(6,(function(s){return e("div",{key:`placeholder-preset-static-3-${s}`,staticClass:"tm-placeholder__static-page-content-text loads",style:`width:${t.generateRandomWidth(60,80)}%;`})})),0)])]):t._e(),t._v(" "),"static_section_name"===t.type?e("div",{staticClass:"tm-placeholder__static-page-section-name"},[e("div",{staticClass:"tm-placeholder__static-page-headling loads"})]):t._e(),t._v(" "),"static_dropdown"===t.type?e("div",{staticClass:"tm-placeholder__static-page-tabs"},[e("div",{staticClass:"tm-placeholder__static-page-headling loads"})]):t._e(),t._v(" "),"static_tabs"===t.type?e("div",{staticClass:"tm-placeholder__static-page-tabs"},t._l(3,(function(s){return e("div",{key:`placeholder-preset-static-${s}`,staticClass:"tm-placeholder__static-page-tab loads",style:`width:${t.generateRandomWidth(80,100)}px;`})})),0):t._e(),t._v(" "),"static_article"===t.type?e("div",{staticClass:"tm-placeholder__static-page-content"},[e("div",{staticClass:"tm-placeholder__static-page-content-headling loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(80,100)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(60,80)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-wrap-text"},t._l(12,(function(s){return e("div",{key:`ps-text-${s}`,staticClass:"tm-placeholder__static-page-content-text loads",style:`width:${t.generateRandomWidth(60,80)}%;`})})),0),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-headling loads",style:`width:${t.generateRandomWidth(80,100)}%;`}),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-content-wrap-text"},t._l(6,(function(s){return e("div",{key:`ps-text-2-${s}`,staticClass:"tm-placeholder__static-page-content-text loads",style:`width:${t.generateRandomWidth(60,80)}%;`})})),0)]):t._e(),t._v(" "),"comment"===t.type?t._l(t.times,(function(s){return e("div",{key:`placeholder-article-${s}`,class:`tm-placeholder tm-placeholder__comment tm-placeholder__comment_${t.modificator}`},["user-comment"===t.modificator?e("div",{staticClass:"tm-placeholder__comment-article"},t._l(2,(function(t){return e("div",{key:`placeholder-article-title-${s}-${t}`,class:"tm-placeholder__article-title loads"})})),0):t._e(),t._v(" "),t._m(2,!0),t._v(" "),t._l(2,(function(n){return e("div",{key:`placeholder-article-title-${s}-${n}`,staticClass:"tm-placeholder__article-title loads",style:`width:${t.generateRandomWidth(80,100)}%;`})}))],2)})):t._e(),t._v(" "),"form"===t.type?t._l(t.times,(function(s){return e("div",{key:`placeholder-form-${s}`,staticClass:"tm-placeholder loads",class:t.bem("tm-placeholder__form",{modificator:t.modificator})})})):t._e(),t._v(" "),"profileInfo"===t.type?t._l(12,(function(s){return e("div",{key:`placeholder-form-${s}`,staticClass:"tm-placeholder tm-placeholder__line loads",style:`width:${t.generateRandomWidth(20,80)}%;`})})):t._e(),t._v(" "),"userProfileCard"===t.type?[e("div",{staticClass:"tm-placeholder tm-placeholder_user-profile"},[t._m(3),t._v(" "),e("div",{staticClass:"tm-placeholder__category-info"},[e("span",{staticClass:"tm-placeholder__category-name",style:`width: ${t.generateRandomWidth(38,300)}px`}),t._v(" "),e("div",{staticClass:"tm-placeholder__category-desctiption tm-placeholder__desctiption_profile",style:`width: ${t.generateRandomWidth(50,210)}px`})])]),t._v(" "),e("div",{staticClass:"tm-placeholder__static-page-tabs"},t._l(4,(function(s){return e("div",{key:`placeholder-preset-static-${s}`,staticClass:"tm-placeholder__static-page-tab loads",style:`width:${t.generateRandomWidth(80,100)}px;`})})),0)]:t._e(),t._v(" "),"hubProfileCard"===t.type?e("div",{staticClass:"tm-placeholder tm-placeholder_user-profile"},[t._m(4),t._v(" "),e("div",{staticClass:"tm-placeholder__category-info"},[e("span",{staticClass:"tm-placeholder__category-name",style:`width: ${t.generateRandomWidth(38,300)}px`}),t._v(" "),e("div",{staticClass:"tm-placeholder__category-desctiption tm-placeholder__desctiption_profile",style:`width: ${t.generateRandomWidth(50,210)}px`})])]):t._e(),t._v(" "),"inset_salary"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-salary"},[t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7)]):t._e(),t._v(" "),"inset_tasks"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-tasks"},[t._m(8),t._v(" "),e("div",{staticClass:"tm-placeholder-inset__body"},[e("ul",{staticClass:"tm-placeholder-list"},t._l(5,(function(s){return e("li",{key:s,staticClass:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t._m(9,!0),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(3,(function(t){return e("span",{key:t,staticClass:"tm-project-block-items__property-item"},[e("span",{staticClass:"tm-placeholder__line loads",staticStyle:{width:"100px"}})])})),0)])})),0)]),t._v(" "),t._m(10)]):t._e(),t._v(" "),"inset_questions"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-questions"},[t._m(11),t._v(" "),e("div",{staticClass:"tm-placeholder-inset__body"},[e("ul",{staticClass:"tm-placeholder-list"},t._l(5,(function(s){return e("li",{key:s,staticClass:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_item-title loads"}),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(3,(function(t){return e("span",{key:t,staticClass:"tm-project-block-items__property-item"},[e("span",{staticClass:"tm-placeholder__line loads",staticStyle:{width:"100px"}})])})),0)])})),0)]),t._v(" "),t._m(12)]):t._e(),t._v(" "),"inset_courses"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-courses"},[t._m(13),t._v(" "),e("div",{staticClass:"tm-placeholder-inset__body"},[e("ul",{staticClass:"tm-placeholder-list"},t._l(5,(function(s){return e("li",{key:s,staticClass:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t._m(14,!0),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(3,(function(t){return e("span",{key:t,staticClass:"tm-project-block-items__property-item"},[e("span",{staticClass:"tm-placeholder__line loads",staticStyle:{width:"100px"}})])})),0)])})),0)]),t._v(" "),t._m(15)]):t._e(),t._v(" "),"inset_vacancies"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-vacancies"},[t._m(16),t._v(" "),e("div",{staticClass:"tm-placeholder-inset__body"},[e("ul",{staticClass:"tm-placeholder-list"},t._l(5,(function(s){return e("li",{key:s,staticClass:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t._m(17,!0),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(3,(function(t){return e("span",{key:t,staticClass:"tm-project-block-items__property-item"},[e("span",{staticClass:"tm-placeholder__line loads",staticStyle:{width:"100px"}})])})),0)])})),0)]),t._v(" "),t._m(18)]):t._e(),t._v(" "),"inset_company_courses"===t.type?e("div",{staticClass:"tm-placeholder-inset tm-placeholder-company_courses"},[t._m(19),t._v(" "),e("div",{staticClass:"tm-placeholder-inset__body"},[e("ul",{staticClass:"tm-placeholder-list"},t._l(5,(function(s){return e("li",{key:s,staticClass:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t._m(20,!0),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(3,(function(t){return e("span",{key:t,staticClass:"tm-project-block-items__property-item"},[e("span",{staticClass:"tm-placeholder__line loads",staticStyle:{width:"100px"}})])})),0)])})),0)]),t._v(" "),t._m(21)]):t._e(),t._v(" "),"promo_block"===t.type?e("div",{staticClass:"tm-placeholder-promo"},[t._m(22),t._v(" "),t._m(23)]):t._e(),t._v(" "),"articleCards"===t.type?e("div",{staticClass:"tm-placeholder-article-cards"},t._l(t.times,(function(s){return e("div",{key:s,staticClass:"tm-placeholder-article-card"},[t._m(24,!0),t._v(" "),t._m(25,!0),t._v(" "),e("div",{staticClass:"tm-placeholder-article-card__icons tm-placeholder__counters"},t._l(4,(function(s){return e("div",{key:`placeholder-icon-${s}`,staticClass:"tm-placeholder-data-icon"},[e("div",{staticClass:"tm-placeholder__icon tm-placeholder__icon_large loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_icon-text"})])})),0)])})),0):t._e(),t._v(" "),"gallery"===t.type?[e("div",{staticClass:"tm-placeholder tm-placeholder_gallery"},[e("div",{staticClass:"tm-placeholder__gallery-thumbs"},t._l(4,(function(t){return e("div",{key:`placeholder-gallery-thumb-${t}`,staticClass:"tm-placeholder__gallery-thumb loads"})})),0),t._v(" "),e("div",{staticClass:"tm-placeholder__gallery-body loads"})])]:t._e(),t._v(" "),"banner"===t.type?[e("div",{staticClass:"tm-placeholder tm-placeholder_banner loads"})]:t._e(),t._v(" "),"table"===t.type?e("div",{staticClass:"tm-placeholder-table"},t._l(t.times,(function(s){return e("div",{key:s,staticClass:"tm-placeholder-table__row"},t._l(t.extra,(function(t,s){return e("div",{key:s,staticClass:"tm-placeholder__line loads",style:t?{flexBasis:`${t}px`}:{flexShrink:"1"}})})),0)})),0):t._e(),t._v(" "),"line"===t.type?e("div",{staticClass:"tm-placeholder__line loads",style:`width:${t.generateRandomWidth(80,100)}%;`}):t._e(),t._v(" "),"lines"===t.type?e("div",{staticClass:"tm-placeholder__lines"},t._l(t.times,(function(s){return e("div",{key:s,staticClass:"tm-placeholder__line loads",style:`width:${t.generateRandomWidth(80,120)}px;`})})),0):t._e()],2)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__user"},[e("div",{staticClass:"tm-placeholder__user-pic loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__user-date loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__static-page-section-name"},[e("div",{staticClass:"tm-placeholder__static-page-headling loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__user"},[e("div",{staticClass:"tm-placeholder__user-pic loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__user-date loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__user-score loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__user-profile-data"},[e("div",{staticClass:"tm-placeholder__category-avatar tm-placeholder__userinfo-avatar"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__user-profile-data"},[e("div",{staticClass:"tm-placeholder__category-avatar"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-salary__body"},[e("div",{staticClass:"tm-placeholder-salary__text"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_salary_average"}),t._v(" "),e("div",{staticClass:"tm-placeholder-salary__description"},[e("div",{staticClass:"tm-placeholder__line loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line loads"})])]),t._v(" "),e("div",{staticClass:"tm-placeholder-salary__image loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer tm-placeholder-inset__footer_salary"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-list__title-container"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_item-title loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-list__title-container"},[e("div",{staticClass:"tm-placeholder__company-avatar"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_item-title loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-list__title-container"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_item-title loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-header loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-list__title-container"},[e("div",{staticClass:"tm-placeholder__company-avatar"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_item-title loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-inset__footer"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-promo__header"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_promo-title"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-promo__body"},[e("div",{staticClass:"tm-placeholder-promo__posts"},[e("div",{staticClass:"tm-placeholder-promo__post"},[e("div",{staticClass:"tm-placeholder-promo__image"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_post-title"})]),t._v(" "),e("div",{staticClass:"tm-placeholder-promo__post"},[e("div",{staticClass:"tm-placeholder-promo__image"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_post-title"})]),t._v(" "),e("div",{staticClass:"tm-placeholder-promo__post"},[e("div",{staticClass:"tm-placeholder-promo__image"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder__line_post-title"})])]),t._v(" "),e("div",{staticClass:"tm-placeholder-promo__dots"},[e("div",{staticClass:"tm-placeholder-promo__dot"}),t._v(" "),e("div",{staticClass:"tm-placeholder-promo__dot"}),t._v(" "),e("div",{staticClass:"tm-placeholder-promo__dot"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder__user"},[e("div",{staticClass:"tm-placeholder__user-pic loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__user-date loads"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-placeholder-article-card__title"},[e("div",{staticClass:"tm-placeholder__line tm-placeholder-article-card__title-line loads"}),t._v(" "),e("div",{staticClass:"tm-placeholder__line tm-placeholder-article-card__title-line loads"})])}],a=s(65873),o=s(21509);const r={article:!0,articleBody:!0,articleCards:!0,hubs:!0,categories:!0,preset:!0,conversations:!0,messages:!0,static:!0,static_section_name:!0,static_dropdown:!0,static_tabs:!0,static_article:!0,comment:!0,form:!0,profileInfo:!0,userProfileCard:!0,hubProfileCard:!0,inset_salary:!0,inset_tasks:!0,inset_questions:!0,inset_courses:!0,inset_vacancies:!0,inset_company_courses:!0,promo_block:!0,gallery:!0,banner:!0,table:!0,line:!0,lines:!0},l={name:"TMPlaceholder",props:{type:{type:String,validator(t){return t in r},default:null},times:{type:Number,default:1},modificator:{type:String,default:""},extra:{type:null,default:null}},methods:{generateRandomWidth:o.r,bem:a.P}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},48348:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:()=>t.$emit("close")},expression:"{ esc: () => $emit('close') }"}],ref:"wrapper",staticClass:"tm-popover",class:t.bem("tm-popover",{variant:t.variant})},[t._t("default")],2)},i=[],a=s(95551),o=s(65873);const r={name:"TMPopover",props:{placement:{type:String,default:"bottom-start"},offset:{type:Array,default:()=>[0,8]},root:{type:"undefined"===typeof window?null:HTMLElement,required:!0},variant:{type:String,default:null}},data(){return{popper:null}},mounted(){document.addEventListener("click",this.handleOuterClick),this.popper=(0,a.fi)(this.root,this.$refs.wrapper,{placement:this.placement,modifiers:[{name:"offset",options:{offset:this.offset}}]})},beforeDestroy(){if(document.removeEventListener("click",this.handleOuterClick),!this.popper)return;const t=this.$refs.wrapper;getComputedStyle(t).transition?(t.addEventListener("transitionend",(()=>{this.popper.destroy()})),t.addEventListener("transitioncancel",(()=>{this.popper.destroy()}))):this.popper.destroy()},methods:{bem:o.P,handleOuterClick(t){this.root.contains(t.target)||this.$refs.wrapper.contains(t.target)||this.$emit("close")}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},19189:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>d});var n=function(){var t=this,e=t._self._c;return e("TMOverlay",{on:{close:t.close}},[e("div",{staticClass:"tm-popup-base__wrapper",class:t.bem("tm-popup-base__wrapper",{centered:t.centered})},[e("button",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.close},expression:"{ esc: close }"}],staticClass:"tm-popup-base__close",on:{click:t.close}},[e("TMSvgImg",{staticClass:"tm-popup-base__close-icon",attrs:{id:"close"}})],1),t._v(" "),e("div",{staticClass:"tm-popup-base__body"},[t._t("default")],2)])])},i=[],a=s(41659),o=s(31490),r=s(65873);const l={name:"TMPopupBase",components:{TMOverlay:a.Z,TMSvgImg:o.Z},props:{centered:{type:Boolean,default:!1}},methods:{bem:r.P,close(){this.$emit("close")}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},6109:(t,e,s)=>{"use strict";s.d(e,{Z:()=>f});var n=function(){var t=this,e=t._self._c;return!t.isTablet&&t.isMobile?e("TMScrollLockTransition",{attrs:{appear:"",name:"slide-fade"}},[e("TMBottomSheet",{attrs:{title:t.title},on:{close:t.close},scopedSlots:t._u([{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)},[t._t("default")],2)],1):e("TMScrollLockTransition",{attrs:{appear:"",name:"transition-fade"}},[e("TMModalWindow",{attrs:{title:t.title},on:{close:t.close},scopedSlots:t._u([{key:"body",fn:function(){return[t._t("body")]},proxy:!0}],null,!0)},[t._t("default")],2)],1)},i=[],a=s(20629),o=s(52795),r=function(){var t=this,e=t._self._c;return e("TMOverlay",{on:{close:function(e){return t.$emit("close")}}},[e("div",{staticClass:"tm-modal-window"},[e("div",{staticClass:"tm-modal-window__header"},[e("button",{staticClass:"tm-modal-window__close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("TMSvgImg",{attrs:{id:"close",size:"12"}})],1),t._v(" "),t.title?e("div",{staticClass:"tm-modal-window__title",domProps:{textContent:t._s(t.title)}}):t._e()]),t._v(" "),t.$slots.default?e("div",{staticClass:"tm-modal-window__content"},[t._t("default")],2):t._e(),t._v(" "),t._t("body")],2)])},l=[],c=s(41659),m=s(31490);const u={name:"TMModalWindow",components:{TMSvgImg:m.Z,TMOverlay:c.Z},props:{title:{type:String,default:null}}},d=u;var p=s(1001),_=(0,p.Z)(d,r,l,!1,null,null,null);const h=_.exports;var g=s(10529);const T={name:"TMPopup",components:{TMModalWindow:h,TMBottomSheet:o.Z,TMScrollLockTransition:g.Z},props:{title:{type:String,default:null},trackInHistory:Boolean,hash:{type:String,default:null}},computed:{...(0,a.Se)("global",["isMobile","isTablet"])},mounted(){this.trackInHistory&&this.trackInBrowserHistory({hash:this.hash,close:this.close,closeEvent:{on:this.$on.bind(this,"close"),off:this.$off.bind(this,"close")}})},methods:{...(0,a.nv)({trackInBrowserHistory:"modal/trackInHistory"}),close(){this.$emit("close")}}},v=T;var S=(0,p.Z)(v,n,i,!1,null,null,null);const f=S.exports},72726:(t,e,s)=>{"use strict";s.d(e,{Z:()=>B});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-post-snippet"},[t._t("top"),t._v(" "),e("div",{staticClass:"tm-post-snippet__meta"},[e("TMPostAuthorInfo",{attrs:{"date-as-link":t.dateAsLink,post:t.post}}),t._v(" "),t.showModeratorCheck||t.showControls?e("div",{staticClass:"tm-post-snippet__controls"},[t.showModeratorCheck&&t.post.checked?e("TMSvgImg",{staticClass:"tm-post-snippet__moderation",attrs:{id:"moderator-check"}}):t._e(),t._v(" "),t.showControls?[e("router-link",{staticClass:"tm-post-snippet__edit",attrs:{to:{name:"PUBLICATION_POST_EDIT",params:{publicationId:t.post.id}}}},[e("TMSvgImg",{staticClass:"icon_edit-post",attrs:{id:"edit",size:"20"}})],1)]:t._e(),t._v(" "),t.canDeleteDraft?e("button",{staticClass:"tm-post-snippet__delete",attrs:{title:t.msg("ARTICLE_DRAFT_DELETE")},on:{click:t.deletePost}},[e("TMSvgImg",{staticClass:"icon_edit-post",attrs:{id:"trash",size:"20",title:t.msg("ARTICLE_DRAFT_DELETE")}})],1):t._e()],2):t._e()],1),t._v(" "),t.showHubs?e("TMPublicationHubs",{staticClass:"tm-post-snippet__hubs",attrs:{hubs:t.post.hubs,"publication-type":"post"}}):t._e(),t._v(" "),t.postLabels.length?e("TMArticleLabels",{attrs:{article:t.post}}):t._e(),t._v(" "),e("div",{ref:"contentWrapper",class:t.bem("tm-post-snippet__content-wrapper",{compact:t.compactView,hide_gradient:t.hideGradient})},[t.compactView?e("TMPublicationLink",{staticClass:"tm-post-snippet__link",attrs:{article:t.post}}):t._e(),t._v(" "),e("div",{ref:"content",staticClass:"tm-post-snippet__content"},[e("TMArticleFormattedBody",{attrs:{"article-text":t.post.textHtml,version:2}}),t._v(" "),t.showIcons&&!t.compactView?e("TMIntersect",{attrs:{threshold:[.5]},on:{enter:t.logView}},[e("div")]):t._e()],1)],1),t._v(" "),t.showTags?e("TMTagsList",{staticClass:"tm-post-snippet__meta-list",attrs:{"has-show-all":"",tags:t.post.tags,title:t.msg("ARTICLE_TAGS_TITLE")}}):t._e(),t._v(" "),e("TMDataIcons",{staticClass:"tm-post-snippet__icons",attrs:{article:t.post,"icons-list":["rating","favorite","share","comments"]},scopedSlots:t._u([{key:"articleMenu",fn:function(){return[e("TMArticleExtraMenu",{attrs:{"current-author":t.post.author,"is-post":"","publication-id":t.post.id}})]},proxy:!0}])}),t._v(" "),t.showLoading?e("TMFullScreenLoading"):t._e(),t._v(" "),t.galleryImages.length?e("TMGallery",{attrs:{"images-list":t.galleryImages}}):t._e()],2)},i=[],a=s(20629),o=s(96017),r=s(83146),l=s(35099),c=s(63726),m=s(30404),u=s(84707),d=s(46750),p=function(){var t=this,e=t._self._c;return e("TMUserInfo",{staticClass:"tm-post-author-info",attrs:{author:t.post.author,avatar:t.post.author.avatarUrl,"avatar-size":36,"login-appearance":"post","resize-image":!1},nativeOn:{click:function(e){return t.$emit("logAuthorClick")}}},[e("div",{staticClass:"tm-post-author-info__meta-row"},[e("TMArticleDatetimePublished",{attrs:{article:t.post,"is-megapost-v1":!1,link:t.dateAsLink}}),t._v(" "),e("TMIconCounter",{attrs:{abbreviated:"",counter:t.post.statistics.readingCount,"icon-id":"counter-views",title:t.msg("DATA_ICONS_VIEWS")}})],1)])},_=[],h=s(4054),g=s(3501),T=s(87843);const v={name:"TMPostAuthorInfo",components:{TMUserInfo:T.Z,TMIconCounter:g.Z,TMArticleDatetimePublished:h.Z},props:{post:{type:Object,required:!0},dateAsLink:{type:Boolean,default:!1}}},S=v;var f=s(1001),E=(0,f.Z)(S,p,_,!1,null,null,null);const I=E.exports;var C=s(19695),A=s(4307),b=s(31490),y=s(11648),P=s(65873),L=s(68668),O=s(2384),N=s(2687);const M=()=>s.e(5121).then(s.bind(s,15716)),R={name:"PostSnippet",components:{TMArticleLabels:c.Z,TMPublicationHubs:C.Z,TMArticleExtraMenu:r.Z,TMArticleFormattedBody:l.Z,TMSvgImg:b.Z,TMDataIcons:m.Z,TMIntersect:d.Z,TMFullScreenLoading:u.Z,TMPostAuthorInfo:I,TMGallery:M,TMTagsList:y.Z,TMPublicationLink:A.Z},props:{post:{type:Object,required:!0},showIcons:{type:Boolean,required:!0},compactView:{type:Boolean,required:!0},dateAsLink:{type:Boolean,default:!1}},data(){return{isLoading:!1,isMounted:!1,galleryImages:[],contentHeight:0,contentWrapperHeight:0,resizeObserver:null}},computed:{...(0,a.Se)("articlesList",["isViewedPost"]),...(0,a.Se)("me",["isSuperAdmin","userAlias"]),...(0,a.Se)("global",["isMobileOnly"]),showHubs(){return!this.compactView},showTags(){var t;return!this.compactView&&(null===(t=this.post.tags)||void 0===t?void 0:t.length)},hideGradient(){return this.contentHeight<=this.contentWrapperHeight},showModeratorCheck(){return this.isSuperAdmin},canDeleteDraft(){return"draft"===this.post.status&&!this.post.timePublished&&!this.post.plannedPublishTime},postLabels(){return this.post.labels||[]},showControls(){return!!this.post.relatedData&&this.post.relatedData.canEdit},showLoading(){return this.isLoading},hubAlias(){return this.post.hubs[0].alias}},mounted(){this.galleryImages=(0,L.N)(this.$el),this.setContentHeight(),this.startResizeObserver()},beforeDestroy(){this.resizeObserver&&this.resizeObserver.disconnect()},methods:{...(0,a.OI)("articlesList",["setPostView"]),bem:P.P,startResizeObserver(){if(!this.$refs.content)return;if(!this.compactView)return;const t=new ResizeObserver((()=>{this.setContentHeight()}));t.observe(this.$refs.content),this.resizeObserver=t},setContentHeight(){this.contentHeight=this.$refs.content.getBoundingClientRect().height,this.contentWrapperHeight=this.$refs.contentWrapper.getBoundingClientRect().height},editPost(){this.showControls&&this.$router.push({name:"PUBLICATION_POST_EDIT",params:{publicationId:this.post.id}})},deletePost(){this.$route.name.includes("_LIST_")?this.$emit("delete"):window.confirm(this.msg("ARTICLE_DRAFT_DELETE_CONFIRM"))&&(0,O.mZ)(this.post.id,"threads").then((()=>{this.$router.push({name:"POSTS_LIST_BY_USER",params:{login:this.userAlias,hl:this.langOptions.hl}}),this.$toast.info(this.msg("POST_DELETED"))})).catch((t=>{this.$toast.error(t.message)}))},logView(){this.isViewedPost(this.post.id)||(0,N.d1)(this.post.id).then((()=>{this.setPostView(this.post.id)})).catch((t=>{o.Z.notifyException(t)}))}}},k=R;var w=(0,f.Z)(k,n,i,!1,null,null,null);const B=w.exports},44677:(t,e,s)=>{"use strict";s.d(e,{Z:()=>_});var n=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"tm-project-block-items"},t._l(t.preparedItems,(function(s,n){return e("li",{key:n,staticClass:"tm-project-block-items__item"},[e("a",{staticClass:"tm-project-block-items__detail tm-project-block-items__title",attrs:{href:t.getItemUrl(s),rel:"noopener",target:"_blank"},on:{click:function(e){return t.$emit("click",e)}}},[t.imageVisible&&s.imageUrl?e("img",{staticClass:"tm-project-block-items__image",attrs:{alt:"",src:s.imageUrl}}):t._e(),t._v(t._s(s.title)+"\n    ")]),t._v(" "),e("div",{staticClass:"tm-project-block-items__properties"},t._l(s.properties,(function(s){return e("span",{key:s,staticClass:"tm-project-block-items__property-item"},[t._v(t._s(s))])})),0)])})),0)},i=[],a=s(20629),o=s(72923),r=s.n(o);const l=t=>t.every((t=>{const e=r().map(t,{itemUrl:r().nonEmptyString,properties:r().array,title:r().nonEmptyString});return e})),c={type:Array,required:!0,validator:l},m={name:"TMProjectBlockItems",props:{items:c,imageVisible:{type:Boolean,default:!1},searchParams:{type:Object,default:null}},computed:{...(0,a.Se)("articlesList",["compactView"]),preparedItems(){return this.compactView?this.items.slice(0,3):this.items}},methods:{getItemUrl(t){const e=new URL(t.itemUrl);return Object.keys(this.searchParams).forEach((t=>e.searchParams.append(t,this.searchParams[t]))),e.href}}},u=m;var d=s(1001),p=(0,d.Z)(u,n,i,!1,null,null,null);const _=p.exports},44173:(t,e,s)=>{"use strict";s.d(e,{Z:()=>T});var n=function(){var t=this,e=t._self._c;return!t.isLoading&&t.items&&0!==t.items.length?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("COURSES_ALL"),title:t.msg("COMPANY_COURSES_TITLE",{company:t.companyTitle?t.companyTitle:"none"}),"title-link":t.titleLink,variant:"company-courses"},on:{click:function(e){return t.logGa("courses")}}},[e("TMProjectBlockItems",{attrs:{"image-visible":"",items:t.items,"search-params":t.itemParams},on:{click:function(e){return t.logGa("post")}}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_company_courses"}}):t._e()},i=[],a=s(20629),o=s(40591),r=s(79781),l=s(44677),c=s(30434),m=s(89029),u=s(8065),d=s(97660);const p={name:"TMProjectBlockCompanyCourses",components:{TMProjectBlockItems:l.Z,TMProjectBlock:r.Z,TMPlaceholder:o.Z},props:{location:{type:String,required:!0},companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},schoolAlias:{type:String,default:null},hubs:{type:Array,default:()=>[]},tags:{type:Array,default:()=>[]}},data(){return{isLoading:!0,items:null}},computed:{...(0,a.Se)("i18n",["langOptions"]),isCompanyCourses(){return this.schoolAlias&&this.companyAlias},utm(){let t="courses_postlist";return this.isCompanyCourses&&(t="courses_postlist_company"),{medium:"habr_block",source:"habr_mob",campaign:t}},itemParams(){return c.Z.toUtm({...this.utm,content:"course"})},gaAction(){let t=`career_${this.location}`;return this.isCompanyCourses&&(t+="_company"),t},baseLink(){return(0,m.B)(this.schoolAlias)},titleLink(){const t=c.Z.toUtm({...this.utm,content:"courses"}),e=new URL(this.baseLink);return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=c.Z.toUtm({...this.utm,content:"courses_all"}),e=new URL(this.baseLink);return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){const{companyAlias:t,tags:e,hubs:s,langOptions:{hl:n}}=this;(0,d.Sr)({companyAlias:t,tags:e,hubs:s,hl:n}).then((({items:t})=>{this.items=t.map((t=>({...t,properties:t.properties.slice(0,-2)}))),this.isLoading=!1,this.items.length||this.$emit("loadedEmpty")})).catch((()=>{this.isLoading=!1,this.$emit("loadFailed")}))},methods:{logGa(t){(0,u.IZ)(`tm_block_${this.gaAction}_${t}`)}}},_=p;var h=s(1001),g=(0,h.Z)(_,n,i,!1,null,null,null);const T=g.exports},79781:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-project-block",class:t.bem("tm-project-block",{variant:t.variant})},[e("div",{staticClass:"tm-project-block__header"},[e("div",{staticClass:"tm-project-block__title"},[e("a",{staticClass:"tm-project-block__title-link",attrs:{href:t.titleLink,rel:"noopener",target:"_blank"},domProps:{textContent:t._s(t.title)},on:{click:function(e){return t.$emit("click",e)}}})])]),t._v(" "),e("div",{staticClass:"tm-project-block__content"},[t._t("default")],2),t._v(" "),e("div",{staticClass:"tm-project-block__footer"},[e("a",{staticClass:"tm-project-block__link",attrs:{href:t.footerLink,rel:"noopener",target:"_blank"},domProps:{textContent:t._s(t.footerTitle)},on:{click:function(e){return t.$emit("click",e)}}})])])},i=[],a=s(65873);const o={name:"TMProjectBlock",props:{title:{type:String,required:!0},titleLink:{type:String,required:!0},footerTitle:{type:String,required:!0},footerLink:{type:String,required:!0},variant:{type:String,default:null}},methods:{bem:a.P}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},99372:(t,e,s)=>{"use strict";s.d(e,{Z:()=>rt});var n=function(){var t=this,e=t._self._c;return t.currentBlockName?e(t.currentBlock,{tag:"component",attrs:{"career-alias":t.careerAlias,"company-alias":t.companyAlias,"company-title":t.companyTitle,hubs:t.hubs,location:t.location,"school-alias":t.schoolAlias,tags:t.tags},on:{loadFailed:t.resetBlock,loadedEmpty:t.resetBlock}}):t._e()},i=[],a=s(20629),o=s(44173),r=function(){var t=this,e=t._self._c;return!t.isLoading&&t.items&&0!==t.items.length?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("COURSES_ALL"),title:t.msg("COURSES_TITLE"),"title-link":t.titleLink,variant:"courses"},on:{click:function(e){return t.logGa("courses")}}},[e("TMProjectBlockItems",{attrs:{"image-visible":"",items:t.items,"search-params":t.$options.itemParams},on:{click:function(e){return t.logGa("post")}}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_courses"}}):t._e()},l=[],c=s(40591),m=s(79781),u=s(44677),d=s(30434),p=s(8065),_=s(97660);const h={medium:"habr_block",source:"habr_mob",campaign:"courses_postlist"},g={name:"TMProjectBlockCourses",components:{TMProjectBlockItems:u.Z,TMProjectBlock:m.Z,TMPlaceholder:c.Z},itemParams:d.Z.toUtm({...h,content:"course"}),props:{location:{type:String,required:!0},hubs:{type:Array,default:null},tags:{type:Array,default:null}},data(){return{isLoading:!0,items:null}},computed:{gaAction(){return`career_courses_${this.location}`},titleLink(){const t=d.Z.toUtm({...h,content:"courses"}),e=new URL("https://career.habr.com/courses");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=d.Z.toUtm({...h,content:"courses_all"}),e=new URL("https://career.habr.com/courses");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){const{tags:t,hubs:e,langOptions:{hl:s}}=this;(0,_.Sr)({tags:t,hubs:e,hl:s}).then((({items:t})=>{this.items=t.map((t=>({...t,properties:[t.properties[0],t.properties[3]]}))),this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(t){(0,p.IZ)(`tm_block_${this.gaAction}_${t}`)}}},T=g;var v=s(1001),S=(0,v.Z)(T,r,l,!1,null,null,null);const f=S.exports;var E=function(){var t=this,e=t._self._c;return!t.isLoading&&t.items&&0!==t.items.length?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("QUESTIONS_ALL"),title:t.msg("QUESTIONS_TITLE"),"title-link":t.titleLink,variant:"questions"},on:{click:function(e){return t.logGa("questions")}}},[e("TMProjectBlockItems",{attrs:{items:t.items,"search-params":t.$options.itemParams},on:{click:function(e){return t.logGa("post")}}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_questions"}}):t._e()},I=[];const C={medium:"habr_block",source:"habr_mob",campaign:"questions_postlist"},A={name:"TMProjectBlockQuestions",components:{TMProjectBlockItems:u.Z,TMProjectBlock:m.Z,TMPlaceholder:c.Z},itemParams:d.Z.toUtm({...C,content:"question"}),props:{location:{type:String,required:!0},tags:{type:Array,required:!0}},data(){return{isLoading:!0,items:null}},computed:{gaAction(){return`qna_${this.location}`},titleLink(){const t=d.Z.toUtm({...C,content:"questions"}),e=new URL("https://qna.habr.com/questions");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=d.Z.toUtm({...C,content:"questions_all"}),e=new URL("https://qna.habr.com/questions");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){const{tags:t,langOptions:{hl:e}}=this;(0,_.NN)({tags:t,hl:e}).then((({items:t})=>{this.items=t,this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(t){(0,p.IZ)(`tm_block_${this.gaAction}_${t}`)}}},b=A;var y=(0,v.Z)(b,E,I,!1,null,null,null);const P=y.exports;var L=function(){var t=this,e=t._self._c;return e("div",[!t.isLoading&&t.salaryData?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("SALARY_ALL"),title:t.msg("SALARY_TITLE"),"title-link":t.titleLink,variant:"salary"},on:{click:t.logGa}},[e("TMSalaryDistribution",{attrs:{"salary-data":t.salaryData}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_salary"}}):t._e()],1)},O=[],N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-salary-distribution"},[e("div",{staticClass:"tm-salary-distribution__description"},[e("div",{staticClass:"tm-salary-distribution__amount",domProps:{innerHTML:t._s(t.msg("SALARY_DISTRIBUTION_CURRENCY",{amount:t.salaryAverageFormatted}))}}),t._v(" "),e("p",{staticClass:"tm-salary-distribution__description-text",domProps:{innerHTML:t._s(t.msg("SALARY_DISTRIBUTION_DESCRIPTION",{profilesAmount:t.salaryData.profilesAmount,halfYear:t.salaryData.halfYear,year:t.salaryData.year}))}})]),t._v(" "),e("div",{ref:"salaryChart",staticClass:"tm-salary-distribution__salary-chart"},[t.isTooltipShown?e("TMTooltip",{attrs:{content:t.tooltipContent,"flip-options":t.tooltipFlipOptions,placement:"top-start",root:t.tooltipRoot}}):t._e(),t._v(" "),e("svg",{staticClass:"salary-chart",attrs:{height:t.chartHeight,width:t.chartWidth,xmlns:"http://www.w3.org/2000/svg"}},[e("g",{staticClass:"salary-chart__bars"},t._l(t.stats,(function(s,n){return e("rect",{key:`bar-${n}-${s.percent}`,ref:"statBar",refInFor:!0,staticClass:"salary-chart__bar",attrs:{height:t.getBarHeight(s.percent),width:t.barWidth-t.barsGap,x:t.barWidth*n+t.xPadding+t.barsGap,y:t.chartHeight-t.getBarHeight(s.percent)},on:{mouseout:t.hideTooltip,mouseover:e=>t.showTooltip(e,s)}})})),0),t._v(" "),e("g",{staticClass:"salary-chart__grid",attrs:{id:"xGrid"}},[e("line",{attrs:{x1:"15",x2:t.chartWidth-t.xPadding,y1:t.chartHeight,y2:t.chartHeight}}),t._v(" "),e("line",{attrs:{x1:"15",x2:"15",y1:t.chartHeight,y2:t.chartHeight+7}}),t._v(" "),e("line",{attrs:{x1:t.chartWidth-t.xPadding,x2:t.chartWidth-t.xPadding,y1:t.chartHeight,y2:t.chartHeight+7}})]),t._v(" "),e("g",{staticClass:"salary-chart__x-labels"},t._l(t.xLabels,(function(s,n){return e("text",{key:`step${s}`,attrs:{x:t.xLabelsStep*n+t.xPadding,y:t.chartHeight+20}},[t._v("\n          "+t._s(s)+"k\n        ")])})),0)])],1)])},M=[],R=s(93096),k=s.n(R),w=function(){var t=this,e=t._self._c;return e("div",{ref:"tooltip",staticClass:"tm-tooltip",domProps:{innerHTML:t._s(t.content)}})},B=[],D=s(95551);const x={name:"TMTooltip",props:{placement:{type:String,default:"bottom-start"},offset:{type:Array,default:()=>[0,8]},root:{type:null,required:!0},content:{type:String,default:""},flipOptions:{type:Object,default:null}},data(){return{tooltip:null}},mounted(){this.tooltip=(0,D.fi)(this.root,this.$refs.tooltip,{placement:this.placement,modifiers:[{name:"offset",options:{offset:this.offset}},{name:"flip",options:this.flipOptions}]}),this.tooltip.update()},beforeDestroy(){this.tooltip&&this.tooltip.destroy()}},$=x;var U=(0,v.Z)($,w,B,!1,null,null,null);const F=U.exports,V={name:"TMSalaryDistribution",components:{TMTooltip:F},props:{salaryData:{type:Object,required:!0}},data(){return{tooltipRoot:null,tooltipContent:"",isTooltipShown:!1,chartHeight:160,chartWidth:420,xPadding:15,barsGap:4}},computed:{...(0,a.Se)("global",["isMobile"]),stats(){const t=this.salaryData.labels.map((t=>t.split("-").map((t=>`${parseInt(t/1e3,10)}k`)).join(" - ")));return this.salaryData.data.map(((e,s)=>({percent:e,count:t[s]})))},chartPaddings(){return 2*(this.xPadding+this.barsGap)},barWidth(){return(this.chartWidth-this.chartPaddings)/this.stats.length},xLabelsStepsCount(){return this.isMobile?this.stats.length/2:this.stats.length},xLabels(){const t=[],e=this.getRoundedValue(this.salaryData.min),s=this.getRoundedValue(this.salaryData.max)+5,n=Math.ceil((s-e)/this.xLabelsStepsCount);for(let i=e;i<=s;i+=n)t.push(i);return t},xLabelsStep(){return(this.chartWidth-this.chartPaddings)/this.xLabelsStepsCount},salaryAverageFormatted(){return this.salaryData.average.toLocaleString("ru-RU")},tooltipFlipOptions(){return{boundary:this.$refs.salaryChart,fallbackPlacements:["top-start","top-end"]}}},mounted(){window.addEventListener("resize",this.onResizeThrottled,!1),this.onResizeThrottled()},beforeDestroy(){window.removeEventListener("resize",this.onResizeThrottled)},methods:{getRoundedValue(t){return parseInt(parseInt(t,10)/1e3,10)},getBarHeight(t){const e=Math.abs(this.stats[0].percent),s=Math.abs(this.stats[this.stats.length-1].percent);return this.chartHeight*Math.abs(t)/(e+s)},showTooltip(t,e){this.tooltipRoot=t.target,this.tooltipContent=this.msg("SALARY_DISTRIBUTION_PERCENT",{count:e.count,percent:e.percent}),this.isTooltipShown=!0},hideTooltip(){this.isTooltipShown=!1},updateChartWidth(){const t=this.$refs.salaryChart,e=t.getBoundingClientRect().width;this.chartWidth=e},onResizeThrottled:k()((function(){this.updateChartWidth()}),100)}},H=V;var G=(0,v.Z)(H,N,M,!1,null,null,null);const W=G.exports,Z={medium:"habr_block",source:"habr_mob",campaign:"salary_postlist"},Y={name:"TMProjectBlockSalary",components:{TMPlaceholder:c.Z,TMSalaryDistribution:W,TMProjectBlock:m.Z},inheritAttrs:!1,props:{location:{type:String,required:!0}},data(){return{isLoading:!0,salaryData:null}},computed:{baseUrl(){return this.salaryData.sourceUrl},titleLink(){const t=d.Z.toUtm({...Z,content:"salary"}),e=new URL(this.baseUrl);return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=d.Z.toUtm({...Z,content:"salary_all"}),e=new URL(this.baseUrl);return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){(0,_.l9)().then((t=>{this.isLoading=!1,this.salaryData=t,t||this.$emit("loadedEmpty")})).catch((()=>{this.isLoading=!1,this.$emit("loadFailed")}))},methods:{logGa(){(0,p.IZ)(`tm_block_career_${this.location}_salary`)}}},q=Y;var j=(0,v.Z)(q,L,O,!1,null,null,null);const K=j.exports;var z=function(){var t=this,e=t._self._c;return!t.isLoading&&t.items&&0!==t.items.length?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("TASKS_ALL"),title:t.msg("TASKS_TITLE"),"title-link":t.titleLink,variant:"tasks"},on:{click:function(e){return t.logGa("tasks")}}},[e("TMProjectBlockItems",{attrs:{items:t.items,"search-params":t.$options.itemParams},on:{click:function(e){return t.logGa("post")}}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_tasks"}}):t._e()},Q=[];const X={medium:"habr_block",source:"habr_mob",campaign:"tasks_postlist"},J={name:"TMProjectBlockTasks",components:{TMProjectBlockItems:u.Z,TMProjectBlock:m.Z,TMPlaceholder:c.Z},itemParams:d.Z.toUtm({...X,content:"task"}),props:{location:{type:String,required:!0},hubs:{type:Array,default:null},tags:{type:Array,default:null}},data(){return{isLoading:!0,items:null}},computed:{gaAction(){return`freelance_${this.location}`},titleLink(){const t=d.Z.toUtm({...X,content:"tasks"}),e=new URL("https://freelance.habr.com/tasks");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=d.Z.toUtm({...X,content:"tasks_all"}),e=new URL("https://freelance.habr.com/tasks");return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){const{tags:t,hubs:e,langOptions:{hl:s}}=this;(0,_.ge)({tags:t,hubs:e,hl:s}).then((({items:t})=>{this.items=t,this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(t){(0,p.IZ)(`tm_block_${this.gaAction}_${t}`)}}},tt=J;var et=(0,v.Z)(tt,z,Q,!1,null,null,null);const st=et.exports;var nt=s(81432);const it={name:"TMRandomProjectBlock",props:{blocks:{type:Object,default:()=>({courses:f,questions:P,salary:K,tasks:st,vacancies:nt.Z,companyCourses:o.Z})},location:{type:String,required:!0},hubs:{type:Array,default:null},tags:{type:Array,default:null},blockId:{type:String,required:!0},companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},careerAlias:{type:String,default:null},schoolAlias:{type:String,default:null}},data(){return{currentBlockName:null,failedBlocks:[]}},computed:{...(0,a.Se)("projectsBlocks",["getRandomBlockName","getRegisteredBlockById"]),currentBlock(){return this.blocks[this.currentBlockName]}},created(){this.schoolAlias||delete this.blocks.companyCourses,this.currentBlockName=this.getRegisteredBlockById(this.blockId),this.currentBlockName||(this.currentBlockName=this.getRandomBlockName(Object.keys(this.blocks)),this.currentBlockName&&this.registerBlock({name:this.currentBlockName,id:this.blockId}))},beforeDestroy(){this.unregisterBlock(this.currentBlockName),this.failedBlocks.forEach((t=>this.unregisterBlock(t)))},deactivated(){this.failedBlocks.forEach((t=>this.unregisterBlock(t)))},methods:{...(0,a.OI)("projectsBlocks",["registerBlock","unregisterBlock"]),resetBlock(){this.failedBlocks.push(this.currentBlockName),this.currentBlockName=this.getRandomBlockName(Object.keys(this.blocks)),this.currentBlockName&&this.registerBlock({name:this.currentBlockName,id:this.blockId})}}},at=it;var ot=(0,v.Z)(at,n,i,!1,null,null,null);const rt=ot.exports},81432:(t,e,s)=>{"use strict";s.d(e,{Z:()=>g});var n=function(){var t=this,e=t._self._c;return!t.isLoading&&t.items&&0!==t.items.length?e("TMProjectBlock",{attrs:{"footer-link":t.footerLink,"footer-title":t.msg("VACANCIES_ALL"),title:t.msg("VACANCIES_TITLE",{company:t.companyTitle?t.companyTitle:"none"}),"title-link":t.titleLink,variant:"vacancies"},on:{click:function(e){return t.logGa("vacancies")}}},[e("TMProjectBlockItems",{attrs:{items:t.items,"search-params":t.itemParams},on:{click:function(e){return t.logGa("post")}}})],1):t.isLoading?e("TMPlaceholder",{attrs:{type:"inset_vacancies"}}):t._e()},i=[],a=s(40591),o=s(79781),r=s(44677),l=s(30434),c=s(89029),m=s(8065),u=s(97660);const d={name:"TMProjectBlockVacancies",components:{TMProjectBlockItems:r.Z,TMProjectBlock:o.Z,TMPlaceholder:a.Z},props:{location:{type:String,required:!0},companyTitle:{type:String,default:null},companyAlias:{type:String,default:null},careerAlias:{type:String,default:null},hubs:{type:Array,default:()=>[]},tags:{type:Array,default:()=>[]}},data(){return{isLoading:!0,items:null}},computed:{isCompanyVacancies(){return this.careerAlias&&this.companyAlias},utm(){let t="vacancies_postlist";return this.isCompanyVacancies&&(t="vacancies_postlist_company"),{medium:"habr_block",source:"habr_mob",campaign:t}},itemParams(){return l.Z.toUtm({...this.utm,content:"vacancy"})},gaAction(){let t=`career_${this.location}`;return this.isCompanyVacancies&&(t+="_company"),t},baseLink(){return(0,c.M)(this.careerAlias)},titleLink(){const t=l.Z.toUtm({...this.utm,content:"vacancies"}),e=new URL(this.baseLink);return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href},footerLink(){const t=l.Z.toUtm({...this.utm,content:"vacancies_all"}),e=new URL(this.baseLink);return Object.keys(t).forEach((s=>e.searchParams.append(s,t[s]))),e.href}},mounted(){const{companyAlias:t,tags:e,hubs:s,langOptions:{hl:n}}=this;(0,u.uC)({companyAlias:t,tags:e,hubs:s,hl:n}).then((({items:t})=>{this.items=t,this.isLoading=!1,0===this.items.length&&this.$emit("loadedEmpty")})).catch((()=>{this.$emit("loadFailed"),this.isLoading=!1}))},methods:{logGa(t){(0,m.IZ)(`tm_block_${this.gaAction}_${t}`)}}},p=d;var _=s(1001),h=(0,_.Z)(p,n,i,!1,null,null,null);const g=h.exports},80312:(t,e,s)=>{"use strict";s.d(e,{Z:()=>S});var n=function(){var t=this,e=t._self._c;return e("div",[!t.isLoading&&t.promoBlockPosts?e("TMBlock",{attrs:{spacing:t.isArticleLayout?"around":"bottom",title:t.msg("PROMO_BLOCK_TITLE")}},[e(t.isSmallestMobile?"TMSwiper":"div",{tag:"component",staticClass:"tm-promo-block__content-wrapper",attrs:{"data-test-id":t.isSmallestMobile?"swiper-slider":null,pagination:"","slides-per-view":1}},t._l(t.promoBlockPosts,(function(s){return e(t.isSmallestMobile?"TMSwiperSlide":"div",{key:s.link.url,tag:"component",staticClass:"tm-promo-block__item-wrapper"},[e("TMIntersect",{attrs:{threshold:[.5]},on:{enter:function(e){return t.trackView(s)}}},[e("a",{staticClass:"tm-promo-block__item tm-article-title__link",attrs:{href:s.link.url,rel:"nofollow "+(s.external?"sponsored":"")},on:{click:function(e){return t.logClickToGa(s.link.url)}}},[e("header",{staticClass:"tm-promo-block__head"},[e("div",{staticClass:"tm-promo-block__image-wrapper"},[e("img",{staticClass:"tm-promo-block__image",attrs:{alt:"",src:t.promoImage(s.image.url)}})]),t._v(" "),s.label?e("div",{staticClass:"tm-promo-block__label"},[t._v("\n                "+t._s(s.label)+"\n                "),s.external?e("TMExternalIcon",{staticClass:"tm-block-promo__external"}):t._e()],1):t._e()]),t._v(" "),e("div",{staticClass:"tm-promo-block__info"},[e("h3",{staticClass:"tm-promo-block__title",domProps:{innerHTML:t._s(s.title)}})])])])],1)})),1)],1):t.isLoading||!t.hasLoaded||t.promoBlockPosts?e("TMPlaceholder",{attrs:{type:"promo_block"}}):t._e()],1)},i=[],a=s(20629),o=s(17907),r=s(46750),l=s(40591),c=s(8065),m=s(28287),u=s(92698);const d=()=>s.e(2656).then(s.bind(s,22656)),p=()=>Promise.resolve().then(s.bind(s,15946)),_=()=>Promise.resolve().then(s.bind(s,86951)),h={name:"TMPromoBlock",components:{TMPlaceholder:l.Z,TMIntersect:r.Z,TMBlock:o.Z,TMExternalIcon:d,TMSwiper:p,TMSwiperSlide:_},props:{layout:{default:"articles-list",type:String},gaType:{type:String,default:null}},data(){return{isSmallestMobile:!1,matcher:null,trackedItems:[]}},computed:{...(0,a.Se)("global",["isDesktop"]),...(0,a.Se)("promoData",["promoBlockPosts"]),...(0,a.rn)("promoData",["isLoading","hasLoaded"]),...(0,a.Se)("i18n",["langOptions"]),isArticlesListLayout(){return"articles-list"===this.layout},isArticleLayout(){return"article"===this.layout}},mounted(){this.matcher=window.matchMedia("(max-width: 413px)"),this.matcher.addListener(this.onMediaTriggered),this.isSmallestMobile=this.matcher.matches},beforeDestroy(){this.matcher.removeListener(this.onMediaTriggered)},methods:{onMediaTriggered(t){this.isSmallestMobile=t.matches},logClickToGa(){this.gaType?(0,c.IZ)(`tm_block_promo_${this.gaType}`):this.isArticleLayout?(0,c.IZ)("tm_block_promo_post"):(0,c.IZ)("tm_block_promo_feed_middle")},promoImage(t){const e=this.isDesktop?390:120;return(0,m.dv)(t,e)},trackView({events:t}){const e=t&&t.view;e&&!this.trackedItems.includes(e)&&(this.trackedItems.push(e),(0,u.s)([e]))}}},g=h;var T=s(1001),v=(0,T.Z)(g,n,i,!1,null,null,null);const S=v.exports},31186:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("TMIntersect",{attrs:{threshold:[.5]},on:{enter:t.trackView}},[e("div",{staticClass:"tm-promo-post-link",class:t.bem("tm-promo-post-link",{appearance:t.appearance})},[e("a",{staticClass:"tm-promo-post-link__link",class:t.bem("tm-promo-post-link__link",{appearance:t.appearance}),attrs:{href:t.promoPost.link.url},domProps:{textContent:t._s(t.promoPost.title)},on:{click:function(e){return t.$emit("click")}}}),t._v(" "),e("div",{staticClass:"tm-promo-post-link__label"},[t._v("\n      "+t._s(t.promoPost.label)+"\n      "),t.promoPost.external?e("TMExternalIcon",{staticClass:"tm-promo-post-link__external",attrs:{height:"12",width:"12"}}):t._e()],1)])])},i=[],a=s(46750),o=s(65873),r=s(92698);const l=()=>s.e(2656).then(s.bind(s,22656)),c={name:"TMPromoPostLink",components:{TMIntersect:a.Z,TMExternalIcon:l},props:{appearance:{type:String,default:"most-reading"},promoPost:{type:Object,required:!0}},data(){return{tracked:!1}},methods:{bem:o.P,trackView(){const t=this.promoPost.events&&this.promoPost.events.view;t&&!this.tracked&&(this.tracked=!0,(0,r.s)([t]))}}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},19695:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-publication-hubs__container"},[e("div",{staticClass:"tm-publication-hubs"},t._l(t.hubs,(function(s,n){return e("span",{key:n,class:t.bem("tm-publication-hub__link-container",{"old-megapost":t.isOldMegapost})},[e("TMHubLink",{class:t.bem("tm-publication-hub__link",{subscribed:s.relatedData&&s.relatedData.isSubscribed,"old-megapost":t.isOldMegapost}),attrs:{hub:s,"publication-type":t.publicationType}},[e("span",{domProps:{innerHTML:t._s(s.title)}}),t._v(" "),s.isProfiled?e("span",{staticClass:"tm-article-snippet__profiled-hub",attrs:{title:t.msg("PROFILED_HUB")}},[t._v("*")]):t._e()])],1)})),0)])},i=[],a=s(92686),o=s(65873),r=s(59436);const l={name:"TMPublicationHubs",components:{TMHubLink:a.Z},props:{hubs:{type:Array,required:!0},isOldMegapost:Boolean,publicationType:{type:String,default:"article",validator:(0,r.H)(["article","post"])}},methods:{bem:o.P}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},4307:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("router-link",{attrs:{to:t.route}},[t._t("default")],2)},i=[],a=s(4441),o=s(23217);const r={name:"TMPublicationLink",props:{article:{type:Object,required:!0,validator(t){const e=(0,a.T)(t);return"id"in t&&(!!e&&(!t.isCorporative||!!t.hubs&&t.hubs.some((t=>"corporative"===t.type))))}}},computed:{route(){return(0,o.uT)(this.article,this.langOptions.hl)}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},45136:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pull-down"},["up"===t.direction?t._t("default"):t._e(),t._v(" "),e("div",{staticClass:"pull-down__header",style:{height:t.pullDown.height+"px"}},[e("div",{staticClass:"pull-down__content",style:t.pullDownContentStyle},[t.isLoading?e("TMSvgImg",{staticClass:"icon_refresh pull-down_circle-animate",attrs:{id:"refresh",size:"24"}}):e("TMSvgImg",{staticClass:"pull-down__icon",class:t.labelClass,attrs:{id:"pull-arrow",size:"24"}})],1)]),t._v(" "),"down"===t.direction?t._t("default"):t._e()],2)},i=[],a=s(31490);const o={ERROR:-1,START:0,READY:1,REFRESH:2},r="height .2s ease",l={name:"TMPullToRefresh",components:{TMSvgImg:a.Z},props:{onRefresh:{type:Function,required:!0},config:{type:Object,default:()=>{}},direction:{type:String,default:"down",validator(t){return["up","down"].includes(t)}}},data(){return{pullDown:{status:0,height:0,msg:""},canPull:!1,currentConfig:this.config,lastY:null,touchPosition:{start:0,distance:0}}},computed:{label(){return this.pullDown.status===o.ERROR?this.pullDown.msg:this.customLabels[this.pullDown.status+1]},isLoading(){return this.pullDown.status===o.REFRESH},labelClass(){return this.pullDown.status===o.ERROR?this.pullDown.msg:this.customLabels[this.pullDown.status+1]},customLabels(){const t={error:"",start:"down"===this.direction?"pull-down__arrow":"pull-down__arrow_down",ready:"down"===this.direction?"pull-down__arrow_down":"pull-down__arrow",loading:""},e=void 0!==this.currentConfig.errorLabel?this.currentConfig.errorLabel:t.error,s=void 0!==this.currentConfig.startLabel?this.currentConfig.startLabel:t.start,n=void 0!==this.currentConfig.readyLabel?this.currentConfig.readyLabel:t.ready,i=void 0!==this.currentConfig.loadingLabel?this.currentConfig.loadingLabel:t.loading;return[e,s,n,i]},pullDownContentStyle(){return{bottom:(this.currentConfig.pullDownHeight-40)/2+"px"}}},mounted(){this.$nextTick((()=>{const t=this.$el,e=this.$el.querySelector(".pull-down__header");this.currentConfig.pullDownHeight=this.currentConfig.pullDownHeight||60,t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),t.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),t.addEventListener("touchend",this.handleTouchEnd),e.addEventListener("transitionend",this.handleTransitionEnd)}))},beforeDestroy(){const t=this.$el,e=this.$el.querySelector(".pull-down__header");t.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),t.removeEventListener("touchmove",this.handleTouchMove,{passive:!0}),t.removeEventListener("touchend",this.handleTouchEnd),e.removeEventListener("transitionend",this.handleTransitionEnd)},methods:{resetPullDown(t,e){const s=this.$el.querySelector(".pull-down__header"),n=t;e&&(s.style.transition=r),n.height=0,n.status=o.START},handleTouchStart(t){const e=this.$el.querySelector(".pull-down__header"),s="down"===this.direction?window.scrollY<20:e.getBoundingClientRect().top<=window.innerHeight,{baseOffset:n,focusOffset:i}=document.getSelection(),a=n!==i;this.canPull=s&&!a,this.touchPosition.start=t.touches.item(0).pageY,this.lastY=t.touches.item(0).pageY},handleTouchMove(t){const{currentY:e}=t.touches.item(0);if(!this.canPull||e>this.lastY)return void(this.lastY=e);let s=t.touches.item(0).pageY-this.touchPosition.start;s="down"===this.direction?s:-s,s=s>80?80:s,s>10&&document.documentElement.setAttribute("data-pulling",!0),this.touchPosition.distance=s,this.pullDown.height=s,s>this.currentConfig.pullDownHeight?this.pullDown.status=o.READY:this.pullDown.status=o.START,this.lastY=e},handleTouchEnd(){const t=this.$el.querySelector(".pull-down__header");if(this.canPull=!1,t.style.transition=r,this.touchPosition.distance-this.$el.scrollTop>this.currentConfig.pullDownHeight)if(this.$el.scrollTop=0,this.pullDown.height=this.currentConfig.pullDownHeight,this.pullDown.status=o.REFRESH,this.onRefresh&&"function"===typeof this.onRefresh){const t=this.onRefresh();t&&t.then&&"function"===typeof t.then?t.then((()=>{this.resetPullDown(this.pullDown,!0)}),(t=>{let e=t;"string"!==typeof e&&(e=!1),this.pullDown.msg=e||this.customLabels[0],this.pullDown.status=o.ERROR,setTimeout((()=>{this.resetPullDown(this.pullDown,!0)}),1e3)})):this.resetPullDown(this.pullDown)}else this.resetPullDown(this.pullDown),console.warn("please use :on-refresh to pass onRefresh callback");else this.resetPullDown(this.pullDown);this.touchPosition.distance=0,this.touchPosition.start=0},handleTransitionEnd(){const t=this.$el.querySelector(".pull-down__header");t.style.transition=""}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},70874:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("TMCounterContainer",{scopedSlots:t._u([{key:"header",fn:function(){return[t._t("icon"),t._v(" "),e("TMVotesLever",{attrs:{appearance:t.variant||"rating","can-vote-minus":!1,"can-vote-plus":!1,formatted:!1,score:t.score||0}})]},proxy:!0},{key:"footer",fn:function(){return[e("span",{staticClass:"tm-rating__text",class:t.bem("tm-rating__text",{variant:t.variant})},[t._v("\n      "+t._s(t.label||t.msg("POINTS_LABEL_RATING"))+"\n    ")])]},proxy:!0}],null,!0)})},i=[],a=s(21913),o=s(8130),r=s(65873),l=s(59436);const c={name:"TMRating",components:{TMVotesLever:o.Z,TMCounterContainer:a.Z},props:{score:{type:Number,default:0},label:{type:String,default:null},variant:{type:String,default:null,validator:(0,l.H)(["grade"])}},methods:{bem:r.P}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},6628:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return t.hasRss?e("button",{staticClass:"tm-rss-button",class:`tm-rss-button_${t.variant}`},[e("TMSvgIcon",{staticClass:"tm-rss-button__icon",attrs:{id:"rss"},on:{click:t.copyRssLink}})],1):t._e()},i=[],a=s(33936),o=s(85378);const r={name:"TMRssButton",components:{TMSvgIcon:a.Z},props:{variant:{type:String,default:"default"}},computed:{hasRss(){const{params:t,query:e,meta:{rssLink:s,customRssLink:n}}=this.$route;if(n)return!0;const i={...t,...e,fl:this.fl,hl:this.hl};return Boolean(s&&s(i))}},methods:{copyRssLink(){const t=document.querySelector('link[name="rss"]');if(t){const e=t.getAttribute("href");(0,o.Z)(e),this.$toast.success(this.msg("SOCIAL_COPIED"))}}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},10529:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("transition",{attrs:{appear:t.appear,name:t.name},on:{"after-leave":t.onHide,enter:t.onShow,"enter-cancelled":t.onCancel,"leave-cancelled":t.onCancel}},[t._t("default")],2)},i=[],a=s(67891);const o={name:"TMScrollLockTransition",props:{appear:{type:Boolean,default:!1},name:{type:String,required:!0}},beforeDestroy(){(0,a.clearAllBodyScrollLocks)()},methods:{onShow(){(0,a.disableBodyScroll)(this.$children[0].$el.querySelector("[data-scroll-target]"),{reserveScrollBarGap:!0})},onHide(){(0,a.clearAllBodyScrollLocks)()},onCancel(){(0,a.clearAllBodyScrollLocks)()}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},51858:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-section-name"},[t.backRouteName?e("div",{staticClass:"tm-section-name__back",on:{click:t.goBack}},[e("TMSvgImg",{staticClass:"icon_arrow-back icon_arrow-back_section",attrs:{id:"arrow-back"}}),t._v(" "),t.isLoading?e("TMPlaceholderLine",{staticClass:"tm-section-name__placeholder"}):e("h1",{staticClass:"tm-section-name__text"},[t._v("\n      "+t._s(t.name)+"\n    ")])],1):t.route?e("router-link",{staticClass:"tm-section-name__link",attrs:{to:t.route}},[t._v("\n    "+t._s(t.name)+"\n  ")]):e("h1",{staticClass:"tm-section-name__text"},[t._v("\n    "+t._s(t.name)+"\n  ")]),t._v(" "),t._t("default")],2)},i=[],a=s(5806),o=s(31490);const r={name:"TMSectionName",components:{TMPlaceholderLine:a.Z,TMSvgImg:o.Z},props:{name:{type:String,default:null},route:{type:Object,default:null},backRouteName:{default:null,type:String},backRouteQuery:{default:null,type:Object},isLoading:Boolean},methods:{goBack(){this.backRouteName?this.$router.push({name:this.backRouteName,query:this.backRouteQuery}):this.$router.go(-1)}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},1396:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("div",{ref:"separatedList",class:t.bem("tm-separated-list",{clipped:t.hasShowAll&&!t.isOpened})},[t.title?e("span",{staticClass:"tm-separated-list__title",domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),e("ul",{staticClass:"tm-separated-list__list"},[t._l(t.list.slice(0,t.visibleItemsCount),(function(s,n){return e("li",{key:n,staticClass:"tm-separated-list__item"},[t._t("default",null,{item:s})],2)})),t._v(" "),t.visibleItemsCount<t.list.length?e("button",{staticClass:"tm-separated-list__more",on:{click:t.showAll}},[t._v("\n      "+t._s(t.msg("MORE_SHOW",{count:t.list.length-t.visibleItemsCount}))+"\n    ")]):t._e()],2)])},i=[],a=s(65873);const o={name:"TMSeparatedList",props:{list:{type:Array,required:!0},title:{type:String,default:null},hasShowAll:{type:Boolean,default:!1}},data(){return{isOpened:!1,visibleItemsCount:this.list.length}},mounted(){this.hasShowAll&&this.updateHiddenTags()},methods:{bem:a.P,updateHiddenTags(){if(this.isOpened||!this.$refs.separatedList)return;const t=2,e=this.$refs.separatedList.getElementsByClassName("tm-separated-list__item"),s=e[0].offsetHeight,n=e[0].offsetTop,i=n+t*s;if(Array.from(e).forEach((t=>{t.offsetTop>=i&&(this.visibleItemsCount-=1)})),this.visibleItemsCount<this.list.length)while(!this.hasSpaceForShowMore()&&this.visibleItemsCount>1)this.visibleItemsCount-=1;this.$nextTick((()=>{this.$refs.separatedList.style.visibility="visible",this.$refs.separatedList.style.overflow="visible",this.$refs.separatedList.style.maxHeight="none"}))},hasSpaceForShowMore(){const t=this.$refs.separatedList.getElementsByClassName("tm-separated-list__item"),e=t[this.visibleItemsCount-1],s=this.$refs.separatedList;if(!e||!s)return!1;const n=70,i=e.offsetTop===s.offsetTop,a=s.offsetWidth-e.offsetWidth-e.offsetLeft;return a>n||i},showAll(){this.visibleItemsCount=this.list.length,this.isOpened=!0}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},63672:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("TMOverlay",{staticClass:"tm-sidebar",class:`tm-sidebar_${t.position}`,on:{close:function(e){return t.$emit("close")}}},[e("div",{staticClass:"tm-sidebar__wrapper",class:`tm-sidebar__wrapper_${t.position}`,style:t.style},[e("div",{staticClass:"tm-sidebar__container"},[t._t("default")],2)])])},i=[],a=s(20629),o=s(41659),r=s(51566);const l={right:"isRight",left:"isLeft"},c={name:"TMSidebarModal",components:{TMOverlay:o.Z},props:{position:{required:!0,type:String}},data(){return{delta:0,swipeListener:null}},computed:{...(0,a.rn)("viewport",["width"]),parallax(){const t=2;return Math.abs(this.delta)/this.width/t},style(){return"left"===this.position&&this.delta>0?{transform:`translateX(${-100*this.parallax}%)`}:"right"===this.position&&this.delta<0?{transform:`translateX(${100*this.parallax}%)`}:null}},watch:{$route(){this.$emit("close")}},beforeDestroy(){(0,r.y)(this.swipeListener)},mounted(){this.swipeListener=(0,r.i)((t=>{this.delta=t.delta,t[l[this.position]]&&this.$emit("close")}))}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},86408:(t,e,s)=>{"use strict";s.d(e,{Z:()=>j});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{"body-variant":"condensed-slim","header-variant":"borderless",spacing:t.spacing,title:t.blockTitle,"title-variant":"large"}},[t.isNews?e("TMOtherNewsBlock",{attrs:{"excluded-ids":[t.articleId],"ga-author":t.ga.news.author,"ga-comments":t.ga.news.comment,"ga-title":t.ga.news.news}}):[e("TMTabs",{attrs:{local:"","local-active":t.currentTab,"no-spacers":"",slim:"",tabs:t.tabs},on:{"update:localActive":function(e){t.currentTab=e},"update:local-active":function(e){t.currentTab=e}}}),t._v(" "),e("div",{staticClass:"similar-and-daily__tab-view"},["daily"===t.currentTab?e("TMDailyArticlesBlock",{attrs:{"ga-author":t.ga.top.author,"ga-comments":t.ga.top.comment,"ga-title":t.ga.top.post},scopedSlots:t._u([{key:"lastItem",fn:function(){return[t._t("dailyTopPromoLink")]},proxy:!0}],null,!0)}):t._e(),t._v(" "),"similar"===t.currentTab?e("TMSimilarArticlesBlock",{attrs:{"article-id":t.articleId,"ga-author":t.ga.similar.author,"ga-comments":t.ga.similar.comment,"ga-title":t.ga.similar.post}}):t._e()],1)]],2)},i=[],a=s(17907),o=function(){var t=this,e=t._self._c;return t.dailyArticles.length||t.$slots.lastItem?e("div",{staticClass:"daily-articles-list"},[e("TMArticleCardList",{attrs:{articles:t.dailyArticles,"ga-author":t.gaAuthor,"ga-comments":t.gaComments,"ga-title":t.gaTitle},scopedSlots:t._u([{key:"lastItem",fn:function(){return[t._t("lastItem")]},proxy:!0}],null,!0)}),t._v(" "),e("div",{staticClass:"daily-articles-block__button-container"},[t.showLoadMoreButton?e("TMButtonBase",{staticClass:"daily-articles-block__button",attrs:{"is-loading":t.isLoading,"style-type":"transparent"},on:{click:t.loadMore}},[t._v("\n      "+t._s(t.msg("SHOW_MORE"))+"\n    ")]):e("router-link",{staticClass:"daily-articles-block__link",attrs:{to:{name:"ARTICLES_LIST_TOP_PERIOD",params:{period:"alltime"}}}},[t._v("\n      "+t._s(t.msg("PUBLICATION_SHOW_BEST_OF_ALL_TIME"))+"\n    ")])],1)],1):e("TMPlaceholder",{attrs:{times:t.placeholderCount,type:"articleCards"}})},r=[],l=s(20629),c=s(17903),m=function(){var t=this,e=t._self._c;return t.articles?e("ul",{staticClass:"tm-article-card-list"},[t._l(t.articles,(function(s){return e("TMBorderedCard",{key:s.id,attrs:{tag:"li"}},[e("TMArticleSnippet",{attrs:{article:s,"ga-author":t.gaAuthor,"ga-title":t.gaTitle,lang:s.lang,"no-border":"","use-link":"","with-hubs":!1,"with-labels":"","with-lead":!1}}),t._v(" "),e("TMDataIcons",{attrs:{article:s,"bookmark-module":t.bookmarkModule,"ga-event":t.gaComments,"icons-list":["votes","comments","favorite"]}})],1)})),t._v(" "),t.$slots.lastItem?e("TMBorderedCard",[t._t("lastItem")],2):t._e()],2):t._e()},u=[],d=s(88830),p=s(91433),_=s(30404);const h={name:"TMArticleCardList",components:{TMBorderedCard:p.Z,TMDataIcons:_.Z,TMArticleSnippet:d.Z},props:{articles:{type:Array,required:!0},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""},bookmarkModule:{type:String,default:"articlesList"}}},g=h;var T=s(1001),v=(0,T.Z)(g,m,u,!1,null,null,null);const S=v.exports;var f=s(40591);const E=10,I={name:"TMDailyArticlesBlock",components:{TMArticleCardList:S,TMPlaceholder:f.Z,TMButtonBase:c.Z},props:{gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""},placeholderCount:{type:Number,default:5}},data(){return{page:1}},computed:{...(0,l.Se)("articlesList",{dailyArticles:"getDailyArticles",pagesCount:"getDailyPagesCount"}),...(0,l.rn)("articlesList",["isLoading"]),showLoadMoreButton(){return this.pagesCount>this.page}},mounted(){this.loadDailyArticles({force:!0,perPage:E})},methods:{...(0,l.nv)("articlesList",["loadDailyArticles"]),loadMore(){this.loadDailyArticles({pageNum:this.page+1,append:!0,force:!0,perPage:E}).then((()=>{this.page+=1}))}}},C=I;var A=(0,T.Z)(C,o,r,!1,null,null,null);const b=A.exports;var y=function(){var t=this,e=t._self._c;return t.news.length?e("div",[e("TMArticleCardList",{attrs:{articles:t.news,"ga-author":t.gaAuthor,"ga-comments":t.gaComments,"ga-title":t.gaTitle}}),t._v(" "),e("div",{staticClass:"other-news-block__button-container"},[t.showGoToAllNewsButton?e("router-link",{staticClass:"other-news-block__all-news btn btn_small btn_transparent",attrs:{to:{name:"NEWS_LIST_ALL_PAGES",params:{pageNum:4}}}},[t._v("\n      "+t._s(t.msg("NEWS_ALL_NEWS"))+"\n    ")]):t.showLoadMoreButton?e("TMButtonBase",{staticClass:"other-news-block__button",attrs:{"is-loading":t.isLoading,"style-type":"transparent"},on:{click:t.loadMore}},[t._v("\n      "+t._s(t.msg("SHOW_MORE"))+"\n    ")]):t._e()],1)],1):e("TMPlaceholder",{attrs:{times:t.$options.NEWS_PER_PAGE,type:"articleCards"}})},P=[];const L=10,O=60,N={name:"TMOtherNewsBlock",components:{TMArticleCardList:S,TMPlaceholder:f.Z,TMButtonBase:c.Z},props:{excludedIds:{type:Array,required:!0},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""}},data(){return{page:1}},computed:{...(0,l.Se)("articlesList",{news:"getOtherNews",pagesCount:"getOtherNewsPagesCount"}),...(0,l.rn)("articlesList",["isLoading"]),showLoadMoreButton(){return this.pagesCount>this.page},showGoToAllNewsButton(){return this.news.length>=O}},mounted(){this.loadNews()},methods:{...(0,l.nv)("articlesList",["loadOtherNews"]),loadNews(){this.loadOtherNews({force:!0,perPage:L,excludedIds:this.excludedIds})},loadMore(){this.loadOtherNews({pageNum:this.page+1,append:!0,force:!0,perPage:L,excludedIds:this.excludedIds}).then((()=>{this.page+=1}))}},NEWS_PER_PAGE:L},M=N;var R=(0,T.Z)(M,y,P,!1,null,null,null);const k=R.exports;var w=function(){var t=this,e=t._self._c;return t.isLoading?e("TMPlaceholder",{attrs:{times:t.placeholderCount,type:"articleCards"}}):t.similarList.length?e("TMArticleCardList",{attrs:{articles:t.similarList,"bookmark-module":"similarList","ga-author":t.gaAuthor,"ga-comments":t.gaComments,"ga-title":t.gaTitle}}):e("TMEmptyPlaceholder",[e("span",{domProps:{innerHTML:t._s(t.msg("ARTICLE_OTHER_ARTICLES_SIMILAR_EMPTY"))}})])},B=[],D=s(6251);const x={name:"TMSimilarArticlesBlock",components:{TMEmptyPlaceholder:D.Z,TMArticleCardList:S,TMPlaceholder:f.Z},props:{articleId:{type:String,required:!0},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""},placeholderCount:{type:Number,default:5},count:{type:Number,default:5}},data(){return{isLoading:!1}},computed:{...(0,l.Se)("similarList",["similarList"])},watch:{articleId(t){this.loadArticles(t)}},mounted(){this.loadArticles(this.articleId),this.$activeWatch((()=>this.articleId),(t=>{this.loadArticles(t)}))},methods:{...(0,l.nv)("similarList",["loadSimilarList"]),loadArticles(t){this.isLoading=!0,this.loadSimilarList({articleId:t,count:this.count}).finally((()=>{this.isLoading=!1}))}}},$=x;var U=(0,T.Z)($,w,B,!1,null,null,null);const F=U.exports;var V=s(36355);const H=(t,e)=>t.reduce(((t,s)=>(t[s]=e(s),t)),{});var G=s(42052),W=s(59436);const Z={name:"TMSimilarAndDailyArticles",components:{TMBlock:a.Z,TMSimilarArticlesBlock:F,TMDailyArticlesBlock:b,TMTabs:V.Z,TMOtherNewsBlock:k},props:{articleId:{type:String,required:!0},isNews:{type:Boolean,required:!0},spacing:{type:String,default:"bottom",validator:(0,W.H)(["top","bottom","around","none"])}},data(){return{currentTab:"daily"}},computed:{blockTitle(){return this.isNews?this.msg("ARTICLE_OTHER_NEWS_TITLE"):this.msg("ARTICLE_OTHER_ARTICLES_TITLE")},ga(){const t=["post","comment","author"],e=["news","comment","author"];return{similar:H(t,G.I$.bind(null,"similar")),top:H(t,G.I$.bind(null,"top_daily")),news:H(e,G.aF.bind(null))}},tabs(){return[{route:{name:"daily"},title:this.msg("ARTICLE_OTHER_ARTICLES_TOP")},{route:{name:"similar"},title:this.msg("ARTICLE_OTHER_ARTICLES_SIMILAR")}]}},watch:{articleId(){this.$forceUpdate()}}},Y=Z;var q=(0,T.Z)(Y,n,i,!1,null,null,null);const j=q.exports},32170:(t,e,s)=>{"use strict";s.d(e,{Z:()=>ht});var n=function(){var t=this,e=t._self._c;return t.isShowBlock?e("TMBlock",{staticClass:"tm-stories-block",attrs:{"body-variant":"equal","data-navigatable":"",spacing:"around",tabindex:"0",title:t.msg("TITLE_STORIES")}},[t.isSorting?e("TMStoriesEmpty"):e("TMSwiper",{staticClass:"tm-stories",attrs:{"active-slide":t.activeSlide,navigation:"","slides-per-view":"auto","space-between":t.isDesktop?20:12,threshold:15}},t._l(t.sortedStories,(function(s,n){return e("TMSwiperSlide",{key:s.id},[e("TMStoriesCard",{attrs:{"is-viewed":t.viewedStoriesIds.has(s.id),story:s},on:{changeActiveStory:function(e){t.activeSlide=n},openStory:function(e){return t.openStory(n)}}})],1)})),1),t._v(" "),t.isStoriesView?e("TMStoriesView",{attrs:{"active-story-index":t.currentStoryIndex,"ga-category":t.gaCategory,stories:t.sortedStories},on:{close:function(e){return t.closeView()},saveView:t.saveView}}):t._e()],1):e("div")},i=[],a=s(20629),o=s(17907),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-stories-card"},[e("button",{class:t.bem("tm-stories-card__image-block",{loading:t.imageLoading}),on:{click:function(e){return t.$emit("openStory")},focus:function(e){return t.focus()}}},[e("img",{staticClass:"tm-stories-card__image",attrs:{alt:"",src:t.getResizedImg(t.story.slides[0].image)},on:{load:function(e){t.imageLoading=!1}}}),t._v(" "),e("div",{staticClass:"tm-stories-card__gradient"}),t._v(" "),t.isViewed?e("div",{staticClass:"tm-stories-card__overlay"}):t._e(),t._v(" "),t.isViewed?t._e():e(t.story.author.link?"a":"span",{tag:"component",staticClass:"tm-stories-card__author",attrs:{href:t.story.author.link},on:{click:function(t){t.stopPropagation()},focus:function(e){return t.focus()}}},[e("img",{staticClass:"tm-stories-card__author-logo",attrs:{alt:"author-logo",src:t.story.author.logo}})])],1),t._v(" "),e("div",{class:t.bem("tm-stories-card__title",{viewed:t.isViewed}),domProps:{textContent:t._s(t.story.title)}})])},l=[],c=s(65873),m=s(28287);const u={name:"TMStoriesCard",props:{story:{type:Object,required:!0},isViewed:{type:Boolean,default:!1}},data(){return{imageLoading:!0}},methods:{bem:c.P,getResizedImg(t){const e=390;return(0,m.dv)(t,e)},focus(){this.$emit("changeActiveStory")}}},d=u;var p=s(1001),_=(0,p.Z)(d,r,l,!1,null,null,null);const h=_.exports;var g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-stories-empty"},t._l(t.cards,(function(s,n){return e("div",{key:n,staticClass:"tm-stories-card-empty"},[e("div",{staticClass:"tm-stories-card-empty__image"}),t._v(" "),t._m(0,!0)])})),0)},T=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-stories-card-empty__title"},[e("div",{staticClass:"tm-stories-card-empty__title-block"}),t._v(" "),e("div",{staticClass:"tm-stories-card-empty__title-block"}),t._v(" "),e("div",{staticClass:"tm-stories-card-empty__title-block"})])}];const v={name:"TMStoriesEmpty",data(){return{cards:[1,2,3,4,5,6]}}},S=v;var f=(0,p.Z)(S,g,T,!1,null,null,null);const E=f.exports;var I=function(){var t=this,e=t._self._c;return e("Portal",{attrs:{to:"overlays"}},[e("div",{staticClass:"tm-stories-view"},[e("button",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.close},expression:"{ 'esc': close }"}],staticClass:"tm-stories-view__close",on:{click:t.close}},[e("TMSvgIcon",{staticClass:"tm-stories-view__close-icon",attrs:{id:"close",size:"16",title:t.msg("CLOSE")}})],1),t._v(" "),e("div",{staticClass:"tm-stories-view__bg",on:{click:t.close}}),t._v(" "),null!==t.isSmallestMobile?e("TMSwiper",{attrs:{"active-slide":t.currentStoryIndex,"centered-slides":!t.isSmallestMobile,"initial-slide":t.currentStoryIndex,"slides-per-view":t.isSmallestMobile?1:"auto","space-between":t.isSmallestMobile?0:70},on:{slideChange:t.slideChange}},t._l(t.stories,(function(s,n){return e("TMSwiperSlide",{key:s.id},[e("TMStory",{attrs:{"data-story-card":"","ga-category":t.gaCategory,"is-active":n===t.currentStoryIndex,"is-first":0===n,"is-last":n===t.stories.length-1,"loading-status":t.storiesLoading[n],story:s},on:{changeActiveStory:function(e){return t.slideChange(n)},close:function(e){return t.$emit("close")},loadingFinish:function(e){return t.continueLoading(n,e)},nextStory:t.nextStory,prevStory:t.prevStory,saveView:function(e){return t.$emit("saveView",s.id)}}})],1)})),1):t._e()],1)])},C=[],A=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"hotkey",rawName:"v-hotkey",value:t.hotkeys,expression:"hotkeys"}],class:t.bem("tm-story-container",{hidden:!t.isActive})},[t.isActive?[t.showLeftButton?e("div",{staticClass:"tm-story__button tm-story__button_left",on:{click:t.prevSlide}},[e("TMSvgIcon",{staticClass:"tm-story__button-icon",attrs:{id:"arrow-back",size:"24",title:t.msg("NAV_LEFT")}})],1):t._e(),t._v(" "),t.showRightButton?e("div",{staticClass:"tm-story__button tm-story__button_right",on:{click:t.nextSlide}},[e("TMSvgIcon",{staticClass:"tm-story__button-icon",attrs:{id:"arrow-back",size:"24",title:t.msg("NAV_RIGHT")}})],1):t._e()]:t._e(),t._v(" "),e("div",{ref:"story",staticClass:"tm-story"},[t._l(t.visibleSlidesImages,(function(s,n){return e("img",{key:n,class:t.bem("tm-story__image",{hidden:s!==t.activeSlide.image}),attrs:{alt:"",src:t.getResizedImg(s)},on:{error:function(e){return t.errorImage(n,s)},load:function(e){return t.loadImage(n,s)}}})})),t._v(" "),t.visibleSlidesImages.length?t._e():e("div",{staticClass:"tm-story__image"}),t._v(" "),t.imageLoading?e("TMSpinner"):t._e(),t._v(" "),e("div",{staticClass:"tm-story__gradient"}),t._v(" "),t.isActive?[e("div",{staticClass:"tm-story__area tm-story__area_left",on:{click:function(e){return t.prevSlide(null,!0)}}}),t._v(" "),e("div",{staticClass:"tm-story__area tm-story__area_right",on:{click:function(e){return t.nextSlide(null,!0)}}}),t._v(" "),t.imageLoading?t._e():e("TMStoryProgressBar",{attrs:{"active-slide-index":t.activeSlideIndex,"is-paused":t.isPaused,slides:t.story.slides}}),t._v(" "),e("button",{staticClass:"tm-story__close",on:{click:function(e){return t.$emit("close")}}},[e("TMSvgIcon",{attrs:{id:"close-rounded",size:"24",title:t.msg("CLOSE")}})],1)]:e("div",{staticClass:"tm-story__overlay",on:{click:t.changeActiveStory}}),t._v(" "),e("div",{staticClass:"tm-story__author"},[e(t.story.author.link?"a":"span",{tag:"component",staticClass:"tm-story__author-logo",attrs:{"data-test-id":t.story.author.link?"story-author-link":"story-author",href:t.story.author.link},on:{click:function(e){return e.preventDefault(),t.logAuthorClick(t.story)}}},[e("img",{attrs:{alt:"story-author",src:t.story.author.logo}})]),t._v(" "),e(t.story.author.link?"a":"span",{tag:"component",staticClass:"tm-story__author-name",attrs:{"data-test-id":t.story.author.link?"story-author-link":"story-author",href:t.story.author.link},on:{click:function(e){return e.preventDefault(),t.logAuthorClick(t.story)}}},[t._v("\n        "+t._s(t.story.author.title)+"\n      ")])],1),t._v(" "),t.isActive&&t.activeSlide.button?e("a",{class:t.bem("tm-story__link",{color:t.activeSlide.button.colorType}),attrs:{href:t.activeSlide.button.link},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.preventDefault(),t.logButtonClick(t.activeSlide.button.link))},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.preventDefault(),t.logButtonClick(t.activeSlide.button.link,!0))}}},[e("span",[t._v(t._s(t.activeSlide.button.title))]),t._v(" "),e("TMSvgIcon",{staticClass:"tm-story__link-icon",attrs:{id:"pull-arrow",size:"24",title:t.activeSlide.button.title}})],1):t._e()],2)],2)},b=[],y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-spinner"},[e("svg",{staticClass:"spinner",attrs:{height:"66px",viewBox:"0 0 66 66",width:"66px",xmlns:"http://www.w3.org/2000/svg"}},[e("circle",{staticClass:"path",attrs:{cx:"33",cy:"33",fill:"none",r:"30","stroke-linecap":"round","stroke-width":"6"}})])])},P=[];const L={name:"TMSpinner"},O=L;var N=(0,p.Z)(O,y,P,!1,null,null,null);const M=N.exports;var R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-story-progress-bar"},t._l(t.slides,(function(s,n){return e("div",{key:s.id,staticClass:"tm-story-progress-bar__item",style:`width: calc(100%/${t.slides.length} - 4px);`},[e("div",{class:t.bem("tm-story-progress-bar__item-progress",{active:n===t.activeSlideIndex,future:n>t.activeSlideIndex,paused:t.isPaused&&n===t.activeSlideIndex})})])})),0)},k=[];const w={name:"TMStoryProgressBar",props:{slides:{type:Array,required:!0},isPaused:{type:Boolean},activeSlideIndex:{type:Number,required:!0}},methods:{bem:c.P}},B=w;var D=(0,p.Z)(B,R,k,!1,null,null,null);const x=D.exports;var $=s(33936),U=s(8065),F=s(3371);function V(t){return(0,F.q)("/story",t)}const H="new",G="pending",W="loaded",Z="error",Y="all",q="first",j="none",K={name:"TMStory",components:{TMSvgIcon:$.Z,TMStoryProgressBar:x,TMSpinner:M},props:{story:{type:Object,required:!0},isActive:{type:Boolean,default:!1},isFirst:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1},gaCategory:{type:String,required:!0},loadingStatus:{type:String,required:!0},imagesPreloaded:{type:Boolean,default:!1}},data(){const t={};for(let e=0;e<this.story.slides.length;e+=1){const s=this.story.slides[e];this.imagesPreloaded?t[s.image]=W:t[s.image]=0===e?G:H}return{activeSlideIndex:0,timer:1e3,counter:!1,interval:0,isPaused:!1,pauseTimeStamp:0,playTimeStamp:0,imageLoading:!0,slidesImages:t}},computed:{...(0,a.rn)("me",["uuid"]),...(0,a.Se)("global",["isMobile"]),activeSlide(){return this.story.slides[this.activeSlideIndex]},showLeftButton(){return!this.isFirst||0!==this.activeSlideIndex},showRightButton(){return!this.isLast||this.activeSlideIndex!==this.story.slides.length-1},hotkeys(){return this.isActive?{space:this.toggleTimer,right:this.nextSlide,left:this.prevSlide,up:this.prevStory,down:this.nextStory}:{}},isShortClick(){return this.playTimeStamp-this.pauseTimeStamp<300},visibleSlidesImages(){return this.loadingStatus===j?{}:Object.keys(this.slidesImages).filter((t=>this.slidesImages[t]!==H))}},watch:{isActive(){this.isActive?(this.startTimer(),this.saveView(),this.logGaStory(),this.logSlideView(),this.loadNextImage(this.activeSlideIndex)):(clearInterval(this.interval),this.interval=0)},imageLoading(){this.isActive&&!this.imageLoading&&this.startSlide()},loadingStatus(t){t===Y&&this.loadNextImage(this.visibleSlidesImages.length-1)}},beforeDestroy(){clearInterval(this.interval),this.$refs.story.removeEventListener("mousedown",this.pause),this.$refs.story.removeEventListener("mouseup",this.play),this.$refs.story.removeEventListener("touchstart",this.pause),this.$refs.story.removeEventListener("touchend",this.play),this.$refs.story.removeEventListener("contextmenu",this.closeContextMenu)},mounted(){this.isActive&&this.logGaStory(),this.$refs.story.addEventListener("mousedown",this.pause),this.$refs.story.addEventListener("mouseup",this.play),this.$refs.story.addEventListener("touchstart",this.pause,{passive:!0}),this.$refs.story.addEventListener("touchend",this.play,{passive:!0}),this.$refs.story.addEventListener("contextmenu",this.closeContextMenu)},methods:{bem:c.P,loadImage(t,e){t===this.activeSlideIndex&&(this.imageLoading=!1),0===t&&this.$emit("loadingFinish",q),this.slidesImages[e]=W,this.loadNextImage(t)},errorImage(t,e){this.slidesImages[e]=Z,this.loadNextImage(t)},loadNextImage(t){if(t===this.story.slides.length-1)return void this.$emit("loadingFinish",Y);if(this.loadingStatus===q)return;const e=this.story.slides[t+1];this.slidesImages[e.image]===H&&(this.slidesImages[e.image]=G)},getResizedImg(t){const e=780;return(0,m.dv)(t,e)},toggleTimer(){this.isPaused=!this.isPaused},pause(t){this.pauseTimeStamp=t.timeStamp,this.isPaused=!0},play(t){this.playTimeStamp=t.timeStamp,this.isPaused=!1},closeContextMenu(t){this.isMobile&&t.preventDefault()},nextSlide(t,e=!1){e&&!this.isShortClick||this.changeActiveSlide(1)},prevSlide(t,e=!1){e&&!this.isShortClick||this.changeActiveSlide(-1)},nextStory(){this.$emit("nextStory")},prevStory(){this.$emit("prevStory")},changeActiveStory(){this.$emit("changeActiveStory")},changeActiveSlide(t){this.activeSlideIndex+t<0?this.prevStory():this.activeSlideIndex+t>this.story.slides.length-1?this.nextStory():(this.activeSlideIndex+=t,this.slidesImages[this.activeSlide.image]===H&&(this.slidesImages[this.activeSlide.image]=G),this.slidesImages[this.activeSlide.image]===W?this.startSlide():(this.imageLoading=!0,this.isPaused=!0))},startSlide(){this.isPaused=!1,this.saveView(),this.logSlideView(),this.startTimer()},startTimer(){this.timer=1e3,this.interval||(this.interval=setInterval(this.countDown,10))},countDown(){this.isPaused||(this.counter?this.timer>0?this.timer-=1:(this.timer=0,this.counter=!1,this.nextSlide()):this.counter=!0)},saveView(){this.story.slides.length-1===this.activeSlideIndex&&this.$emit("saveView")},logGaStory(){(0,U.IZ)(`${this.gaCategory}_view_${this.story.id}_open`)},logAuthorClick(t){t.author.link&&V({uuid:this.uuid,storyId:this.story.id,actionType:"authorClick"}).finally((()=>{window.location=t.author.link}))},logSlideView(){V({uuid:this.uuid,storyId:this.story.id,slideId:this.activeSlide.id,actionType:"slideView"}),(0,U.IZ)(`${this.gaCategory}_view_${this.story.id}`,{event_label:`slide_${this.activeSlide.id}`})},logButtonClick(t,e){V({uuid:this.uuid,storyId:this.story.id,slideId:this.activeSlide.id,actionType:"slideButtonClick"}).finally((()=>{t&&!e&&(window.location.href=t)})),(0,U.IZ)(`${this.gaCategory}_view_${this.story.id}`,{event_label:`button_${this.activeSlide.id}`})}}},z=K;var Q=(0,p.Z)(z,A,b,!1,null,null,null);const X=Q.exports;var J=s(15946),tt=s(86951);const et="all",st="first",nt="none",it={name:"TMStoriesView",components:{TMStory:X,TMSvgIcon:$.Z,TMSwiper:J["default"],TMSwiperSlide:tt["default"]},props:{stories:{type:Array,required:!0},activeStoryIndex:{type:Number,required:!0},gaCategory:{type:String,required:!0}},data(){const t={};return this.stories.forEach(((e,s)=>{t[s]=s===this.activeStoryIndex?et:nt})),{currentStoryIndex:this.activeStoryIndex,isSmallestMobile:null,matcher:null,storiesLoading:t}},beforeDestroy(){document.body.classList.remove("tm-touch-select-disabled"),this.matcher.removeListener(this.onMediaTriggered)},mounted(){document.body.classList.add("tm-touch-select-disabled"),this.matcher=window.matchMedia("(max-width: 415px)"),this.matcher.addListener(this.onMediaTriggered),this.isSmallestMobile=this.matcher.matches},methods:{close(){this.$emit("close")},slideChange(t){this.currentStoryIndex=t,this.storiesLoading[this.currentStoryIndex]=et},nextStory(){this.currentStoryIndex+1>this.stories.length-1?this.$emit("close"):this.currentStoryIndex+=1},prevStory(){this.currentStoryIndex-1<0?this.currentStoryIndex=0:this.currentStoryIndex-=1},onMediaTriggered(t){this.isSmallestMobile=t.matches},continueLoading(t,e){t<=this.currentStoryIndex&&0!==t&&this.storiesLoading[t-1]===nt&&(this.storiesLoading[t-1]=st),t>=this.currentStoryIndex&&t!==this.stories.length-1&&this.storiesLoading[t+1]!==e&&(this.storiesLoading[t+1]=e)}}},at=it;var ot=(0,p.Z)(at,I,C,!1,null,null,null);const rt=ot.exports,lt="habr-stories-viewed",ct=100,mt=5,ut=3,dt={name:"TMStories",components:{TMBlock:o.Z,TMStoriesView:rt,TMStoriesCard:h,TMStoriesEmpty:E,TMSwiper:J["default"],TMSwiperSlide:tt["default"]},props:{isSidebar:{type:Boolean,default:!1},gaCategory:{type:String,required:!0}},asyncData({store:t}){return t.dispatch("stories/loadStories")},data(){return{activeSlide:0,viewedStoriesIds:null,isStoriesView:!1,currentStoryIndex:0,isSorting:!0,sortedStories:[]}},computed:{...(0,a.Se)("stories",["stories"]),...(0,a.Se)("global",["isDesktop"]),isShowBlock(){return!!this.stories&&(this.isSidebar?this.stories.length>=ut:this.stories.length>=mt)}},mounted(){this.viewedStoriesIds=this.getViewedStoriesIds(),this.sortStories()},methods:{bem:c.P,openStory(t){this.isStoriesView=!0,this.currentStoryIndex=t},closeView(){this.isStoriesView=!1,this.viewedStoriesIds=this.getViewedStoriesIds(),this.sortStories()},getViewedStoriesIds(){try{const t=JSON.parse(localStorage.getItem(lt));return t&&Array.isArray(t)?new Set(t):new Set}catch(t){return console.error(t),new Set}},saveView(t){const e=this.getViewedStoriesIds();if(e.has(t))return;e.add(t);let s=Array.from(e);s.length>ct&&(s=s.slice(-ct)),localStorage.setItem(lt,JSON.stringify(s))},sortStories(){if(Array.isArray(this.stories)){if(!this.viewedStoriesIds.size)return this.sortedStories=this.stories,void(this.isSorting=!1);this.sortedStories=this.stories.sort(((t,e)=>this.viewedStoriesIds.has(t.id)-this.viewedStoriesIds.has(e.id))),this.isSorting=!1}}}},pt=dt;var _t=(0,p.Z)(pt,n,i,!1,null,null,null);const ht=_t.exports},73017:(t,e,s)=>{"use strict";s.d(e,{Z:()=>g});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-subscription"},[e("h2",{staticClass:"tm-subscription__title"},[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_TITLE"))+"\n  ")]),t._v(" "),e("p",[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_TEXT"))+"\n  ")]),t._v(" "),t.showThanks?e("div",{staticClass:"tm-subscription__thanks"},[t._v("\n    "+t._s(t.msg("SUBSCRIPTION_THANKS"))+"\n  ")]):e("div",{staticClass:"tm-subscription__form"},[e("div",{staticClass:"tm-select__container"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.period,expression:"period"}],staticClass:"tm-subscription__select",attrs:{disabled:t.isLoading},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.period=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:"day"}},[t._v("\n          "+t._s(t.i18nSubscriptionPeriod("D"))+"\n        ")]),t._v(" "),e("option",{attrs:{value:"week"}},[t._v("\n          "+t._s(t.i18nSubscriptionPeriod("W"))+"\n        ")]),t._v(" "),e("option",{attrs:{value:"month"}},[t._v("\n          "+t._s(t.i18nSubscriptionPeriod("M"))+"\n        ")])])]),t._v(" "),e("div",{staticClass:"tm-subscription__button-container"},[e("TMButtonBase",{staticClass:"tm-subscription__button",attrs:{"is-loading":t.isLoading,"style-size":"large","style-type":"solid",type:"submit"},on:{click:t.sendSubscriptionSettings}},[t._v("\n        "+t._s(t.msg("SUBSCRIPTION_SUBSCRIBE"))+"\n      ")])],1)]),t._v(" "),e("button",{staticClass:"tm-subscription__close",on:{click:function(e){return t.sendSubscriptionSettings("never")}}},[e("TMSvgImg",{staticClass:"tm-subscription__close-icon",attrs:{id:"close"}})],1)])},i=[],a=s(20629),o=s(17903),r=s(31490),l=s(8065),c=s(19516);const m=!0,u=t=>{switch(t){case"day":return"subscribe_daily";case"week":return"subscribe_weekly";case"month":return"subscribe_monthly";case"never":return"close";default:return null}},d={name:"TMSubscriptionBlock",components:{TMSvgImg:r.Z,TMButtonBase:o.Z},data(){return{period:"week",showThanks:!1,isLoading:!1}},beforeDestroy(){this.showThanks&&this.init(m)},methods:{...(0,a.nv)("me",["init"]),i18nSubscriptionPeriod(t){return this.msg(`SUBSCRIPTION_PERIOD_${t}`)},sendSubscriptionSettings(t){if(this.showThanks&&"never"===t)return void this.init(m);this.isLoading=!0;const e=t||this.period,s={frequency:e};(0,l.IZ)(`tm_block_digest_feed_${u(e)}`),(0,c.cZ)(s).then((e=>{e.ok&&("never"===t?this.init(m):this.showThanks=!0)})).catch((t=>{this.$toast.error(t.message)})).finally((()=>{this.isLoading=!1}))}}},p=d;var _=s(1001),h=(0,_.Z)(p,n,i,!1,null,null,null);const g=h.exports},33936:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"component",staticClass:"tm-svg-icon__wrapper",on:{click:function(e){return t.$emit("click")},mouseover:function(e){return t.$emit("mouseover")}}},[e("TMSvgImg",{staticClass:"tm-svg-icon",attrs:{id:t.id,size:t.size,title:t.title}})],1)},i=[],a=s(31490);const o={name:"TMSvgIcon",components:{TMSvgImg:a.Z},props:{tag:{default:"span",type:String},id:{required:!0,type:String},size:{default:"16",type:String},title:{default:null,type:String}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},31490:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("svg",t._b({staticClass:"tm-svg-img",attrs:{height:t.height||t.size,width:t.width||t.size}},"svg",t.svgAttrs,!1),[t.iconTitle?e("title",[t._v(t._s(t.iconTitle))]):t._e(),t._v(" "),e("use",{attrs:{"xlink:href":t.src}})])},i=[];const a="/img/megazord-v28.faec9762..svg",o=["placeholder-user","placeholder-company","placeholder-hub","placeholder"],r={name:"TMSvgImg",inheritAttrs:!1,props:{id:{required:!0,type:String},size:{default:"16",type:[String,Number]},width:{default:null,type:[Number,String]},height:{default:null,type:[Number,String]},title:{type:String,default:null},svgAttrs:{type:Object,default(){return{}}}},computed:{src(){return"/"!==this.id.charAt(0)?`${a}#${this.id}`:this.id},iconTitle(){if(this.title)return this.title;const t="/"===this.id.charAt(0),e=t?this.id.split("#")[1]:this.id;if(-1===o.indexOf(e)){const t=`ICON_${e.split("-").join("_").toUpperCase()}`;return this.msg(t)}return null}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},86951:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"swiper-slide"},[t._t("default")],2)},i=[];const a={name:"TMSwiperSlide"},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},15946:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>_});var n=function(){var t=this,e=t._self._c;return e("div",{ref:"swiper",staticClass:"swiper-container",style:t.style},[e("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),t._v(" "),t.pagination?e("div",{staticClass:"swiper-pagination"}):t._e(),t._v(" "),t.navigation?[e("button",{staticClass:"swiper-button-prev"},[e("TMSvgIcon",{staticClass:"swiper-button-icon",attrs:{id:"arrow-back",size:"24",title:t.msg("NAV_LEFT")}})],1),t._v(" "),e("button",{staticClass:"swiper-button-next"},[e("TMSvgIcon",{staticClass:"swiper-button-icon",attrs:{id:"arrow-back",size:"24",title:t.msg("NAV_RIGHT")}})],1)]:t._e()],2)},i=[],a=s(30172),o=s(52997),r=s(7649),l=s(95186),c=s(33936);a.Z.use([o.Z,r.Z,l.Z]);const m={name:"TMSwiper",components:{TMSvgIcon:c.Z},props:{slidesPerView:{type:[Number,String],default:"auto"},pagination:{type:[Boolean,Object],default:null},autoHeight:{type:Boolean,default:!1},autoplay:{type:Object,default(){return{enabled:!1}}},navigation:{type:[Boolean,Object],default:!1},spaceBetween:{type:Number,default:0},breakpoints:{type:Object,default:null},initialSlide:{type:Number,default:0},activeSlide:{type:Number,default:0},centeredSlides:{type:Boolean,default:!1},threshold:{type:Number,default:5}},data(){return{swiperInstance:null}},computed:{style(){return{"--swiper-space-between":`${this.spaceBetween}px`}}},watch:{activeSlide(t){this.swiperInstance.activeIndex!==t&&this.swiperInstance.slideTo(t)}},mounted(){const{autoHeight:t,autoplay:e,slidesPerView:s,spaceBetween:n,breakpoints:i,initialSlide:o,centeredSlides:r,pagination:l,navigation:c,threshold:m}=this;let u=!!l&&{el:".swiper-pagination",clickable:!0};"object"===typeof l&&(u={...u,...l});let d=!1;c&&(d={nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-lock"});const p={slidesPerView:s,spaceBetween:n,breakpoints:i,pagination:u,navigation:d,autoHeight:t,autoplay:e,initialSlide:o,centeredSlides:r,threshold:m,on:{slideChange:this.slideChange}};this.swiperInstance=new a.Z(this.$refs.swiper,p)},beforeDestroy(){this.swiperInstance.destroy()},methods:{slideChange(){this.swiperInstance&&this.$emit("slideChange",this.swiperInstance.activeIndex)}}},u=m;var d=s(1001),p=(0,d.Z)(u,n,i,!1,null,null,null);const _=p.exports},36355:(t,e,s)=>{"use strict";s.d(e,{Z:()=>S});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-tabs",class:t.bem("tm-tabs",{variant:t.variant})},[e("div",{ref:"scrollArea",class:{"tm-tabs__scroll-area":!t.noSpacers&&!t.shouldSplitTabs,"tm-tabs__padding-area":!t.noSpacers&&t.shouldSplitTabs}},t._l(t.slicedTabs,(function(s,n){return e("span",{key:`tab_${n}`,staticClass:"tm-tabs__tab-item"},[s.route.external?e("a",{staticClass:"tm-tabs__tab-link",class:t.bem("tm-tabs__tab-link",{slim:t.slim}),attrs:{href:s.route.path,target:s.route.target||"_self"}},[t._v("\n        "+t._s(s.title)+"\n      ")]):t.local?e("button",{staticClass:"tm-tabs__tab-link",class:t.bem("tm-tabs__tab-link",t.linkModifiers(s)),on:{click:function(e){return e.preventDefault(),t.handleNavigationChange(s)}}},[t._v("\n        "+t._s(s.title)+"\n      ")]):e("router-link",{staticClass:"tm-tabs__tab-link",class:t.bem("tm-tabs__tab-link",t.linkModifiers(s)),attrs:{"active-class":t.activeClassName,"data-test-id":t.checkTabActivity(s)?"tab-link-active":null,event:"",exact:t.exact,to:s.route},nativeOn:{click:function(e){return e.preventDefault(),t.handleNavigationChange(s)}}},[t._v("\n        "+t._s(s.title)+"\n        "),s.count?e("span",{staticClass:"tm-tabs__tab-counter"},[t._v("\n          "+t._s(t.getCount(s.count))+"\n        ")]):t._e(),t._v(" "),void 0!==s.countNew?e("span",{staticClass:"tm-tabs__tab-counter-new"},[t._v("\n          "+t._s(s.countNew>0?`+${s.countNew}`:"")+"\n        ")]):t._e()])],1)})),0),t._v(" "),t.shouldSplitTabs?e("div",{staticClass:"tm-tabs__dropdown"},[e("TMNavigationDropdown",{attrs:{"current-value":t.$route.name,"custom-title":t.msg("MORE"),options:t.extraMenuTabs,variant:"tabs"},on:{change:t.handleNavigationChange}})],1):t._e()])},i=[],a=s(20629),o=s(76881),r=s(31490),l=s(24646);function c(t){return(0,l.Xq)(t.name)||(0,l.Xq)(t.path)}function m(t){return c(t.route)&&(0,l.HD)(t.title)}function u(t){return t.every(m)}const d={required:!0,type:Array,validator:u};var p=s(65873),_=s(13836);const h={name:"TMTabs",components:{TMSvgImg:r.Z,TMNavigationDropdown:o.Z},props:{tabs:d,tabsCount:{type:Number,default:null},variant:{type:String,default:null},exact:{type:Boolean,default:!1},exactMeta:{type:Boolean,default:!1},hideEmptyTabs:{type:Boolean,default:!1},local:Boolean,localActive:{type:String,default:null},noSpacers:Boolean,slim:Boolean},computed:{...(0,a.Se)("global",["isMobile"]),...(0,a.rn)("global",["isPwa"]),filteredTabs(){return this.hideEmptyTabs?this.tabs.filter((t=>0!==t.count||t.isShowAlways)):this.tabs},shouldSplitTabs(){return!this.isMobile&&this.tabsCount&&this.filteredTabs.length>this.tabsCount},slicedTabs(){return this.shouldSplitTabs?this.filteredTabs.slice(0,this.tabsCount):this.filteredTabs},extraMenuTabs(){return this.shouldSplitTabs?this.filteredTabs.slice(this.tabsCount).map((t=>({label:t.title,value:t.route.name,...t}))):[]},activeClassName(){return"companies_list"===this.$route.meta.pageType?"tm-tabs__tab-link_active":""}},mounted(){this.shouldSplitTabs||this.scrollTab()},methods:{linkModifiers(t){return{active:this.checkTabActivity(t),slim:this.slim}},checkTabActivity(t){return this.local?this.localActive===t.route.name:this.isActive(t)||this.isParentRouteActive(t.route)},handleNavigationChange(t){this.local?this.$emit("update:localActive",t.route.name):this.isPwa?this.$router.replace(t.route):this.$router.push(t.route)},isParentRouteActive(t){return!this.exact&&this.$route.matched.some((e=>e.name===t.name))},isActive(t){var e;if(null!==(e=t.route.params)&&void 0!==e&&e.category)return this.$route.params.category===t.route.params.category;if(t.route.params&&t.route.params.topic)return this.$route.params.topic===t.route.params.topic;if(t.route.params&&t.route.params.alias)return this.$route.params.alias===t.route.params.alias;if(t.route.query&&t.route.query.target_type)return this.$route.query.target_type?this.$route.query.target_type===t.route.query.target_type:"posts"===t.route.query.target_type;if(t.children&&t.children.length){const e=t.children.map((t=>`${t}_PAGES`)).concat(t.children);return-1!==e.indexOf(this.$route.name)}return this.$route.name===t.route.name||this.$route.name===`${t.route.name}_PAGES`},getCount(t){return t&&0!==Number(t)?(0,_.O)(t):""},scrollTab(){const{scrollArea:t}=this.$refs,e=t.querySelector(".tm-tabs__tab-link_active");if(t.scrollWidth<t.clientWidth||!e)return;const{x:s,right:n}=e.parentElement.getBoundingClientRect(!0);n<t.clientWidth||s<0||this.$refs.scrollArea.scroll(s-16,0)},bem:p.P}},g=h;var T=s(1001),v=(0,T.Z)(g,n,i,!1,null,null,null);const S=v.exports},11648:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("TMSeparatedList",{attrs:{"has-show-all":t.hasShowAll,list:t.tagsWithRoutes,title:t.title},scopedSlots:t._u([{key:"default",fn:function({item:s}){return[e("router-link",{staticClass:"tm-tags-list__link",attrs:{to:s.route},domProps:{innerHTML:t._s(s.titleHtml)}})]}}])})},i=[],a=s(1396);const o={name:"TMTagsList",components:{TMSeparatedList:a.Z},props:{tags:{type:Array,required:!0},title:{type:String,required:!0},hasShowAll:{type:Boolean,default:!1}},computed:{tagsWithRoutes(){return this.tags.map((t=>({...t,route:{name:"SEARCH_QUERY_RESULTS",query:{target_type:"posts",order:"relevance",q:`[${t.titleHtml}]`}}})))}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},31726:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"component",staticClass:"tm-title",class:{[`tm-title_${t.tag}`]:!0},attrs:{lang:t.lang}},[t.useLink?[t.externalLink?e("a",t._b({staticClass:"tm-title__link",attrs:{href:t.to},on:{"!click":function(e){return t.$emit("link-click",e)}}},"a",t.linkProps,!1),[e("span",{domProps:{innerHTML:t._s(t.title)}})]):e("router-link",t._b({staticClass:"tm-title__link",attrs:{to:t.to},on:{"!click":function(e){return t.$emit("link-click",e)}}},"router-link",t.linkProps,!1),[e("span",{domProps:{innerHTML:t._s(t.title)}})])]:e("span",{domProps:{innerHTML:t._s(t.title)}})],2)},i=[],a=s(4307);const o={name:"TMTitle",components:{TMPublicationLink:a.Z},props:{tag:{type:String,default:"h2"},to:{type:[Object,String],default:null},useLink:{type:Boolean,default:!1},title:{type:String,required:!0},linkProps:{type:Object,default:()=>{}},lang:{type:String,default:null},externalLink:{type:Boolean,default:!1}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},72584:(t,e,s)=>{"use strict";s.d(e,{Z:()=>F});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-user-card",class:t.bem("tm-user-card",{variant:t.variant})},[e("div",{staticClass:"tm-user-card__info-container"},[e("div",{staticClass:"tm-user-card__header"},[e("div",{staticClass:"tm-user-card__header-data"},[e("router-link",{staticClass:"tm-user-card__userpic",class:`tm-user-card__userpic_size-${t.avatarSize}`,attrs:{to:t.profileRoute}},[e("TMEntityImage",{attrs:{alias:t.user.alias,image:t.user.avatarUrl,type:"user"}})],1),t._v(" "),e("div",{staticClass:"tm-user-card__meta"},[t.showKarma?e("TMKarma",{attrs:{user:t.user},on:{change:t.onKarmaChange,closeVotesDialog:function(e){return t.$emit("closeVotesDialog")},openVotesDialog:function(e){return t.$emit("openVotesDialog")}}}):t._e(),t._v(" "),t.user.isReadonly?t._e():e("TMRating",{attrs:{score:t.user.rating,title:t.msg("USER_RATING")}})],1)],1)]),t._v(" "),e("div",{staticClass:"tm-user-card__info",class:t.bem("tm-user-card__info",{variant:t.variant})},[e("div",{staticClass:"tm-user-card__title",class:t.bem("tm-user-card__title",{variant:t.variant})},[t.user.fullname?e("span",{staticClass:"tm-user-card__name",class:t.bem("tm-user-card__name",{variant:t.variant}),domProps:{innerHTML:t._s(t.user.fullname)}}):t._e(),t._v(" "),e("router-link",{staticClass:"tm-user-card__nickname",class:t.bem("tm-user-card__nickname",{variant:t.variant}),attrs:{to:t.profileRoute}},[t._v("\n          @"+t._s(t.user.alias)+"\n        ")]),t._v(" "),t.user.isReadonly?e("sup",{staticClass:"tm-user-card__status"},[t._v("\n          "+t._s(t.msg("READ_ONLY"))+"\n        ")]):t._e()],1),t._v(" "),e("p",{staticClass:"tm-user-card__short-info",class:t.bem("tm-user-card__short-info",{variant:t.variant}),domProps:{innerHTML:t._s(t.userSpeciality)}})])]),t._v(" "),e("div",{staticClass:"tm-user-card__buttons",class:t.bem("tm-user-card__buttons",{variant:t.variant})},[t.showIssueInviteButton?e("TMUserInviteControl",{staticClass:"tm-user-card__button",attrs:{user:t.user},on:{invited:t.onUserInvited}}):t._e(),t._v(" "),!t.isLoggedIn||t.isItMe||t.user.isReadonly?t._e():e("div",{staticClass:"tm-user-card__button"},[e("TMButtonFollow",{staticClass:"tm-user-card__button-follow",attrs:{subscribed:t.isSubscribed,"use-follow-label":!0},on:{onToggle:t.toggleFollow}})],1),t._v(" "),t.isLoggedIn&&!t.isItMe?e("router-link",{staticClass:"tm-user-card__button tm-user-card__button_write",attrs:{to:t.getConversationLink(t.user.alias)}},[e("TMSvgImg",{staticClass:"tm-user-card__button-icon",attrs:{id:"mail"}})],1):t._e(),t._v(" "),t.isSuperAdmin?e("TMAdministrationLinks",{staticClass:"tm-user-card__button",attrs:{links:t.userLinksItems}}):t._e()],1)])},i=[],a=s(20629),o=s(17903),r=s(410),l=s(51153),c=function(){var t=this,e=t._self._c;return e("TMCounterContainer",{staticClass:"tm-karma",class:t.bem("tm-karma",{"allowed-vote":t.isAllowedToVote}),attrs:{title:t.msg("VOTES_COUNT",{count:t.votesCount})},scopedSlots:t._u([{key:"header",fn:function(){return[t.isAllowedToVote?e("TMVotesLever",{staticClass:"tm-karma__votes-switcher",attrs:{appearance:"karma","is-loading":t.isKarmaLoading||t.isLoadingReasonsList,"is-natural":!0,score:t.score,"vote-state":t.voteState},on:{downvote:t.showVotePopup,upvote:function(e){return t.triggerVote(1)}}}):e("div",{staticClass:"tm-karma__votes",class:{"tm-karma__votes_positive":t.score>0,"tm-karma__votes_negative":t.score<0}},[t._v("\n      "+t._s(t.score)+"\n    ")])]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticClass:"tm-karma__text"},[t._v("\n      "+t._s(t.msg("POINTS_LABEL_KARMA"))+"\n    ")]),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[t.isOpenArticleVote?e("TMPopup",{attrs:{title:t.msg("KARMA_REASON_DOWNVOTE")},on:{close:t.closePopup}},[t.isOpenSuccessPopup?e("div",{domProps:{textContent:t._s(t.msg("ARTICLE_REASON_SUCCESS"))}}):e("TMMinusReason",{attrs:{"is-multiple":!0,"is-vote-loading":t.isKarmaLoading,"reasons-list":t.userReasonsList},on:{downVote:t.downVote}})],1):t._e()],1)]},proxy:!0}])})},m=[],u=s(21913),d=s(13497),p=s(6109),_=s(8130),h=s(23159),g=s(65873),T=s(8065),v=s(26452);const S={name:"TMKarma",components:{TMCounterContainer:u.Z,TMVotesLever:_.Z,TMPopup:p.Z,TMMinusReason:d.Z},props:{user:h.Z},data(){return{isKarmaLoading:!1,isLoadingReasonsList:!1,isOpenArticleVote:!1,isOpenSuccessPopup:!1}},computed:{...(0,a.rn)("articlesList/karma",["userReasonsList"]),...(0,a.rn)("me",{currentUser:t=>t.user}),...(0,a.Se)("i18n",["langOptions"]),score(){return this.user.scoreStats&&this.user.scoreStats.score||0},votesCount(){return this.user.scoreStats&&this.user.scoreStats.votesCount||0},isAllowedToVote(){return this.user.relatedData&&this.user.relatedData.canVote},voteState(){return this.user.relatedData&&this.user.relatedData.vote&&this.user.relatedData.vote.value||0}},watch:{isOpenArticleVote(t){this.$emit(t?"openVotesDialog":"closeVotesDialog")}},methods:{...(0,a.nv)("articlesList/karma",["vote","loadUserReasonsList"]),...(0,a.nv)("users",["updateKarmaInfo"]),bem:g.P,downVote(t){this.triggerVote(-1,t)},triggerVote(t,e=null){const s=1===t?"up":"down",n="vote_karma_"+(1===t?"plus":"minus");this.isKarmaLoading=!0,this.vote({id:this.user.alias,value:t,reasons:e}).then((t=>{(0,T.IZ)(n),e&&(this.isOpenSuccessPopup=!0,setTimeout((()=>{this.isOpenSuccessPopup=!1,this.isOpenArticleVote=!1}),3e3));const i={direction:s,karmaData:t};this.$emit("change",i),this.updateKarmaInfo({userAlias:this.user.alias,...i}),this.isKarmaLoading=!1})).catch((t=>{let e=null;const s=(0,v.getErrorCode)(t);"VOTER_NOT_BE_EVIL"===s&&(e={username:this.currentUser.alias});let n=this.msg(`EXTERNAL_${s}`,e);"▇▅▄▅▅▄ ▇▄▅"===n&&t.message&&(n=t.message),this.isKarmaLoading=!1,this.$toast.error(n)}))},showVotePopup(){this.isLoadingReasonsList=!0,this.loadUserReasonsList().then((()=>{this.isOpenArticleVote=this.isAllowedToVote})).catch((t=>{this.$toast.error(t.message)})).finally((()=>{this.isLoadingReasonsList=!1}))},closePopup(){this.isOpenArticleVote=!1}}},f=S;var E=s(1001),I=(0,E.Z)(f,c,m,!1,null,null,null);const C=I.exports;var A=s(70874),b=s(31490),y=function(){var t=this,e=t._self._c;return!t.isLoading&&t.canInvite?e("TMButtonBase",{attrs:{"style-size":"medium","style-type":"solid",type:"button"},on:{click:t.issueUserInvite}},[t._v("\n  "+t._s(t.msg("GIVE_INVITE"))+"\n")]):t._e()},P=[],L=s(37522);const O={name:"TMUserInviteControl",components:{TMButtonBase:o.Z},props:{user:{type:Object,required:!0}},data(){return{isLoading:!0}},computed:{...(0,a.rn)("me",{currentUser:"user"}),canInvite(){return this.currentUser.availableInvitesCount>0}},mounted(){this.loadInvitesList().then((()=>{this.isLoading=!1})).catch((t=>{this.isLoading=!1,(0,L.T)(t)}))},methods:{...(0,a.nv)("userInvites",["loadInvitesList"]),...(0,a.nv)("me",["issueInviteByUserAlias"]),issueUserInvite(){const t=window.confirm(this.msg("CONFIRM_INVITE"));return!!t&&this.issueInviteByUserAlias(this.user.alias).then((()=>{this.$toast.success(this.msg("INVITE_HAS_BEEN_SENT")),this.$emit("invited")})).catch((t=>{this.$toast.error(t.message)}))}}},N=O;var M=(0,E.Z)(N,y,P,!1,null,null,null);const R=M.exports;var k=s(19516);const w=()=>s.e(2328).then(s.bind(s,74574)),B={en:{EDIT_PROFILE:"Edit profile via CP",GIVE_INVITE:"Сharge an invite",INVITE_HAS_BEEN_SENT:"Invite has been charged",PPG_COMMENTS:"Force to pass PPG",PPG_SMILES:"Force to pass PIS",PPG_COMMENTS_HAS_BEEN_SENT:"User has been sent to PPG",PPG_SMILES_HAS_BEEN_SENT:"User has been sent to PIS",SEE_DRAFTS:"See drafts"},ru:{EDIT_PROFILE:"Редактировать профиль в CP",GIVE_INVITE:"Начислить инвайт",INVITE_HAS_BEEN_SENT:"Инвайт начислен",PPG_COMMENTS:"Заставить пройти ППГ",PPG_SMILES:"Заставить пройти ПИС",PPG_COMMENTS_HAS_BEEN_SENT:"Пользователь отправлен на ППГ",PPG_SMILES_HAS_BEEN_SENT:"Пользователь отправлен на ПИС",SEE_DRAFTS:"Посмотреть черновики"}},D=-31,x={name:"TMUserCard",components:{TMButtonFollow:r.Z,TMButtonBase:o.Z,TMEntityImage:l.Z,TMKarma:C,TMRating:A.Z,TMSvgImg:b.Z,TMAdministrationLinks:w,TMUserInviteControl:R},props:{user:h.Z,isDonateButtonVisible:Boolean,inviteButtonVisible:{type:Boolean,default:!0},variant:{type:String,default:""},avatarSize:{type:Number,default:48}},computed:{...(0,a.Se)("me",["isLoggedIn","isSuperAdmin","isReadOnlyOrReadAndComment"]),...(0,a.rn)("me",{currentUser:"user"}),showKarma(){var t;return this.$getFeatureFlag("KARMA_HINTS")?this.isItMe||(null===(t=this.user.scoreStats)||void 0===t?void 0:t.score)>D:!this.user.isReadonly},userLinksItems(){const{alias:t}=this.user,e=`https://habr.com/kek/admin/user/${t}/`;return[{title:B[this.langOptions.hl].EDIT_PROFILE,link:e},{title:B[this.langOptions.hl].GIVE_INVITE,onclick:this.sendInvite},{title:B[this.langOptions.hl].PPG_COMMENTS,onclick:t=>this.setUserPPG(t,"comments")},{title:B[this.langOptions.hl].PPG_SMILES,onclick:t=>this.setUserPPG(t,"smiles")},{title:B[this.langOptions.hl].SEE_DRAFTS,onclick:t=>this.goToUserDrafts(t)}]},userSpeciality(){return this.user.speciality||this.msg("USER")},isSubscribed(){return this.user.relatedData&&this.user.relatedData.isSubscribed},isItMe(){return this.isLoggedIn&&this.user.alias===this.currentUser.alias},showIssueInviteButton(){const{isLoggedIn:t,isItMe:e}=this;return this.inviteButtonVisible&&t&&!e&&this.user.canBeInvited},profileRoute(){return{name:"USER_PROFILE",params:{login:this.user.alias}}}},methods:{...(0,a.nv)("users",["loadUserInfo","loadProfileInfo","toggleSubscribeStatus"]),bem:g.P,onUserInvited(){this.loadUserInfo({alias:this.user.alias,force:!0})},onKarmaChange(t){this.$emit("karmachange",t)},getConversationLink(t){return{name:"CONVERSATION_MESSAGES",params:{login:t.toLowerCase()}}},goToUserDrafts(t){t.preventDefault(),this.$router.push({name:"ARTICLES_DRAFTS_LIST_BY_USER",params:{login:this.user.alias}})},sendInvite(t){t.preventDefault(),(0,k.dZ)(this.user.alias).then((()=>{this.$toast.success(B[this.langOptions.hl].INVITE_HAS_BEEN_SENT)})).catch((t=>{this.$toast.error(t.message)}))},setUserPPG(t,e){t.preventDefault(),(0,k.S6)(this.user.alias,e).then((()=>{const t=`PPG_${e.toUpperCase()}_HAS_BEEN_SENT`;this.$toast.success(B[this.langOptions.hl][t])})).catch((t=>{this.$toast.error(t.message)}))},toggleFollow(){const{isSubscribed:t}=this.user.relatedData;this.toggleSubscribeStatus({alias:this.user.alias,isSubscribed:t}).then((()=>{this.$emit("change:isSubscribed",this.user.relatedData.isSubscribed)})).catch((t=>{this.$toast.error(t.message)}))}}},$=x;var U=(0,E.Z)($,n,i,!1,null,null,null);const F=U.exports},87843:(t,e,s)=>{"use strict";s.d(e,{Z:()=>p});var n=function(){var t=this,e=t._self._c;return e("span",{staticClass:"tm-user-info"},[e("router-link",{staticClass:"tm-user-info__userpic",attrs:{title:t.author.alias||t.author.login,to:t.authorRoute},nativeOn:{mouseenter:function(e){return t.$emit("mouseenter",e)},mouseleave:function(e){return t.$emit("mouseleave",e)}}},[e("TMEntityImage",{attrs:{alias:t.author.alias||t.author.login,image:t.getAuthorAvatar,size:t.avatarSize,type:"user"}})],1),t._v(" "),e("span",{class:t.bem("tm-user-info__user",{appearance:t.loginAppearance})},[e("router-link",{staticClass:"tm-user-info__username",attrs:{to:t.authorRoute},nativeOn:{mouseenter:function(e){return t.$emit("mouseenter",e)},mouseleave:function(e){return t.$emit("mouseleave",e)}}},[t._v("\n      "+t._s(t.author.alias||t.author.login)+"\n      "),t.realAuthor?e("span",{staticClass:"tm-user-info__realauthor"},[t._v("\n        ("+t._s(t.realAuthor.alias)+")\n      ")]):t._e()]),t._v(" "),t._t("default")],2)],1)},i=[],a=s(51153),o=s(65873),r=s(28287),l=s(59436);const c={name:"TMUserInfo",components:{TMEntityImage:a.Z},props:{author:{required:!0,type:Object},avatar:{type:String,default:null},avatarSize:{type:Number,default:24},realAuthor:{required:!1,type:Object,default:null},loginAppearance:{type:String,default:"default",validator:(0,l.H)(["default","post"])},resizeImage:{type:Boolean,default:!0}},computed:{getAuthorAvatar(){const t=this.author.avatarUrl||this.avatar;return this.resizeImage?(0,r.dv)(t,2*this.avatarSize):t},realAuthorRoute(){return{name:"USER_PROFILE",params:{login:this.realAuthor.alias||this.realAuthor.login,hl:this.$route.params.hl}}},authorRoute(){return{name:"USER_PROFILE",params:{login:this.author.alias||this.author.login,hl:this.$route.params.hl}}}},methods:{bem:o.P}},m=c;var u=s(1001),d=(0,u.Z)(m,n,i,!1,null,null,null);const p=d.exports},32657:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>d});var n=function(){var t=this,e=t._self._c;return t.isVisible?e("div",{staticClass:"tm-user-notice",class:t.bem("tm-user-notice",{variant:t.notice.level,bordered:t.bordered,slim:t.slim,colorless:t.colorless,noMargins:t.noMargins})},[e("div",{staticClass:"tm-user-notice__icon-wrapper"},[e("TMSvgImg",{staticClass:"tm-user-notice__icon",attrs:{id:t.icon,size:"24"}})],1),t._v(" "),e("div",{staticClass:"tm-user-notice__container"},[t.title?e("div",{staticClass:"tm-user-notice__title",domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t.$slots.default?t._e():e("div",{staticClass:"tm-user-notice__message",domProps:{innerHTML:t._s(t.message)}}),t._v(" "),t._t("default")],2),t._v(" "),t.notice.isPermanent?t._e():e("div",{staticClass:"tm-user-notice__close"},[e("button",{staticClass:"tm-user-notice__close-button",on:{click:t.hide}},[e("TMSvgImg",{staticClass:"tm-user-notice__close-icon",attrs:{id:"close-rounded",size:"24"}})],1)])]):t._e()},i=[],a=s(31490),o=s(65873);const r={error:"user-notice-error",warning:"user-notice-warning",info:"user-notice-info"},l={name:"TMUserNotice",components:{TMSvgImg:a.Z},props:{notice:{type:Object,required:!0},bordered:Boolean,colorless:Boolean,slim:Boolean,noMargins:Boolean},data(){return{isVisible:!0}},computed:{message(){return this.notice.message||this.msg(`USER_NOTICE_MESSAGE_${this.notice.type}`,{host:"https://habr.com"})},title(){return this.notice.title||null},icon(){return r[this.notice.level]}},methods:{bem:o.P,hide(){this.isVisible=!1}}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},42028:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return t.seoLandings&&t.seoLandings.length?e("TMBlock",{attrs:{spacing:t.spacing,title:t.msg("VACANCIES_BLOCK_TITLE")},scopedSlots:t._u([{key:"default",fn:function(){return t._l(t.seoLandings,(function(s){return e("div",{key:s.itemUrl,staticClass:"tm-vacancies-block__item"},[e("a",{staticClass:"tm-vacancies-block__vacancy-title",attrs:{href:s.itemUrl,target:"_blank"}},[t._v("\n        "+t._s(s.title)+"\n      ")]),t._v(" "),e("div",{staticClass:"tm-vacancies-block__vacancies-count"},[t._v("\n        "+t._s(t.msg("VACANCIES_COUNT",{count:s.vacanciesCount}))+"\n      ")])])}))},proxy:!0},{key:"footer",fn:function(){return[e("a",{staticClass:"tm-block-extralink",attrs:{href:t.careerUrl}},[t._v("\n      "+t._s(t.msg("VACANCIES_BLOCK_ALL_LINK"))+"\n    ")])]},proxy:!0}],null,!1,3283846063)}):t._e()},i=[],a=s(20629),o=s(17907);const r={name:"TMVacanciesBlock",components:{TMBlock:o.Z},props:{hubs:{type:Array,required:!0},spacing:{type:String,default:"around"}},asyncData({store:t}){return t.dispatch("career/loadSeoLandings",{hubs:this.hubs.join(",")}).catch((()=>null))},data(){return{careerUrl:"https://career.habr.com/catalog"}},computed:{...(0,a.rn)("career",["seoLandings"])}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},8130:(t,e,s)=>{"use strict";s.d(e,{Z:()=>h});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-votes-lever",class:t.bem("tm-votes-lever",{appearance:t.appearance}),attrs:{title:t.title}},[t.canVotePlus||t.isInComment?e("button",{staticClass:"tm-votes-lever__button",attrs:{disabled:t.voteState>0||t.isLoading,title:t.msg("DATA_ICONS_LIKE"),type:"button"},on:{click:t.upvote}},[e("TMSvgImg",{staticClass:"tm-votes-lever__icon",class:{"tm-votes-lever__icon_upvote":t.voteState>0},attrs:{id:"counter-vote",size:"24"}})],1):t._e(),t._v(" "),e("div",{staticClass:"tm-votes-lever__score",class:t.bem("tm-votes-lever__score",{appearance:t.appearance}),on:{click:function(e){return t.$emit("scoreClick")}}},[t.isLoading?e("TMCircleLoader",{attrs:{"circle-height":12,"circle-width":12,height:18,width:12}}):t._t("default",(function(){return[t.isInComment?[t.isLoggedIn?e("span",{staticClass:"tm-votes-lever__score-counter",class:t.bem("tm-votes-lever__score-counter",t.counterModifiers)},[t._v("\n          "+t._s(t.formatted?t.formatNumber(t.score):t.score)+"\n        ")]):e("div",{staticClass:"tm-votes-lever__score-fallback",on:{click:t.sendGaAndFireEvent}},[e("TMSvgImg",{attrs:{id:"votes-fallback",height:18,title:t.msg("ICON_VOTES_FALLBACK"),width:32}})],1)]:e("span",[e("span",{staticClass:"tm-votes-lever__score-counter",class:t.bem("tm-votes-lever__score-counter",t.counterModifiers)},[t._v("\n          "+t._s(t.formatted?t.formatNumber(t.score):t.score)+"\n        ")])])]}))],2),t._v(" "),t.canVoteMinus||t.isInComment?e("button",{staticClass:"tm-votes-lever__button",attrs:{disabled:t.voteState<0||t.isLoading,title:t.msg("DATA_ICONS_DISLIKE"),type:"button"},on:{click:t.downvote}},[e("TMSvgImg",{staticClass:"tm-votes-lever__icon tm-votes-lever__icon_arrow-down",class:{"tm-votes-lever__icon_downvote":t.voteState<0},attrs:{id:"counter-vote",size:"24"}})],1):t._e()])},i=[],a=s(20629),o=s(2681),r=s(31490),l=s(65873),c=s(13836),m=s(8065);const u={name:"TMVotesLever",components:{TMCircleLoader:o.Z,TMSvgImg:r.Z},props:{score:{required:!0,type:Number},voteState:{type:Number,required:!1,default:null},votesCount:{type:Number,default:0},noVotesTitle:{type:String,default:null},appearance:{type:String,required:!0,validator(t){return["article","karma","comment","rating","grade"].includes(t)}},isLoading:{type:Boolean,default:!1},isPlusified:{type:Boolean,default:!1},canVoteMinus:{type:Boolean,default:!0},canVotePlus:{type:Boolean,default:!0},formatted:{type:Boolean,default:!0}},computed:{...(0,a.Se)("me",["isLoggedIn"]),title(){return!this.isLoggedIn&&this.isInComment?"":this.votesCount>0?this.msg("ARTICLE_REASON_TOTAL",{total:this.votesCount,positive:(this.votesCount+this.score)/2,negative:(this.votesCount-this.score)/2}):this.noVotesTitle},counterModifiers(){return["rating","grade"].includes(this.appearance)?{rating:"rating"===this.appearance,grade:"grade"===this.appearance}:{negative:this.score<0,positive:this.score>0}},isInComment(){return"comment"===this.appearance}},methods:{bem:l.P,sendGaAndFireEvent(t){(0,m.IZ)("click_hidden_comment"),this.$emit("open-comment-hint",t.currentTarget)},upvote(t){this.$emit("upvote",t.target),t.target.blur()},downvote(t){this.$emit("downvote",t.target),t.target.blur()},formatNumber(t){return this.isPlusified?(0,c.j)(t):(0,c.O)(t)}}},d=u;var p=s(1001),_=(0,p.Z)(d,n,i,!1,null,null,null);const h=_.exports},20998:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-votes-meter"},[e("TMSvgImg",{staticClass:"tm-votes-meter__icon",class:t.iconClassName,attrs:{id:t.iconId,size:"24",title:t.iconTitle}}),t._v(" "),e("span",{staticClass:"tm-votes-meter__value",class:t.valueClassName,attrs:{title:t.title},domProps:{textContent:t._s(t.scoreFormatted)}})],1)},i=[],a=s(31490),o=s(65873),r=s(13836);const l={name:"TMVotesMeter",components:{TMSvgImg:a.Z},props:{score:{required:!0,type:Number},noVotesTitle:{type:String,default:null},voteState:{required:!0,type:Number},votesCount:{type:Number,default:0},appearance:{type:String,required:!0,validator(t){return["article","karma","comment"].includes(t)}}},computed:{title(){return this.votesCount>0?this.msg("ARTICLE_REASON_TOTAL",{total:this.votesCount,positive:(this.votesCount+this.score)/2,negative:(this.votesCount-this.score)/2}):this.noVotesTitle},iconTitle(){return this.voteState>0?this.msg("DATA_ICONS_VOTE_UP"):this.voteState<0?this.msg("DATA_ICONS_VOTE_DOWN"):this.title},iconClassName(){return this.bem("tm-votes-meter__icon",{positive:this.voteState>0,negative:this.voteState<0,appearance:this.appearance})},valueClassName(){return this.bem("tm-votes-meter__value",{positive:this.score>0,negative:this.score<0,appearance:this.appearance,rating:0===this.voteState})},iconId(){return 0===this.voteState?"counter-rating":"counter-vote"},scoreFormatted(){return(0,r.j)(this.score)}},methods:{bem:o.P}},c=l;var m=s(1001),u=(0,m.Z)(c,n,i,!1,null,null,null);const d=u.exports},1107:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("article",{staticClass:"tm-widget-applications__card"},[e("aside",{staticClass:"tm-widget-applications__aside"},[e("img",{staticClass:"tm-widget-applications__image",attrs:{alt:"",src:t.application.imageUrl}})]),t._v(" "),e("div",{staticClass:"tm-widget-applications__body"},[e("h3",{staticClass:"tm-widget-applications__card-title",domProps:{innerHTML:t._s(t.application.title)}}),t._v(" "),e("p",{staticClass:"tm-widget-applications__card-description",domProps:{innerHTML:t._s(t.application.descriptionHtml)}}),t._v(" "),e("ul",{staticClass:"tm-widget-applications__card-links"},t._l(t.application.links,(function(s){return e("li",{key:`${s.title}-${s.linkUrl}`,staticClass:"tm-widget-applications__card-link-item"},[e("a",{staticClass:"tm-widget-applications__card-link",attrs:{href:s.linkUrl,rel:"nofollow noreferrer",target:"_blank"},domProps:{innerHTML:t._s(s.title)}})])})),0)])])},i=[];const a={name:"TMWidgetApplication",props:{application:{type:Object,required:!0}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},5242:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("WIDGET_APPLICATIONS")}},[e("ul",{staticClass:"tm-widget-applications__list"},t._l(t.widgetData.applications,(function(t){return e("li",{key:t.title,staticClass:"tm-widget-applications__item"},[e("TMWidgetApplication",{attrs:{application:t}})],1)})),0)])},i=[],a=s(17907),o=s(1107);const r={name:"TMWidgetApplications",components:{TMBlock:a.Z,TMWidgetApplication:o.Z},props:{widgetData:{type:Object,required:!0}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},78215:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-widget-banner-content"},[e(t.widgetData.imageLinkUrl?"a":"span",{tag:"component",staticClass:"tm-widget-banner-content__image-wrapper",attrs:{href:t.widgetData.imageLinkUrl}},[e("img",{staticClass:"tm-widget-banner-content__image",class:t.imageClasses,attrs:{alt:"",src:t.widgetData.imageUrl}})]),t._v(" "),t.widgetData.textHtml?e("div",{staticClass:"tm-widget-banner-content__message",class:t.messageClasses,domProps:{innerHTML:t._s(t.widgetData.textHtml)}}):t._e()],1)},i=[];const a={name:"TMWidgetBannerContent",props:{widgetData:{type:Object,required:!0}},computed:{messageClasses(){const{textAlign:t}=this.widgetData;return t?`tm-widget-banner-content__message_align-${t}`:null},imageClasses(){const{textAlign:t}=this.widgetData;return t?`tm-widget-banner-content__image_align-${t}`:null}}},o=a;var r=s(1001),l=(0,r.Z)(o,n,i,!1,null,null,null);const c=l.exports},55127:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{"header-variant":"borderless",title:t.msg("WIDGET_BANNER")}},[e("TMWidgetBannerContent",{attrs:{"widget-data":t.widgetData}})],1)},i=[],a=s(17907),o=s(78215);const r={name:"TMWidgetBanner",components:{TMBlock:a.Z,TMWidgetBannerContent:o.Z},props:{widgetData:{type:Object,required:!0}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},94497:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("WIDGET_FACEBOOK")}},[e("iframe",{staticStyle:{border:"none",overflow:"hidden"},attrs:{allowTransparency:"true",frameborder:"0",height:"220",scrolling:"no",src:t.src,width:"100%"}})])},i=[],a=s(17907);const o={name:"TMWidgetFacebook",components:{TMBlock:a.Z},props:{widgetData:{type:Object,required:!0}},computed:{src(){const{linkUrl:t}=this.widgetData,e="width=260&height=300&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId";return`https://www.facebook.com/plugins/page.php?href=${t}&${e}`}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},33700:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("WIDGET_LINKS")}},[e("ul",{staticClass:"tm-widget-links__list"},t._l(t.widgetData.links,(function(s){return e("li",{key:`${s.title}-${s.linkUrl}`,staticClass:"tm-widget-links__item"},[e("a",{staticClass:"tm-widget-links__link",attrs:{href:s.linkUrl,rel:"nofollow noreferrer",target:"_blank"},domProps:{innerHTML:t._s(s.title)}}),t._v(" "),e("small",{staticClass:"tm-widget-links__host",domProps:{textContent:t._s(s.linkHost)}})])})),0)])},i=[],a=s(17907);const o={name:"TMWidgetLinks",components:{TMBlock:a.Z},props:{widgetData:{type:Object,required:!0}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},57921:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{level:"2",tag:"aside",title:t.msg("WIDGET_NEWS")}},[e("ul",{staticClass:"tm-widget-news__list"},t._l(t.news,(function(s){return e("li",{key:`${s.title}-${s.linkUrl}`,staticClass:"tm-widget-news__item"},[e("a",{staticClass:"tm-widget-news__link",attrs:{href:s.linkUrl,rel:"nofollow noreferrer",target:"_blank"},domProps:{innerHTML:t._s(s.title)}}),t._v(" "),e("small",{staticClass:"tm-widget-news__date"},[e("TMDatetime",{attrs:{date:s.date}})],1)])})),0)])},i=[],a=s(17907),o=s(76068);const r={name:"TMWidgetNews",components:{TMDatetime:o.Z,TMBlock:a.Z},props:{widgetData:{type:Object,required:!0}},computed:{news(){return this.widgetData.news.map((t=>({...t,date:new Date(t.date)})))}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},5490:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("WIDGET_TWITTER")}},[e("ul",{staticClass:"tm-widget-twitter__list"},t._l(t.tweets,(function(s){return e("li",{key:s.id,staticClass:"tm-widget-twitter__item"},[e("header",{staticClass:"tm-widget-twitter__header"},[e("a",{staticClass:"tm-widget-twitter__name",attrs:{href:`https://twitter.com/${s.user.displayName}`,rel:"noreferrer nofollow",target:"_blank"},domProps:{textContent:t._s(s.user.name)}}),t._v(" "),e("small",{staticClass:"tm-widget-twitter__date"},[e("a",{staticClass:"tm-widget-twitter__link",attrs:{href:s.tweetUrl,rel:"noreferrer nofollow",target:"_blank"}},[e("TMDatetime",{attrs:{date:s.date}})],1)])]),t._v(" "),e("p",{staticClass:"tm-widget-twitter__message",domProps:{innerHTML:t._s(s.text)}})])})),0),t._v(" "),e("a",{staticClass:"btn btn_solid btn_large tm-widget-twitter__follow-button",attrs:{href:t.twitterLink,rel:"nofollow noreferrer",target:"_blank"}},[t._v("\n    "+t._s(t.msg("WIDGET_TWITTER_FOLLOW",{name:t.widgetData.twitterName}))+"\n  ")])])},i=[],a=s(17907),o=s(76068);const r={name:"TMWidgetTwitter",components:{TMDatetime:o.Z,TMBlock:a.Z},props:{widgetData:{type:Object,required:!0}},computed:{tweets(){return this.widgetData.tweets.slice(0,3).map((t=>({...t,date:new Date(t.date)})))},twitterLink(){return`https://twitter.com/${this.widgetData.twitterName}`}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},27583:(t,e,s)=>{"use strict";s.d(e,{Z:()=>m});var n=function(){var t=this,e=t._self._c;return e("TMBlock",{attrs:{title:t.msg("WIDGET_VK")}},[e("script",{attrs:{async:"",src:"https://vk.com/js/api/openapi.js?63",type:"application/javascript"},on:{load:t.onLoad}}),t._v(" "),e("div",{attrs:{id:t.elementId}})])},i=[],a=s(17907);const o={name:"TMWidgetVK",components:{TMBlock:a.Z},props:{widgetData:{type:Object,required:!0},type:{type:String,required:!0}},data(){return{elementId:`widget-social-${Math.random()}`}},methods:{onLoad(){window.VK&&window.VK.Widgets&&window.VK.Widgets.Group&&window.VK.Widgets.Group(this.elementId,{mode:0,width:"260",height:"300",color1:"var(--romance)",color2:"var(--mine-shaft)",color3:"var(--horizon)"},this.widgetData.id)}}},r=o;var l=s(1001),c=(0,l.Z)(r,n,i,!1,null,null,null);const m=c.exports},65681:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>u});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-articles-subpage"},[e("TMArticlesFeed",{attrs:{"is-articles":!0},scopedSlots:t._u([{key:"afterArticle",fn:function({position:s,currentPage:n}){return[1!==s||1!==n||t.isFlEnglish?t._e():e("TMNewsBlock",{key:"news_block_1",attrs:{id:"news_block_1","data-navigatable":"","flow-name":t.flowName,"hub-name":t.hubName,tabindex:"0"}})]}}])})],1)},i=[],a=s(13685),o=s(80707);const r={components:{TMNewsBlock:o.Z,TMArticlesFeed:a.Z},asyncData({store:t,route:e}){return t.dispatch("articlesList/loadArticlesList",{route:e})},computed:{isFlEnglish(){return"en"===this.langOptions.fl},hubName(){return this.$route.params.hubName},flowName(){return this.$route.params.flowName}}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},29469:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>u});var n=function(){var t=this,e=t._self._c;return e("TMArticlesFeed",{scopedSlots:t._u([{key:"afterArticle",fn:function({position:s,currentPage:n}){return[1===s&&1===n?e("TMStories",{key:"stories_block_1",attrs:{id:"stories_block_1","ga-category":"stories_news",tabindex:"0"}}):t._e()]}}])})},i=[],a=s(13685),o=s(32170);const r={components:{TMArticlesFeed:a.Z,TMStories:o.Z},asyncData({store:t,route:e}){return t.dispatch("articlesList/loadArticlesList",{route:e})}},l=r;var c=s(1001),m=(0,c.Z)(l,n,i,!1,null,null,null);const u=m.exports},95595:t=>{t.exports={attachStacktrace:!0,maxBreadcrumbs:20,sampleRate:.1,ignoreErrors:["TypeError: null is not an object (evaluating 'd.frameElement')","Can't find variable: pktAnnotationHighlighter","ReferenceError: Can't find variable: article","top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","Script error.","NS_ERROR_UNEXPECTED","SyntaxError: illegal character U+009E"],ignoreUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i]}},46940:t=>{t.exports.en={SETTINGS_AGREEMENT_FINISH:"The end",SETTINGS_ACTION_SAVE:"Save preferences",SETTINGS_ARTICLES_ERROR:"You should select at least one language",SETTINGS_ARTICLES_TITLE:"Content",SETTINGS_FEED:"Feed",SETTINGS_FEED_CLASSIC:"Classic",SETTINGS_FEED_COMPACT:"Compact",SETTINGS_EMAIL_LABEL:"I want to receive emails on Habr updates (monthly)",SETTINGS_WELCOME_LABEL:"I want to take an introduction course: 6 emails, how things work on Habr",SETTINGS_DIGEST_LABEL:"How often do you want to receive a newsletter with the most interesting from the hubs you are subscribed to?",SETTINGS_FL_LANG_ENGLISH:"English",SETTINGS_FL_LANG_RUSSIAN:"Russian",SETTINGS_LANG_ENGLISH:"English",SETTINGS_LANG_RUSSIAN:"Русский",SETTINGS_RULES:"site rules",SETTINGS_TITLE:"Page settings",SETTINGS_UI_TITLE:"Interface",SETTINGS_SUCCESS:"Settings were updated successfully",SETTINGS:"Settings",SETTINGS_PROFILE:"Profile settings",SETTINGS_PROFILE_TITLE:"Profile",SETTINGS_SPECS:"Specialization settings",SETTINGS_SPECS_TITLE:"Specialization",SETTINGS_SKILLS_PLACEHOLDER:"Enter skill",SETTINGS_SKILLS_TITLE:"Skills",SETTINGS_SKILLS_HINT:"Select up to ten of your skills and rank them in descending order of importance.",SETTINGS_SPECS_HINT:"Select your specialization.",SETTINGS_SPECS_QUALIFICATION_TITLE:"Qualification",SETTINGS_SPECS_QUALIFICATION_NOT_SELECTED:"Not specified",SETTINGS_SPECS_OTHER_PLACEHOLDER:"Specialization title",SETTINGS_SPECS_OCCUPATION:"Occupation",SETTINGS_SPECS_SUM:"Sum",SETTINGS_SPECS_SALARY:"Desired salary",SETTINGS_SPECS_SALARY_HINT:"Indicate here how much you would like to earn.",SETTINGS_PROFILE_UPGRADE_TITLE:"Upgrade",SETTINGS_PRIVACY_TITLE:"Privacy",SETTINGS_NOTIFICATIONS_TITLE:"Notifications",SETTINGS_APPS_INSTALLED_TITLE:"Installed applications",SETTINGS_APPS_TITLE:"Applications",SETTINGS_APPS_MY_TITLE:"My applications",SETTINGS_APPS_REMOVE:"Remove",SETTINGS_APPS_EDIT:"Edit",SETTINGS_APPS_EMPTY:"You have no applications yet",SETTINGS_APPS_ADD:"Add new application",SETTINGS_APP_EDIT_TITLE:"Edit application",SETTINGS_APP_ADD_TITLE:"Add new application",SETTINGS_APP_IMAGE:"Icon",SETTINGS_APP_TITLE:"Application name",SETTINGS_APP_TITLE_HINT:"Enter application name",SETTINGS_APP_REDIRECT:"Redirect URL",SETTINGS_APP_REDIRECT_HINT:"Specify the URL for the redirect after authorization",SETTINGS_APP_ABOUT_HINT:"Describe your application",SETTINGS_APP_ABOUT:"Short description",SETTINGS_APP_TYPE:"Application type",SETTINGS_APP_TYPE_WEB:"Web application",SETTINGS_APP_TYPE_MOBILE:"Mobile application",SETTINGS_APP_TYPE_BROWSER:"Browser application",SETTINGS_APP_SCOPE:"Access permissions",SETTINGS_APP_READ:"Read only",SETTINGS_APP_READ_BOOKMARK:"Read only + bookmarks",SETTINGS_APP_ALL_RIGHTS:"Full access",SETTINGS_APP_EXTENDED:"Extended rights",SETTINGS_APP_COMPANY_NAME:"Company name",SETTINGS_APP_COMPANY_NAME_HINT:"Enter the developer company name",SETTINGS_APP_COMPANY_URL:"Company’s website",SETTINGS_APP_COMPANY_URL_HINT:"Enter the devepoler company’s website",SETTINGS_APP_TYPE_CHOOSE:"Select type",SETTINGS_APP_SCOPE_CHOOSE:"Select access permissions",SETTINGS_APP_RESET_CLIENT_ID:"Reset Client ID & Client Secret",SETTINGS_APP_RESET_API_KEY:"Reset API Key",SETTINGS_APP_RESET_HINT:"After the reset, all your applications will stop working until you update the settings",SETTINGS_ACCOUNT_TITLE:"Account",SETTINGS_MISC_TITLE:"Other",SETTINGS_PROFILE_AVATAR:"Avatar",SETTINGS_PROFILE_AVATAR_HINT:"Format: jpg, gif, png. '<br/>' Maximal size: 1 MB. '<br/>' Resolution: up to 96x96px.",SETTINGS_PROFILE_REALNAME:"Actual name",SETTINGS_PROFILE_REALNAME_HINT:"Specify your first and last name so that other users can find out what your name is",SETTINGS_PROFILE_WORKPLACE:"Workplace",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER:"Link with the company will be removed after saving the changes.",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER_ACTION:"Restore",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER:"Contact link will be removed after saving the changes.",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER_ACTION:"Restore",SETTINGS_PROFILE_SPECIALITY:"Describe yourself",SETTINGS_PROFILE_SPECIALITY_HINT:"Specify your specialization. For example: Database Administrator",SETTINGS_PROFILE_GENDER:"Gender",SETTINGS_PROFILE_GENDER_NOT_SPECIFIED:"Not specified",SETTINGS_PROFILE_GENDER_MALE:"Male",SETTINGS_PROFILE_GENDER_FEMALE:"Female",SETTINGS_PROFILE_BIRTH_DATE:"Birth date",SETTINGS_PROFILE_BIRTH_DAY:"Day",SETTINGS_PROFILE_BIRTH_MONTH:"Month",SETTINGS_PROFILE_BIRTH_YEAR:"Year",SETTINGS_PROFILE_LOCATION:"Location",SETTINGS_PROFILE_COUNTRY:"Country",SETTINGS_PROFILE_REGION:"Region",SETTINGS_PROFILE_CITY:"City",SETTINGS_PROFILE_CONTACTS:"Contacts and social media",SETTINGS_PROFILE_CONTACTS_HINT:"Specify the username or ID and we will create the link ourselves. If you want the link to be shown in the authors information panel, select it by clicking on the icon on the right.",SETTINGS_PROFILE_CONTACTS_ADD:"Add link",SETTINGS_PROFILE_YANDEX_MONEY:"YooMoney",SETTINGS_PROFILE_YANDEX_MONEY_HINT:"Wallet number 11-20 digits",SETTINGS_PROFILE_PAYPAL:"PayPal.Me",SETTINGS_PROFILE_PAYPAL_HINT:"PayPal.Me identificator. 3 to 20 digits and/or English letters",SETTINGS_PROFILE_WEBMONEY:"Webmoney",SETTINGS_PROFILE_WEBMONEY_HINT:"Wallet number. 12 digits",SETTINGS_PROFILE_SERVICES:"Services",SETTINGS_PROFILE_WALLETS:"Wallets",SETTINGS_PROFILE_DONATIONS:"Donations",SETTINGS_PROFILE_DONATIONS_RADIO_TITLE:"Accept donations via",SETTINGS_PROFILE_DESTREAM_TITLE:"destream",SETTINGS_PROFILE_DESTREAM_CONNECT:"Connect",SETTINGS_PROFILE_WALLETS_NAMES:"YooMoney, PayPal.Me, Webmoney",SETTINGS_PROFILE_ABOUT:"Tell us about yourself",SETTINGS_PROFILE_ABOUT_HINT:"No more than 6 500 characters",SETTINGS_PROFILE_SUBMIT:"Save changes",SETTINGS_PROFILE_SHOW_CONTACTS:"Who can see your websites and social networking accounts",SETTINGS_PROFILE_TO_EVERYONE:"everyone",SETTINGS_PROFILE_TO_FOLLOWING:"only those you are following",SETTINGS_PROFILE_INBOX_ACCESS:"Who can send you direct messages",SETTINGS_PROFILE_FROM_EVERYONE:"everyone",SETTINGS_PROFILE_FROM_FOLLOWERS:"only those you are following",SETTINGS_PROFILE_SHOW_ACTIVITY:"Who can track your activity on Habr (via notifications)",SETTINGS_PROFILE_NOBODY:"nobody",SETTINGS_PROFILE_TO_FOLLOWERS:"only those who following you",SETTINGS_PROFILE_PAYMENTS_INFO:"Specify the details of your wallets or connect destream to receive donations from other users. Depending on the chosen method of receiving donations, users will see the corresponding links.",SETTINGS_NOTIFICATIONS_NEW_COMMENTS:"Notifications about new comments",SETTINGS_NOTIFICATIONS_TO_MY_POSTS:"To my publications",SETTINGS_NOTIFICATIONS_TO_POSTS_WITH_COMMENTS:"To publications I left comments to",SETTINGS_NOTIFICATIONS_TO_BOOKMARKED_POSTS:"To publications I have bookmarked",SETTINGS_NOTIFICATIONS_TRACKER:"Tracker",SETTINGS_NOTIFICATIONS_EMAIL:"Email",SETTINGS_NOTIFICATIONS_SEND_ME_EMAILS:"Send me emails",SETTINGS_NOTIFICATIONS_NEWS:"About Habr news",SETTINGS_NOTIFICATIONS_NEW_EXPERIENCE:"About new opportunities for me on Habr",SETTINGS_NOTIFICATIONS_NEW_MESSAGES:"About new messages in conversations",SETTINGS_NOTIFICATIONS_NEW_COMMENTS_REPLY:"About new replies to my comments",SETTINGS_NOTIFICATIONS_NEW_MENTION:"When I’m mentioned in publications and comments",SETTINGS_NOTIFICATIONS_NEW_FOLLOWER:"When new subscriber added",SETTINGS_NOTIFICATIONS_ARTICLE_STATISTICS:"Statistics of my article",SETTINGS_NOTIFICATIONS_ARTICLE_TOP_STATISTICS:"My article made it to the top",SETTINGS_NOTIFICATIONS_TRACKER_SETTINGS:"Tracker settings",SETTINGS_NOTIFICATIONS_TRACKER_BADGE:"Show the number of unread notifications next to the tracker icon",SETTINGS_NOTIFICATIONS_FOLLOWERS_BOOKMARKS:"Show followers bookmarks in tracker",SETTINGS_NOTIFICATIONS_DIGEST:"How often do you want to receive a newsletter with the most interesting from the hubs you are subscribed to?",SETTINGS_NOTIFICATIONS_DIGEST_NEVER:"Never",SETTINGS_NOTIFICATIONS_DIGEST_DAY:"Every day",SETTINGS_NOTIFICATIONS_DIGEST_WEEK:"Weekly",SETTINGS_NOTIFICATIONS_DIGEST_MONTH:"Monthly",SETTINGS_MISC_INTERACTIONS:"Interaction",SETTINGS_MISC_REFRESH_PANEL:"Show comments update panel",SETTINGS_MISC_HOTKEYS:"Use hotkeys ('<a href=\"/docs/help/hotkeys/\">'list'</a>')",SETTINGS_MISC_DISABLE_ADS:"Disable ads",SETTINGS_MISC_YES_IT_WOULD_BE_NICE:"Yes, that would be great!",SETTINGS_READONLY_UPGRADE:"If you have an invitation code, enter it in a field below to get all the features of the full account.",SETTINGS_INVITE_CODE:"Invitation code",SETTINGS_INVITE_RECALLED:"The invitation was recalled",SETTINGS_INVITE_APPLIED:"Invitation was applied",SETTINGS_INVITE_ALREADY_USED:"The invitation has already been used",SETTINGS_INVITE_USER_ALREADY_FULL:"You are already full-fledged user of Habr, so you can't use invitations",SETTINGS_COLOR_THEME:"View options",SETTINGS_DARK:"Dark",SETTINGS_LIGHT:"Light",SETTINGS_SYSTEM:"System"},t.exports.ru={SETTINGS_AGREEMENT_FINISH:"Завершить настройку",SETTINGS_ACTION_SAVE:"Сохранить настройки",SETTINGS_ARTICLES_ERROR:"Должен быть выбран хотя бы один язык",SETTINGS_ARTICLES_TITLE:"Публикации",SETTINGS_FEED:"Вид ленты",SETTINGS_FEED_CLASSIC:"Классический",SETTINGS_FEED_COMPACT:"Компактный",SETTINGS_EMAIL_LABEL:"Хочу получать письма об изменениях на сайте (не чаще раза в месяц)",SETTINGS_WELCOME_LABEL:"Хочу пройти вводный курс: 6 писем, как все устроено на Хабре",SETTINGS_DIGEST_LABEL:"Дайджест о самом интересном по вашим хабам",SETTINGS_FL_LANG_ENGLISH:"Английский",SETTINGS_FL_LANG_RUSSIAN:"Русский",SETTINGS_LANG_ENGLISH:"English",SETTINGS_LANG_RUSSIAN:"Русский",SETTINGS_RULES:"правила сайта",SETTINGS_TITLE:"Настройки страницы",SETTINGS:"Настройки",SETTINGS_PROFILE:"Настройки профиля",SETTINGS_SPECS:"настройки специалиазции",SETTINGS_SPECS_TITLE:"Специализация",SETTINGS_SKILLS_TITLE:"Профессиональные навыки",SETTINGS_SKILLS_HINT:"Выберите до десяти своих профессиональных навыков и расставьте в порядке убывания их важности.",SETTINGS_SKILLS_PLACEHOLDER:"Введите навык",SETTINGS_SPECS_HINT:"Выберите вашу специализацию.",SETTINGS_SPECS_OCCUPATION:"Профессия",SETTINGS_SPECS_QUALIFICATION_TITLE:"Квалификация",SETTINGS_SPECS_QUALIFICATION_NOT_SELECTED:"Не указана",SETTINGS_SPECS_SUM:"Сумма",SETTINGS_SPECS_SALARY:"Желаемая зарплата",SETTINGS_SPECS_SALARY_HINT:"Укажите здесь, сколько вы хотели бы зарабатывать.",SETTINGS_SPECS_OTHER_PLACEHOLDER:"Название специализации",SETTINGS_UI_TITLE:"Интерфейс",SETTINGS_SUCCESS:"Настройки обновлены успешно",SETTINGS_PROFILE_TITLE:"Профиль",SETTINGS_PROFILE_UPGRADE_TITLE:"Апгрейд",SETTINGS_PRIVACY_TITLE:"Приватность",SETTINGS_NOTIFICATIONS_TITLE:"Уведомления",SETTINGS_APPS_INSTALLED_TITLE:"Установленные приложения",SETTINGS_APPS_TITLE:"Приложения",SETTINGS_APPS_MY_TITLE:"Мои приложения",SETTINGS_APPS_REMOVE:"Удалить",SETTINGS_APPS_EDIT:"Редактировать",SETTINGS_APPS_EMPTY:"У вас пока нет приложений",SETTINGS_APPS_ADD:"Добавить приложение",SETTINGS_APP_EDIT_TITLE:"Редактирование приложения",SETTINGS_APP_ADD_TITLE:"Создание приложения",SETTINGS_APP_RESET_CLIENT_ID:"Сбросить Client ID и Client Secret",SETTINGS_APP_RESET_API_KEY:"Сбросить API Key",SETTINGS_APP_RESET_HINT:"Сброс Client ID и Client Secret — это исключительный механизм, который не стоит запускать без необходимости",SETTINGS_APP_IMAGE:"Иконка",SETTINGS_APP_TITLE:"Название",SETTINGS_APP_TITLE_HINT:"Укажите название приложения",SETTINGS_APP_REDIRECT:"Redirect URL",SETTINGS_APP_REDIRECT_HINT:"Укажите url для редиректа после авторизации",SETTINGS_APP_ABOUT_HINT:"Опишите ваше приложение",SETTINGS_APP_ABOUT:"Краткое описание",SETTINGS_APP_TYPE:"Тип",SETTINGS_APP_TYPE_WEB:"Веб приложение",SETTINGS_APP_TYPE_MOBILE:"Мобильное приложение",SETTINGS_APP_TYPE_BROWSER:"Браузерное приложение",SETTINGS_APP_SCOPE:"Права",SETTINGS_APP_READ:"Только чтение",SETTINGS_APP_READ_BOOKMARK:"Только чтение + закладки",SETTINGS_APP_ALL_RIGHTS:"Все права",SETTINGS_APP_EXTENDED:"Расширенные права",SETTINGS_APP_COMPANY_NAME:"Название компании",SETTINGS_APP_COMPANY_NAME_HINT:"Укажите название компании разработчика",SETTINGS_APP_COMPANY_URL:"Сайт компании",SETTINGS_APP_COMPANY_URL_HINT:"Укажите сайт компании разработчика",SETTINGS_APP_TYPE_CHOOSE:"Выберите тип",SETTINGS_APP_SCOPE_CHOOSE:"Выберите права",SETTINGS_ACCOUNT_TITLE:"Аккаунт",SETTINGS_MISC_TITLE:"Другое",SETTINGS_PROFILE_AVATAR:"Аватар",SETTINGS_PROFILE_AVATAR_HINT:"Формат: jpg, gif, png. '<br/>' Максимальный размер файла: 1Mb. '<br/>' Разрешение: до 96x96px.",SETTINGS_PROFILE_REALNAME:"Настоящее имя",SETTINGS_PROFILE_REALNAME_HINT:"Укажите ваши имя и фамилию, чтобы другие пользователи смогли узнать, как вас зовут",SETTINGS_PROFILE_WORKPLACE:"Место работы",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER:"Удалим место работы, после сохрания изменений.",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER_ACTION:"Восстановить",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER:"Удалим контакт, после сохранения изменений.",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER_ACTION:"Восстановить",SETTINGS_PROFILE_SPECIALITY:"Опишите себя",SETTINGS_PROFILE_SPECIALITY_HINT:"Укажите свою специализацию. Например: Администратор баз данных",SETTINGS_PROFILE_GENDER:"Пол",SETTINGS_PROFILE_GENDER_NOT_SPECIFIED:"Не указан",SETTINGS_PROFILE_GENDER_MALE:"Мужской",SETTINGS_PROFILE_GENDER_FEMALE:"Женский",SETTINGS_PROFILE_BIRTH_DATE:"Дата рождения",SETTINGS_PROFILE_BIRTH_DAY:"Число",SETTINGS_PROFILE_BIRTH_MONTH:"Месяц",SETTINGS_PROFILE_BIRTH_YEAR:"Год",SETTINGS_PROFILE_LOCATION:"Местоположение",SETTINGS_PROFILE_COUNTRY:"Страна",SETTINGS_PROFILE_REGION:"Регион",SETTINGS_PROFILE_CITY:"Город",SETTINGS_PROFILE_CONTACTS:"Контактная информация и веб-ресурсы",SETTINGS_PROFILE_CONTACTS_HINT:"Укажите имя пользователя или ID и мы сами сделаем ссылку. Чтобы ссылка появилась в информационной панели автора публикации, отметьте её, кликнув на иконку справа.",SETTINGS_PROFILE_CONTACTS_ADD:"Добавить ссылку",SETTINGS_PROFILE_YANDEX_MONEY:"YooMoney",SETTINGS_PROFILE_YANDEX_MONEY_HINT:"Номер кошелька. От 11 до 20 цифр",SETTINGS_PROFILE_PAYPAL:"PayPal.Me",SETTINGS_PROFILE_PAYPAL_HINT:"Идентификатор PayPal.me От 3 до 20 цифр и/или латинских букв",SETTINGS_PROFILE_WEBMONEY:"Webmoney",SETTINGS_PROFILE_WEBMONEY_HINT:"Номер WMID. 12 цифр",SETTINGS_PROFILE_SERVICES:"Сервисы",SETTINGS_PROFILE_WALLETS:"Кошельки",SETTINGS_PROFILE_DONATIONS:"Донаты",SETTINGS_PROFILE_DONATIONS_RADIO_TITLE:"Принимать донаты через:",SETTINGS_PROFILE_DESTREAM_TITLE:"destream",SETTINGS_PROFILE_DESTREAM_CONNECT:"Привязать",SETTINGS_PROFILE_WALLETS_NAMES:"YooMoney, PayPal.Me, Webmoney",SETTINGS_PROFILE_ABOUT:"Расскажите о себе",SETTINGS_PROFILE_ABOUT_HINT:"Не более 6 500 символов",SETTINGS_PROFILE_SUBMIT:"Сохранить изменения",SETTINGS_PROFILE_SHOW_CONTACTS:"Показывать ваши сайты и аккаунты в соцсетях",SETTINGS_PROFILE_TO_EVERYONE:"всем",SETTINGS_PROFILE_TO_FOLLOWING:"только тем, на кого вы подписаны",SETTINGS_PROFILE_INBOX_ACCESS:"Принимать личные сообщения",SETTINGS_PROFILE_FROM_EVERYONE:"ото всех",SETTINGS_PROFILE_FROM_FOLLOWERS:"только от тех, на кого вы подписаны",SETTINGS_PROFILE_SHOW_ACTIVITY:"Кто может получать уведомления о вашей активности на сайте",SETTINGS_PROFILE_NOBODY:"никто",SETTINGS_PROFILE_TO_FOLLOWERS:"те, кто подписан на вас",SETTINGS_PROFILE_PAYMENTS_INFO:"Укажите данные ваших кошельков или подключите destream для получения вознаграждения от других пользователей. В зависимости от выбранного способа приёма донатов, пользователи увидят соответствующие ссылки.",SETTINGS_NOTIFICATIONS_NEW_COMMENTS:"Уведомления о новых комментариях",SETTINGS_NOTIFICATIONS_TO_MY_POSTS:"К моим публикациям",SETTINGS_NOTIFICATIONS_TO_POSTS_WITH_COMMENTS:"К публикациям, где есть мой комментарий",SETTINGS_NOTIFICATIONS_TO_BOOKMARKED_POSTS:"К публикациям у меня в закладках",SETTINGS_NOTIFICATIONS_TRACKER:"Трекер",SETTINGS_NOTIFICATIONS_EMAIL:"Почта",SETTINGS_NOTIFICATIONS_SEND_ME_EMAILS:"Отправлять мне письма",SETTINGS_NOTIFICATIONS_NEWS:"Об изменениях на сайте",SETTINGS_NOTIFICATIONS_NEW_EXPERIENCE:"О новых для меня возможностях на сайте",SETTINGS_NOTIFICATIONS_NEW_MESSAGES:"О новых сообщениях в Диалогах",SETTINGS_NOTIFICATIONS_NEW_COMMENTS_REPLY:"Об ответах на мои комментарии",SETTINGS_NOTIFICATIONS_NEW_MENTION:"Если меня упомянули в публикации или комментарии",SETTINGS_NOTIFICATIONS_NEW_FOLLOWER:"Если у меня новый подписчик",SETTINGS_NOTIFICATIONS_ARTICLE_STATISTICS:"Со статистикой по моим публикациям",SETTINGS_NOTIFICATIONS_ARTICLE_TOP_STATISTICS:"О выходе моей публикации в топ",SETTINGS_NOTIFICATIONS_TRACKER_SETTINGS:"Настройки трекера",SETTINGS_NOTIFICATIONS_TRACKER_BADGE:"Показывать число непрочитанных уведомлений рядом с иконкой трекера",SETTINGS_NOTIFICATIONS_FOLLOWERS_BOOKMARKS:"Показывать закладки, которые добавили пользователи, на которых я подписан",SETTINGS_NOTIFICATIONS_DIGEST:"Выберите частоту рассылки дайджеста о самом интересном по вашим хабам",SETTINGS_NOTIFICATIONS_DIGEST_NEVER:"Не присылать",SETTINGS_NOTIFICATIONS_DIGEST_DAY:"Каждый день",SETTINGS_NOTIFICATIONS_DIGEST_WEEK:"Раз в неделю",SETTINGS_NOTIFICATIONS_DIGEST_MONTH:"Раз в месяц",SETTINGS_MISC_INTERACTIONS:"Взаимодействие",SETTINGS_MISC_REFRESH_PANEL:"Отображать панель обновления комментариев",SETTINGS_MISC_HOTKEYS:"Использовать горячие клавиши ('<a href=\"/docs/help/hotkeys/\">'список'</a>')",SETTINGS_MISC_DISABLE_ADS:"Отключить рекламу на сайте",SETTINGS_MISC_YES_IT_WOULD_BE_NICE:"Да, это было бы здорово!",SETTINGS_READONLY_UPGRADE:"Если у вас есть приглашение, вы можете написать его в форму ниже и получить все доступные для полноправных аккаунтов возможности.",SETTINGS_INVITE_CODE:"Код приглашения",SETTINGS_INVITE_RECALLED:"Приглашение было отозвано",SETTINGS_INVITE_APPLIED:"Приглашение применено",SETTINGS_INVITE_ALREADY_USED:"Приглашение уже было использовано",SETTINGS_INVITE_USER_ALREADY_FULL:"Вы уже являетесь полноправным пользователем Хабра и не можете использовать приглашения",SETTINGS_COLOR_THEME:"Цветовая тема",SETTINGS_DARK:"Темная",SETTINGS_LIGHT:"Светлая",SETTINGS_SYSTEM:"Системная"}},77699:t=>{function e({hubs:t}){if(!t)return[];const e=t.filter((t=>"corporative"===t.type));return e.length>0&&e[0].alias}function s(t){const{isCorporative:s,publicationType:n}=t;let{postType:i}=t;n&&(i=n);const a=e(t),o="sandbox"===i,r="megaproject"===i,l={news:"news",megaproject:"specials",article:"articles",post:"posts"};return o?"sandbox":s&&!r?`companies/${a}/${l[i]}`:l[i]}function n(t,e="https://habr.com"){const n=s(t),{lang:i,id:a}=t;return`${e}/${i}/${n}/${a}/`}t.exports={articleCanonical:n}},37118:t=>{function e(t){const e=t.flows?t.flows.map((t=>`f_${t.alias}`)):[],s=[],n=[];return t.hubs&&t.hubs.forEach((t=>{"corporative"===t.type?s.push(`c_${t.alias}`):n.push(`h_${t.id}`)})),[...s,...n,...e].join(",")}t.exports=e},89793:t=>{function e({companySettings:t,isEditorial:e}){if(!t)return e?"edit":"ugc";const{status:s,isStartup:n}=t;return"expired"===s?"company_expired":n?"company_startup":`company_${s}`}t.exports=e},26452:t=>{function e(t){var e;return(null===t||void 0===t||null===(e=t.additional)||void 0===e?void 0:e[0])||null}function s(t){var e,s;return(null===t||void 0===t?void 0:t.errorCode)||(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.reasonKey)||(null===t||void 0===t||null===(s=t.additional)||void 0===s?void 0:s.reasonKey)||null}function n(t){return e(t)||s(t)}function i(t){return(null===t||void 0===t?void 0:t.httpCode)||(null===t||void 0===t?void 0:t.code)||null}function a(t){const e=i(t);return e>=400&&e<=499}function o(t){return 403===i(t)}function r(t){return 401===i(t)}function l(t){const e=i(t);return e>=500&&e<=599}function c(t){return o(t)&&t.data&&t.data.userType}function m(t){return o(t)&&t.data&&t.data.reason}function u(t){return o(t)&&"THREAD_DELETED"===t.errorCode}function d(t){return"PPG_REQUIRED"===n(t)&&t.data.program}class p extends Error{constructor(t){super("Temporary moved"),this.path=t}}class _ extends Error{constructor(){super("Not found"),this.httpCode=404}}class h extends Error{constructor(){super("Forbidden"),this.httpCode=403}}function g(t){return Promise.reject(new p(t))}function T(t){return Promise.reject(new _(t))}function v(t){return Promise.reject(new h(t))}t.exports={getErrorCode:n,getReasonKey:s,getHttpCode:i,is4xxError:a,is403Error:o,is401Error:r,is5xxError:l,is403WithUserType:c,is403WithReason:m,isPostDeletedError:u,isPPGError:d,TemporaryMoved:p,NotFoundError:_,ForbiddenError:h,redirect:g,forbidden:v,notFound:T}},19682:t=>{const e=t=>t.split(",").reduce(((t,e)=>{const[s,n]=e.split("=");return{...t,[s]:"on"===n}}),{}),s=t=>"on"==={VUE_APP_RELEASE_VERSION:"2024-02-09-14-07",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_GA_HOSTNAME:"habr.com",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_ANALYTICS_YANDEX_METRIKA_KEY:"24049213",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_KARMA_HINTS:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.165.0",BASE_URL:"https://assets.habr.com/habr-web/"}[`VUE_APP_FEATURE_${t}`];t.exports={parseFeaturesSettings:e,getFeatureStatusFromEnv:s}},76721:t=>{const e="habr_web_flow_filter_",s="habr_web_hub_filter_",n="news_",i="posts_";function a({flowName:t,hubName:a,isNews:o,isPosts:r}){const l=a?[s]:[e];return o&&l.push(n),r&&l.push(i),a?l.push(a):t&&l.push(t),l.join("")}t.exports={buildCookieName:a}},57509:t=>{t.exports=function(t){return!!t&&"post"===t.publicationType}},20215:t=>{const e="([a-f0-9]{15}.[a-f0-9]{8})",s="([a-z\\.0-9-_]+)",n="([0-9a-z_-]+)",i="([a-z0-9\\-_:]+)",a="([0-9]+)",o="([0-9]+|new)",r="([a-f\\d]{24})",l="([a-z]|[a-z0-9][a-z0-9-_]+)",c="(([0-9]+:)?[a-f0-9]{32}|new)",m=a,u=a,d=s,p=a,_=l,h=l,g=a,T=s,v=s,S=a,f=n,E=n,I={POST:"posts",COMPANY:"companies",HUB:"hubs",SANDBOX:"sandbox"},C=Object.values(I).join("|");t.exports={APP_CLIENT_ID_MATCH:e,APP_CLIENT_TOKEN_MATCH:E,PUBLICATION_ID_MATCH:m,BADGE_MATCH:n,COMMENT_ID_MATCH:u,COMPANY_ALIAS_MATCH:d,DOCS_ARTICLE_ALIAS_MATCH:f,EMPLOYEE_REQUEST_ID_MATCH:p,FLOW_ALIAS_MATCH:_,HASH_MATCH:i,HUB_ALIAS_MATCH:h,ID_MATCH:a,INVITE_ID_MATCH:g,LOGIN_MATCH:T,MONGO_OBJECT_ID:r,USER_ALIAS_PARAM_REGEXP:v,USER_ID_MATCH:S,WIDGET_APP_MATCH:c,WIDGET_ID_MATCH:o,PAGE_TYPE:I,PAGE_TYPE_MATCH:C}},70210:(t,e,s)=>{"use strict";s.d(e,{c:()=>i});var n=s(20144);function i(){const t=(0,n.ref)(!0);return(0,n.onActivated)((()=>{t.value=!0})),(0,n.onDeactivated)((()=>{t.value=!1})),t}},84291:(t,e,s)=>{"use strict";s.d(e,{gI:()=>u,p6:()=>c,qv:()=>m});var n=s(72923),i=s.n(n),a=s(90619),o=s.n(a);function r(t){return!t.author||t.author.is_banned}function l(t){return{...t,isUfo:!0}}function c(t){const e=new Date(t),s=t=>o()(t.toString(),2,"0"),n=s(e.getDate()),i=s(e.getMonth()+1),a=s(e.getFullYear()),r=s(e.getHours()),l=s(e.getMinutes());return{date:`${n}.${i}.${a}`,time:`${r}:${l}`}}function m(t){return r(t)?l(t):t}function u(t){const e=i().map(t,{id:i().maybe.nonEmptyString,isSuspended:i().maybe.boolean,isAuthor:i().boolean,isPostAuthor:i().boolean,isNew:i().boolean,score:i().maybe.number,message:i().nonEmptyString,timePublished:i().nonEmptyString});return i().all(e)}},46100:(t,e,s)=>{"use strict";function n(t,e=""){return t.reduce(((t,s)=>({...t,[s]:{errors:[],ref:null,value:e}})),{})}function i(t){return{get(){return this.inputs[t].value},set(e){this.setInputValue({name:t,value:e})}}}s.d(e,{X:()=>i,j:()=>n})},28306:(t,e,s)=>{"use strict";s.d(e,{CJ:()=>m,GD:()=>g,Rl:()=>p,Ye:()=>c,h$:()=>u,tQ:()=>d,vz:()=>h,wY:()=>l});var n=s(16480),i=s(8938),a=s(23009),o=s(7748),r=s(77699);function l(t){return[{property:"og:title",content:t,vmid:"og:title"},{name:"twitter:title",content:t,vmid:"twitter:title"},{name:"aiturec:title",content:t,vmid:"aiturec:title"}]}function c(t){const e=(0,o._)(t);return[{name:"description",content:e,vmid:"description"},{itemprop:"description",content:e,vmid:"description:itemprop"},{property:"og:description",content:e,vmid:"og:description"},{name:"twitter:description",content:e,vmid:"twitter:description"},{property:"aiturec:description",content:e,vmid:"aiturec:description"}]}const m=t=>t&&{property:"vk:image",content:`${t}?format=vk`,vmid:"vk:image"};function u(t){return t?[{itemprop:"image",content:t,vmid:"image:itemprop"},{property:"og:image",content:t,vmid:"og:image"},{property:"og:image:width",content:"1200",vmid:"og:image:width"},{property:"og:image:height",content:"630",vmid:"og:image:height"},{property:"aiturec:image",content:t,vmid:"aiturec:image"},{name:"twitter:image",content:t,vmid:"twitter:image"},m(t)]:null}function d({id:t,date:e}){const s=new Date(e).toISOString();return[{property:"aiturec:item_id",content:t,vmid:"aiturec:item_id"},{property:"aiturec:datetime",content:s,vmid:"aiturec:datetime"}]}function p(t=[]){return t.filter((t=>-1===t.indexOf("stylesheets.mobile.css"))).map((t=>({href:t,rel:"stylesheet"})))}const _={en:"en_US",ru:"ru_RU"},h=(t,e)=>{const s=t.author.alias||t.author.fullname,a=t.isCorporative?t.hubs.find((t=>"corporative"===t.type)).title:t.hubs[0].title,o=(0,n.rp)(new Date(t.timePublished));return e("TITLE_POST_PAGE",{authorName:s,hubName:a,hubsCount:t.hubs.length>1?0:t.hubs.length-1,date:`${(0,i.l4)(t.timePublished)} ${o}`})},g=(t,e)=>{const{titleHtml:s,id:n,lang:i,timePublished:o,metadata:p}=t,g=(0,a.o)(t),T=g?h(t,e):s,{metaDescription:v,shareImageUrl:S,shareImageWidth:f,shareImageHeight:E,vkShareImageUrl:I}=p,C=[...l(T),...c(v),...u(S),m(I),...d({id:n,date:o}),{content:(0,r.articleCanonical)(t),property:"og:url",vmid:"og:url"},{property:"og:type",content:"article",vmid:"og:type"},{property:"og:locale",content:_[i],vmid:"og:locale"},{property:"og:image:width",content:f,vmid:"og:image:width"},{property:"og:image:height",content:E,vmid:"og:image:height"}];return Array.isArray(t.tags)?C.push({name:"keywords",content:t.tags.map((t=>t.titleHtml)).join(", ")}):g&&C.push({name:"keywords",content:t.hubs.map((t=>t.titleHtml)).join(", ")}),C}},30434:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var n=s(80129),i=s.n(n),a=s(24646);class o{constructor(t){this.campaign=t.campaign,this.content=t.content,this.medium=t.medium,this.source=t.source}clone(){return new o(this)}setCampaign(t){return this.campaign=t,this}setContent(t){return this.content=t,this}setMedium(t){return this.medium=t,this}setSource(t){return this.source=t,this}toString(){return i().stringify({utm_campaign:this.campaign,utm_content:this.content,utm_medium:this.medium,utm_source:this.source},{arrayFormat:"indices"})}static isUtm(t){return(0,a.HD)(t.campaign)||(0,a.HD)(t.content)||(0,a.HD)(t.medium)||(0,a.HD)(t.source)}static toUtm(t){return{utm_campaign:t.campaign,utm_content:t.content,utm_medium:t.medium,utm_source:t.source}}static parse(t){return new o(t)}}},53720:(t,e,s)=>{"use strict";var n=s(20144),i=s(41151),a=(s(66337),s(40802)),o=s(93096),r=s.n(o),l=s(52322),c=s(67356),m=s(72433),u=s(10671),d=s.n(u),p=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e(t.currentLayout,{tag:"component"}),t._v(" "),e("PortalTarget",{attrs:{multiple:"",name:"overlays"}})],1)},_=[],h=s(20629),g=s(28306),T=function(){var t=this,e=t._self._c;return e("TMLayoutMetaWrapper",{class:t.bem("tm-layout__wrapper",{white:t.isLegalBanError})},[e("router-view",{attrs:{name:"ads"}}),t._v(" "),e("TMAnalytics"),t._v(" "),t.isMobile&&t.isFeatureShown&&!t.isTablet?e("TMFeature"):t._e(),t._v(" "),t.isBlankPage?t._e():e("TMHeader",{attrs:{"is-feature-shown":t.isFeatureShown,"is-sticky":t.isHeaderSticky&&(t.isMobile||t.isPwa)},on:{showNavMenu:function(e){t.navMenuVisible=!0}}}),t._v(" "),e("div",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:{"shift+/":t.toggleHotKeysPopup},expression:"{ 'shift+/': toggleHotKeysPopup }",modifiers:{stop:!0}}],staticClass:"tm-layout",class:{"tm-layout__wrapper_fix-header":t.isPwa}},[e("TMPageProgressBar",{attrs:{"is-finished":t.isDataLoaded,"is-processing":t.isDataLoading}}),t._v(" "),t.isPwa||t.isMobile&&!t.isTablet?t._e():e("div",{staticClass:"tm-base-layout__header",class:{"tm-base-layout__header_is-sticky":t.isDesktop},attrs:{"data-menu-sticky":t.isDesktop}},[e("TMPageWidth",[e("div",{staticClass:"tm-base-layout__header-wrapper"},[!t.isTablet&&!t.isDesktop||t.isBlankPage?t._e():e("TMMainMenu"),t._v(" "),t.isDesktop?e("TMHeaderUserMenu",{staticClass:"tm-base-layout__user-menu"}):t._e()],1)])],1),t._v(" "),e("TMScrollTop"),t._v(" "),e("TMPageWidth",{attrs:{"no-padding":t.isTablet}},[t.showRefreshNotice?e("TMNotification",[e("p",[t._v("\n          "+t._s(t.msg("REFRESH_TITLE"))+"\n        ")]),t._v(" "),e("TMButtonBase",{staticClass:"tm-notification-refresh__action",attrs:{"style-size":"small","style-type":"transparent"},on:{click:t.reloadThePage}},[t._v("\n          "+t._s(t.msg("REFRESH_ACTION"))+"\n        ")])],1):t._e(),t._v(" "),t.showCacheNotice?e("TMNotification",{attrs:{layout:"minimal"}},[e("span",[t._v("\n          "+t._s(t.msg("CACHED_DATA_TITLE"))+"\n          "),e("br"),t._v("\n          "+t._s(t.msg("CACHED_DATA"))+"\n          "),e("TMDatetime",{attrs:{date:new Date(t.cacheTime),"show-full-date-time":!0}})],1)]):t._e(),t._v(" "),0!==t.notices.length&&t.showUserNotices?e("div",t._l(t.notices,(function(t,s){return e("TMUserNotice",{key:s,attrs:{notice:t}})})),1):t._e()],1),t._v(" "),e("main",{staticClass:"tm-layout__container"},[!t.error||t.isPPGError?e("keep-alive",[e("router-view")],1):e("TMPage",[t.isLegalBanError?e("TMRegionalRestriction",{attrs:{error:t.error}}):e("TMPageError",{attrs:{error:t.error}})],1)],1),t._v(" "),e("TMScrollLockTransition",{attrs:{name:"fade-sidebar"}},[t.navMenuVisible&&(t.isMobile||t.isPwa)?e("TMSidebar",{attrs:{position:"left"},on:{close:function(e){t.navMenuVisible=!1}}},[e("TMBurgerMenu",{on:{close:function(e){t.navMenuVisible=!1}}})],1):t._e()],1)],1),t._v(" "),t.isDesktop&&!t.isFooterHidden?e("TMFooterMenu"):t._e(),t._v(" "),t.isFooterHidden?t._e():e("TMFooter",{on:{lang:function(e){t.shouldOpenLangSettings=!0}}}),t._v(" "),t.showHotKeysPopup?e("TMPopup",{attrs:{title:t.msg("HOT_KEYS")},on:{close:t.toggleHotKeysPopup}},[e("TMHotKeys")],1):t._e()],1)},v=[],S=s(17903),f=function(){var t=this,e=t._self._c;return e("div")},E=[],I=s(22827),C=s(8065);function A(t){const e=(0,l.ej)("habr_web_ga_uid")||null;return e||t?{...e?{uid:e}:{},...t?{name:t}:{}}:null}const b={name:"TMAnalytics",computed:{...(0,h.Se)("adblock",["adblockStatus"]),...(0,h.Se)("companies",["getCompanyInfo"]),...(0,h.Se)("articlesList",["getArticleById"]),...(0,h.Se)("me",["userGaType"]),...(0,h.Se)("hubs",["getHubByAlias"]),...(0,h.rn)("ssr",["isDataLoaded"]),companyInfo(){const t=this.$route.params.name;return this.getCompanyInfo(t)},hubName(){return this.$route.params.hubName},hubId(){if(!this.hubName)return null;const t=this.getHubByAlias(this.hubName);return t?t.id:null},trackPageViewOptionalParams(){const t={};return this.hubId&&(t.hub=`h_${this.hubId}`),t}},watch:{$route(t,e){if(this.routesIsDifferent(e,t))if(!this.hubName||this.hubId)setTimeout(this.logPageView);else{const t=this.$watch((()=>this.hubId),(e=>{e&&(t(),this.logPageView())}))}}},mounted(){this.initAnalytics(),this.logPageView()},methods:{routesIsDifferent(t,e){return t.path&&e.path&&t.path!==e.path},initAnalytics(){const t=A();(0,C._k)("G-S28W1WC23F",t),(0,C.uK)((()=>{(0,C.t4)("transport","beacon");const{userGaType:t}=this,e="",s=(0,l.ej)(e),n="true"===s;(0,C.t4)("user_properties",{user_type:t,user_lang:this.langOptions.fl,beta_test:n?s:null,mode:(0,I.Yw)()})}))},logPageView(){const{fullPath:t}=this.$route;(0,C.t4)("page",this.$route.fullPath),this.$route.matched.filter((t=>t.meta.customGA)).length||(0,C.Z0)({fullPath:t,optionalParams:this.trackPageViewOptionalParams})}}},y=b;var P=s(1001),L=(0,P.Z)(y,f,E,!1,null,null,null);const O=L.exports;var N=s(76068),M=function(){var t=this,e=t._self._c;return(t.hasLoaded?t.feature:t.isProbablyVisible)?e("div",{staticClass:"tm-feature",class:t.bem("tm-feature",{variant:t.variant})},[t.feature?e("a",{staticClass:"tm-feature__link",attrs:{href:t.feature.link.url,rel:"noopener",target:"_blank"}},[e("img",{staticClass:"tm-feature__icon",attrs:{alt:"",height:"20",src:t.feature.image.url,width:"20"}}),t._v("\n    "+t._s(t.feature.title)+"\n  ")]):t._e()]):t._e()},R=[],k=s(65873),w=s(92698);const B={name:"TMFeature",props:{variant:{type:String,default:null}},computed:{...(0,h.rn)("global",["isPwa"]),...(0,h.Se)("i18n",["langOptions"]),...(0,h.rn)("feature",["isProbablyVisible"]),...(0,h.Se)("promoData",["feature"]),...(0,h.rn)("promoData",["hasLoaded"])},watch:{feature:{immediate:!0,handler(t){t&&this.trackView()}}},methods:{bem:k.P,trackView(){const t=this.feature.events&&this.feature.events.view;t&&(0,w.s)([t])}}},D=B;var x=(0,P.Z)(D,M,R,!1,null,null,null);const $=x.exports;var U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-footer"},[e("TMPageWidth",[e("div",{staticClass:"tm-footer__container"},[t.isMobile?e("div",{staticClass:"tm-footer__title"},[e("a",{staticClass:"tm-svg-icon__wrapper tm-footer__title-link",attrs:{href:t.homeUrl}},[e("TMSvgImg",{staticClass:"tm-svg-icon",attrs:{id:t.logoIcon}})],1)]):t._e(),t._v(" "),e("TMSocialIcons",{staticClass:"tm-footer__social"}),t._v(" "),e("Portal",{attrs:{to:"overlays"}},[e("TMScrollLockTransition",{attrs:{name:"transition-fade"}},[t.pageSettingsVisible?e("TMPopupBase",{on:{close:function(e){t.pageSettingsVisible=!1}}},[e("TMPageSettingsForm",{staticClass:"tm-popup-page-settings__form",on:{closePopup:function(e){t.pageSettingsVisible=!1}}})],1):t._e()],1)],1),t._v(" "),e("button",{staticClass:"tm-footer__link",on:{click:function(e){t.pageSettingsVisible=!0}}},[t.isMobile?e("TMSvgImg",{staticClass:"tm-footer__icon",attrs:{id:"lang"}}):t._e(),t._v("\n        "+t._s(t.msg("FOOTER_LANG"))+"\n      ")],1),t._v(" "),e("router-link",{staticClass:"tm-footer__link",attrs:{to:{name:"FEEDBACK"}}},[t._v("\n        "+t._s(t.msg("NAV_FEEDBACK"))+"\n      ")]),t._v(" "),e("TMFooterCopyright")],1)])],1)},F=[],V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-footer-copyright"},[e("span",{staticClass:"tm-copyright"},[e("span",{staticClass:"tm-copyright__years"},[t._v("© 2006–"+t._s(t.currentYear)+", ")]),t._v(" "),e("span",{staticClass:"tm-copyright__name"},[e("a",{staticClass:"tm-copyright__link",attrs:{href:t.getLink,rel:"noopener",target:"_blank"}},[t._v("Habr")])])])])},H=[];const G={name:"TMFooterCopyright",computed:{...(0,h.Se)("i18n",["langOptions"]),currentYear(){return(new Date).getFullYear()},getLink(){return"ru"===this.langOptions.hl?"https://company.habr.com/":"https://company.habr.com/en/"}}},W=G;var Z=(0,P.Z)(W,V,H,!1,null,null,null);const Y=Z.exports;var q=s(902),j=s(19747),K=s(19189),z=s(10529),Q=function(){var t=this,e=t._self._c;return e("div",t._l(t.socialIcons,(function(s){return e("TMSvgIcon",{key:s.key,staticClass:"tm-social-icons__icon",attrs:{id:`${t.spriteUrl}#social-logo-${s.key}`,href:s.url,rel:"nofollow noopener noreferrer",size:t.isMobile?"36":"24",tag:"a",target:"_blank"}})})),1)},X=[],J=s(33936);const tt={en:[{key:"facebook",url:"https://www.facebook.com/habr.eng"},{key:"twitter",url:"https://twitter.com/habr_eng"},{key:"telegram",url:"https://t.me/habr_eng"}],ru:[{key:"facebook",url:"https://www.facebook.com/habrahabr.ru"},{key:"twitter",url:"https://twitter.com/habr_com"},{key:"vk",url:"https://vk.com/habr"},{key:"telegram",url:"https://telegram.me/habr_com"},{key:"youtube",url:"https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w"},{key:"dzen",url:"https://dzen.ru/habr"}]},et={name:"TMSocialIcons",components:{TMSvgIcon:J.Z},computed:{...(0,h.Se)("global",["isMobile"]),...(0,h.rn)("i18n",["fl"]),socialIcons(){return this.fl&&this.fl.indexOf("ru")>-1?tt.ru:tt.en},spriteUrl(){return"/img/new-social-icons-sprite.svg"}}},st=et;var nt=(0,P.Z)(st,Q,X,!1,null,null,null);const it=nt.exports;var at=s(31490);const ot={name:"TMFooter",components:{TMFooterCopyright:Y,TMSocialIcons:it,TMSvgIcon:J.Z,TMSvgImg:at.Z,TMPageWidth:j.Z,TMScrollLockTransition:z.Z,TMPageSettingsForm:q["default"],TMPopupBase:K["default"]},data(){return{pageSettingsVisible:!1}},computed:{...(0,h.rn)("i18n",["hl"]),...(0,h.rn)("global",["isPwa"]),...(0,h.Se)("global",["isMobile"]),...(0,h.Se)("me",["userAlias"]),...(0,h.Se)("i18n",["langOptions"]),isFlEnglish(){return"en"===this.langOptions.fl},isUserBetaTester(){const t="",e=(0,l.ej)(t);return"true"===e},homeUrl(){return`/${this.hl}/`},logoIcon(){return`/img/habr-logo-${this.hl}.svg#logo`}},methods:{logGa(){(0,C.IZ)("footer_return_to_desktop")}}},rt=ot;var lt=(0,P.Z)(rt,U,F,!1,null,null,null);const ct=lt.exports;var mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-footer-menu"},[e("TMPageWidth",[e("div",{staticClass:"tm-footer-menu__container"},t._l(t.groupMenuItems,(function(s,n){return e("div",{key:`group-${n}`,staticClass:"tm-footer-menu__block"},[e("p",{staticClass:"tm-footer-menu__block-title"},[t._v("\n          "+t._s(s.name)+"\n        ")]),t._v(" "),e("div",{staticClass:"tm-footer-menu__block-content"},[e("ul",{staticClass:"tm-footer-menu__list"},t._l(s.items,(function(s,n){return e("li",{key:`link-${n}`,staticClass:"tm-footer-menu__list-item"},["_blank"===s.target||"_self"===s.target?e("a",{attrs:{href:s.link,rel:s.rel,target:s.target}},[t._v("\n                "+t._s(s.name)+"\n              ")]):e("router-link",{staticClass:"footer-menu__item-link",attrs:{to:s.link}},[t._v("\n                "+t._s(s.name)+"\n              ")])],1)})),0)])])})),0)])],1)},ut=[];const dt="https://account.habr.com",pt="https://company.habr.com",_t={name:"TMFooterMenu",components:{TMPageWidth:j.Z},computed:{...(0,h.Se)("me",["userAlias","isLoggedIn"]),...(0,h.Se)("i18n",["msg","langOptions","currentLocale"]),isFlEnglish(){return"en"===this.langOptions.fl},loginUrl(){const t="/kek/v1/auth/habrahabr/";return`${t}?back=${this.$route.path}&hl=${this.langOptions.hl}`},signUpUrl(){const t="/kek/v1/auth/habrahabr-register/";return`${t}?back=${this.$route.path}&hl=${this.langOptions.hl}`},loggedInAccountItems(){return[{name:this.msg("NAV_PROFILE"),link:{name:"ARTICLES_LIST_BY_USER",params:{login:this.userAlias,hl:this.langOptions.hl}}},{name:this.msg("TRACKER_TITLE"),link:{name:"TRACKER",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_CONVERSATIONS"),link:{name:"CONVERSATIONS",params:{hl:this.langOptions.hl}}},{name:this.msg("SETTINGS"),link:{name:"USER_SETTINGS_PROFILE",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_PPA"),link:{name:"PPA_ROOT",params:{hl:this.langOptions.hl}}}]},loggedOutAccountItems(){return[{name:this.msg("LOG_IN"),link:this.loginUrl,target:"_self",rel:"nofollow"},{name:this.msg("SIGN_UP"),link:this.signUpUrl,target:"_self",rel:"nofollow"}]},groupMenuItems(){const t=this.isLoggedIn?this.loggedInAccountItems:this.loggedOutAccountItems,e="ru"!==this.$route.params.hl||this.isFlEnglish?[]:[{name:this.msg("NAV_COMPANIES"),link:{name:"COMPANIES",params:{hl:this.langOptions.hl}}}];return[{name:this.msg("NAV_ACCOUNT"),items:t},{name:this.msg("NAV_SECTIONS"),items:[{name:this.msg("NAV_ARTICLES"),link:{name:"ARTICLES_LIST_ALL",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_NEWS"),link:{name:"NEWS_LIST_ALL",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_HUBS"),link:{name:"HUBS",params:{hl:this.langOptions.hl}}},...e,{name:this.msg("NAV_AUTHORS"),link:{name:"USERS",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_SANDBOX"),link:{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST",params:{hl:this.langOptions.hl}}}]},{name:this.msg("NAV_INFO"),items:[{name:this.msg("NAV_HELP"),link:{name:"DOCS",params:{alias:"help"}}},{name:this.msg("NAV_FOR_AUTHORS"),link:{name:"DOCS_ARTICLE",params:{alias:"authors",articleAlias:"codex"}}},{name:this.msg("NAV_FOR_COMPANIES"),link:{name:"DOCS_ARTICLE",params:{alias:"companies",articleAlias:"corpblogs"}}},{name:this.msg("NAV_DOCUMENTS"),link:{name:"DOCS_ARTICLE",params:{alias:"docs",articleAlias:"transparency"}}},{name:this.msg("NAV_AGREEMENT"),link:`${dt}/info/agreement/?hl=${this.currentLocale}`,target:"_blank"},{name:this.msg("NAV_CONFIDENTIAL"),link:`${dt}/info/confidential/?hl=${this.currentLocale}`,target:"_blank"}]},{name:this.msg("NAV_SERVICE"),items:[{name:this.msg("NAV_CORPORATE_BLOGS"),link:`${pt}/${this.langOptions.hl}/corporate-blogs/`,target:"_blank"},{name:this.msg("NAV_MEDIA_ADVERTISING"),link:`${pt}/${this.langOptions.hl}/advertising/`,target:"_blank"},{name:this.msg("NAV_NATIVE_ADVERTISING"),link:`${pt}/${this.langOptions.hl}/native-special/`,target:"_blank"},{name:this.msg("NAV_EDUCATION_PROGRAMS"),link:`${pt}/${this.langOptions.hl}/education-programs/`,target:"_blank"},{name:this.msg("NAV_STARTUPS"),link:`${pt}/${this.langOptions.hl}/hello-startup/`,target:"_blank"}]}]}}},ht=_t;var gt=(0,P.Z)(ht,mt,ut,!1,null,null,null);const Tt=gt.exports;var vt=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[e("header",{staticClass:"tm-header",class:t.className,attrs:{"data-header-sticky":t.isPwa&&!t.isSticky}},[e("TMPageWidth",{attrs:{"full-width":t.isPwa}},[e("div",{staticClass:"tm-header__container"},[t.isPwa||t.isMobile&&!t.isTablet?e("div",{staticClass:"tm-header__burger-nav"},[t.showBackButton&&t.isPwa?e("button",{staticClass:"tm-header__button tm-header__button_back",attrs:{type:"button"},on:{click:t.goBack}},[e("TMSvgImg",{staticClass:"icon_arrow-back",attrs:{id:"arrow-back"}})],1):e("button",{staticClass:"tm-header__button tm-header__button_burger",attrs:{type:"button"},on:{click:function(e){return t.$emit("showNavMenu")}}},[e("TMSvgImg",{staticClass:"tm-header__icon tm-header__icon-burger",attrs:{id:"header-burger"}})],1)]):t._e(),t._v(" "),e("span",{staticClass:"tm-header__logo-wrap"},[e("a",{staticClass:"tm-header__logo",class:t.bem("tm-header__logo",{hl:t.langOptions.hl,ny:t.isNYPeriod}),attrs:{href:t.homeUrl}},[t.isNYPeriod&&"ru"===t.langOptions.hl?e("TMHabrLogoNyRu",{staticClass:"tm-header__icon"}):e("TMSvgImg",{staticClass:"tm-header__icon",attrs:{id:t.logoIcon}})],1),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isUserBetaTester,expression:"isUserBetaTester"}],staticClass:"tm-header__beta-sign"},[t._v("β")])]),t._v(" "),t.isPwa||t.isDesktop||t.isTablet?[t.isPwa||t.isHlEnglish?t._e():e("TMDropdown",{staticClass:"tm-header__projects",class:{"tm-projects_extra-margin":t.isUserBetaTester},attrs:{align:"left","body-offset":-67},scopedSlots:t._u([{key:"head",fn:function({toggle:t}){return[e("button",{staticClass:"tm-header__dropdown-toggle",on:{click:t}},[e("TMSvgImg",{staticClass:"tm-header__icon tm-header__icon_dropdown",attrs:{id:"arrow-down"}})],1)]}},{key:"body",fn:function(){return[e("TMOurProjects",{attrs:{"show-description":!0}})]},proxy:!0}],null,!1,1364691637)}),t._v(" "),t.isPwa?t._e():e("router-link",{staticClass:"tm-header__become-author-btn",class:{"tm-header__become-author-btn_extra-margin":t.isUserBetaTester},attrs:{to:{name:"MOST_IMPORTANT_SANBOX_INFO"}}},[t._v("\n            "+t._s(t.msg("NAV_SANDBOX_BECOME_AUTHOR"))+"\n          ")]),t._v(" "),t.isFeatureShown?e("TMFeature",{staticClass:"tm-header__feature",attrs:{variant:"inline"}}):t._e(),t._v(" "),t.isHlEnglish||!t.isDesktop||t.isPwa?t._e():e("TMTopLink")]:t._e(),t._v(" "),t.isPwa||t.isTablet||t.isMobile?e("TMHeaderUserMenu",{staticClass:"tm-header_user-menu"}):t._e()],2)])],1)])},St=[],ft=s(50350),Et=s(90854),It=s(51152),Ct=function(){var t=this,e=t._self._c;return t.topLinkPost&&t.topLinkPost.link.url?e("a",{staticClass:"tm-top-link",style:`color: ${t.topLinkPost.color||"#94E379"}`,attrs:{href:t.topLinkPost.link.url,target:"_blank"},on:{"!click":function(e){return t.logTopLinkEvent.apply(null,arguments)}}},[t._v("\n  "+t._s(t.topLinkPost.title)+"\n")]):t._e()},At=[];const bt={name:"TMTopLink",data(){return{topLink:null}},computed:{...(0,h.Se)("i18n",["msg","langOptions"]),...(0,h.Se)("promoData",["topLinkPost"])},watch:{topLinkPost:{immediate:!0,handler(t){t&&this.trackView()}}},methods:{logTopLinkEvent(){(0,C.IZ)("habr_top_panel_special")},trackView(){const t=this.topLinkPost.events&&this.topLinkPost.events.view;t&&(0,w.s)([t])}}},yt=bt;var Pt=(0,P.Z)(yt,Ct,At,!1,null,null,null);const Lt=Pt.exports;var Ot=s(13278);const Nt=()=>s.e(8838).then(s.bind(s,28838)),Mt={name:"TMHeader",components:{TMDropdown:ft.Z,TMFeature:$,TMSvgImg:at.Z,TMOurProjects:It.Z,TMHeaderUserMenu:Et.Z,TMTopLink:Lt,TMPageWidth:j.Z,TMHabrLogoNyRu:Nt},props:{isSticky:Boolean,isFeatureShown:Boolean},data(){return{showHeader:!0,lastScrollPosition:0}},computed:{...(0,h.rn)("global",["isPwa"]),...(0,h.Se)("global",["isMobile","isTablet","isDesktop"]),...(0,h.Se)("me",["isLoggedIn"]),...(0,h.Se)("i18n",["langOptions"]),homeUrl(){return this.isPwa?"/pwa/":`/${this.langOptions.hl}/`},logoIcon(){const{hl:t}=this.langOptions;return this.isNYPeriod?`/img/habr-logo-ny-${t}.svg#logo`:`/img/habr-logo-${t}.svg#logo`},isNYPeriod(){const t=new Date,e=(new Date).getFullYear(),s=new Date(e,11,1),n=new Date(e+1,0,15);return t>s&&t<n},isUserBetaTester(){const t="",e=(0,l.ej)(t);return"true"===e},isRootPage(){return this.$route.matched.find((t=>t.meta.rootPage))},showBackButton(){return!this.isRootPage},isMobilePwa(){return this.isPwa&&this.isMobile},toConversations(){return{name:"CONVERSATIONS",params:{hl:this.langOptions.hl}}},isHlEnglish(){return"en"===this.langOptions.hl},className(){return{"tm-header_sticky":this.isSticky&&!this.isPwa,"tm-header_hidden":this.isSticky&&!this.showHeader,"tm-header_fixed":!this.isSticky&&this.isPwa}}},watch:{isSticky:{handler(t){this.$isServer||(t?(this.lastScrollPosition=window.pageYOffset,window.addEventListener("scroll",this.onScroll,{passive:!0})):window.removeEventListener("scroll",this.onScroll))},immediate:!0}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)},methods:{bem:k.P,onScroll(){const t=window.pageYOffset||document.documentElement.scrollTop,e=Math.abs(t-this.lastScrollPosition);t<0||e<120||(this.showHeader=t<this.lastScrollPosition,this.lastScrollPosition=t)},goBack(){if(window.history&&window.history.length>1)this.$router.go(-1);else{const t=(0,Ot.bc)(this.langOptions);this.$router.push(t)}},onUserMenuLang(){this.$emit("lang")}}},Rt=Mt;var kt=(0,P.Z)(Rt,vt,St,!1,null,null,null);const wt=kt.exports;var Bt=function(){var t=this,e=t._self._c;return e("div",[t._t("default")],2)},Dt=[];const xt={name:"TMLayoutMetaWrapper",computed:{...(0,h.Se)("me",["rssKey"]),...(0,h.rn)("i18n",["hl","fl"]),pageTitlePart(){return this.$route.meta.title?this.msg(this.$route.meta.title,this.$route.params):""},rssFullRoute(){const{params:t,query:e,meta:{rssLink:s}}=this.$route,n={...t,...e,fl:this.fl,hl:this.hl,...this.rssKey?{rssKey:this.rssKey}:{}},i=new URL(`https://habr.com/${this.hl}${s(n)}`);return i.searchParams.append("fl",this.fl),i.href}},metaInfo(){const t=[];return this.$route.meta.rssLink&&t.push({href:this.rssFullRoute,type:"application/rss+xml",title:this.pageTitlePart,rel:"alternate",name:"rss"}),{htmlAttrs:{lang:this.hl},link:t,__dangerouslyDisableSanitizersByTagID:{checkad:["onload"],checklogin:["onload"]}}}},$t=xt;var Ut=(0,P.Z)($t,Bt,Dt,!1,null,null,null);const Ft=Ut.exports;var Vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-main-menu"},[t.flows.length?e("div",{staticClass:"tm-main-menu__section"},[e("nav",{staticClass:"tm-main-menu__section-content"},[e("router-link",{class:t.bem("tm-main-menu__item",{"has-new":t.hasNewItems}),attrs:{"active-class":"tm-main-menu__item_active",event:"",to:t.routes.feed},nativeOn:{click:function(e){return(e=>t.pushRouteTo(t.routes.feed,e)).apply(null,arguments)}}},[t._v("\n        "+t._s(t.msg("NAV_MY_FEED"))+"\n      ")]),t._v(" "),e("router-link",{staticClass:"tm-main-menu__item",class:{"tm-main-menu__item_active":t.allFlowsLinkActive},attrs:{"active-class":"tm-main-menu__item_active",event:"",to:t.routes.articles},nativeOn:{click:function(e){return(e=>t.pushRouteTo(t.routes.articles,e)).apply(null,arguments)}}},[t._v("\n        "+t._s(t.msg("NAV_FLOWS_ALL"))+"\n      ")]),t._v(" "),t._l(t.flows,(function(s){return[t.i18nFlows[s.alias]?e("router-link",{key:s.id,staticClass:"tm-main-menu__item",attrs:{"active-class":"tm-main-menu__item_active",event:"",to:s.route},nativeOn:{click:function(e){return(e=>t.pushRouteTo(s.route,e)).apply(null,arguments)}}},[t._v("\n          "+t._s(t.msg(t.i18nFlows[s.alias]))+"\n        ")]):t._e()]}))],2)]):t._e()])},Ht=[];const Gt=(t,e)=>Object.keys(t).every((s=>t[s]===e[s])),Wt={name:"TMMainMenu",data(){return{swipeListener:null,i18nFlows:{admin:"NAV_FLOW_ADMIN",design:"NAV_FLOW_DESIGN",develop:"NAV_FLOW_DEVELOP",popsci:"NAV_FLOW_POPSCI",management:"NAV_FLOW_MANAGEMENT",marketing:"NAV_FLOW_MARKETING",misc:"NAV_FLOW_MISC",geektimes:"NAV_FLOW_GEEKTIMES"}}},computed:{...(0,h.rn)("flows",["flows"]),...(0,h.Se)("i18n",["msg","langOptions"]),...(0,h.Se)("me",["isLoggedIn","hasNewPublicationsBySubscription"]),...(0,h.Se)("global",["isDesktop"]),isFlEnglish(){return"en"===this.langOptions.fl},isHLEnglish(){return"en"===this.langOptions.hl},routes(){const t={hl:this.langOptions.hl};return{articles:{name:this.isLoggedIn?"ALL_FLOWS":"ARTICLES_LIST_ALL",params:t},feedback:{name:"FEEDBACK",params:t},feed:{name:"MY_FEED",params:{...t,force:!0}},help:{name:"DOCS",params:{alias:"help",...t}},megaprojects:{name:"MEGAPROJECTS",params:t}}},allFlowsLinkActive(){return this.$route.matched.some((t=>"allFlows"===t.meta.feedType))},hasNewItems(){if(!this.isLoggedIn)return!1;const t=!this.$route.params.pageNum||1===this.$route.params.pageNum,e=this.$route.name.startsWith("MY_FEED");return e?t&&this.hasNewPublicationsBySubscription:this.hasNewPublicationsBySubscription}},methods:{bem:k.P,...(0,h.nv)("pullRefresh",["toggleRefresh"]),pushRouteTo(t,e){if(e.metaKey||e.ctrlKey||e.shiftKey)return;e.preventDefault();const s={FLOW_PAGE:"ARTICLES_LIST_BY_FLOW_ALL",ALL_FLOWS:"ARTICLES_LIST_ALL"},n=s[t.name],i=this.$router.resolve(t).route,a=n||i.name,o=this.$route.name===a&&Gt(i.params,this.$route.params);o?(window.scrollTo({top:0}),this.toggleRefresh(!0)):this.$router.push(t).catch((()=>{}))}}},Zt=Wt;var Yt=(0,P.Z)(Zt,Vt,Ht,!1,null,null,null);const qt=Yt.exports;var jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-notification",class:`${t.inlineClass} ${t.staticClass} ${t.layoutClass}`},[t._t("default")],2)},Kt=[];const zt={name:"TMNotification",props:{inline:Boolean,static:Boolean,layout:{default:"full",type:String}},computed:{inlineClass(){return this.inline?"tm-notification_inline":""},staticClass(){return this.static?"tm-notification_static":""},layoutClass(){return`tm-notification_${this.layout}`}}},Qt=zt;var Xt=(0,P.Z)(Qt,jt,Kt,!1,null,null,null);const Jt=Xt.exports;var te=s(43222),ee=function(){var t=this,e=t._self._c;return e("TMErrorMessage",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n    "+t._s(t.errorTitle)+"\n  ")]},proxy:!0},{key:"message",fn:function(){return[e("p",{domProps:{innerHTML:t._s(t.errorMessage)}}),t._v(" "),!t.isPwa&&t.errorAction?e("TMButtonBase",{staticClass:"tm-error__refresh",attrs:{"style-size":"large","style-type":"transparent",type:"button"},on:{click:t.errorAction.action}},[t._v("\n      "+t._s(t.errorAction.text)+"\n    ")]):t._e(),t._v(" "),t.errorActionAlternative?e("a",{staticClass:"tm-error__link",attrs:{href:"#"},on:{click:t.errorActionAlternative.action}},[t._v("\n      "+t._s(t.errorActionAlternative.text)+"\n    ")]):t._e()]},proxy:!0}])})},se=[],ne=s(15993),ie=s(32773),ae=s(13091);let oe;function re(t){oe=t}function le(t,e,s){if(!oe)return"▇▅▄▅▅▄ ▇▄▅";const n=oe[t];if(!n)return(0,ae.Z)(e,new Error(`Language "${t}" is not present in the locales cache`)),"▇▅▄▅▅▄ ▇▄▅";const i=n[e];try{const e=new ie.ZP(i,t,null,{ignoreTag:!0}),n={};return e.ast.filter((({type:t,value:e})=>5===t&&!s[e])).forEach((({value:t})=>{n[t]=null})),e.format({...n,...s})}catch(a){return(0,ae.Z)(e,a),"▇▅▄▅▅▄ ▇▄▅"}}var ce=s(26452);const me={name:"TMPageError",components:{TMButtonBase:S.Z,TMErrorMessage:ne.Z},props:{error:{type:[Object,Error],required:!0}},computed:{...(0,h.rn)("global",["isPwa"]),...(0,h.rn)("me",["user"]),...(0,h.Se)("me",["isLoggedIn"]),draftParams(){const t=this.error.data.author.login||this.error.data.author.alias;return{userProfileLink:this.getUserProfileLink(t),userName:t}},userLogoutHash(){return this.user&&this.user.crc32},errorMessage(){if((0,ce.isPostDeletedError)(this.error))return this.getTranslation("ERROR_POST_DELETED_DESCRIPTION");if("TimeoutError"===this.error.name)return this.getTranslation("ERROR_PAGE_MESSAGE_TIMEOUT");if((0,ce.is403WithUserType)(this.error))return this.getTranslation(`ERROR_PAGE_MESSAGE_ARTICLE_DRAFT_${this.error.data.userType}`,{reason:this.error.data.reason});if((0,ce.is403Error)(this.error)&&"IN_DRAFTS"===(0,ce.getErrorCode)(this.error))return this.getTranslation("ERROR_PAGE_MESSAGE_ARTICLE_IN_DRAFTS",this.draftParams);if((0,ce.is403WithReason)(this.error))return this.getTranslation(`ERROR_PAGE_MESSAGE_ARTICLE_${this.error.data.reason}`,this.draftParams);if((0,ce.is403Error)(this.error)){const t=(0,ce.getErrorCode)(this.error);if(!t)return this.getTranslation("ERROR_PAGE_TITLE_ARTICLE_IN_DRAFTS");if("COMPANY_ACCESS_LIMIT"===t)return this.getTranslation("ERROR_PAGE_TITLE_UNAUTHORIZED");if("AUTHOR_INACTIVE"===t)return this.getTranslation("ERROR_PAGE_MESSAGE_AUTHOR_INACTIVE");const e=["USER_INACTIVE","TARGET_USER_INACTIVE"];if(e.includes(t)){const t=-1!==this.$route.name.indexOf("USER_")?"ERROR_PAGE_MESSAGE_USER_PROFILE_INACTIVE":"ERROR_PAGE_MESSAGE_ARTICLE_USER_INACTIVE",e=this.error.data.author&&this.error.data.author.alias,s=this.$router.resolve({name:"USER_PROFILE",params:{hl:this.langOptions.hl,login:e}});return this.getTranslation(t,{userProfileLink:s.href,userName:e})}return this.getTranslation(`ERROR_PAGE_${t}`)}return(0,ce.is401Error)(this.error)?this.getTranslation("ERROR_PAGE_MESSAGE_NOT_AUTHORIZED"):(0,ce.is4xxError)(this.error)?this.getTranslation("ERROR_PAGE_MESSAGE_NOT_FOUND"):this.error.message?this.error.message:""},errorTitle(){return(0,ce.isPostDeletedError)(this.error)?this.getTranslation("ERROR_POST_DELETED_TITLE"):"TimeoutError"===this.error.name?this.getTranslation("ERROR_PAGE_TITLE_TIMEOUT"):(0,ce.is403WithReason)(this.error)&&!(0,ce.is403WithUserType)(this.error)?this.getTranslation(`ERROR_PAGE_TITLE_ARTICLE_${this.error.data.reason}`):(0,ce.is403Error)(this.error)?this.getTranslation("ERROR_PAGE_TITLE_UNAUTHORIZED"):(0,ce.is401Error)(this.error)?this.getTranslation("ERROR_PAGE_TITLE_NOT_AUTHORIZED"):(0,ce.is4xxError)(this.error)?this.getTranslation("ERROR_PAGE_TITLE_NOT_FOUND"):this.getTranslation("ERROR_PAGE_TITLE_INTERNAL")},errorAction(){return"TimeoutError"===this.error.name?{text:this.getTranslation("ERROR_PAGE_REFRESH"),action:this.reloadThePage}:(0,ce.is403Error)(this.error)||(0,ce.is403WithReason)(this.error)||(0,ce.is4xxError)(this.error)?{text:this.getTranslation("ERROR_PAGE_BACK_TO_MAIN"),action:this.backToMainPage}:(0,ce.is401Error)(this.error)?{text:this.getTranslation("ERROR_PAGE_AUTH"),action:()=>{const{hl:t}=this.langOptions,e=this.$route.path;window.location.href=`/kek/v1/auth/habrahabr/?back=${e}&hl=${t}`}}:null},errorActionAlternative(){return this.errorAction&&this.errorAction.text===this.getTranslation("ERROR_PAGE_BACK_TO_MAIN")?null:(0,ce.is401Error)(this.error)?{text:this.getTranslation("ERROR_PAGE_BACK_TO_MAIN"),action:()=>{const{hl:t}=this.langOptions;window.location.href=`/kek/v1/auth/logout2/${this.userLogoutHash}/?back=/${t}/all`}}:null}},beforeMount(){const t=(0,ce.getErrorCode)(this.error);(0,ce.is401Error)(this.error)&&"TOKEN_PROBLEM"===t&&(this.setUser(null),this.init(!0),this.reset()),(0,ce.is403Error)(this.error)&&"SUBSCRIPTIONS_ARE_EMPTY"===t&&this.isLoggedIn&&this.$router.push({name:"MY_FEED_SETTINGS"})},mounted(){(0,ce.is401Error)(this.error)&&a.$e((t=>{t.setTag("error_type",(0,ce.getHttpCode)(this.error)),t.setUser(this.user),t.setLevel("warning"),a.uT("NOT_AUTHORIZED_401",{extra:this.error,contexts:this.error})}))},methods:{...(0,h.OI)("me",["setUser"]),...(0,h.nv)("me",["init"]),...(0,h.nv)("ssr",["reset"]),getTranslation(t,e){if(e)return this.msg(t,e);const{hl:s}=this.langOptions;return le(s||"en",t)},getUserProfileLink(t){return`/${this.langOptions.hl}/users/${t}/`},backToMainPage(){this.isPwa?window.location="/pwa/":window.location="/"}}},ue=me;var de=(0,P.Z)(ue,ee,se,!1,null,null,null);const pe=de.exports;var _e=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-page-progress-bar",class:t.className})},he=[];const ge={name:"TMPageProgressBar",props:{isFinished:Boolean,isProcessing:Boolean},data(){return{haveJustFinished:!1}},computed:{className(){return{"tm-page-progress-bar_finished":this.haveJustFinished,"tm-page-progress-bar_processing":this.isProcessing}}},watch:{isFinished(t,e){t&&!e&&(this.haveJustFinished=!0,setTimeout((()=>{this.haveJustFinished=!1}),300))}}},Te=ge;var ve=(0,P.Z)(Te,_e,he,!1,null,null,null);const Se=ve.exports;var fe=s(6109),Ee=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-regional-restriction"},[e("TMLegalBanIcon",{staticClass:"tm-regional-restriction__image"}),t._v(" "),e("div",{staticClass:"tm-regional-restriction__title"},[t._v("\n    "+t._s(t.msg("ERROR_REGIONAL_RESTRICTION_TITLE"))+"\n  ")]),t._v(" "),e("div",{staticClass:"tm-regional-restriction__subtitle"},[t._v("\n    "+t._s(t.msg("ERROR_REGIONAL_RESTRICTION_SUBTITLE"))+":\n  ")]),t._v(" "),e("div",{staticClass:"tm-regional-restriction__list"},t._l(t.error.data.restrictions,(function(s,n){return e("div",{key:n,staticClass:"tm-regional-restriction__restrictions"},[e("div",{staticClass:"tm-regional-restriction__block"},[e("div",{staticClass:"tm-regional-restriction__row"},[e("span",{staticClass:"tm-regional-restriction__label"},[t._v("\n            "+t._s(t.msg("ERROR_REGIONAL_RESTRICTION_REGION"))+":\n          ")]),t._v("\n          "+t._s(s.country)+"\n        ")]),t._v(" "),e("div",{staticClass:"tm-regional-restriction__row"},[e("span",{staticClass:"tm-regional-restriction__label"},[t._v("\n            "+t._s(t.msg("ERROR_REGIONAL_RESTRICTION_DATE"))+":\n          ")]),t._v(" "),e("TMDatetime",{attrs:{"absolute-date":"",date:s.timeStarted}})],1),t._v(" "),t.reason(s)?e("div",{staticClass:"tm-regional-restriction__row"},[e("span",{staticClass:"tm-regional-restriction__label"},[t._v("\n            "+t._s(t.msg("ERROR_REGIONAL_RESTRICTION_REASON"))+":\n          ")]),t._v("\n          "+t._s(t.reason(s))+"\n        ")]):t._e(),t._v(" "),t.authority(s)?e("div",{staticClass:"tm-regional-restriction__row"},[e("span",{staticClass:"tm-regional-restriction__label"},[t._v("\n            "+t._s(t.msg("ERROR_REGIONAL_RESTRICTION_AUTHORITY"))+":\n          ")]),t._v("\n          "+t._s(s.country)+" / "+t._s(t.authority(s))+"\n        ")]):t._e()]),t._v(" "),e("div",{staticClass:"tm-regional-restriction__block"},[t.legalBasis(s)?e("div",{staticClass:"tm-regional-restriction__row"},[e("div",{staticClass:"tm-regional-restriction__label"},[t._v("\n            "+t._s(t.msg("ERROR_REGIONAL_RESTRICTION_LEGAL_BASE"))+":\n          ")]),t._v("\n          "+t._s(t.legalBasis(s))+"\n        ")]):t._e()]),t._v(" "),e("div",{staticClass:"tm-regional-restriction__block"},[e("div",{staticClass:"tm-regional-restriction__link-container"},[e("span",{staticClass:"tm-regional-restriction__label"},[t._v("\n            "+t._s(t.msg("ERROR_REGIONAL_RESTRICTION_REFERENCE"))+":\n          ")]),t._v(" "),t.legalBasisLink(s)?e("a",{staticClass:"tm-regional-restriction__link",attrs:{href:t.legalBasisLink(s),target:"_blank"},domProps:{textContent:t._s(t.legalBasisLink(s))}}):t._e()])])])})),0)],1)},Ie=[];const Ce=()=>s.e(1346).then(s.bind(s,51346)),Ae={name:"TMRegionalRestriction",components:{TMDatetime:N.Z,TMLegalBanIcon:Ce},props:{error:{type:Object,required:!0}},methods:{reason(t){var e;return null===(e=t.restrictionReason)||void 0===e?void 0:e.reason},authority(t){var e;return null===(e=t.authority)||void 0===e?void 0:e.shortName},legalBasis(t){return t.legalBasis.text},legalBasisLink(t){return t.legalBasis.url}}},be=Ae;var ye=(0,P.Z)(be,Ee,Ie,!1,null,null,null);const Pe=ye.exports;var Le=function(){var t=this,e=t._self._c;return t.isDesktop&&(t.scrolledEnough||t.shouldRestoreScroll)?e("button",{staticClass:"tm-scroll-top",on:{click:t.performScroll}},[e("TMSvgIcon",{staticClass:"tm-scroll-top__arrow",class:{"tm-scroll-top__arrow_reverted":t.shouldRestoreScroll},attrs:{id:"small-arrow",tag:"span",title:t.shouldRestoreScroll?t.msg("NAV_DOWN"):t.msg("NAV_UP")}})],1):t._e()},Oe=[];const Ne=100,Me={name:"TMScrollTop",components:{TMSvgIcon:J.Z},data(){return{storedScrollPosition:0,lastScrollPosition:0,shouldRestoreScroll:!1,scrolledEnough:!1}},computed:{...(0,h.Se)("global",["isDesktop"])},mounted(){requestAnimationFrame((()=>{this.handleScroll(),window.addEventListener("scroll",this.handleScroll,{passive:!0})}))},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},methods:{performScroll(){let t=0;this.shouldRestoreScroll?(t=this.storedScrollPosition,this.storedScrollPosition=0):this.storedScrollPosition=document.scrollingElement.scrollTop,this.shouldRestoreScroll=!this.shouldRestoreScroll,window.scrollTo({top:t,left:0,behavior:"smooth"})},handleScroll(){const{scrollTop:t}=document.scrollingElement;this.scrolledEnough=t>Ne,this.lastScrollPosition<t&&this.shouldRestoreScroll&&(this.shouldRestoreScroll=!1),this.lastScrollPosition=t}}},Re=Me;var ke=(0,P.Z)(Re,Le,Oe,!1,null,null,null);const we=ke.exports;var Be=s(63672);const De=()=>s.e(2259).then(s.bind(s,32259)),xe=()=>s.e(6419).then(s.bind(s,76419)),$e=()=>Promise.resolve().then(s.bind(s,32657));function Ue(t){const e=/https?:\/\/((?:[\w\d-]+\.)+[\w\d]{2,})/i;return e.exec(t)}const Fe={components:{TMRegionalRestriction:Pe,TMPageError:pe,TMPage:te.Z,TMBurgerMenu:De,TMPageWidth:j.Z,TMHeaderUserMenu:Et.Z,TMScrollLockTransition:z.Z,TMPopup:fe.Z,TMUserNotice:$e,TMButtonBase:S.Z,TMDatetime:N.Z,TMFeature:$,TMFooter:ct,TMFooterMenu:Tt,TMAnalytics:O,TMHeader:wt,TMHotKeys:xe,TMLayoutMetaWrapper:Ft,TMMainMenu:qt,TMNotification:Jt,TMPageProgressBar:Se,TMScrollTop:we,TMSidebar:Be.Z},data(){return{shouldOpenLangSettings:!1,shouldOpenPayments:!1,showRefreshNotice:!1,cacheTime:null,showCacheNotice:!1,isHeaderSticky:!1,showHotKeysPopup:!1,navMenuVisible:!1}},computed:{...(0,h.rn)("navMenu",{isMainMenuOpened:"isOpened",mainMenuDelta:"delta"}),...(0,h.rn)("ssr",["isDataLoaded","isDataLoading"]),...(0,h.Se)("ssr",["error"]),...(0,h.Se)("global",["isMobile","isTablet","isDesktop"]),...(0,h.Se)("me",["isLoggedIn","notices"]),...(0,h.rn)("global",["isPwa"]),isPPGError(){return"PPG_REQUIRED"===(0,ce.getErrorCode)(this.error)},isLegalBanError(){return 451===(0,ce.getHttpCode)(this.error)},isFeatureShown(){return"en"!==this.langOptions.fl&&!this.isPwa},isBlankPage(){return"blank"===this.$route.meta.pageType},isConversationPage(){return"conversation"===this.$route.meta.pageType},isFooterHidden(){return this.isBlankPage||this.isConversationPage},isDisplayStandalone(){return window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone},showUserNotices(){return!this.$route.meta.hideUserNotices}},watch:{$route:{handler(t){this.isHeaderSticky="sticky"===t.meta.header,this.shouldOpenLangSettings=!1},immediate:!0}},mounted(){this.isDisplayStandalone&&this.initPwaMode(),this.initViewport(),window.addEventListener("appinstalled",(()=>{(0,C.IZ)("pwa_add"),this.initPwaMode()})),document.addEventListener("showRefreshNotice",(()=>{this.showRefreshNotice=!0}),{once:!0}),document.addEventListener("showCacheNotice",(t=>{this.cacheTime=parseInt(t.detail,10),this.showCacheNotice=!0,document.addEventListener("click",this.blockOpeningExternalLink)})),document.addEventListener("hideCacheNotice",(()=>{this.cacheTime=null,this.showCacheNotice=!1,document.removeEventListener("click",this.blockOpeningExternalLink)})),window.addEventListener("offline",(()=>{this.cacheTime=new Date,this.showCacheNotice=!0})),window.addEventListener("online",(()=>{this.showCacheNotice=!1})),window.addEventListener("beforeinstallprompt",(t=>(t.preventDefault(),!1)))},methods:{bem:k.P,...(0,h.nv)("me",["init"]),...(0,h.nv)("viewport",{initViewport:"init"}),...(0,h.nv)("global",["initPwaMode"]),reloadThePage(){this.isPwa?window.location="/pwa/":window.location.reload(!0)},blockOpeningExternalLink(t){const{target:e}=t;if("A"===e.tagName||"A"===e.parentNode.tagName){const{href:s}=e.closest("a"),n=Ue(s),i=Ue(document.location.href);n!==i&&(t.preventDefault(),this.$toast.warning(this.msg("ERROR_PAGE_MESSAGE_NO_INTERNET_LINK")))}},toggleHotKeysPopup(){this.showHotKeysPopup=!this.showHotKeysPopup}}},Ve=Fe;var He=(0,P.Z)(Ve,T,v,!1,null,null,null);const Ge=He.exports;var We=function(){var t=this,e=t._self._c;return e("main",{staticClass:"tm-layout"},[e("router-view")],1)},Ze=[],Ye={},qe=(0,P.Z)(Ye,We,Ze,!1,null,null,null);const je=qe.exports;var Ke=s(91296),ze=s.n(Ke);function Qe(){let t=document.scrollingElement.scrollTop,e=!1;window.addEventListener("scroll",ze()((()=>{e||(t=document.scrollingElement.scrollTop)}),50)),window.addEventListener("fullscreenchange",(()=>{document.fullscreenElement?e=!0:(e=!1,document.scrollingElement.scrollTop=t)}))}function Xe(){document.addEventListener("click",(({target:t})=>{t.classList.contains("habrahidden")&&t.setAttribute("data-show",!0)}))}var Je=s(32057),ts=s(23217);const es=t=>"ru"===t?"en":"ru",ss={components:{TMBaseLayout:Ge,TMEmptyLayout:je},asyncData({store:t}){return t.dispatch("flows/loadFlows")},data(){return{isCroppedByOverlay:!1,isLoadingI18n:!1,hasHydrated:!1}},computed:{...(0,h.Se)("me",["userAlias"]),...(0,h.Se)("i18n",["langOptions","currentLocale","pageTitle"]),...(0,h.Se)("global",["isHabrCom"]),currentLayout(){return`TM-${this.$route.meta.layout||"base"}-layout`},defaultPreviewImage(){return"ru"===this.langOptions.hl?"/img/habr_ru.png":"/img/habr_en.png"},staticPageMeta(){return[...(0,g.h$)(this.defaultPreviewImage),{property:"fb:app_id",content:"444736788986613"},{property:"fb:pages",content:"472597926099084"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"ru"===this.langOptions.hl?"@habr_com":"@habr_eng"},{property:"og:locale",content:this.currentLocale,vmid:"og:locale"},{property:"og:type",content:"website",vmid:"og:type"},{property:"og:site_name",content:"ru"===this.langOptions.hl?"Хабр":"Habr",vmid:"og:site_name"}]},pageMetaTitle(){const{title:t}=this.$route.meta||{};return t?this.msg(t,this.$route.params):void 0},pageMeta(){const{description:t,noindex:e}=this.$route.meta,s=[...this.staticPageMeta],{href:n}=this.$router.resolve({name:this.$route.name,params:this.$route.params});return e&&s.push({name:"robots",content:"noindex",vmid:"robots"}),t&&(s.push({name:"description",content:this.msg(t,this.$route.params),vmid:"description"}),s.push({property:"og:description",content:this.msg(t,this.$route.params),vmid:"og:description"})),s.push({property:"og:title",content:this.pageTitle(this.pageMetaTitle),vmid:"og:title"},{property:"og:url",content:(0,Je.Z)(n),vmid:"og:url"}),s},pageMetaLinks(){const{renderAlternateMetaTag:t}=this.$route.meta,e=[{rel:"image_src",href:this.defaultPreviewImage,vmid:"image:href"}];let{href:s}=this.$router.resolve({name:this.$route.name,params:this.$route.params});if(this.$route.meta.canonicalRoute)s=this.$router.resolve({name:this.$route.meta.canonicalRoute,params:this.$route.params}).href;else if(this.$route.name&&this.$route.name.match(/_PAGES$/)){const{matched:t,params:e}=this.$route,n=t[t.length-2];s=this.$router.resolve({...n,params:e}).href}e.push({href:(0,Je.Z)(s),rel:"canonical",vmid:"canonical"});const n=[];if(t){const t=this.$router.resolve({...this.$route,params:{...this.$route.params,hl:es(this.$route.params.hl)}});n.push({href:`https://habr.com${this.$route.path}`,hreflang:this.$route.params.hl,rel:"alternate",vmid:"hreflang"}),n.push({href:`https://habr.com${t.href}`,hreflang:es(this.$route.params.hl),rel:"alternate",vmid:"hreflang"})}return[...e,...n]}},watch:{$route(t,e){t.path!==e.path&&this.loadPromoData()}},mounted(){this.hasHydrated=!0;const t=(0,l.ej)("hl"),e=(0,l.ej)("fl"),{fl:s,hl:n}=this.langOptions;n!==t&&(0,l.d8)("hl",n,{expires:365}),s!==e&&(0,l.d8)("fl",s,{expires:365}),this.getUUID(),window.addEventListener("message",(t=>{this.validEmbedOrigin(t)&&(t.data&&t.data.type&&"embed-size"===t.data.type&&this.resizeIframe(t.data),t.data&&t.data.type&&"embed-scroll"===t.data.type&&this.scrollToIframe(t.data),t.data&&t.data.type&&"request-user"===t.data.type&&this.sendUser(t))})),this.$route.hash!==`#${ts.dY}`&&(window.history.scrollRestoration="auto"),this.loadPromoData(),Xe(),Qe()},metaInfo(){return{title:this.pageMetaTitle,titleTemplate:t=>this.pageTitle(t),link:this.pageMetaLinks,meta:this.pageMeta}},methods:{...(0,h.nv)("promoData",["loadPromoData"]),...(0,h.nv)("me",["getUUID"]),resizeIframe(t){const e=t.id,s=document.querySelectorAll(`[id="${e}"]`);for(let n=0;n<s.length;n+=1)s[n].height=t.height},scrollToIframe(t){const e=t.id,s=document.querySelector(`[id="${e}"]`);if(s){const t=s.getBoundingClientRect().top+window.pageYOffset-56;window.scrollTo({top:t,behavior:"smooth"})}},sendUser(t){t.source.postMessage({type:"user",alias:this.userAlias},t.origin)},validEmbedOrigin(t){return"https://embedd.srv.habr.com"===t.origin}}},ns=ss;var is=(0,P.Z)(ns,p,_,!1,null,null,null);const as=is.exports;var os=s(96017),rs=s(69811),ls=s(54226);function cs(t){return(0,rs.Q)((0,ls.k)("fbi/"),t)}var ms=s(76721);function us(t,e){const s=e.getters["i18n/langOptions"],{hl:n}=s;if(t.params.hl!==n)return t.name&&"ERROR_NOT_FOUND"!==t.name?{params:{...t.params,hl:n},name:t.name,query:t.query}:{path:`/${n}${t.fullPath}`,query:t.query};const i="/"===t.path[t.path.length-1];return i?null:{path:`${t.path}/`,query:t.query}}function ds(t,e){const s={FLOW_PAGE:"ARTICLES_LIST_BY_FLOW_ALL",ALL_FLOWS:"ARTICLES_LIST_ALL",NEWS_LIST_BY_FLOW_ALL:"NEWS_LIST_BY_FLOW_ALL",NEWS_LIST_ALL:"NEWS_LIST_ALL",POSTS_ALL:"POSTS_ALL",POSTS_BY_FLOW_ALL:"POSTS_BY_FLOW_ALL",NEWS_BY_HUB_ALL:"NEWS_BY_HUB_ALL",POSTS_BY_HUB_ALL:"POSTS_BY_HUB_ALL",HUB_PAGE:"ARTICLES_LIST_BY_HUB_ALL",ARTICLES_LIST_BY_HUB_ALL:"ARTICLES_LIST_BY_HUB_ALL",ARTICLES_LIST_BY_FLOW_ALL:"ARTICLES_LIST_BY_FLOW_ALL"};let n="";t.beforeEach(((t,i,a)=>{const{name:o,params:r,hash:c}=t,m=s[o],u=m===n,d=!m||u&&m===o;if(n=m,d)return a();const p=Boolean(e.state.me.user);if(!p)return a({name:m,params:r,hash:c});const _=r.flowName||"all",{hubName:h}=r,g=o&&o.startsWith("NEWS"),T=o&&o.startsWith("POSTS"),v=(0,ms.buildCookieName)({flowName:_,hubName:h,isNews:g,isPosts:T}),S=(0,l.ej)(v),f=`/${r.hl}${S}${c||""}`;return a(S?{path:f}:{name:m,params:r,hash:c})}))}function ps(t,e){t.beforeResolve(((t,s,n)=>{t.matched.some((t=>"allFlows"===t.meta.feedType))&&e.dispatch("flows/loadUpdates"),e.dispatch("me/loadUpdates"),n()}))}function _s(t,e){t.beforeEach(((t,s,n)=>{const i=t.matched.reduce(((t,e)=>Array.isArray(e.meta.groups)?[...t,...e.meta.groups]:t),[]),a=`/${t.params.hl}/404/`;if(i.length){if(!e.state.me.user)return n({path:a});if(!i.every((t=>e.state.me.user.groups.includes(t))))return n({path:a})}if("/"!==s.path){const s=us(t,e);return s?n(s):n()}return n()})),ds(t,e),ps(t,e),t.afterEach(((t,s)=>{const n="undefined"!==typeof window;e.dispatch("location/updateUrl",{route:t});const{error:i}=e.state.ssr,a="PPG_REQUIRED"===(0,ce.getErrorCode)(i);if(i&&!a&&(e.dispatch("ssr/reset"),e.dispatch("ssr/markDataLoading")),e.state.me&&e.state.me.user&&n){const{path:t}=e.state.location.urlStruct;cs({url:t}).catch((t=>os.Z.notifyException(t)))}Object.assign(t.meta,{prevFullPath:s.fullPath})}))}var hs=s(78345),gs=s(70236),Ts=s(20215);const vs=()=>s.e(5631).then(s.bind(s,50612)),Ss=()=>s.e(5631).then(s.bind(s,34375)),fs=()=>s.e(5631).then(s.bind(s,5365)),Es=(t,e=null,s)=>({pathToRegexpOptions:{strict:!0},components:{default:vs},props:{default:!0},children:[{name:t,path:"",components:{sidebar:e},props:{sidebar:!0},meta:{pageType:"post_comments",customGA:!0,rssLink:t=>s?`/rss/news/t/${t.id}/`:`/rss/post/${t.id}/`}}],meta:{pageType:"post_comments",customGA:!0,rssLink:t=>s?`/rss/news/t/${t.id}/`:`/rss/post/${t.id}/`}}),Is=!0,Cs=[{pathToRegexpOptions:{strict:!0},path:`post/:id${Ts.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:gs.VU.ARTICLE_COMMENTS}},{...Es(gs.VU.ARTICLE_COMMENTS,fs),path:`articles/:id${Ts.PUBLICATION_ID_MATCH}/comments/`,alias:`/:hl/p/:id${Ts.PUBLICATION_ID_MATCH}/comments/`},{pathToRegexpOptions:{strict:!0},path:`news/t/:id${Ts.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:gs.VU.NEWS_COMMENTS}},{...Es(gs.VU.NEWS_COMMENTS,fs,Is),path:`news/:id${Ts.PUBLICATION_ID_MATCH}/comments/`},{pathToRegexpOptions:{strict:!0},path:`company/:companyName/blog/:id${Ts.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:gs.VU.ARTICLE_OF_COMPANY_COMMENTS}},{...Es(gs.VU.ARTICLE_OF_COMPANY_COMMENTS,Ss),path:`companies/:companyName/articles/:id${Ts.PUBLICATION_ID_MATCH}/comments/`,alias:`/:hl/blogs/:companyName/:id${Ts.PUBLICATION_ID_MATCH}/comments/`},{pathToRegexpOptions:{strict:!0},path:`company/:companyName/news/t/:id${Ts.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:gs.VU.NEWS_OF_COMPANY_COMMENTS}},{...Es(gs.VU.NEWS_OF_COMPANY_COMMENTS,Ss,Is),path:`companies/:companyName/news/:id${Ts.PUBLICATION_ID_MATCH}/comments/`},{pathToRegexpOptions:{strict:!0},path:`article/:id${Ts.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:gs.VU.SPECIAL_COMMENTS}},{...Es(gs.VU.SPECIAL_COMMENTS),path:`specials/:id${Ts.PUBLICATION_ID_MATCH}/comments/`}],As=()=>s.e(2636).then(s.bind(s,81770)),bs=(t,e,s)=>{const n={geektimes:"geektimes",mozg:"megamozg"};return(0,rs.Hm)((0,ls.k)(`migrated/${n[t]}/${e}/${s}`,"v2"),null).then((t=>({pageType:e,targetId:t.alias||t.id})))},ys=(t,e,s,n,i)=>{const{hl:a}=t.params,o=t.fullPath.split("/")[2];return bs(o,s,n).then((s=>{if(s){const n=t.params.pathMatch||"",i=t.params.rss?"/rss":"",o=()=>{switch(s.pageType){case Ts.PAGE_TYPE.HUB:return"hub";case Ts.PAGE_TYPE.COMPANY:return"companies";case Ts.PAGE_TYPE.POST:return"articles";default:return s.pageType}};return e({path:`/${a}${i}/${o()}/${s.targetId}/${n}`})}return e()})).catch((t=>(i.dispatch("ssr/showError",{error:t}),e(t))))},Ps=t=>[{path:"companies/:alias/*",component:As,beforeEnter(e,s,n){return ys(e,n,Ts.PAGE_TYPE.COMPANY,e.params.alias,t)},props:{error:"redirect"}},{path:"company/:alias/*",component:As,beforeEnter(e,s,n){return ys(e,n,Ts.PAGE_TYPE.COMPANY,e.params.alias,t)},props:{error:"redirect"}},{path:"companies/:alias/articles/:id/",component:As,beforeEnter(e,s,n){return ys(e,n,Ts.PAGE_TYPE.POST,e.params.id,t)},props:{error:"redirect"}},{path:"company/:alias/blog/:id/",component:As,beforeEnter(e,s,n){return ys(e,n,Ts.PAGE_TYPE.POST,e.params.id,t)},props:{error:"redirect"}},{path:"hub/:alias/*",component:As,beforeEnter(e,s,n){return ys(e,n,Ts.PAGE_TYPE.HUB,e.params.alias,t)},props:{error:"redirect"}},{path:"articles/:id/",component:As,beforeEnter(e,s,n){return ys(e,n,Ts.PAGE_TYPE.POST,e.params.id,t)},props:{error:"redirect"}},{path:"post/:id/",component:As,beforeEnter(e,s,n){return ys(e,n,Ts.PAGE_TYPE.POST,e.params.id,t)},props:{error:"redirect"}},{path:"p/:id/",component:As,beforeEnter(e,s,n){return ys(e,n,Ts.PAGE_TYPE.POST,e.params.id,t)},props:{error:"redirect"}},{path:"sandbox/:id/",component:As,beforeEnter(e,s,n){return ys(e,n,Ts.PAGE_TYPE.SANDBOX,e.params.id,t)},props:{error:"redirect"}}],Ls=t=>[{path:"geektimes/:rss(rss)?",component:As,children:Ps(t),props:{error:"redirect"}},{path:"mozg/:rss(rss)?",component:As,children:Ps(t),props:{error:"redirect"}}];var Os=function(){var t=this,e=t._self._c;return e("div",[e("TMPlaceholder",{attrs:{modificator:"preview",times:7,type:"article"}})],1)},Ns=[],Ms=s(40591);const Rs={components:{TMPlaceholder:Ms.Z},computed:{...(0,h.Se)("i18n",["langOptions"])},beforeMount(){this.initPwaMode()},mounted(){const t=(0,Ot.bc)(this.langOptions);this.$router.replace(t)},methods:{...(0,h.nv)("global",["initPwaMode"])}},ks=Rs;var ws=(0,P.Z)(ks,Os,Ns,!1,null,null,null);const Bs=ws.exports,Ds=[{name:"PWA",path:"/pwa/",pathToRegexpOptions:{strict:!0},component:Bs}],xs=()=>s.e(2443).then(s.bind(s,54680)),$s=[{name:"ABOUT",path:"about/",components:{default:xs},meta:{pageType:"blank",layout:"empty"}}];var Us=function(){var t=this,e=t._self._c;return e("TMPage",{scopedSlots:t._u([{key:"header",fn:function(){return[t.companyInfo&&t.showCompanyBranding?e("TMCompanyBranding",{staticClass:"tm-company-article__branding",attrs:{"company-info":t.companyInfo}}):t._e()]},proxy:!0},{key:"default",fn:function(){return[e("TMUserPublicationPresenter",{attrs:{"company-info":t.companyInfo,"is-loading":t.$fetchState.isLoading,"is-post":t.isPost,publication:t.article},scopedSlots:t._u([{key:"beforeBody",fn:function(){return[t.userShowAdv&&t.isStartup?e("TMAdfoxBanner",{attrs:{"adfox-id":"169815559787254866","div-id":"topBanner",params:{pp:"g",ps:"fnps",p2:"iqny"},"show-ad-title":!1,variant:"narrow"}}):t._e(),t._v(" "),t.isDesktop?e("TMCompanyProfileCard",{staticClass:"tm-company-article__profile-card",attrs:{company:t.companyInfo}}):t._e(),t._v(" "),t.article&&t.article.regionalRestrictions&&t.article.regionalRestrictions.length?e("TMRegionalRestrictionNotice",{attrs:{email:t.article.authorEmail,restrictions:t.article.regionalRestrictions}}):t._e()]},proxy:!0},{key:"footer",fn:function(){return[e("TMUserArticleBlocks",{attrs:{id:t.id,article:t.article,"is-loading":t.$fetchState.isLoading,"is-show-stories":t.isStartup,"show-similar-articles":t.showSimilarArticlesAndVacanciesOrCourses},scopedSlots:t._u([{key:"afterAuthorBlocks",fn:function(){return[t.userShowAdv&&t.isStartup?e("TMAdfoxBanner",{attrs:{"adfox-id":"169815585631156344","div-id":"articleCentralBanner",params:{pp:"h",ps:"fnps",p2:"iqpa"},"show-ad-title":!1,variant:"medium-narrow"}}):t._e(),t._v(" "),t.article&&!t.$fetchState.isLoading&&t.companyHasActivePolls?e("TMCompanyPoll",{attrs:{"article-has-polls":t.articleHasPolls,"company-alias":t.companyAlias,"post-lang":t.article.lang,"show-fallback":t.articleHasMultiwidget&&!t.articleHasPolls},scopedSlots:t._u([{key:"fallback",fn:function({isLoading:s}){return[s?e("TMBlock",[e("TMPlaceholder",{attrs:{times:1,type:"static_section_name"}}),t._v(" "),e("TMPlaceholder",{attrs:{times:1,type:"articleCards"}})],1):t.articleHasMultiwidget&&!s?e("TMMultiwidgetBlock",{attrs:{"article-id":t.article.id,blocks:t.article.multiwidget,place:"publication"}}):t._e()]}}],null,!1,869048636)}):t.articleHasMultiwidget?e("TMMultiwidgetBlock",{attrs:{"article-id":t.article.id,blocks:t.article.multiwidget,place:"publication"}}):t._e()]},proxy:!0},{key:"beforeUserCard",fn:function(){return[t.companyInfo?e("TMCompanyInfo",{attrs:{"company-info":t.companyInfo}}):t._e()]},proxy:!0},{key:"beforeDailyArticles",fn:function(){return[t.isStartup?[t.isMobile?e("TMStories",{attrs:{"ga-category":"stories_mobile"}}):e("TMPromoBlock",{attrs:{"ga-type":"post",layout:"article"}}),t._v(" "),t.article&&t.article.id?e("TMRandomProjectBlock",{attrs:{"block-id":"project-block-company-article",hubs:t.getArticleHubsTitles(t.id),location:"post",tags:t.getArticleTagsTitles(t.id)}}):t._e()]:[t.showRandomProjectBlock?e("TMRandomProjectBlock",{attrs:{"block-id":"project-block-company-article",blocks:t.blocks,"career-alias":t.careerAlias,"company-alias":t.companyAlias,"company-title":t.companyTitle,hubs:t.getArticleHubsTitles(t.id),location:"post","school-alias":t.schoolAlias,tags:t.getArticleTagsTitles(t.id)}}):t._e()]]},proxy:!0},t.isMobile&&t.isStartup?{key:"afterDailyArticles",fn:function(){return[e("TMPromoBlock",{attrs:{"ga-type":"post",layout:"article"}})]},proxy:!0}:null,{key:"dailyTopPromoLink",fn:function(){return[t.dailyTopPromoLink&&t.isStartup?e("TMPromoPostLink",{attrs:{appearance:t.isSandboxArticle?"top-daily":"top-daily-card","promo-post":t.dailyTopPromoLink}}):t._e()]},proxy:!0}],null,!0)})]},proxy:!0}])})]},proxy:!0},{key:"sidebar",fn:function(){return[e("TMArticleCorporativeSidebar",{attrs:{"company-info":t.companyInfo,"company-name":t.companyAlias}})]},proxy:!0}])})},Fs=[],Vs=s(12644),Hs=s(17907),Gs=s(25349),Ws=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-author__company"},[e("div",{staticClass:"tm-article-author__company-card"},[e("TMCompanySnippet",{attrs:{company:t.companyInfo}}),t._v(" "),e("div",{staticClass:"tm-article-author__buttons"},[t.isSuperAdmin?e("div",{staticClass:"tm-article-author__button"},[e("TMAdministrationLinks",{attrs:{links:t.companyLinksItems}})],1):t._e(),t._v(" "),t.isLoggedIn?e("div",{staticClass:"tm-article-author__button"},[e("div",{staticClass:"tm-article-author__follow-block"},[e("TMButtonFollow",{attrs:{subscribed:t.isCompanySubscribed,"use-follow-label":!0},on:{onToggle:function(e){return t.toggleSubscribeStatus(t.companyInfo.alias)}}})],1)]):t._e()])],1),t._v(" "),t.companyInfo.contacts&&t.companyInfo.contacts.length?e("div",{staticClass:"tm-article-author__company-contacts"},t._l(t.companyInfo.contacts,(function(s){return e("a",{key:s.url,staticClass:"tm-article-author__contact",attrs:{href:s.url,rel:"noopener",target:"_blank"}},[t._v("\n      "+t._s(s.title)+"\n    ")])})),0):t._e(),t._v(" "),e("div",{staticClass:"tm-article-author__separator"})])},Zs=[],Ys=s(410),qs=s(2483);const js=()=>s.e(2328).then(s.bind(s,74574)),Ks={name:"TMCompanyInfo",components:{TMButtonFollow:Ys.Z,TMAdministrationLinks:js,TMCompanySnippet:qs.Z},props:{companyInfo:{type:Object,required:!0}},computed:{...(0,h.Se)("me",["isLoggedIn","isSuperAdmin"]),companyLinksItems(){const{alias:t}=this.companyInfo,e={en:{EDIT_PROFILE:"Edit profile via CP"},ru:{EDIT_PROFILE:"Редактировать профиль в CP"}},s=`https://habr.com/kek/admin/company/${t}/`;return[{title:e[this.langOptions.hl].EDIT_PROFILE,link:s}]},isCompanySubscribed(){return this.companyInfo.relatedData&&this.companyInfo.relatedData.isSubscribed}},methods:{...(0,h.nv)("companies",["toggleSubscribeStatus"])}},zs=Ks;var Qs=(0,P.Z)(zs,Ws,Zs,!1,null,null,null);const Xs=Qs.exports;var Js=function(){var t=this,e=t._self._c;return t.companyPoll?e("TMBlock",{staticClass:"tm-company-poll",attrs:{spacing:"around",title:t.msg("POLLS_COMPANY")}},[e("TMArticlePoll",{attrs:{"enabled-for-guests":"","is-loading-decline":t.isLoadingDecline,"is-loading-vote":t.isLoadingVote,poll:t.companyPoll},on:{"decline-vote":t.declineVote,"submit-vote":t.sendVote}})],1):t.showFallback?e("div",[t._t("fallback",null,{isLoading:t.isLoadingPolls})],2):t._e()},tn=[],en=s(62513),sn=s(12790);const nn={name:"TMCompanyPoll",components:{TMArticlePoll:en.Z,TMBlock:Hs.Z},props:{companyAlias:{required:!0,type:String},postLang:{required:!0,type:String},articleHasPolls:{required:!0,type:Boolean},showFallback:{required:!0,type:Boolean}},data(){return{companyPoll:null,isLoadingDecline:!1,isLoadingVote:!1,isLoadingPolls:!0}},computed:{...(0,h.rn)("me",["uuid"])},mounted(){this.$activeWatch((()=>this.uuid),(t=>{t&&(this.companyPoll||this.articleHasPolls||(this.isLoadingPolls=!0,(0,sn.C1)(this.companyAlias,{postLang:this.postLang}).then((({companyPoll:t})=>{this.companyPoll=t})).catch((()=>null)).finally((()=>{this.isLoadingPolls=!1}))))}),{immediate:!0})},methods:{saveCompanyPollAnswer(t,e){(0,sn.Wd)(this.companyAlias,t,e).then((t=>{this.companyPoll=t})).catch((t=>{this.$toast.error(t.message)})).finally((()=>{this.isLoadingVote=!1,this.isLoadingDecline=!1}))},declineVote({pollId:t}){this.isLoadingDecline=!0;const e={variants:[]};this.saveCompanyPollAnswer(t,e)},sendVote({variantId:t,pollId:e}){const s={variants:t};this.saveCompanyPollAnswer(e,s)}}},an=nn;var on=(0,P.Z)(an,Js,tn,!1,null,null,null);const rn=on.exports;var ln=s(84418),cn=s(74748),mn=s(44173),un=s(99372),dn=s(81432),pn=s(80312),_n=s(31186),hn=function(){var t=this,e=t._self._c;return e("TMUserNotice",{attrs:{notice:t.notice,slim:""}})},gn=[],Tn=s(32657);const vn={name:"TMRegionalRestrictionNotice",components:{TMUserNotice:Tn["default"]},props:{restrictions:{type:Array,required:!0},email:{type:String,required:!0}},computed:{notice(){return{level:"error",isPermanent:!0,message:this.msg("PUBLICATION_REGIONAL_RESTRICTION",{countries:this.countries,email:this.email})}},countries(){return this.restrictions.map((t=>t.country)).join(", ")}}},Sn=vn;var fn=(0,P.Z)(Sn,hn,gn,!1,null,null,null);const En=fn.exports;var In=s(32170),Cn=function(){var t=this,e=t._self._c;return e("TMArticleBlocks",{attrs:{article:t.article,"is-loading":t.isLoading},scopedSlots:t._u([{key:"beforeComments",fn:function(){return[t.userInfo?e("TMBlock",{attrs:{"body-variant":"balanced"}},[e("TMArticleAuthor",{attrs:{user:t.userInfo},on:{"change:isSubscribed":t.onToggleSubscribeStatusArticle},scopedSlots:t._u([{key:"beforeCard",fn:function(){return[t._t("beforeUserCard")]},proxy:!0}],null,!0)})],1):t._e(),t._v(" "),t._t("afterAuthorBlocks")]},proxy:!0},{key:"afterComments",fn:function(){return[t._t("beforeSimilarArticles"),t._v(" "),t.isSandboxArticle&&t.similarList.length?e("TMArticleListBlock",{attrs:{"bookmark-module":"similarList","data-list":t.similarList,"ga-event":t.$options.similarGAEventName,title:t.msg("TITLE_SIMILAR")}}):t.showSimilarArticles?e("TMSimilarAndDailyArticles",{attrs:{"article-id":t.id,"is-news":t.isNews},scopedSlots:t._u([{key:"dailyTopPromoLink",fn:function(){return[t._t("dailyTopPromoLink")]},proxy:!0}],null,!0)}):t._e(),t._v(" "),t._t("beforeDailyArticles"),t._v(" "),t.isSandboxArticle&&t.dailyArticles.length?e("TMArticleListBlock",{attrs:{"data-list":t.dailyArticles,"ga-event":t.$options.dailyTopGaEventNames,spacing:"top",title:t.msg("TITLE_TOP_DAILY")},scopedSlots:t._u([{key:"lastItem",fn:function(){return[t._t("dailyTopPromoLink")]},proxy:!0}],null,!0)}):t._e(),t._v(" "),t._t("afterDailyArticles")]},proxy:!0}],null,!0)})},An=[],bn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-article-author"},[t._t("beforeCard"),t._v(" "),e("TMUserCard",{staticClass:"tm-article-author__user-card",attrs:{"avatar-size":40,"invite-button-visible":!1,user:t.user,variant:"article"},on:{"change:isSubscribed":function(e){return t.$emit("change:isSubscribed",e)}}}),t._v(" "),t.user.authorContacts&&t.user.authorContacts.length?e("div",{staticClass:"tm-article-author__user-contacts"},t._l(t.user.authorContacts,(function(s){return e("a",{key:s.url,staticClass:"tm-article-author__contact",attrs:{href:s.url,rel:"noopener",target:"_blank"}},[t._v("\n      "+t._s(s.title)+"\n    ")])})),0):t._e()],2)},yn=[],Pn=s(72584),Ln=s(23159);const On={name:"TMArticleAuthor",components:{TMUserCard:Pn.Z},props:{user:Ln.Z},emits:["change:isSubscribed"]},Nn=On;var Mn=(0,P.Z)(Nn,bn,yn,!1,null,null,null);const Rn=Mn.exports;var kn=s(98068),wn=s(41670),Bn=s(86408),Dn=s(28374),xn=s(42052);const $n={name:"ARTICLES_LIST_TOP_PERIOD",params:{period:"daily"},query:{}},Un={name:"TMUserArticleBlocks",components:{TMSimilarAndDailyArticles:Bn.Z,TMArticleListBlock:wn.Z,TMArticleAuthor:Rn,TMBlock:Hs.Z,TMArticleBlocks:kn.Z},similarGAEventName:xn.Pr,dailyTopGaEventNames:xn.Ro,props:{article:{type:Object,default:null},id:{type:String,required:!0},isLoading:{type:Boolean,required:!0},isShowStories:{type:Boolean,default:!0},showSimilarArticles:{type:Boolean,default:!0}},data(){return{similarAndDailyActiveTabs:"daily"}},computed:{...(0,h.Se)("users",["getUserByAlias"]),...(0,h.Se)("similarList",["similarList"]),...(0,h.rn)("articlesList",["articlesIds","articlesList"]),...(0,h.Se)("global",["isMobile"]),...(0,h.Se)("me",["isSuperAdmin"]),userInfo(){return this.article?this.getUserByAlias(this.article.author.alias)||this.article.author:null},dailyArticles(){const t=this.articlesIds[(0,Dn.Z)($n)];return t?t.map((t=>this.articlesList[t])):[]},isSandboxArticle(){return this.article&&"sandbox"===this.article.postType},isNews(){return this.article&&"news"===this.article.postType}},mounted(){this.$activeWatch((()=>this.article),(t=>{t&&(this.setUserInfo({userAlias:t.author.alias,userData:t.author}),this.isSandboxArticle&&(this.loadArticlesList({route:$n}),this.loadSimilarList({articleId:t.id})))}),{immediate:!0})},methods:{...(0,h.nv)("users",["loadUserInfo"]),...(0,h.nv)("similarList",["loadSimilarList"]),...(0,h.nv)("articlesList",["loadArticlesList"]),...(0,h.OI)("users",["setUserInfo"]),onToggleSubscribeStatusArticle(t){t&&(0,C.IZ)("subscribe_user")}}},Fn=Un;var Vn=(0,P.Z)(Fn,Cn,An,!1,null,null,null);const Hn=Vn.exports;var Gn=function(){var t=this,e=t._self._c;return e(t.presenter,t._b({tag:"component",scopedSlots:t._u([{key:"beforeBody",fn:function(){return[t._t("beforeBody")]},proxy:!0},{key:"articleMenu",fn:function(){return[e("TMArticleExtraMenu",{attrs:{"current-author":t.publication.author,"publication-id":t.publication.id}})]},proxy:!0},{key:"footer",fn:function(){return[t._t("footer")]},proxy:!0}],null,!0)},"component",t.presenterBinding,!1))},Wn=[],Zn=s(83146),Yn=s(38864),qn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-post-presenter"},[t._t("beforeBody"),t._v(" "),e("div",{staticClass:"tm-post-presenter__body"},[e("article",{directives:[{name:"hotkey",rawName:"v-hotkey.stop",value:t.hotkeys,expression:"hotkeys",modifiers:{stop:!0}}],ref:"article",staticClass:"tm-post-presenter__content"},[t.isLoading?e("div",{staticClass:"tm-post-presenter__loading"},[e("TMPlaceholder",{attrs:{type:"article"}}),t._v(" "),e("TMPlaceholder",{attrs:{type:"article"}})],1):t.post?[e("div",{staticClass:"tm-post-presenter__header"},[t._t("beforeSnippet")],2),t._v(" "),t._t("body",(function(){return[e("PostSnippet",{ref:"postSnippet",attrs:{"compact-view":!1,post:t.post,"show-icons":!0}})]}))]:t._e()],2)]),t._v(" "),t._t("beforeFooter"),t._v(" "),t.$slots.footer?e("div",{staticClass:"tm-post-presenter__footer"},[t._t("footer")],2):t._e()],2)},jn=[],Kn=s(34948),zn=s(13517),Qn=s(72726),Xn=s(70210),Jn=s(37020),ti=s(2687),ei=s(77699),si=s(37118),ni=s.n(si),ii=s(89793),ai=s.n(ii);const oi={name:"TMPostPresenter",components:{TMPlaceholder:Ms.Z,PostSnippet:Qn.Z},props:{post:{type:Object,default:null},isLoading:{type:Boolean,required:!0},shouldLogPageview:{type:Boolean,default:!0},companyInfo:{type:Object,required:!1,default:null}},setup(){return{isComponentActive:(0,Xn.c)()}},data(){return{hasMounted:!1,hasTrackedPageview:!1}},computed:{...(0,h.Se)("global",["isMobileOnly"]),...(0,h.rn)("articlesList",["lastVisitedRoute"]),...(0,h.Se)("me",["userAlias","isLoggedIn"]),hotkeys(){return this.isComponentActive?{"meta+e":this.checkAndOpenPostEdit,"ctrl+e":this.checkAndOpenPostEdit,u:this.goToLastVisitedArticlesList}:{}},postWithCompanySettings(){return this.companyName?this.companyInfo&&this.companyInfo.settings&&this.post?{...this.post,settings:this.companyInfo.settings}:null:this.post},companyName(){return this.$route.params.companyName}},activated(){this.hasTrackedPageview=!1},metaInfo(){if(!this.post)return{};const{post:t}=this,{lang:e,metadata:s}=t,n=(0,g.vz)(t,this.msg);if(!s)return{title:n};const{shareImageUrl:i,schemaJsonLd:a,amp:o}=s,r=[{href:(0,ei.articleCanonical)(t),rel:"canonical",vmid:"canonical"},{rel:"image_src",href:i,vmid:"image:href"}];return o&&this.langOptions.hl===e&&r.push({rel:"amphtml",href:`https://habr.com/${e}/amp/publications/${t.id}/`}),{title:n,link:r,meta:(0,g.GD)(t,this.msg),script:[{type:"application/ld+json",innerHTML:a,vmid:"ldjson-schema"}],__dangerouslyDisableSanitizers:["script"],__dangerouslyDisableSanitizersByTagID:{"ldjson-schema":["innerHTML"]}}},mounted(){this.hasMounted=!0,this.$activeWatch((()=>this.postWithCompanySettings),(t=>{t&&(this.collectAnalytics().then((()=>{this.isLoggedIn&&this.loadUpdates()})),(0,zn.Df)(),this.isLoggedIn||(0,Kn.t8)(t.id,t.statistics.commentsCount),this.adriverPixels&&this.adriverPixels.length&&this.initAdriverPixels())}),{immediate:!0,equals:Jn.wm})},methods:{...(0,h.nv)("me",["loadUpdates"]),checkAndOpenPostEdit(){this.post.relatedData.canEdit&&this.$refs.postSnippet&&this.$refs.postSnippet.editPost()},goToLastVisitedArticlesList(){const t=(0,Ot.bc)(this.langOptions),e=this.lastVisitedRoute.name?this.lastVisitedRoute:t;this.$router.push(e)},initAdriverPixels(){this.adriverPixels.forEach((t=>{const e=new Image;e.src=t}))},collectAnalytics(){return new Promise((t=>{var e;if(this.hasTrackedPageview)return void t();(0,ti.d1)(this.post.id).catch((t=>{os.Z.notifyException(t)})).finally(t);const s={hubs_and_flows:ni()(this.post)},n=ai()({companySettings:null===(e=this.companyInfo)||void 0===e?void 0:e.settings,isEditorial:this.post.isEditorial});n&&(s.page_producer=n),(0,C.Z0)({fullPath:this.$route.fullPath,optionalParams:s}),this.hasTrackedPageview=!0}))}}},ri=oi;var li=(0,P.Z)(ri,qn,jn,!1,null,null,null);const ci=li.exports;var mi=s(95936);const ui={name:"TMUserPublicationPresenter",components:{TMArticleExtraMenu:Zn.Z,TMArticlePresenter:Yn.Z,TMPostPresenter:ci},props:{publication:{type:Object,default:null},isLoading:{type:Boolean,required:!0},isPost:{type:Boolean,required:!0},companyInfo:{type:Object,required:!1,default:null}},computed:{presenter(){return this.isPost?"TMPostPresenter":"TMArticlePresenter"},presenterBinding(){return this.isPost?{post:this.publication,isLoading:this.isLoading}:{companyInfo:this.companyInfo,article:this.publication,isLoading:this.isLoading}}},mounted(){this.$activeWatch((()=>this.publication),(t=>{t&&this.verifyPublicationRoute()}),{immediate:!0});const{hash:t}=this.$route;t===`#${ts.B5}`&&this.$toast.success(this.msg("DONATIONS_SUCCESS")),t===`#${ts.de}`&&this.$toast.error(this.msg("DONATIONS_FAILURE"))},methods:{verifyPublicationRoute(){const t=(0,mi.Q)(this.publication,this.publication.id,this.langOptions.hl),e=`${t}`;this.$route.path!==e&&this.$router.replace({path:e,hash:this.$route.hash})}}},di=ui;var pi=(0,P.Z)(di,Gn,Wn,!1,null,null,null);const _i=pi.exports;var hi=function(){var t=this,e=t._self._c;return t.isDesktop?e("TMLayoutSidebar",{attrs:{"show-adv":t.isStartup}},[t.companyInfo&&t.showAdministrationBlock?e("TMCompanyAdministrationBlock",{attrs:{"company-info":t.companyInfo}}):t._e(),t._v(" "),t.companyInfo?e("TMCompanyBasicInfoBlock",{attrs:{"company-info":t.companyInfo}}):t._e(),t._v(" "),t.companyName&&t.companyInfo&&!t.isCompanyExpired?e("TMCompanyWidgets",{attrs:{"company-alias":t.companyName}}):t._e(),t._v(" "),t.companyName&&t.companyBlogList&&t.companyBlogList.length?e("TMArticleListBlock",{attrs:{"data-list":t.companyBlogList,layout:"sidebar",title:t.msg("TITLE_HABR_BLOG")}}):t._e(),t._v(" "),t.isStartup?e("TMStories",{attrs:{"ga-category":"stories_sidebar","is-sidebar":!0}}):t._e()],1):t._e()},gi=[],Ti=s(35813),vi=s(19353),Si=s(44492),fi=s(42102),Ei=s(34938);const Ii={name:"TMArticleCorporativeSidebar",components:{TMArticleListBlock:wn.Z,TMCompanyAdministrationBlock:Ti.Z,TMCompanyBasicInfoBlock:vi.Z,TMCompanyWidgets:Si.Z,TMLayoutSidebar:fi.Z,TMStories:In.Z},props:{companyName:{type:String,default:null},companyInfo:{type:Object,default:null}},computed:{...(0,h.Se)("global",["isDesktop"]),...(0,h.Se)("articlesList",["getArticleById","getArticlesList","getCompanyAlias"]),...(0,h.Se)("me",["isSuperAdmin"]),isCompanyExpired(){return(0,Ei.fd)(this.companyInfo)},companyBlogList(){const t=(0,Dn.Z)((0,Ei.kM)(this.companyName));return this.getArticlesList(t)},showAdministrationBlock(){const t=this.companyInfo?this.companyInfo.aDeskSettings:null;return t&&t.access||this.isSuperAdmin},isStartup(){var t,e;return null===(t=this.companyInfo)||void 0===t||null===(e=t.settings)||void 0===e?void 0:e.isStartup}},mounted(){this.$watch((()=>[this.companyName,this.isDesktop]),(([t,e])=>{e&&t&&this.loadArticlesList({route:(0,Ei.kM)(t)})}),{immediate:!0})},methods:{...(0,h.nv)("articlesList",["loadArticlesList"])}},Ci=Ii;var Ai=(0,P.Z)(Ci,hi,gi,!1,null,null,null);const bi=Ai.exports;var yi=s(34073),Pi=s(23009),Li=s(7748);const Oi={name:"TMCompanyPublicationPage",components:{TMRegionalRestrictionNotice:En,TMMultiwidgetBlock:cn.Z,TMPromoPostLink:_n.Z,TMCompanyPoll:rn,TMRandomProjectBlock:un.Z,TMPromoBlock:pn.Z,TMArticleCorporativeSidebar:bi,TMUserPublicationPresenter:_i,TMUserArticleBlocks:Hn,TMCompanyProfileCard:ln.Z,TMCompanyBranding:Gs.Z,TMPage:te.Z,TMCompanyInfo:Xs,TMStories:In.Z,TMPlaceholder:Ms.Z,TMBlock:Hs.Z,TMAdfoxBanner:Vs.Z},props:{id:{type:String,required:!0}},asyncData(){return this.checkAndLoadPublication().then((()=>this.loadCompanyInfo({alias:this.companyAlias}).catch((t=>{const e=(0,ce.getErrorCode)(t);if("NOT_FOUND"!==e)throw t}))))},computed:{blocks(){const t={};return this.schoolAlias&&(t.companyCourses=mn.Z),this.careerAlias&&(t.vacancies=dn.Z),t},...(0,h.Se)("global",["isDesktop","isMobile"]),...(0,h.Se)("companies",["getCompanyInfo","getCompanyStartupStatus"]),...(0,h.Se)("articlesList",["getArticleById","getArticleHubsTitles","getArticleTagsTitles"]),...(0,h.Se)("promoData",["dailyTopPromoLink"]),...(0,h.Se)("me",["isLoggedIn","userShowAdv"]),isPost(){return(0,Pi.E)(this.$route.name)},article(){return this.getArticleById(this.id)},companyInfo(){return this.companyAlias?this.getCompanyInfo(this.companyAlias):null},showCompanyBranding(){var t,e;return null===(t=this.companyInfo.settings)||void 0===t||null===(e=t.branding)||void 0===e?void 0:e.imageUrl},companyAlias(){if(!this.article)return null;const t=this.article.hubs.find((t=>"corporative"===t.type));return t?t.alias.toLowerCase():null},companyTitle(){return this.companyInfo.titleHtml},careerAlias(){return this.companyInfo.careerAlias},schoolAlias(){return this.companyInfo.schoolAlias},isStartup(){return this.getCompanyStartupStatus(this.companyAlias)},isSandboxArticle(){return this.article&&"sandbox"===this.article.postType},metaInfo(){const{article:t}=this;if(!t||!t.metadata||!this.companyInfo)return{};const e=`${t.titleHtml} / ${this.msg("ARTICLE_COMPANY_BLOG",{companyName:this.companyInfo.titleHtml})}`;return{title:(0,Li._)(e)}},companyHasActivePolls(){var t,e;return null===(t=this.companyInfo)||void 0===t||null===(e=t.settings)||void 0===e?void 0:e.hasActivePolls},articleHasPolls(){return this.article.polls&&this.article.polls.length>0},articleHasMultiwidget(){return this.article&&Boolean(this.article.multiwidget)},showSimilarArticlesAndVacanciesOrCourses(){return!!this.companyInfo&&(!this.companyHasActivePolls&&!this.articleHasMultiwidget)},showRandomProjectBlock(){return this.companyInfo&&(this.careerAlias||this.schoolAlias)&&this.article&&this.article.id}},metaInfo(){const{article:t}=this;if(!t||!t.metadata||!this.companyInfo)return{};const e=`${t.titleHtml} / ${this.msg("ARTICLE_COMPANY_BLOG",{companyName:this.companyInfo.titleHtml})}`;return{title:(0,Li._)(e)}},mounted(){this.$activeWatch((()=>this.companyInfo),(t=>{t&&(0,yi.X)(t,this.$route.fullPath)}),{immediate:!0,equals:Jn.Uc})},methods:{...(0,h.nv)("companies",["loadCompanyInfo"]),...(0,h.nv)("articlesList",["loadArticle"]),checkAndLoadPublication(){return this.article&&this.article.textHtml?Promise.resolve():this.loadArticle({articleId:this.id,isPost:this.isPost})}}},Ni=Oi;var Mi=(0,P.Z)(Ni,Us,Fs,!1,null,null,null);const Ri=Mi.exports;var ki=function(){var t=this,e=t._self._c;return e("TMPage",{scopedSlots:t._u([{key:"default",fn:function(){return[t.userShowAdv?e("TMAdfoxBanner",{attrs:{"adfox-id":"169815559787254866","div-id":"topBanner",params:{pp:"g",ps:"fnps",p2:"iqny"},"show-ad-title":!1,variant:"narrow"}}):t._e(),t._v(" "),e("TMUserPublicationPresenter",{attrs:{"is-loading":t.$fetchState.isLoading,"is-post":t.isPost,publication:t.article},scopedSlots:t._u([{key:"beforeBody",fn:function(){return[t.article&&t.article.regionalRestrictions&&t.article.regionalRestrictions.length?e("TMRegionalRestrictionNotice",{attrs:{email:t.article.authorEmail,restrictions:t.article.regionalRestrictions}}):t._e()]},proxy:!0},{key:"footer",fn:function(){return[e("TMUserArticleBlocks",{attrs:{id:t.id,article:t.article,"is-loading":t.$fetchState.isLoading},scopedSlots:t._u([{key:"afterAuthorBlocks",fn:function(){return[t.userShowAdv?e("TMAdfoxBanner",{staticClass:"tm-page-article__banner",attrs:{"adfox-id":"164725660339535756","div-id":"articleBottomBanner",params:{pp:"h",ps:"fnps",p2:"hnyb"},variant:"leaderboard"}}):t._e()]},proxy:!0},{key:"beforeDailyArticles",fn:function(){return[t.isMobile?e("TMStories",{attrs:{"ga-category":"stories_mobile"}}):e("TMPromoBlock",{attrs:{"ga-type":"post",layout:"article"}}),t._v(" "),t.article&&t.article.id?e("TMRandomProjectBlock",{attrs:{"block-id":"project-block-article",hubs:t.getArticleHubsTitles(t.id),location:"post",tags:t.getArticleTagsTitles(t.id)}}):t._e()]},proxy:!0},t.isMobile?{key:"afterDailyArticles",fn:function(){return[e("TMPromoBlock",{attrs:{"ga-type":"post",layout:"article"}}),t._v(" "),!t.isFlEnglish&&t.article&&t.article.hubs?e("TMVacanciesBlock",{attrs:{hubs:t.article.hubs.map((({alias:t})=>t)),spacing:"top"}}):t._e(),t._v(" "),t.isFlEnglish||t.article.isCorporative?t._e():e("TMEventsWidget")]},proxy:!0}:null,{key:"dailyTopPromoLink",fn:function(){return[t.dailyTopPromoLink?e("TMPromoPostLink",{attrs:{appearance:t.isSandboxArticle?"top-daily":"top-daily-card","promo-post":t.dailyTopPromoLink}}):t._e()]},proxy:!0}],null,!0)})]},proxy:!0}])})]},proxy:!0},{key:"sidebar",fn:function(){return[e("TMArticleSidebar",{attrs:{article:t.article}})]},proxy:!0}])})},wi=[],Bi=s(5606),Di=s(42028),xi=function(){var t=this,e=t._self._c;return t.isDesktop&&t.article&&t.article.id?e("TMLayoutSidebar",{attrs:{"show-adv":""}},[e("TMMostReadingBlock",{attrs:{"ga-type":"post",layout:"sidebar",spacing:"bottom"}}),t._v(" "),e("TMStories",{attrs:{"ga-category":"stories_sidebar","is-sidebar":!0}}),t._v(" "),!t.isFlEnglish&&t.article.hubs?e("TMVacanciesBlock",{attrs:{hubs:t.article.hubs.map((({alias:t})=>t))}}):t._e(),t._v(" "),t.isFlEnglish||t.article.isCorporative?t._e():e("TMEventsBlock")],1):t._e()},$i=[],Ui=function(){var t=this,e=t._self._c;return t.events&&t.events.length?e("TMBlock",{staticClass:"block",attrs:{spacing:"around",title:t.msg("EVENTS_UPCOMING")}},[e("TMSwiper",{staticClass:"slider",attrs:{"active-slide":0,"auto-height":"",navigation:"","slides-per-view":1,"space-between":22},on:{"slide-change":function(e){t.currentSlide=e}}},t._l(t.events,(function(s){return e("TMSwiperSlide",{key:s.id},[e("TMEventCard",{key:s.id,attrs:{event:s,"is-widget":"",responsive:!1},on:{click:t.logClick}})],1)})),1)],1):t._e()},Fi=[],Vi=s(8717),Hi=s(15946),Gi=s(86951);const Wi={name:"TMEventsBlock",components:{TMBlock:Hs.Z,TMSwiper:Hi["default"],TMSwiperSlide:Gi["default"],TMEventCard:Vi.Z},asyncData({store:t}){return t.dispatch("events/loadEvents")},data(){return{currentSlide:0}},computed:{...(0,h.Se)("events",["events"])},methods:{logClick(t){(0,C.IZ)("tm_block_calendar_post",{event_label:t.id})}}},Zi=Wi;var Yi=(0,P.Z)(Zi,Ui,Fi,!1,null,"cb9bff32",null);const qi=Yi.exports;var ji=s(41985);const Ki={name:"TMArticleSidebar",components:{TMEventsBlock:qi,TMMostReadingBlock:ji.Z,TMLayoutSidebar:fi.Z,TMVacanciesBlock:Di.Z,TMStories:In.Z},props:{article:{type:Object,default:null}},computed:{...(0,h.Se)("global",["isDesktop"]),isFlEnglish(){return"en"===this.langOptions.fl}}},zi=Ki;var Qi=(0,P.Z)(zi,xi,$i,!1,null,null,null);const Xi=Qi.exports,Ji={name:"TMUserPublicationPage",components:{TMEventsWidget:Bi.Z,TMRegionalRestrictionNotice:En,TMPromoPostLink:_n.Z,TMArticleSidebar:Xi,TMRandomProjectBlock:un.Z,TMPromoBlock:pn.Z,TMAdfoxBanner:Vs.Z,TMPage:te.Z,TMUserPublicationPresenter:_i,TMUserArticleBlocks:Hn,TMVacanciesBlock:Di.Z,TMStories:In.Z},props:{id:{type:String,required:!0}},asyncData(){return this.loadPublication()},computed:{...(0,h.Se)("global",["isMobile"]),...(0,h.Se)("me",["userShowAdv"]),...(0,h.Se)("articlesList",["getArticleById","getArticleHubsTitles","getArticleTagsTitles"]),...(0,h.Se)("promoData",["dailyTopPromoLink"]),isFlEnglish(){return"en"===this.langOptions.fl},article(){return this.getArticleById(this.id)},isSandboxArticle(){return this.article&&"sandbox"===this.article.postType},isPost(){return(0,Pi.E)(this.$route.name)}},methods:{...(0,h.nv)("articlesList",["loadArticle"]),loadPublication(){const t=this.article&&!("rating"in this.article.author)&&this.isPost;return this.article&&this.article.textHtml&&!t?Promise.resolve():this.loadArticle({articleId:this.id,isPost:this.isPost})}}},ta=Ji;var ea=(0,P.Z)(ta,ki,wi,!1,null,null,null);const sa=ea.exports,na=()=>s.e(7478).then(s.bind(s,27473)),ia=()=>s.e(7478).then(s.bind(s,19929)),aa=()=>Promise.all([s.e(7150),s.e(269)]).then(s.bind(s,99106)),oa=[{...(0,gs.g1)(gs.VU.POST,sa),path:`posts/:id${Ts.PUBLICATION_ID_MATCH}/`},{path:`news/t/:id${Ts.PUBLICATION_ID_MATCH}/`,redirect:{name:gs.VU.NEWS},pathToRegexpOptions:{strict:!0}},{...(0,gs.g1)(gs.VU.NEWS,sa),path:`news/:id${Ts.PUBLICATION_ID_MATCH}/`,alias:`/:hl/news/t/:id${Ts.PUBLICATION_ID_MATCH}/`},{path:`post/:id${Ts.PUBLICATION_ID_MATCH}/`,redirect:{name:gs.VU.ARTICLE}},{...(0,gs.g1)(gs.VU.ARTICLE,sa),path:`articles/:id${Ts.PUBLICATION_ID_MATCH}/`,alias:`/:hl/p/:id${Ts.PUBLICATION_ID_MATCH}/`},{path:`company/:companyName/blog/:id${Ts.PUBLICATION_ID_MATCH}/`,redirect:{name:gs.VU.ARTICLE_OF_COMPANY}},{...(0,gs.g1)(gs.VU.ARTICLE_OF_COMPANY,Ri),path:`companies/:companyName/articles/:id${Ts.PUBLICATION_ID_MATCH}/`,alias:`/:hl/blogs/:companyName/:id${Ts.PUBLICATION_ID_MATCH}/`},{name:gs.VU.ARTICLE_SANDBOX,path:`sandbox/:id${Ts.PUBLICATION_ID_MATCH}/`,pathToRegexpOptions:{strict:!0},components:{default:aa},meta:{pageType:"sandbox",rssLink:t=>`/rss/post/${t.id}/`}},{path:`company/:companyName/news/t/:id${Ts.PUBLICATION_ID_MATCH}/`,redirect:{name:gs.VU.NEWS_OF_COMPANY}},{...(0,gs.g1)(gs.VU.NEWS_OF_COMPANY,Ri),path:`companies/:companyName/news/:id${Ts.PUBLICATION_ID_MATCH}/`},{...(0,gs.g1)(gs.VU.POST_OF_COMPANY,Ri),path:`companies/:companyName/posts/:id${Ts.PUBLICATION_ID_MATCH}/`},{path:`article/:id${Ts.PUBLICATION_ID_MATCH}/`,redirect:{name:gs.VU.SPECIAL}},{...(0,gs.g1)(gs.VU.SPECIAL,na),path:`specials/:id${Ts.PUBLICATION_ID_MATCH}/`},{path:`article/preview/:hash${Ts.HASH_MATCH}/`,redirect:{name:gs.VU.SPECIAL_PREVIEW}},{...(0,gs.g1)(gs.VU.SPECIAL_PREVIEW,ia),path:`specials/preview/:hash${Ts.HASH_MATCH}/`}],ra=()=>s.e(7628).then(s.bind(s,13754)),la=()=>s.e(7628).then(s.bind(s,29719)),ca=()=>s.e(7628).then(s.bind(s,44699)),ma=[{path:"beta/",components:{default:ra},children:[{name:"BETA_TEST",path:"",meta:{title:"BETA_TESTING_TITLE",requiresAuth:!0,rootPage:!0},components:{default:la}},{name:"BETA_TEST_ARCHIVED_ANNOUNCEMENT",path:`archieve/:id${Ts.ID_MATCH}`,meta:{title:"BETA_TESTING_TITLE"},components:{default:ca}},{path:"welcome/",redirect:t=>({...t,name:"BETA_TEST"})}]}];function ua(t){return/^page\d+$/i.test(t)}function da(t){return t.replace(/[^0-9]/g,"")}const pa=()=>Promise.all([s.e(5468),s.e(2972)]).then(s.bind(s,12875)),_a=()=>Promise.all([s.e(5468),s.e(2972)]).then(s.bind(s,80560)),ha=()=>Promise.all([s.e(5468),s.e(2972)]).then(s.bind(s,20581)),ga=()=>Promise.all([s.e(5468),s.e(2972)]).then(s.bind(s,95741)),Ta=()=>Promise.all([s.e(5468),s.e(2972)]).then(s.bind(s,15805)),va=()=>Promise.all([s.e(5468),s.e(2972)]).then(s.bind(s,93320)),Sa=[{path:`company/:name${Ts.COMPANY_ALIAS_MATCH}/`,redirect:{name:"ARTICLES_LIST_BY_COMPANY"}},{name:"COMPANY_PROFILE_ROOT",path:`companies/:name${Ts.COMPANY_ALIAS_MATCH}/`,pathToRegexpOptions:{strict:!0},meta:{pageType:"company",customGA:!0},components:{default:pa},redirect:t=>ua(`${t.params.name}`)?{...t,params:{...t.params,pageNum:da(t.params.name)},name:"COMPANIES_PAGES"}:{...t,name:"ARTICLES_LIST_BY_COMPANY"},children:[{name:"COMPANY_PROFILE",path:"profile/",pathToRegexpOptions:{strict:!0},components:{default:ga},meta:{renderAlternateMetaTag:!0}},{name:"COMPANY_BRANDING_PREVIEW",path:`branding/:brandingId${Ts.ID_MATCH}/preview/`,pathToRegexpOptions:{strict:!0},components:{default:_a},meta:{showArticleFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_BRANDING_PREVIEW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showArticleFilter:!0,navTitle:"NAV_NEW"}}]},{path:"blog/",redirect:{name:"ARTICLES_LIST_BY_COMPANY"}},{name:"POSTS_BY_COMPANY",path:"posts/",pathToRegexpOptions:{strict:!0},components:{default:_a},meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_NEW"},children:[{name:"POSTS_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_NEW"}}]},{name:"POSTS_BY_COMPANY_TOP",path:"posts/top/",pathToRegexpOptions:{strict:!0},components:{default:_a},meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_BEST"},children:[{name:"POSTS_BY_COMPANY_TOP_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_BEST"}}]},{name:"ARTICLES_LIST_BY_COMPANY",path:"articles/",pathToRegexpOptions:{strict:!0},components:{default:_a},meta:{showArticleFilter:!0,navTitle:"NAV_NEW",rssLink:t=>`/rss/companies/${t.name}/articles/`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showArticleFilter:!0,navTitle:"NAV_NEW",rssLink:t=>`/rss/companies/${t.name}/articles/`}}]},{name:"ARTICLES_LIST_TOP_BY_COMPANY",path:"articles/top/",pathToRegexpOptions:{strict:!0},components:{default:_a},meta:{showArticleFilter:!0,navTitle:"NAV_BEST",renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_TOP_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showArticleFilter:!0,navTitle:"NAV_BEST"}}]},{name:"NEWS_LIST_BY_COMPANY",path:"news/",pathToRegexpOptions:{strict:!0},components:{default:_a},meta:{rssLink:t=>`/rss/companies/${t.name}/articles/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{rssLink:t=>`/rss/companies/${t.name}/articles/`}}]},{name:"COMPANY_VACANCIES",path:"vacancies/",pathToRegexpOptions:{strict:!0},components:{default:Ta},children:[{name:"COMPANY_VACANCIES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"COMPANY_VACANCIES",noindex:!0}}]},{name:"COMPANY_WORKERS",path:"workers/",redirect:{name:"COMPANY_WORKERS_ALL"}},{name:"COMPANY_WORKERS_ALL",path:"workers/all/rating/",pathToRegexpOptions:{strict:!0},components:{default:va},meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_ALL"},children:[{name:"COMPANY_WORKERS_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_ALL"}}]},{name:"COMPANY_WORKERS_NEW",path:"workers/new/rating/",pathToRegexpOptions:{strict:!0},components:{default:va},meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_WORKERS_NEW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"COMPANY_WORKERS",noindex:!0,showUsersFilter:!0,navTitle:"NAV_NEW"}}]},{name:"COMPANY_FANS",path:"fans/",redirect:{name:"COMPANY_FANS_ALL"}},{name:"COMPANY_FANS_ALL",path:"fans/all/rating/",pathToRegexpOptions:{strict:!0},components:{default:ha},meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_ALL"},children:[{name:"COMPANY_FANS_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_ALL"}}]},{name:"COMPANY_FANS_NEW",path:"fans/new/rating/",pathToRegexpOptions:{strict:!0},components:{default:ha},meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_FANS_NEW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{noindex:!0,showFansFilter:!0,navTitle:"NAV_NEW"}}]}]}];function fa(){const t=["widgets/","vkontakte-groups/","facebook-like-box/","applications/","twitter-stream/","news/","links/"],e=t.reduce(((t,e)=>({...t,[e]:"settings/widgets/"})),{});return{...e,"statistics-summary/":"statistics/summary/","authors-statistics/":"statistics/authors/","hubs-statistics/":"statistics/hubs/","post-list/":"posts/articles/","post-list/page:pageNum(\\d+)/":"posts/articles/page:pageNum/","news-list/":"posts/news/","news-list/page:pageNum(\\d+)/":"posts/news/page:pageNum/","administrators-list/":"company/users/","administrators-list/page:pageNum(\\d+)/":"company/users/page:pageNum/","administrators-list/add/":"company/users/add/","employees-list/":"company/employees/","employees-list/page:pageNum(\\d+)/":"company/employees/page:pageNum/","employees-list/requests/":"company/employees/requests/","employees-list/requests/page:pageNum(\\d+)/":"company/employees/requests/page:pageNum/","employees-list/add/":"company/employees/add/","invites/":"company/invitations/","vacancies/":"company/vacancies/listing/","vacancies/page:pageNum(\\d+)/":"company/vacancies/listing/page:pageNum/","log/":"company/logs/","log/page:pageNum(\\d+)/":"company/logs/page:pageNum/","current-subscription/":"billing/current/","prolongation/":"billing/renewal/","activation-code/":"billing/activation/","requisites/":"billing/requisites/","requisites/add/":"billing/requisites/add","finance/":"billing/finance/","description/":"settings/card/","widgets/":"settings/widgets/","branding/":"settings/branding/","localization/":"settings/localization/","analytics/":"settings/analytics/","documents/faq/":"faq/"}}function Ea(){const t=fa();return Object.keys(t).reduce(((e,s)=>{const n={path:s,redirect:t[s]};return e.concat(n)}),[])}const Ia=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,71422)),Ca=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,62681)),Aa=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,13456)),ba=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,56006)),ya=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,6219)),Pa=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,40729)),La=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,93610)),Oa=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,86348)),Na=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,27921)),Ma=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,42031)),Ra=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,44406)),ka=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,81717)),wa=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,12176)),Ba=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,84802)),Da=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,95349)),xa=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,20605)),$a=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,4486)),Ua=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,44925)),Fa=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,56007)),Va=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,61879)),Ha=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,6495)),Ga=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,45642)),Wa=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,26913)),Za=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,97587)),Ya=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,6706)),qa=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,5951)),ja=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,94355)),Ka=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,92213)),za=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,15892)),Qa=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,76022)),Xa=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,96744)),Ja=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,35541)),to=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,38221)),eo=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,660)),so=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,34013)),no=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,5945)),io=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,82549)),ao=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,33513)),oo=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,89246)),ro=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,68357)),lo=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,61562)),co=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,31024)),mo=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,81974)),uo=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,498)),po=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,66574)),_o=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,79154)),ho=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,73883)),go=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,9087)),To=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,65045)),vo=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,96260)),So=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,80602)),fo=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,46393)),Eo=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,64298)),Io=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,65289)),Co=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,21753)),Ao=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,7020)),bo=()=>Promise.all([s.e(88),s.e(4670)]).then(s.bind(s,39484)),yo=[{path:"company/:name/admin/",pathToRegexpOptions:{strict:!0},redirect:{name:"COMPANY_ADMIN"}},{name:"COMPANY_ADMIN",path:"companies/:name/admin/",pathToRegexpOptions:{strict:!0},components:{default:Ia},redirect:{name:"COMPANY_ADMIN_STATISTICS"},meta:{rootPage:!0},children:[...Ea(),{name:"COMPANY_ADMIN_STATISTICS",path:"statistics/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ca},redirect:{name:"COMPANY_ADMIN_STATISTICS_SUMMARY"},children:[{name:"COMPANY_ADMIN_STATISTICS_SUMMARY",path:"summary/",pathToRegexpOptions:{strict:!0},components:{default:Ma},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_STATISTICS_AUTHORS",path:"authors/",pathToRegexpOptions:{strict:!0},components:{default:Ra},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_STATISTICS_AUTHORS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_STATISTICS_AUTHORS"}}]},{name:"COMPANY_ADMIN_STATISTICS_HUBS",path:"hubs/",pathToRegexpOptions:{strict:!0},components:{default:Na},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_STATISTICS_HUBS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_STATISTICS_HUBS"}}]}]},{name:"COMPANY_ADMIN_POSTS",path:"posts/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:ba},redirect:{name:"COMPANY_ADMIN_POSTS_ARTICLES"},children:[{name:"COMPANY_ADMIN_POSTS_ARTICLES",path:"articles/",pathToRegexpOptions:{strict:!0},components:{default:ya},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_POSTS_ARTICLES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"COMPANY_ADMIN",activeNavigationSection:"COMPANY_ADMIN_POSTS_ARTICLES"}}]},{name:"COMPANY_ADMIN_POSTS_NEWS",path:"news/",pathToRegexpOptions:{strict:!0},components:{default:Pa},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_POSTS_NEWS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"COMPANY_ADMIN",activeNavigationSection:"COMPANY_ADMIN_POSTS_NEWS"}}]}]},{name:"COMPANY_ADMIN_COMPANY",path:"company/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Aa},redirect:{name:"COMPANY_ADMIN_COMPANY_USERS"},children:[{name:"COMPANY_ADMIN_COMPANY_USERS",path:"users/",components:{default:ho},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_COMPANY_USERS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_USERS"}}]},{path:"employees/",components:{default:lo},pathToRegexpOptions:{strict:!0},redirect:{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES"},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES",path:"",components:{default:co},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}}]},{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_REQUESTS",path:"requests/",components:{default:uo},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_REQUESTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}}]}]},{path:"invitations/",components:{default:To},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_APPROVED_INVITATIONS",path:"",components:{default:So},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_APPROVED_INVITATIONS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"}}]},{name:"COMPANY_ADMIN_SENT_INVITATIONS",path:"sent/",components:{default:vo},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"},children:[{name:"COMPANY_ADMIN_SENT_INVITATIONS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"}}]}]},{name:"COMPANY_ADMIN_COMPANY_NEW_EMPLOYEE",path:"employees/add/",components:{default:mo},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}},{name:"COMPANY_ADMIN_COMPANY_NEW_INVITATION",path:"invitations/add/",components:{default:fo},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_COMPANY_NEW_USER",path:"users/add/",components:{default:go},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_USERS"}},{name:"COMPANY_ADMIN_COMPANY_LOGS",path:"logs/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},component:wa,children:[{name:"COMPANY_ADMIN_COMPANY_LOGS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_LOGS"}}]},{name:"COMPANY_ADMIN_COMPANY_CAREER",path:"vacancies/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},redirect:{name:"COMPANY_ADMIN_COMPANY_CAREER_SETTINGS"},component:ka,children:[{name:"COMPANY_ADMIN_COMPANY_CAREER_SETTINGS",path:"settings/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_CAREER"},component:Ha},{name:"COMPANY_ADMIN_COMPANY_VACANCIES_LISTING",path:"listing/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_CAREER"},component:Ga,children:[{name:"COMPANY_ADMIN_COMPANY_VACANCIES_LISTING_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_CAREER"}}]}]}]},{name:"COMPANY_ADMIN_BILLING",path:"billing/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:La},redirect:{name:"COMPANY_ADMIN_BILLING_CURRENT"},children:[{name:"COMPANY_ADMIN_BILLING_CURRENT",path:"current/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},component:po},{name:"COMPANY_ADMIN_BILLING_RENEWAL",path:"renewal/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:_o}},{name:"COMPANY_ADMIN_BILLING_ACTIVATION",path:"activation/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ba}},{name:"COMPANY_ADMIN_BILLING_REQUISITES",path:"requisites/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Eo},children:[{name:"COMPANY_ADMIN_BILLING_REQUISITES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"}}]},{name:"COMPANY_ADMIN_BILLING_REQUISITES_FORM_EDIT",path:"requisites/edit/:id/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"},components:{default:Io}},{name:"COMPANY_ADMIN_BILLING_REQUISITES_FORM_ADD",path:"requisites/add/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"},components:{default:Io}},{name:"COMPANY_ADMIN_BILLING_FINANCE",path:"finance/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Da},children:[{name:"COMPANY_ADMIN_BILLING_FINANCE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_FINANCE"}}]}]},{name:"COMPANY_ADMIN_SETTINGS",path:"settings/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Oa},redirect:{name:"COMPANY_ADMIN_SETTINGS_CARD"},children:[{name:"COMPANY_ADMIN_SETTINGS_CARD",path:"card/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Fa}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_VK",path:"widgets/vk/:widgetId(new|\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Xa}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_BANNER",path:"widgets/banner/:widgetId(new|\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:ao}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_FACEBOOK",path:"widgets/facebook/:widgetId(new|\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Ja}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_TWITTER",path:"widgets/twitter/:widgetId(new|\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:ro}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_LINKS",path:"widgets/links/:widgetId(new|\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:to}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS",path:"widgets/rss/:widgetId(new|\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:eo}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS_LIST",path:"widgets/rss/:widgetId(new|\\d+)/list/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:so},children:[{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0}}]},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_APPLICATIONS",path:"widgets/applications/:widgetId(new|\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:no}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_APPLICATION",path:"widgets/application/:widgetId(new|\\d+)/:applicationId/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:io}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_GALLERY",path:"landing/gallery/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:Ka}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_BANNER",path:"landing/banner/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:za}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_TECHNOLOGIES",path:"landing/technologies/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:Qa}},{name:"COMPANY_ADMIN_SETTINGS_LANDING",path:"landing/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:ja}},{name:"COMPANY_ADMIN_SETTINGS_WIDGETS",path:"widgets/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Wa}},{name:"COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS",path:"multi-widgets/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Za},props:{default:{title:"NAV_COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS",addButtonTitle:"COMPANY_ADMIN_MULTI_WIDGETS_ADD",viewType:"post"}},children:[{name:"COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS_PAGES",path:"page:pageNum(\\d+)",pathToRegexpOptions:{strict:!0}}]},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_MULTIWIDGET",path:"multi-widgets/:widgetId(new|\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS"},components:{default:oo},props:{default:{viewType:"post"}}},{name:"COMPANY_ADMIN_SETTINGS_FEED_MULTI_WIDGETS",path:"feed-widgets/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Za},props:{default:{title:"NAV_COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS_LIST",addButtonTitle:"COMPANY_ADMIN_MULTI_WIDGETS_ADD",viewType:"list"}},children:[{name:"COMPANY_ADMIN_SETTINGS_FEED_MULTI_WIDGETS_PAGES",path:"page:pageNum(\\d+)",pathToRegexpOptions:{strict:!0}}]},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_FEED_WIDGET",path:"feed-widgets/:widgetId(new|\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_FEED_MULTI_WIDGETS"},components:{default:oo},props:{default:{viewType:"list"}}},{name:"COMPANY_ADMIN_SETTINGS_BANNERS",path:"banners/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ya}},{name:"COMPANY_ADMIN_SETTINGS_NEW_BANNER",path:"banners/new/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:qa}},{name:"COMPANY_ADMIN_SETTINGS_EDIT_BANNER",path:"banners/edit/:id/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:qa}},{name:"COMPANY_ADMIN_SETTINGS_BRANDING",path:"branding/",components:{default:Co},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_NEW_BRANDING",path:"branding/new/",components:{default:Ao},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_BRANDING"}},{name:"COMPANY_ADMIN_EDIT_BRANDING",path:"branding/edit/:id/",components:{default:Ao},pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_BRANDING"}},{name:"COMPANY_ADMIN_SETTINGS_LOCALIZATION",path:"localization/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Va}},{name:"COMPANY_ADMIN_SETTINGS_ANALYTICS",path:"analytics/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:xa}},{name:"COMPANY_ADMIN_SETTINGS_POLLS",path:"polls/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:$a},children:[{name:"COMPANY_ADMIN_SETTINGS_POLLS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0}}]},{name:"COMPANY_ADMIN_SETTINGS_NEW_POLL",path:"polls/new/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ua}},{name:"COMPANY_ADMIN_SETTINGS_EDIT_POLL",path:"polls/edit/:id/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Ua}}]},{name:"COMPANY_ADMIN_FAQ",path:"faq/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:bo},children:[{name:"COMPANY_ADMIN_FAQ_PAGE",path:":alias/",meta:{requiresAuth:!0}}]}]}],Po=()=>s.e(7576).then(s.bind(s,10763)),Lo=[{name:"CONVERSATION_MESSAGES",path:`conversations/:login${Ts.USER_ALIAS_PARAM_REGEXP}/`,pathToRegexpOptions:{strict:!0},components:{default:Po},meta:{pageType:"conversation",requiresAuth:!0,hideUserNotices:!0,rootPage:!0}}],Oo=()=>s.e(7576).then(s.bind(s,72790)),No=[{name:"CONVERSATIONS",path:"conversations/",pathToRegexpOptions:{strict:!0},components:{default:Oo},meta:{pageType:"conversations",title:"CONVERSATIONS_TITLE",requiresAuth:!0,rootPage:!0},children:[{name:"CONVERSATIONS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"CONVERSATIONS_TITLE"}}]}],Mo=()=>s.e(1163).then(s.bind(s,21213)),Ro=[{name:"DOCS",path:`docs/:alias${Ts.DOCS_ARTICLE_ALIAS_MATCH}?/`,pathToRegexpOptions:{strict:!0},components:{default:Mo},meta:{rootPage:!0},children:[{name:"DOCS_ARTICLE",path:`:articleAlias${Ts.DOCS_ARTICLE_ALIAS_MATCH}?/`,pathToRegexpOptions:{strict:!0}}]}],ko=()=>s.e(2636).then(s.bind(s,81770)),wo=[{name:"ERROR_INTERNAL",path:"error/500/",pathToRegexpOptions:{strict:!0},component:ko,meta:{HTTPStatus:500,rootPage:!0},props:{error:"internal"}},{name:"ERROR_UNKNOWN",path:"error/unknown/",pathToRegexpOptions:{strict:!0},component:ko,meta:{HTTPStatus:500,rootPage:!0},props:{error:"unknown"}},{name:"ERROR_UNAUTHORIZED",path:"error/403/",pathToRegexpOptions:{strict:!0},component:ko,meta:{HTTPStatus:403,rootPage:!0},props:{error:"unauthorized"}},{path:"*",name:"ERROR_NOT_FOUND",component:ko,meta:{HTTPStatus:404,rootPage:!0},props:{error:"notFound"}}],Bo=()=>s.e(2136).then(s.bind(s,31506)),Do=[{name:"EVENTS",path:"events/",pathToRegexpOptions:{strict:!0},components:{default:Bo},meta:{pageType:"events",title:"EVENTS_TITLE"}}],xo=()=>s.e(318).then(s.bind(s,83893)),$o=[{path:"feed/",pathToRegexpOptions:{strict:!0},components:{default:xo},name:"INDEX",meta:{pageType:"feed",rootPage:!0},redirect:{name:"MY_FEED"},children:[{name:"MY_FEED",path:"",pathToRegexpOptions:{strict:!0},meta:{customRssLink:!0,pageType:"feed",rootPage:!0}},{name:"MY_FEED_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{customRssLink:!0,pageType:"feed",rootPage:!0}}]}],Uo=()=>s.e(6841).then(s.bind(s,42017)),Fo=[{name:"MY_FEED_SETTINGS",path:"feed/settings/",pathToRegexpOptions:{strict:!0},components:{default:Uo},meta:{title:"TITLE_FEED_SETTINGS",requiresAuth:!0,rootPage:!0}}],Vo=()=>s.e(8656).then(s.bind(s,35314)),Ho=[{name:"FEEDBACK",path:"feedback/",pathToRegexpOptions:{strict:!0},components:{default:Vo},meta:{rootPage:!0}}];var Go=function(){var t=this,e=t._self._c;return e("TMPage",{scopedSlots:t._u([{key:"default",fn:function(){return[t.userShowAdv?e("TMAdfoxBanner",{attrs:{"adfox-id":"169815559787254866","div-id":"topBanner",params:{pp:"g",ps:"fnps",p2:"iqny"},"show-ad-title":!1,variant:"narrow"}}):t._e(),t._v(" "),e("div",{staticClass:"tm-page__top"},[e("TMSectionName",{attrs:{name:t.flowName}}),t._v(" "),e("TMTabs",{staticClass:"tm-tabs_page-header",attrs:{exact:"",tabs:t.tabs}}),t._v(" "),e("div",{staticClass:"tm-flow__subheader"},[t.isArticleFilterShown?e("TMNavigationFilters",{attrs:{"extra-options":t.filterExtraOptions,options:t.filterOptions},on:{applyFilter:t.saveFlowFilter}},[e("TMRssButton")],1):t._e()],1),t._v(" "),t.showNavigationSearch?e("TMNavigationSearch"):t._e()],1),t._v(" "),e("router-view")]},proxy:!0},{key:"sidebar",fn:function(){return[e("router-view",{attrs:{name:"sidebar"}})]},proxy:!0}])})},Wo=[],Zo=s(12463),Yo=s(9795),qo=s(6628),jo=s(51858),Ko=s(36355),zo=s(69325);const Qo={components:{TMNavigationFilters:Zo.Z,TMNavigationSearch:Yo.Z,TMRssButton:qo.Z,TMPage:te.Z,TMSectionName:jo.Z,TMTabs:Ko.Z,TMAdfoxBanner:Vs.Z},computed:{...(0,h.Se)("i18n",["langOptions","pageTitle"]),...(0,h.Se)("global",["isDesktop"]),...(0,h.Se)("me",["userShowAdv"]),isFlEnglish(){return"en"===this.langOptions.fl},showNavigationSearch(){return this.$route.meta.hasSearch},i18nFlows(){return{admin:this.msg("NAV_FLOW_ADMIN"),design:this.msg("NAV_FLOW_DESIGN"),develop:this.msg("NAV_FLOW_DEVELOP"),geektimes:this.msg("NAV_FLOW_GEEKTIMES"),popsci:this.msg("NAV_FLOW_POPSCI"),management:this.msg("NAV_FLOW_MANAGEMENT"),marketing:this.msg("NAV_FLOW_MARKETING"),misc:this.msg("NAV_FLOW_MISC")}},flowName(){return this.i18nFlows[this.$route.params.flowName]},addExtraOptions(){return!this.isNewsRoute&&!this.isPostsRoute},filterExtraOptions(){return this.addExtraOptions?(0,zo.r)(this.msg):[]},filterOptions(){return this.isNewsRoute?this.newsFilterOptions:this.isPostsRoute?this.postsFilterOptions:this.articlesFilterOptions},articlesFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"ARTICLES_LIST_BY_FLOW_ALL",params:{}},{label:"≥0",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"0"}},{label:"≥10",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"10"}},{label:"≥25",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"25"}},{label:"≥50",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"50"}},{label:"≥100",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},newsFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"NEWS_LIST_BY_FLOW_ALL",params:{}},{label:"≥0",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"0"}},{label:"≥10",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"10"}},{label:"≥25",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"25"}},{label:"≥50",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"50"}},{label:"≥100",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},postsFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"POSTS_BY_FLOW_ALL",params:{}},{label:"≥0",value:"POSTS_BY_FLOW_SCORE",params:{score:"0"}},{label:"≥10",value:"POSTS_BY_FLOW_SCORE",params:{score:"10"}},{label:"≥25",value:"POSTS_BY_FLOW_SCORE",params:{score:"25"}},{label:"≥50",value:"POSTS_BY_FLOW_SCORE",params:{score:"50"}},{label:"≥100",value:"POSTS_BY_FLOW_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},tabs(){const t="ru"!==this.$route.params.hl||this.isFlEnglish?[]:[{title:this.msg("NAV_COMPANIES"),route:{name:"COMPANIES_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}}];return[{title:this.msg("NAV_ARTICLES"),route:{name:"FLOW_PAGE",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,ts.nz)(this.articlesFilterOptions)},{title:this.msg("NAV_POSTS"),route:{name:"POSTS_BY_FLOW_ALL",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,ts.nz)(this.postsFilterOptions)},{title:this.msg("NAV_NEWS"),route:{name:"NEWS_LIST_BY_FLOW_ALL",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,ts.nz)(this.newsFilterOptions)},{title:this.msg("NAV_HUBS"),route:{name:"HUBS_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}},{title:this.msg("NAV_AUTHORS"),route:{name:"AUTHORS_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}},...t]},isArticleFilterShown(){return!0===this.$route.meta.showFilter},pageMetaDescription(){return this.$route.meta.description?[{vmid:"description",name:"description",content:this.msg(this.$route.meta.description,{...this.$route.params,flowName:this.flowName})},{vmid:"og:description",property:"og:description",content:this.msg(this.$route.meta.description,{...this.$route.params,flowName:this.flowName})}]:[]},pageMeta(){return[{property:"og:title",content:this.pageTitle(this.pageTitlePart),vmid:"og:title"}]},pageTitlePart(){return this.$route.meta.title?this.msg(this.$route.meta.title,{...this.$route.params,flowName:this.flowName}):""},isNewsRoute(){return this.$route.matched.some((t=>t.name&&t.name.startsWith("NEWS_LIST_BY_FLOW_")))},isPostsRoute(){return this.$route.matched.some((t=>t.name&&t.name.startsWith("POSTS_BY_FLOW_")))}},methods:{bem:k.P,saveFlowFilter(t){(0,Ot.YL)({route:this.$router.resolve(t),flowName:this.$route.params.flowName,isNews:this.isNewsRoute,isPosts:this.isPostsRoute})}},metaInfo(){return{title:this.pageTitlePart,meta:[...this.pageMetaDescription,...this.pageMeta]}}},Xo=Qo;var Jo=(0,P.Z)(Xo,Go,Wo,!1,null,null,null);const tr=Jo.exports;var er=s(65681),sr=s(29469);const nr=()=>Promise.all([s.e(5468),s.e(3163),s.e(4634)]).then(s.bind(s,55009)),ir=()=>Promise.all([s.e(5468),s.e(3163),s.e(4634)]).then(s.bind(s,73084)),ar=()=>Promise.all([s.e(5468),s.e(3163),s.e(4634)]).then(s.bind(s,21187)),or=()=>Promise.all([s.e(5468),s.e(3163),s.e(4634)]).then(s.bind(s,86193)),rr=()=>Promise.all([s.e(5468),s.e(3163),s.e(4634)]).then(s.bind(s,4638)),lr=()=>Promise.all([s.e(5468),s.e(3163),s.e(4634)]).then(s.bind(s,85425)),cr=()=>Promise.all([s.e(5468),s.e(3163),s.e(4634)]).then(s.bind(s,2383)),mr=[{path:"flows/geektimes/*",redirect:t=>({path:`/:hl/flows/popsci/${t.params.pathMatch}`})},{path:"flows/:flowName/top/*",redirect:t=>({path:`/:hl/flows/:flowName/articles/top/${t.params.pathMatch}`})},{path:"flows/:flowName/:complexity(easy|medium|hard)/*",redirect:t=>({path:`/:hl/flows/:flowName/articles/:complexity/${t.params.pathMatch}`})},{path:"flows/:flowName/top:score(0|10|25|50|100)/*",redirect:t=>({path:`/:hl/flows/:flowName/articles/rated:score/${t.params.pathMatch}`})},{path:"flows/:flowName/:type(articles|news|posts)/top:score(0|10|25|50|100)/*",redirect:t=>({path:`/:hl/flows/:flowName/:type/rated:score/${t.params.pathMatch}`})},{name:"ALL_FLOWS",path:"flows/all/",pathToRegexpOptions:{strict:!0},component:tr,meta:{rootPage:!0}},{name:"FLOW_PAGE",path:`flows/:flowName${Ts.FLOW_ALIAS_MATCH}/`,pathToRegexpOptions:{strict:!0},component:tr,redirect:{name:"ARTICLES_LIST_BY_FLOW_ALL"},meta:{pageType:"feed",rootPage:!0},children:[{path:"articles/",pathToRegexpOptions:{strict:!0},components:{default:er["default"],sidebar:nr},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL",path:":complexity(easy|medium|hard)?/",pathToRegexpOptions:{strict:!0},components:{default:er["default"],sidebar:nr},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_FLOW_PAGE_LATEST",rssLink:t=>`/rss/flows/${t.flowName}/articles/${t.complexity?`${t.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_FLOW_PAGE_LATEST",rssLink:t=>`/rss/flows/${t.flowName}/articles/${t.complexity?`${t.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",path:"rated:score(0|10|25|50|100)/:complexity(easy|medium|hard)?/",pathToRegexpOptions:{strict:!0},components:{default:er["default"],sidebar:nr},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_FLOW_PAGE_SCORE",rssLink:t=>`/rss/flows/${t.flowName}/articles/rated${t.score}/${t.complexity?`${t.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_FLOW_PAGE_SCORE",rssLink:t=>`/rss/flows/${t.flowName}/articles/rated${t.score}/${t.complexity?`${t.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_FLOW_TOP",path:"top/",components:{default:er["default"],sidebar:nr},redirect:t=>({name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{...t.params,period:"daily"}}),children:[{name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/:complexity(easy|medium|hard)?/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_FLOW_PAGE_PERIOD",rssLink:t=>`/rss/flows/${t.flowName}/articles/top/${t.period}/${t.complexity?`${t.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_FLOW_PAGE_PERIOD",rssLink:t=>`/rss/flows/${t.flowName}/articles/top/${t.period}/${t.complexity?`${t.complexity}/`:""}`}}]}]}]},{path:"posts/",pathToRegexpOptions:{strict:!0},components:{default:cr,sidebar:nr},children:[{name:"POSTS_BY_FLOW_ALL",path:"",pathToRegexpOptions:{strict:!0},components:{default:cr,sidebar:nr},meta:{title:"TITLE_POSTS_FLOW",showFilter:!0,description:"DESCRIPTION_POSTS_FLOW",showCompanyRatingBlock:!0,navTitle:"NAV_TITLE_LATEST",rssLink:t=>`/rss/flows/${t.flowName}/posts/`},children:[{name:"POSTS_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"TITLE_POSTS_FLOW",showFilter:!0,description:"DESCRIPTION_POSTS_FLOW",rssLink:t=>`/rss/flows/${t.flowName}/posts/`}},{name:"POSTS_BY_FLOW_SCORE",path:"rated:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"POSTS_BY_FLOW_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_FLOW_SCORE",rssLink:t=>`/rss/flows/${t.flowName}/posts/rated${t.score}/`},children:[{name:"POSTS_BY_FLOW_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"POSTS_BY_FLOW_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_FLOW_SCORE",rssLink:t=>`/rss/flows/${t.flowName}/posts/rated${t.score}/`}}]}]},{name:"POSTS_BY_FLOW_TOP",path:"top/",components:{default:cr,sidebar:nr},redirect:{name:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},children:[{name:"POSTS_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_FLOW_PERIOD",rssLink:t=>`/rss/flows/${t.flowName}/posts/top/${t.period}/`},children:[{name:"POSTS_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_FLOW_PERIOD",rssLink:t=>`/rss/flows/${t.flowName}/posts/top/${t.period}/`}}]}]}]},{path:"news/",pathToRegexpOptions:{strict:!0},components:{default:sr["default"],sidebar:nr},children:[{name:"NEWS_LIST_BY_FLOW_ALL",path:"",pathToRegexpOptions:{strict:!0},components:{default:sr["default"],sidebar:nr},meta:{title:"FLOW_PAGE_NEWS_META_TITLE",showFilter:!0,description:"FLOW_PAGE_NEWS_META_DESCRIPTION",showCompanyRatingBlock:!0,navTitle:"NAV_TITLE_LATEST",rssLink:t=>`/rss/flows/${t.flowName}/news/`},children:[{name:"NEWS_LIST_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"FLOW_PAGE_NEWS_META_TITLE",showFilter:!0,description:"FLOW_PAGE_NEWS_META_DESCRIPTION",rssLink:t=>`/rss/flows/${t.flowName}/news/`}},{name:"NEWS_LIST_BY_FLOW_SCORE",path:"rated:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"FLOW_PAGE_NEWS_SCORE_META_DESCRIPTION",rssLink:t=>`/rss/flows/${t.flowName}/news/rated${t.score}/`},children:[{name:"NEWS_LIST_BY_FLOW_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"FLOW_PAGE_NEWS_SCORE_META_DESCRIPTION",rssLink:t=>`/rss/flows/${t.flowName}/news/rated${t.score}/`}}]}]},{name:"NEWS_LIST_BY_FLOW_TOP",path:"top/",components:{default:sr["default"],sidebar:nr},redirect:{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},children:[{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD_FLOW",navTitle:"NAV_TITLE_PERIOD",description:"FLOW_PAGE_NEWS_TOP_META_DESCRIPTION",rssLink:t=>`/rss/flows/${t.flowName}/news/top/${t.period}/`},children:[{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD_FLOW",navTitle:"NAV_TITLE_PERIOD",description:"FLOW_PAGE_NEWS_TOP_META_DESCRIPTION",rssLink:t=>`/rss/flows/${t.flowName}/news/top/${t.period}/`}}]}]}]},{name:"HUBS_BY_FLOW",path:"hubs/",pathToRegexpOptions:{strict:!0},components:{default:rr,sidebar:ar},meta:{title:"FLOW_PAGE_HUBS_META_TITLE",description:"FLOW_PAGE_HUBS_META_DESCRIPTION",hasSearch:!0},children:[{name:"HUBS_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"FLOW_PAGE_HUBS_META_TITLE",description:"FLOW_PAGE_HUBS_META_DESCRIPTION",hasSearch:!0}}]},{name:"AUTHORS_BY_FLOW",path:"authors/",pathToRegexpOptions:{strict:!0},components:{default:lr,sidebar:ir},meta:{title:"FLOW_PAGE_AUTHORS_META_TITLE",description:"FLOW_PAGE_AUTHORS_META_DESCRIPTION",hasSearch:!0},children:[{name:"AUTHORS_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"FLOW_PAGE_AUTHORS_META_TITLE",description:"FLOW_PAGE_AUTHORS_META_DESCRIPTION",hasSearch:!0}}]},{name:"COMPANIES_BY_FLOW",path:"companies/",pathToRegexpOptions:{strict:!0},components:{default:or,sidebar:ir},meta:{title:"FLOW_PAGE_COMPANIES_META_TITLE",description:"FLOW_PAGE_COMPANIES_META_DESCRIPTION",hasSearch:!0},children:[{name:"COMPANIES_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"FLOW_PAGE_COMPANIES_META_TITLE",description:"FLOW_PAGE_COMPANIES_META_DESCRIPTION",hasSearch:!0}}]}]}],ur=()=>Promise.all([s.e(3163),s.e(1231)]).then(s.bind(s,63868)),dr=()=>Promise.all([s.e(3163),s.e(1231)]).then(s.bind(s,39440)),pr=()=>Promise.all([s.e(3163),s.e(1231)]).then(s.bind(s,74101)),_r=()=>Promise.all([s.e(3163),s.e(1231)]).then(s.bind(s,67763)),hr=()=>Promise.all([s.e(3163),s.e(1231)]).then(s.bind(s,65681)),gr=()=>Promise.all([s.e(3163),s.e(1231)]).then(s.bind(s,86193)),Tr=()=>Promise.all([s.e(3163),s.e(1231)]).then(s.bind(s,4638)),vr=()=>Promise.all([s.e(3163),s.e(1231)]).then(s.bind(s,29469)),Sr=()=>Promise.all([s.e(3163),s.e(1231)]).then(s.bind(s,85425)),fr=()=>Promise.all([s.e(3163),s.e(1231)]).then(s.bind(s,2383)),Er=[{path:"all/top*",redirect:t=>({path:`/:hl/articles/rated${t.params.pathMatch}`})},{path:"all/*",redirect:t=>({path:`/:hl/articles/${t.params.pathMatch}`})},{path:"top/*",redirect:t=>({path:`/:hl/articles/top/${t.params.pathMatch}`})},{path:":complexity(easy|medium|hard)/*",redirect:t=>({path:`/:hl/articles/:complexity/${t.params.pathMatch}`})},{path:":type(news|posts)/top:score(0|10|25|50|100)/*",redirect:t=>({path:`/:hl/:type/rated:score/${t.params.pathMatch}`})},{path:"articles/",pathToRegexpOptions:{strict:!0},components:{default:ur},redirect:{name:"ARTICLES_LIST_ALL"},meta:{pageType:"feed",feedType:"allFlows"},children:[{name:"ARTICLES_LIST_ALL",path:":complexity(easy|medium|hard)?/",pathToRegexpOptions:{strict:!0},components:{default:hr,sidebar:dr},meta:{showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_COMPLEXITY",rssLink:t=>"/rss/articles/"+(t.complexity?`${t.complexity}/`:""),renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_COMPLEXITY",rssLink:t=>"/rss/articles/"+(t.complexity?`${t.complexity}/`:"")}}]},{name:"ARTICLES_LIST_ALL_SCORE",path:"rated:score(0|10|25|50|100)/:complexity(easy|medium|hard)?/",pathToRegexpOptions:{strict:!0},components:{default:hr,sidebar:dr},meta:{canonicalRoute:"ARTICLES_LIST_ALL",showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_SCORE_AND_COMPLEXITY",rssLink:t=>`/rss/articles/rated${t.score}/${t.complexity?`${t.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"ARTICLES_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_SCORE_AND_COMPLEXITY",rssLink:t=>`/rss/articles/rated${t.score}/${t.complexity?`${t.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_TOP",path:"top/",components:{default:hr,sidebar:dr},redirect:{name:"ARTICLES_LIST_TOP_PERIOD",params:{period:"daily"}},children:[{name:"ARTICLES_LIST_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/:complexity(easy|medium|hard)?/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD",rssLink:t=>`/rss/articles/top/${t.period}/${t.complexity?`${t.complexity}/`:""}`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD",rssLink:t=>`/rss/articles/top/${t.period}/${t.complexity?`${t.complexity}/`:""}`}}]}]}]},{path:"posts/",pathToRegexpOptions:{strict:!0},components:{default:ur},redirect:{name:"POSTS_ALL"},meta:{pageType:"feed",feedType:"allFlows"},children:[{name:"POSTS_ALL",path:"",pathToRegexpOptions:{strict:!0},components:{default:fr,sidebar:dr},meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_POSTS",rssLink:()=>"/rss/posts/",renderAlternateMetaTag:!0},children:[{name:"POSTS_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_POSTS",rssLink:()=>"/rss/posts/",renderAlternateMetaTag:!0}},{name:"POSTS_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"POSTS_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_SCORE",rssLink:t=>`/rss/posts/rated${t.score}/`,renderAlternateMetaTag:!0},children:[{name:"POSTS_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"POSTS_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_SCORE",rssLink:t=>`/rss/posts/rated${t.score}/`}}]}]},{name:"POSTS_TOP",path:"top/",components:{default:fr,sidebar:dr},redirect:{name:"POSTS_TOP_PERIOD",params:{period:"daily"}},children:[{name:"POSTS_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_PERIOD",rssLink:t=>`/rss/posts/top/${t.period}/`},children:[{name:"POSTS_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_PERIOD",rssLink:t=>`/rss/posts/top/${t.period}/`}}]}]}]},{path:"news/",pathToRegexpOptions:{strict:!0},components:{default:ur},redirect:{name:"NEWS_LIST_ALL"},meta:{pageType:"feed",feedType:"allFlows"},children:[{name:"NEWS_LIST_ALL",path:"",pathToRegexpOptions:{strict:!0},components:{default:vr,sidebar:dr},meta:{showFilter:!0,showCompanyRatingBlock:!0,title:"NEWS_PAGE_META_TITLE",navTitle:"NAV_TITLE_LATEST",description:"NEWS_PAGE_META_DESCRIPTION",rssLink:()=>"/rss/news/",renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0,title:"NEWS_PAGE_META_TITLE",navTitle:"NAV_TITLE_LATEST",description:"NEWS_PAGE_META_DESCRIPTION",rssLink:()=>"/rss/news/",showCompanyRatingBlock:!0}},{name:"NEWS_LIST_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"NEWS_PAGE_SCORE_META_DESCRIPTION",rssLink:t=>`/rss/news/rated${t.score}/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"NEWS_PAGE_SCORE_META_DESCRIPTION",rssLink:t=>`/rss/news/rated${t.score}/`}}]}]},{name:"NEWS_LIST_TOP",path:"top/",components:{default:hr,sidebar:dr},redirect:{name:"NEWS_LIST_TOP_PERIOD",params:{period:"daily"}},children:[{name:"NEWS_LIST_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"NEWS_PAGE_TOP_META_DESCRIPTION",rssLink:t=>`/rss/news/top/${t.period}/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"NEWS_PAGE_TOP_META_DESCRIPTION",rssLink:t=>`/rss/news/top/${t.period}/`}}]}]}]},{path:"hubs/",pathToRegexpOptions:{strict:!0},components:{default:ur},redirect:{name:"HUBS"},meta:{hasSearch:!0,title:"NAV_HUBS",feedType:"allFlows"},children:[{name:"HUBS",path:"",pathToRegexpOptions:{strict:!0},components:{default:Tr,sidebar:dr},meta:{hasSearch:!0,title:"NAV_HUBS"},children:[{name:"HUBS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{hasSearch:!0,title:"NAV_HUBS"}}]}]},{path:"users/",pathToRegexpOptions:{strict:!0},components:{default:ur},redirect:{name:"USERS"},meta:{title:"SEARCH_TAB_USERS_LONG",hasSearch:!0,noindex:!0,feedType:"allFlows"},children:[{name:"USERS",path:"",pathToRegexpOptions:{strict:!0},components:{default:Sr,sidebar:pr},meta:{title:"SEARCH_TAB_USERS_LONG",hasSearch:!0,noindex:!0},children:[{name:"USERS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{hasSearch:!0,title:"SEARCH_TAB_USERS_LONG",noindex:!0}}]}]},{path:"companies/",pathToRegexpOptions:{strict:!0},components:{default:ur},redirect:{name:"COMPANIES"},meta:{feedType:"allFlows"},children:[{name:"COMPANIES",path:"",pathToRegexpOptions:{strict:!0},components:{default:gr,sidebar:_r},meta:{title:"NAV_COMPANIES",hasSearch:!0}},{name:"COMPANIES_CATEGORIES",path:"category/:categoryAlias/",pathToRegexpOptions:{strict:!0},components:{default:gr,sidebar:_r},children:[{name:"COMPANIES_CATEGORIES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0}}]},{name:"COMPANIES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{hasSearch:!0,title:"NAV_COMPANIES"},components:{default:gr,sidebar:_r}}]}],Ir=()=>Promise.all([s.e(5468),s.e(6379)]).then(s.bind(s,36564)),Cr=()=>Promise.all([s.e(5468),s.e(6379)]).then(s.bind(s,55742)),Ar=()=>Promise.all([s.e(5468),s.e(6379)]).then(s.bind(s,93775)),br=()=>Promise.all([s.e(5468),s.e(6379)]).then(s.bind(s,65681)),yr=()=>Promise.all([s.e(5468),s.e(6379)]).then(s.bind(s,86193)),Pr=()=>Promise.all([s.e(5468),s.e(6379)]).then(s.bind(s,85425)),Lr=()=>Promise.all([s.e(5468),s.e(6379)]).then(s.bind(s,96069)),Or=[{path:"hubs/:hubName/posts/top:score(0|10|25|50|100)/*",redirect:t=>({path:`/:hl/hubs/:hubName/posts/rated:score/${t.params.pathMatch}`})},{path:`hubs/:hubName${Ts.HUB_ALIAS_MATCH}/`,name:"HUB_PAGE",pathToRegexpOptions:{strict:!0},component:Ir,redirect:{name:"ARTICLES_LIST_BY_HUB_ALL"},meta:{pageType:"feed"},children:[{path:"articles/",pathToRegexpOptions:{strict:!0},components:{default:br,sidebar:Cr},children:[{name:"ARTICLES_LIST_BY_HUB_ALL",path:":complexity(easy|medium|hard)?/",pathToRegexpOptions:{strict:!0},components:{default:br,sidebar:Cr},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:t=>`/rss/hubs/${t.hubName}/articles/${t.complexity?`${t.complexity}/`:""}`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_BY_HUB_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:t=>`/rss/hubs/${t.hubName}/articles/${t.complexity?`${t.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_HUB_ALL_SCORE",path:"rated:score(0|10|25|50|100)/:complexity(easy|medium|hard)?/",pathToRegexpOptions:{strict:!0},components:{default:br,sidebar:Cr},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:t=>`/rss/hubs/${t.hubName}/articles/rated${t.score}/${t.complexity?`${t.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_HUB_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:t=>`/rss/hubs/${t.hubName}/articles/rated${t.score}/${t.complexity?`${t.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_HUB_TOP",path:"top/",components:{default:br,sidebar:Cr},redirect:{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD",params:{period:"daily"}},children:[{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/:complexity(easy|medium|hard)?/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:t=>`/rss/hubs/${t.hubName}/articles/top/${t.period}/${t.complexity?`${t.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:t=>`/rss/hubs/${t.hubName}/articles/top/${t.period}/${t.complexity?`${t.complexity}/`:""}`}}]}]}]},{path:"news/",pathToRegexpOptions:{strict:!0},components:{default:br,sidebar:Cr},children:[{name:"NEWS_BY_HUB_ALL",path:"",pathToRegexpOptions:{strict:!0},components:{default:br,sidebar:Cr},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:t=>`/rss/hubs/${t.hubName}/news/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_BY_HUB_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:t=>`/rss/hubs/${t.hubName}/news/`}}]},{name:"NEWS_BY_HUB_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},components:{default:br,sidebar:Cr},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:t=>`/rss/hubs/${t.hubName}/news/rated${t.score}/`},children:[{name:"NEWS_BY_HUB_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:t=>`/rss/hubs/${t.hubName}/news/rated${t.score}/`}}]},{name:"NEWS_BY_HUB_TOP",path:"top/",components:{default:br,sidebar:Cr},redirect:{name:"NEWS_BY_HUB_TOP_PERIOD",params:{period:"daily"}},children:[{name:"NEWS_BY_HUB_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:t=>`/rss/hubs/${t.hubName}/news/top/${t.period}/`},children:[{name:"NEWS_BY_HUB_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:t=>`/rss/hubs/${t.hubName}/news/top/${t.period}/`}}]}]}]},{path:"posts/",pathToRegexpOptions:{strict:!0},components:{default:Lr,sidebar:Cr},children:[{name:"POSTS_BY_HUB_ALL",path:"",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:t=>`/rss/hubs/${t.hubName}/posts/`},children:[{name:"POSTS_BY_HUB_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0,canonicalRoute:"POSTS_BY_HUB_ALL",rssLink:t=>`/rss/hubs/${t.hubName}/posts/`}},{name:"POSTS_BY_HUB_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:t=>`/rss/hubs/${t.hubName}/posts/rated${t.score}/`},children:[{name:"POSTS_BY_HUB_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:t=>`/rss/hubs/${t.hubName}/posts/rated${t.score}/`}}]}]},{name:"POSTS_BY_HUB_TOP",path:"top/",redirect:{name:"POSTS_BY_HUB_TOP_PERIOD",params:{period:"daily"}},children:[{name:"POSTS_BY_HUB_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0,navTitle:"NAV_TITLE_PERIOD",rssLink:t=>`/rss/hubs/${t.hubName}/posts/top/${t.period}/`},children:[{name:"POSTS_BY_HUB_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0,navTitle:"NAV_TITLE_PERIOD",rssLink:t=>`/rss/hubs/${t.hubName}/posts/top/${t.period}/`}}]}]}]},{name:"AUTHORS_BY_HUB",path:"authors/",pathToRegexpOptions:{strict:!0},meta:{hasSearch:!0},components:{default:Pr,sidebar:Ar},children:[{name:"AUTHORS_BY_HUB_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",hasSearch:!0}}]},{name:"COMPANIES_BY_HUB",path:"companies/",pathToRegexpOptions:{strict:!0},meta:{hasSearch:!0},components:{default:yr,sidebar:Ar},children:[{name:"COMPANIES_BY_HUB_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"HUB_PAGE",hasSearch:!0}}]}]}],Nr=()=>s.e(5996).then(s.bind(s,1715)),Mr=[{name:"WELCOME",path:"info/welcome/",pathToRegexpOptions:{strict:!0},components:{default:Nr},children:[{name:"WELCOME_TOPICS",path:":topic?/",pathToRegexpOptions:{strict:!0},meta:{hideUserNotices:!0}}]},{path:"info/*",pathToRegexpOptions:{strict:!0},beforeEnter:(t,e,s)=>{const{hl:n,pathMatch:i}=t.params;if(-1!==i.indexOf("welcome"))return s();switch(i){case"company/":return s({path:`/${n}/docs/companies/corpblogs/`});case"authors/":return s({path:`/${n}/docs/authors/codex/`});case"rules/":return s({path:`/${n}/docs/docs/rules/`});case"legal/":return s({path:`/${n}/docs/docs/legal/`});case"topics/how-to/":return s({path:`/${n}/sandbox/start/`});case"topics/madskillz/":return s({path:`/${n}/docs/companies/design/`});case"topics/toolkit/":return s({path:`/${n}/docs/companies/preparations/`});case"help/":return s({path:`/${n}/docs/${t.params.pathMatch}`});case"help/sponsorship-info/":return s({path:`/${n}/docs/companies/sponsorship/`});case"help/others/":return s({path:`/${n}/docs/help/hotkeys/`});case"advert_rules/":case"advert-rules/":return s({path:`/${n}/docs/docs/advert-rules/`});default:}return i.startsWith("help/")?s({path:`/${n}/docs/${i}`}):s({path:`/${n}/docs/`})}}],Rr=()=>s.e(5106).then(s.bind(s,82310)),kr=()=>s.e(6453).then(s.bind(s,51919)),wr=[{path:"megapost/admin/",redirect:{name:"MEGAPOST_ADMIN"}},{name:"MEGAPOST_ADMIN",path:"specials/admin/",pathToRegexpOptions:{strict:!0},meta:{title:"MEGAPOSTS_TITLE",requiresAuth:!0,isMegapostPage:!0,groups:["super"]},components:{default:kr},children:[{name:"MEGAPOST_ADMIN_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"MEGAPOSTS_TITLE",requiresAuth:!0,isMegapostPage:!0,groups:["super"]}}]},{name:"PUBLICATION_MEGAPOST",path:"specials/new/",pathToRegexpOptions:{strict:!0},component:Rr,meta:{isMegapostPage:!0,rootPage:!0}},{name:"PUBLICATION_MEGAPOST_EDIT",path:"specials/edit/:publicationId/",pathToRegexpOptions:{strict:!0},component:Rr,meta:{isMegapostPage:!0}}],Br=()=>s.e(7324).then(s.bind(s,82749)),Dr=[{path:"megaprojects/",redirect:{name:"MEGAPROJECTS"}},{name:"MEGAPROJECTS",path:"specials/",pathToRegexpOptions:{strict:!0},components:{default:Br},meta:{title:"NAV_MEGAPROJECTS",description:"MEGAPROJECTS_DESCRIPTION",rootPage:!0,pageType:"feed",rssLink:()=>"/rss/specials/",groups:["super"]},children:[{name:"MEGAPROJECTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"NAV_MEGAPROJECTS",description:"MEGAPROJECTS_DESCRIPTION",rssLink:()=>"/rss/specials/",groups:["super"]}}]}],xr=()=>s.e(4306).then(s.bind(s,24160)),$r=()=>s.e(4306).then(s.bind(s,36606)),Ur=()=>s.e(4306).then(s.bind(s,1757)),Fr=()=>s.e(4306).then(s.bind(s,80995)),Vr=()=>s.e(4306).then(s.bind(s,7002)),Hr=()=>s.e(4306).then(s.bind(s,37544)),Gr=()=>s.e(4306).then(s.bind(s,59594)),Wr=()=>s.e(4306).then(s.bind(s,19993)),Zr=[{name:"PPA_ROOT",path:"ppa/",pathToRegexpOptions:{strict:!0},component:xr,redirect:{path:"ppa/faq/"},meta:{rootPage:!0},children:[{name:"PPA_BALANCE",path:"balance/",pathToRegexpOptions:{strict:!0},meta:{title:"PPA_SUBPAGE_BALANCE"},components:{default:Gr,sidebar:Fr},children:[{name:"PPA_BALANCE_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"PPA_SUBPAGE_BALANCE"}}]},{name:"PPA_WITHDRAW",path:"withdraw/",pathToRegexpOptions:{strict:!0},components:{default:Wr,sidebar:$r},meta:{title:"PPA_SUBPAGE_FUNDS_WITHDRAWAL"}},{name:"PPA_ABOUT",path:"about/",pathToRegexpOptions:{strict:!0},components:{default:Vr,sidebar:Ur},meta:{title:"PPA_SUBPAGE_ABOUT"}},{name:"PPA_ARTICLE",path:`:alias${Ts.DOCS_ARTICLE_ALIAS_MATCH}/`,pathToRegexpOptions:{strict:!0},components:{default:Hr,sidebar:Ur}}]}],Yr=()=>s.e(7996).then(s.bind(s,25195)),qr=[{name:"PPG_COMMENTS",path:"ppg/comments/",pathToRegexpOptions:{strict:!0},component:Yr,meta:{requiresAuth:!0}},{name:"PPG_SMILES",path:"ppg/smiles/",pathToRegexpOptions:{strict:!0},component:Yr,meta:{requiresAuth:!0}}],jr=()=>s.e(5106).then(s.bind(s,82310)),Kr=()=>s.e(5106).then(s.bind(s,42510)),zr=[{name:"PUBLICATION",path:"publication/new/",pathToRegexpOptions:{strict:!0},redirect:{name:"PUBLICATION_ARTICLE"}},{name:"PUBLICATION_EDIT",path:`publication/edit/:publicationId${Ts.PUBLICATION_ID_MATCH}/`,pathToRegexpOptions:{strict:!0},redirect:t=>({name:"PUBLICATION_ARTICLE_EDIT",params:{...t.params}})},{name:"PUBLICATION_ARTICLE",path:"article/new/",pathToRegexpOptions:{strict:!0},component:jr,meta:{rootPage:!0,requiresAuth:!0}},{name:"PUBLICATION_ARTICLE_EDIT",path:`article/edit/:publicationId${Ts.PUBLICATION_ID_MATCH}/`,pathToRegexpOptions:{strict:!0},component:jr,meta:{requiresAuth:!0}},{name:"PUBLICATION_NEWS",path:"news/new/",pathToRegexpOptions:{strict:!0},component:jr,meta:{rootPage:!0,requiresAuth:!0}},{name:"PUBLICATION_NEWS_EDIT",path:`news/edit/:publicationId${Ts.PUBLICATION_ID_MATCH}/`,pathToRegexpOptions:{strict:!0},component:jr,meta:{requiresAuth:!0}},{name:"PUBLICATION_POST",path:"post/new/",pathToRegexpOptions:{strict:!0},component:Kr,meta:{rootPage:!0,requiresAuth:!0}},{name:"PUBLICATION_POST_EDIT",path:`post/edit/:publicationId${Ts.PUBLICATION_ID_MATCH}/`,pathToRegexpOptions:{strict:!0},component:Kr,meta:{requiresAuth:!0}}],Qr=()=>Promise.all([s.e(7150),s.e(7484)]).then(s.bind(s,22200)),Xr=()=>Promise.all([s.e(7150),s.e(7484)]).then(s.bind(s,59195)),Jr=()=>Promise.all([s.e(7150),s.e(7484)]).then(s.bind(s,11201)),tl=()=>Promise.all([s.e(7150),s.e(7484)]).then(s.bind(s,58767)),el=()=>Promise.all([s.e(7150),s.e(7484)]).then(s.bind(s,38218)),sl=()=>Promise.all([s.e(7150),s.e(7484)]).then(s.bind(s,43176)),nl=()=>Promise.all([s.e(7150),s.e(7484)]).then(s.bind(s,12928)),il=()=>s.e(5106).then(s.bind(s,82310)),al=[{path:"sandbox/",pathToRegexpOptions:{strict:!0},components:{default:Qr},meta:{pageType:"sandbox",rootPage:!0},children:[{name:"MOST_IMPORTANT_SANBOX_INFO",path:"start/",pathToRegexpOptions:{strict:!0},components:{default:nl,sidebar:el},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_MOST_IMPORTANT_TITLE"}},{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST",path:"",pathToRegexpOptions:{strict:!0},components:{default:sl,sidebar:Xr},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_INVITE_AUTHORS_TITLE"},children:[{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_INVITE_AUTHORS_TITLE"}}]},{name:"NEW_AUTHORS_ARTICLES_LIST",path:"invited/",pathToRegexpOptions:{strict:!0},components:{default:sl,sidebar:Jr},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_NEW_AUTHORS_TITLE",rssLink:()=>"/rss/sandbox/invited/"},children:[{name:"NEW_AUTHORS_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_NEW_AUTHORS_TITLE",rssLink:()=>"/rss/sandbox/invited/"}}]},{name:"MY_SANDBOX_ARTICLES_LIST",path:"my/",pathToRegexpOptions:{strict:!0},components:{default:sl,sidebar:tl},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_MY_TITLE"},children:[{name:"MY_SANDBOX_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0}}]},{name:"AWAIT_MODERATION_ARTICLES_LIST",path:"disapproved/",pathToRegexpOptions:{strict:!0},components:{default:sl,sidebar:tl},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_MODERATION_TITLE"},children:[{name:"AWAIT_MODERATION_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_MODERATION_TITLE"}}]},{name:"SCHEDULED_SANDBOX_ARTICLES_LIST",path:"scheduled/",pathToRegexpOptions:{strict:!0},components:{default:sl,sidebar:tl},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_SCHEDULED_TITLE"},children:[{name:"SCHEDULED_SANDBOX_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_SCHEDULED_TITLE"}}]}]},{name:"PUBLICATION_SANDBOX",path:"sandbox/new/",pathToRegexpOptions:{strict:!0},component:il,meta:{isSandboxPage:!0}},{name:"PUBLICATION_SANDBOX_EDIT",path:`sandbox/edit/:publicationId${Ts.PUBLICATION_ID_MATCH}/`,pathToRegexpOptions:{strict:!0},component:il,meta:{isSandboxPage:!0}}],ol=()=>s.e(6464).then(s.bind(s,25222)),rl=()=>s.e(6464).then(s.bind(s,59830)),ll=()=>s.e(6464).then(s.bind(s,65440)),cl=()=>s.e(6464).then(s.bind(s,13189)),ml=()=>s.e(6464).then(s.bind(s,28407)),ul=()=>s.e(6464).then(s.bind(s,12545)),dl=[{path:"search/",pathToRegexpOptions:{strict:!0},props:t=>({currentPageName:t.query.target_type}),component:ol,meta:{pageType:"search",rootPage:!0},children:[{name:"SEARCH_QUERY_RESULTS",path:"",pathToRegexpOptions:{strict:!0},components:{posts:rl,users:ll,companies:cl,hubs:ml,comments:ul},meta:{rssLink:t=>`/rss/search/?q=${t.q}&order_by=${t.order}&target_type=${t.target_type}&hl=${t.hl}&fl=${t.fl}`},children:[{name:"SEARCH_QUERY_RESULTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},rssLink:t=>`/rss/search/?q=${t.q}&order_by=${t.order}&target_type=${t.target_type}&hl=${t.hl}&fl=${t.fl}`}]}]}],pl=()=>s.e(5112).then(s.bind(s,19359)),_l=()=>s.e(388).then(s.bind(s,48010)),hl=()=>s.e(388).then(s.bind(s,96282)),gl=()=>s.e(2047).then(s.bind(s,10385)),Tl=()=>s.e(3049).then(s.bind(s,8848)),vl=[{name:"USER_SETTINGS_ROOT",path:"settings/",pathToRegexpOptions:{strict:!0},components:{default:pl},meta:{requiresAuth:!0,rootPage:!0},redirect:{name:"USER_SETTINGS_PROFILE"},children:[{name:"USER_SETTINGS_PROFILE",path:"profile/",pathToRegexpOptions:{strict:!0},components:{default:pl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_UPGRADE",path:"upgrade/:invite/",pathToRegexpOptions:{strict:!0},components:{default:Tl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_PRIVACY",path:"privacy/",pathToRegexpOptions:{strict:!0},components:{default:pl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_NOTIFICATIONS",path:"notifications/",pathToRegexpOptions:{strict:!0},components:{default:pl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_SPECS",path:"specialization/",pathToRegexpOptions:{strict:!0},components:{default:pl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_MISC",path:"others/",pathToRegexpOptions:{strict:!0},components:{default:pl},meta:{requiresAuth:!0}},{path:"apps/",components:{default:_l},meta:{requiresAuth:!0},children:[{name:"USER_SETTINGS_APPS",path:"",pathToRegexpOptions:{strict:!0},components:{default:hl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_MY",path:"my/",pathToRegexpOptions:{strict:!0},components:{default:hl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_REGISTER",path:"register/",pathToRegexpOptions:{strict:!0},components:{default:gl},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_EDIT",path:"details/:appId/",pathToRegexpOptions:{strict:!0},components:{default:gl},meta:{requiresAuth:!0}}]}]}],Sl=()=>s.e(3839).then(s.bind(s,80524)),fl=[{name:"STARTUP_FORM",path:`startup/form/:requestId${Ts.MONGO_OBJECT_ID}/`,pathToRegexpOptions:{strict:!0},components:{default:Sl},meta:{requiresAuth:!1}}];function El(t,e){return(0,rs.Hm)((0,ls.k)(`technotexts/${t}`,"v2"),e)}function Il(){return(0,rs.Hm)((0,ls.k)("technotexts","v2"))}function Cl(t,e){return(0,rs.Hm)((0,ls.k)(`technotexts/${t}/winners`,"v2"),e)}const Al=()=>s.e(3389).then(s.bind(s,11651)),bl=()=>s.e(3389).then(s.bind(s,30565)),yl=[{name:"ARTICLES_LIST_TECHNOTEXT",path:"technotext/",pathToRegexpOptions:{strict:!0},components:{default:Al},beforeEnter:async(t,e,s)=>{if(!t.params.year)try{const{technotexts:t}=await Il();return s(`technotext/${t[0]}`)}catch(n){throw n}return s()}},{name:"ARTICLES_LIST_TECHNOTEXT_WINNERS",path:"technotext/:year/winners/",pathToRegexpOptions:{strict:!0},meta:{title:"TITLE_TECHNOTEXT_WINNERS"},components:{default:bl}},{name:"ARTICLES_LIST_TECHNOTEXT_ALL",path:"technotext/:year/",pathToRegexpOptions:{strict:!0},components:{default:Al},meta:{title:"TITLE_TECHNOTEXT",pageType:"feed"},children:[{name:"ARTICLES_LIST_TECHNOTEXT_ALL_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"TITLE_TECHNOTEXT"}},{name:"ARTICLES_LIST_TECHNOTEXT_NOMINATION",path:":nomination/",pathToRegexpOptions:{strict:!0},meta:{title:"TITLE_TECHNOTEXT_NOMINATION"},children:[{name:"ARTICLES_LIST_TECHNOTEXT_NOMINATION_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{title:"TITLE_TECHNOTEXT_NOMINATION"}}]}]}],Pl=()=>s.e(8778).then(s.bind(s,94548)),Ll=()=>s.e(8778).then(s.bind(s,82667)),Ol=()=>s.e(8778).then(s.bind(s,67321)),Nl=[{name:"TRACKER",path:"tracker/",pathToRegexpOptions:{strict:!0},meta:{pageType:"tracker",rootPage:!0},components:{default:Pl},redirect:{name:"TRACKER_PUBLICATIONS"},children:[{name:"TRACKER_PUBLICATIONS",path:"",pathToRegexpOptions:{strict:!0},components:{default:Ll}},{name:"TRACKER_PUBLICATIONS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},components:{default:Ll}},{name:"TRACKER_MY_PUBLICATIONS",path:"my/",pathToRegexpOptions:{strict:!0},components:{default:Ll},children:[{name:"TRACKER_MY_PUBLICATIONS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},components:{default:Ll}}]},{name:"TRACKER_BY_CATEGORY",path:":category(subscribers|mentions|notifications|applications)//",components:{default:Ol},children:[{name:"TRACKER_BY_CATEGORY_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},components:{default:Ol}}]}]}],Ml=()=>s.e(7086).then(s.bind(s,94373)),Rl=()=>Promise.all([s.e(5468),s.e(734)]).then(s.bind(s,38874)),kl=()=>Promise.all([s.e(5468),s.e(734)]).then(s.bind(s,5718)),wl=()=>Promise.all([s.e(5468),s.e(734)]).then(s.bind(s,5785)),Bl=()=>Promise.all([s.e(5468),s.e(734)]).then(s.bind(s,73743)),Dl=()=>Promise.all([s.e(5468),s.e(734)]).then(s.bind(s,95566)),xl=()=>Promise.all([s.e(5468),s.e(734)]).then(s.bind(s,72849)),$l=()=>Promise.all([s.e(5468),s.e(734)]).then(s.bind(s,6301)),Ul=()=>s.e(6504).then(s.bind(s,40485)),Fl=()=>Promise.all([s.e(7150),s.e(8631)]).then(s.bind(s,22390)),Vl=()=>Promise.all([s.e(7150),s.e(8631)]).then(s.bind(s,39139)),Hl=()=>Promise.all([s.e(7150),s.e(8631)]).then(s.bind(s,4385)),Gl=()=>Promise.all([s.e(7150),s.e(8631)]).then(s.bind(s,90270)),Wl=()=>Promise.all([s.e(5468),s.e(734)]).then(s.bind(s,13528)),Zl=()=>Promise.all([s.e(5468),s.e(734)]).then(s.bind(s,13131)),Yl=()=>Promise.all([s.e(7150),s.e(8631)]).then(s.bind(s,75840)),ql=()=>Promise.all([s.e(88),s.e(8463)]).then(s.bind(s,70951)),jl=()=>Promise.all([s.e(88),s.e(8463)]).then(s.bind(s,72354)),Kl=()=>Promise.all([s.e(88),s.e(8463)]).then(s.bind(s,24213)),zl=[{path:`users/:login${Ts.USER_ALIAS_PARAM_REGEXP}/`,components:{default:Rl},meta:{pageType:"feed"},children:[{name:"USER_PROFILE",path:"",pathToRegexpOptions:{strict:!0},components:{default:$l},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,renderAlternateMetaTag:!0}},{name:"USER_INVITES",path:"invitations/",pathToRegexpOptions:{strict:!0},components:{default:Ul},meta:{canonicalRoute:"USER_PROFILE",requiresAuth:!0,showFilter:!0}},{name:"USER_NOTES",path:"notes/",pathToRegexpOptions:{strict:!0},components:{default:Yl},meta:{canonicalRoute:"USER_PROFILE",title:"NAV_PROFILE_NOTES",requiresAuth:!0,showFilter:!0},children:[{name:"USER_NOTES_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",title:"NAV_PROFILE_NOTES",requiresAuth:!0,showFilter:!0}}]},{name:"USER_KARMA_RESET",path:"reset/",pathToRegexpOptions:{strict:!0},components:{default:Gl},meta:{canonicalRoute:"USER_PROFILE",title:"KARMA_RESET",requiresAuth:!0,showFilter:!0}},{name:"USER_VOTES_COMMENTS",path:"votes-comments/",pathToRegexpOptions:{strict:!0},components:{default:jl},meta:{canonicalRoute:"USER_PROFILE",title:"PROFILE_VOTES_COMMENTS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_COMMENTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_VOTES_COMMENTS",title:"PROFILE_VOTES_COMMENTS_TITLE",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_POSTS",path:"votes-publications/",pathToRegexpOptions:{strict:!0},components:{default:Kl},meta:{canonicalRoute:"USER_PROFILE",title:"PROFILE_VOTES_POSTS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_POSTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_VOTES_POSTS",title:"PROFILE_VOTES_POSTS_TITLE",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_KARMA",path:"votes-karma/",pathToRegexpOptions:{strict:!0},components:{default:Wl},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_KARMA",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_KARMA_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_KARMA",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_USERS",path:"votes-users/",pathToRegexpOptions:{strict:!0},components:{default:Zl},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_USERS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_USERS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_USERS_TITLE",requiresAuth:!0,showFilter:!0}}]},{path:"publications/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE"},components:{default:{render(t){return t("router-view")}}},children:[{path:"articles/",name:"ARTICLES_LIST_BY_USER",pathToRegexpOptions:{strict:!0},components:{default:kl},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:t=>`/rss/users/${t.login}/publications/articles/`},props:{default:{publicationsType:"articles"}},children:[{name:"ARTICLES_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:t=>`/rss/users/${t.login}/publications/articles/`}}]},{path:"news/",name:"NEWS_LIST_BY_USER",pathToRegexpOptions:{strict:!0},components:{default:kl},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:t=>`/rss/users/${t.login}/publications/news/`},props:{default:{publicationsType:"news"}},children:[{name:"NEWS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:t=>`/rss/users/${t.login}/publications/news/`}}]},{path:"posts/",name:"POSTS_LIST_BY_USER",pathToRegexpOptions:{strict:!0},components:{default:kl},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:t=>`/rss/users/${t.login}/publications/posts/`},props:{default:{publicationsType:"posts"}},children:[{name:"POSTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:t=>`/rss/users/${t.login}/publications/posts/`}}]},{path:"drafts/",pathToRegexpOptions:{strict:!0},components:{default:{render(t){return t("router-view")}}},redirect:{name:"ARTICLES_DRAFTS_LIST_BY_USER"},children:[{name:"ARTICLES_DRAFTS_LIST_BY_USER",path:"articles/",pathToRegexpOptions:{strict:!0},components:{default:Fl},props:{default:{publicationsType:"articles"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"ARTICLES_DRAFTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]},{name:"NEWS_DRAFTS_LIST_BY_USER",path:"news/",pathToRegexpOptions:{strict:!0},components:{default:Fl},props:{default:{publicationsType:"news"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"NEWS_DRAFTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]},{name:"POSTS_DRAFTS_LIST_BY_USER",path:"posts/",pathToRegexpOptions:{strict:!0},components:{default:Fl},props:{default:{publicationsType:"posts"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"POSTS_DRAFTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]}]},{name:"ARTICLES_LIST_SANDBOX_BY_USER",path:"sandbox/",pathToRegexpOptions:{strict:!0},components:{default:Vl},meta:{canonicalRoute:"USER_PROFILE",pageType:"feed",showFilter:!0,isSandboxPage:!0},children:[{name:"ARTICLES_LIST_SANDBOX_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",pageType:"feed",showFilter:!0,isSandboxPage:!0}}]},{path:"scheduled/",pathToRegexpOptions:{strict:!0},components:{default:{render(t){return t("router-view")}}},children:[{name:"ARTICLES_PLANNED_LIST_BY_USER",path:"articles/",pathToRegexpOptions:{strict:!0},components:{default:Hl},props:{default:{publicationsType:"articles"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"ARTICLES_PLANNED_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]},{name:"NEWS_PLANNED_LIST_BY_USER",path:"news/",pathToRegexpOptions:{strict:!0},components:{default:Hl},props:{default:{publicationsType:"news"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"NEWS_PLANNED_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]},{name:"POSTS_PLANNED_LIST_BY_USER",path:"posts/",pathToRegexpOptions:{strict:!0},components:{default:Hl},props:{default:{publicationsType:"posts"}},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0},children:[{name:"POSTS_PLANNED_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}}]}]},{name:"USER_STATISTICS",path:"statistics/",pathToRegexpOptions:{strict:!0},components:{default:ql},meta:{requiresAuth:!0,showFilter:!0},children:[{name:"USER_STATISTICS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0,showFilter:!0}}]}]},{path:"topics/",pathToRegexpOptions:{strict:!0},children:[{path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},redirect:t=>({...t,name:"ARTICLES_LIST_BY_USER_PAGES"})}],redirect:t=>({...t,name:"ARTICLES_LIST_BY_USER"})},{name:"USER_BOOKMARKED",path:"bookmarks/",pathToRegexpOptions:{strict:!0},components:{default:Bl},meta:{canonicalRoute:"USER_PROFILE"},redirect:t=>({...t,name:"ARTICLES_LIST_BOOKMARKED"}),children:[{name:"ARTICLES_LIST_BOOKMARKED",path:"articles/",pathToRegexpOptions:{strict:!0},components:{default:wl},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0},props:{default:{publicationsType:"articles"}},children:[{name:"ARTICLES_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showFilter:!0}}]},{name:"COMMENTS_LIST_BOOKMARKED",path:"comments/",pathToRegexpOptions:{strict:!0},components:{default:Ml},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"},children:[{name:"COMMENTS_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"}}]},{name:"POSTS_LIST_BOOKMARKED",path:"posts/",pathToRegexpOptions:{strict:!0},components:{default:wl},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"},props:{default:{publicationsType:"posts"}},children:[{name:"POSTS_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"}}]},{name:"NEWS_LIST_BOOKMARKED",path:"news/",pathToRegexpOptions:{strict:!0},components:{default:wl},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"},props:{default:{publicationsType:"news"}},children:[{name:"NEWS_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userFavorites"}}]}]},{path:"favorites/",pathToRegexpOptions:{strict:!0},children:[{path:"posts/*",redirect:t=>({...t,name:"ARTICLES_LIST_BOOKMARKED"})},{path:"comments/*",redirect:t=>({...t,name:"COMMENTS_LIST_BOOKMARKED"})}],redirect:t=>({...t,name:"ARTICLES_LIST_BOOKMARKED"})},{name:"USER_COMMENTS_PUBLICATIONS",path:"comments/",pathToRegexpOptions:{strict:!0},components:{default:Ml},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userComments",rssLink:t=>`/rss/users/${t.login}/comments/`},children:[{name:"USER_COMMENTS_PUBLICATIONS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userComments",rssLink:t=>`/rss/users/${t.login}/comments/`}}]},{name:"USER_FOLLOWERS",path:"followers/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE"},components:{default:xl},children:[{name:"USER_FOLLOWERS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE"}}]},{name:"USER_FOLLOWED",path:"following/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE"},components:{default:Dl},children:[{name:"USER_FOLLOWED_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE"}}]}]}],Ql=()=>s.e(9722).then(s.bind(s,85330)),Xl=()=>s.e(9722).then(s.bind(s,21717)),Jl=[{name:"VOICE",path:"voice/new/",pathToRegexpOptions:{strict:!0},component:Ql,meta:{rootPage:!0}},{name:"VOICE_EDIT",path:"voice/edit/:voiceId/",pathToRegexpOptions:{strict:!0},component:Xl}],tc=[...$s,...oa,...Cs,...ma,...yo,...Sa,...No,...Lo,...Ro,...Fo,...$o,...Ho,...mr,...Er,...Or,...Mr,...wr,...Dr,...Nl,...Zr,...qr,...zr,...al,...dl,...fl,...yl,...vl,...zl,...Do,...wo,...Jl];n["default"].use(hs.ZP);const ec=["utm_source","utm_medium","utm_content","utm_campaign","utm_term"],sc=t=>({path:"/:hl(ru|en)/",children:[...Ls(t),...tc],components:{default:{computed:{routeKey(){const{query:t,hash:e}=this.$route;return Object.keys(t).some((t=>ec.indexOf(t)>=0))||e?this.$route.path:this.$route.fullPath}},render(t){return t("keep-alive",{props:{include:["TMUserPublicationPage","TMArticleCommentsPage"],exclude:["TMAdBanner"],max:20}},[t("router-view",{on:this.$listeners,key:this.routeKey})])}}}});function nc(t){return new hs.ZP({mode:"history",routes:[...Ds,sc(t)],scrollBehavior(t,e,s){return!e&&t.hash?{selector:t.hash}:t.fullPath!==e.fullPath&&(s||{x:0,y:0})}})}var ic=s(84291),ac=s(61823);const oc={root:!0},rc={state(){return{lastViewedComment:0,postId:null,lastCommentTimestamp:"",moderated:[],moderatedIds:[],commentRoute:""}},getters:{getModeratedIds:t=>t.moderatedIds},mutations:{saveInfoAboutComments(t,{id:e,last:s}){Object.assign(t,{postId:e,lastViewedComment:s})},setLastCommentTimestamp(t,e){e&&(t.lastCommentTimestamp=e)},setModeratedIds(t,e){t.moderatedIds=e}},actions:{sendComment({commit:t,dispatch:e},{commentBody:s,isPost:n}){const{articleId:i}=s,a=n?"threads":"posts";return(0,ac.Ir)(i,s,a).then((s=>{const n=(0,ic.qv)(s.data);return e("comments/addComment",{articleId:i,comment:n},oc),n.isReadonly&&(t("comments/setCommentAccess",{isCanComment:!1,cantCommentReasonKey:"MODERATE_POST_COMMENT_PENDING"},oc),t("setModeratedIds",[n.id])),n.id})).then((e=>(t("articlesList/incrementComments",{articleId:i},oc),e))).catch((t=>{throw t}))},getComments({commit:t,rootGetters:e},{articleId:s,nocount:n,isPost:i}){const a=i?ac.Mi:ac.pu;return a(s,e["i18n/langOptions"],n).then((e=>{const{lastCommentTimestamp:n,threads:i,comments:a,moderated:o,commentAccess:r,pinnedCommentIds:l}=e,c=l.reduce(((t,e)=>(t[e]=a[e],t)),{});t("setLastCommentTimestamp",n),t("comments/setComments",{articleId:s,refs:a,root:i},oc),t("comments/setPinnedComments",{articleId:s,commentIds:l,refs:c},oc),Object.keys(o).forEach((e=>t("comments/addComment",{articleId:s,comment:o[e]},oc))),t("comments/setCommentAccess",r,oc),t("setModeratedIds",Object.keys(o)),t("articlesList/resetCommentsUnreadCount",s,oc)}))},getGuestComments({commit:t,rootGetters:e},{articleId:s,isPost:n}){const i=n?ac.xF:ac.ID;return i(s,e["i18n/langOptions"]).then((e=>{const{cacheKey:n,lastCommentTimestamp:i,threads:a,commentRefs:o,pinnedCommentIds:r}=e,l=r.reduce(((t,e)=>(t[e]=o[e],t)),{});t("setLastCommentTimestamp",i),t("comments/setComments",{articleId:s,refs:o,root:a,cacheKey:n},oc),t("comments/setPinnedComments",{articleId:s,commentIds:r,refs:l},oc)}))},getGuestCachedComments({commit:t,rootGetters:e},{articleId:s,apiCacheKey:n,isPost:i}){const a=i?ac.FL:ac.j4;return a(s,{...e["i18n/langOptions"],cacheKey:n}).then((e=>{const{lastCommentTimestamp:i,threads:a,commentRefs:o,pinnedCommentIds:r=[]}=e,l=r.reduce(((t,e)=>(t[e]=o[e],t)),{});t("setLastCommentTimestamp",i),t("comments/setComments",{articleId:s,refs:o,root:a,cacheKey:n},oc),t("comments/setPinnedComments",{articleId:s,commentIds:r,refs:l},oc)}))},loadNewComments({commit:t,dispatch:e,state:s,rootState:n},{route:i,isPost:a}){const{id:o}=i.params,r=a?ac.Vy:ac.M1;return r(o,{timestamp:s.lastCommentTimestamp}).then((s=>{const a=i.params.id,{added:o,moderated:r,lastCommentTimestamp:l}=s;t("setLastCommentTimestamp",l),e("clearModeratedComments",{articleId:i.params.id}),t("setModeratedIds",Object.keys(r));const c={...o,...r};Object.keys(c).forEach((e=>t("comments/addComment",{articleId:a,comment:c[e]},oc)));const{refs:m}=n.comments.articleComments[a],u=Object.keys(m).filter((t=>!m[t].isReadonly)).length;t("articlesList/setArticleCommentsCount",{articleId:a,count:u},oc)}))},clearModeratedComments({commit:t,getters:e},{articleId:s}){const n=new Set(e.getModeratedIds);n.forEach((e=>t("comments/deleteComment",{articleId:s,commentId:e},oc))),t("setModeratedIds",[])},getPinnedComments({commit:t,rootGetters:e},{publicationId:s,isPost:n}){const i=n?ac.EG:ac.BL;return i(s,e["i18n/langOptions"]).then((e=>{const{commentRefs:n,commentIds:i}=e;t("comments/setPinnedComments",{articleId:s,commentIds:i,refs:n},oc)}))}}};var lc=s(77945),cc=s(19516);const mc={i8:"2.165.0"};function uc(t){switch(t.name){case"USER_COMMENTS_PUBLICATIONS":case"USER_COMMENTS_PUBLICATIONS_PAGES":return cc.aP;case"COMMENTS_LIST_BOOKMARKED":case"COMMENTS_LIST_BOOKMARKED_PAGES":return cc.Ts;default:return null}}function dc(t){const e=t?ac.F9:ac.w1,s=t?ac.Ps:ac.Nj;return{addToFavorites:e,removeFromFavorites:s}}const pc=(t,e,n,i)=>{let a=`v${mc.i8}:a${t}:k${e}:${n}`;return i?a+=`:HASH${i}`:lc.v9&&"undefined"!==typeof s.h()&&(a+=`:HASH${s.h()}`),a},_c={namespaced:!0,state(){return{articleComments:{},articlePinnedComments:{},searchCommentsResults:null,pagesCount:null,commentAccess:{},scrollParents:{}}},modules:{pageArticleComments:rc},getters:{getCommentsTreeByArticleId:(t,e)=>s=>t.articleComments[s]?t.articleComments[s].root.map((function t(n){const i=e.getCommentById(s,n);let a;return i.children&&(a=i.children.map(t)),{...i,children:a}})):null,getCommentById:t=>(e,s)=>t.articleComments[e].refs[s],searchCommentsList:t=>t.searchCommentsResults&&Array.isArray(t.searchCommentsResults.root)?t.searchCommentsResults.root.map((e=>t.searchCommentsResults.refs[e])):[],getScrollParents:t=>t.scrollParents,getCommentAccess:t=>t.commentAccess,getCommentsCacheKey:(t,e,s,n)=>(e,s)=>{const{cacheKey:i}=t.articleComments[e]||{};return i?pc(e,i,n["i18n/langOptions"].hl,s):null},getPinnedCommentsById:t=>e=>t.articlePinnedComments[e]?t.articlePinnedComments[e].commentIds.map((s=>t.articlePinnedComments[e].refs[s])):[]},mutations:{setCommentsRoot(t,{articleId:e,root:s}){t.articleComments={...t.articleComments,[e]:{...t.articleComments[e],root:s}}},setComments(t,{articleId:e,refs:s,root:n,cacheKey:i}){t.articleComments={...t.articleComments,[e]:{refs:s,root:n,cacheKey:i}}},setPinnedComments(t,{articleId:e,refs:s,commentIds:n}){t.articlePinnedComments={...t.articlePinnedComments,[e]:{refs:s,commentIds:n}}},addComment(t,{articleId:e,comment:s}){const n=t.articleComments[e];if(n.refs={...n.refs,[s.id]:s},s.parentId&&"0"!==s.parentId){const t=n.refs[s.parentId];t.children=Array.from(new Set([...t.children,s.id]))}else n.root=Array.from(new Set([...n.root,s.id]));t.articleComments={...t.articleComments,[e]:n}},updateComment(t,{articleId:e,comment:s}){t.articleComments[e].refs={...t.articleComments[e].refs,[s.id]:s},t.articleComments={...t.articleComments},t.articlePinnedComments[e]&&t.articlePinnedComments[e].refs&&t.articlePinnedComments[e].refs[s.id]&&(t.articlePinnedComments[e].refs={...t.articlePinnedComments[e].refs,[s.id]:s})},mergeComments(t,{articleId:e,comments:s}){Object.keys(s).forEach((n=>{const i=t.articleComments[e].refs[n];t.articleComments[e].refs[n]={...i,...s[n]}})),t.articleComments={...t.articleComments}},deleteComment(t,{articleId:e,commentId:s}){const n=t.articleComments[e],i=n.refs[s];if(i.parentId&&"0"!==i.parentId){const t=n.refs[i.parentId],e=t.children.slice(0);e.splice(t.children.indexOf(s),1),t.children=e}else{const t=n.root.slice(0);t.splice(t.indexOf(s),1),n.root=t}t.articleComments={...t.articleComments}},suspendCommentTree(t,{articleId:e,commentId:s}){const n=s=>{const i=t.articleComments[e].refs[s];i.isSuspended=!0,i.children&&i.children.forEach(n)};n(s),t.articleComments={...t.articleComments}},setCommentRead(t,{articleId:e,commentId:s}){const n=t.articleComments[e].refs[s],i=t.articlePinnedComments[e]&&t.articlePinnedComments[e].refs[s];n.isNew=!1,t.articleComments={...t.articleComments},i&&(i.isNew=!1,t.articlePinnedComments={...t.articlePinnedComments})},setFavorite(t,{articleId:e,commentId:s,isFavorite:n}){t.articleComments[e].refs[s].isFavorite=n,t.articleComments={...t.articleComments},t.articlePinnedComments[e]&&t.articlePinnedComments[e].refs&&t.articlePinnedComments[e].refs[s]&&(t.articlePinnedComments[e].refs[s].isFavorite=n)},updateScore(t,e){const{articleId:s,commentId:n,score:i,vote:a,votesCount:o}=e,r=t.articleComments[s].refs[n];r.score=i,r.votesCount=o,r.vote={...r.vote,isCanVote:!1,value:a},t.articleComments={...t.articleComments},t.articlePinnedComments[s]&&t.articlePinnedComments[s].refs&&t.articlePinnedComments[s].refs[n]&&(t.articlePinnedComments[s].refs[n]=r)},clearCommentsList(t,e){const{[e]:s,...n}=t.articleComments;t.articleComments=n},setInputValue(t,{name:e,value:s}){t.inputs[e].value=s},setSearchCommentsResults(t,{refs:e,root:s}){t.searchCommentsResults={refs:e,root:s}},setSearchResultFavorite(t,{commentId:e,isFavorite:s}){t.searchCommentsResults.refs[e].isFavorite=s},setPagesCount(t,e){t.pagesCount=e},clearSearchResults(t){t.searchCommentsResults=null,t.pageCount=null},setCommentAccess(t,e){t.commentAccess={...t.commentAccess,...e}},setScrollParents(t,e){t.scrollParents={...t.scrollParents,[e.parentId]:e.id}},setCommentIsPinned(t,{articleId:e,commentId:s,isPinned:n}){t.articleComments[e].refs[s].isPinned=n,t.articleComments={...t.articleComments}}},actions:{addComment({commit:t},{articleId:e,comment:s}){t("addComment",{articleId:e,comment:s})},updateComment({state:t,commit:e},{articleId:s,comment:n}){const i=(0,ic.qv)(n),a={...i,children:t.articleComments[s].refs[i.id].children};e("updateComment",{articleId:s,comment:a})},setScrollParents({commit:t},{comment:e}){t("setScrollParents",e)},suspendComment({commit:t},{params:e,isPost:s}){const{commentId:n,articleId:i}=e,a=s?ac.ZG:ac.fX;a(i,n).then((()=>{t("suspendCommentTree",{articleId:i,commentId:n})}))},vote({commit:t},{articleId:e,commentId:s,direction:n,isPost:i}){const a="up"===n?1:-1,o=i?ac.oA:ac.bj;return o({commentId:s,postId:e,data:{value:a}}).then((n=>{t("me/decrementCommentsCharge",null,{root:!0});const{score:i,votesCount:o}=n;return t("updateScore",{articleId:e,commentId:s,score:i,votesCount:o,vote:a}),n}))},setFavorite({commit:t},{articleId:e,commentId:s,isFavorite:n,isPost:i}){const{addToFavorites:a,removeFromFavorites:o}=dc(i);return n?a({publicationId:e,commentId:s}).then((()=>{t("setFavorite",{articleId:e,commentId:s,isFavorite:n})})):o({publicationId:e,commentId:s}).then((()=>{t("setFavorite",{articleId:e,commentId:s,isFavorite:n})}))},setSearchResultFavorite({commit:t},{publicationId:e,commentId:s,isFavorite:n,isPost:i}){const{addToFavorites:a,removeFromFavorites:o}=dc(i);return n?a({publicationId:e,commentId:s}).then((()=>{t("setSearchResultFavorite",{commentId:s,isFavorite:n})})):o({publicationId:e,commentId:s}).then((()=>{t("setSearchResultFavorite",{commentId:s,isFavorite:n})}))},moderateComment({commit:t,getters:e},{postId:s,commentId:n,isApprove:i,isPost:a}){const o=a?ac.qb:ac.TH;o(s,n,i).then((({moderatedCommentId:i,data:{comment:a}={}})=>{const o=new Set(e.getModeratedIds);o.delete(n),t("setModeratedIds",Array.from(o)),t("deleteComment",{articleId:s,commentId:n}),i&&t("addComment",{articleId:s,comment:a})}))},loadUserComments({commit:t,rootGetters:e},{route:s}){const n=s.params.pageNum||1,i={...e["i18n/langOptions"],page:n},a=uc(s);return a(s.params.login,i).then((({comments:e,threads:s,pages:n})=>{t("setPagesCount",n),t("setSearchCommentsResults",{refs:e,root:s})}))},searchComments({commit:t,rootGetters:e},{route:s}){const n={...s.query,...e["i18n/langOptions"],page:s.params.pageNum||1};return(0,ac.ZQ)(n).then((({commentIds:e,commentRefs:s,pagesCount:n})=>{t("setSearchCommentsResults",{refs:s,root:e}),t("setPagesCount",n)}))},pinComment({commit:t},{articleId:e,commentId:s,isPinned:n,isPost:i}){const a=i?ac.sQ:ac.oP;return a({commentId:s,postId:e,data:{pinned:n}}).then((()=>t("setCommentIsPinned",{articleId:e,commentId:s,isPinned:n})))}}};function hc(t,e,s){return`${t}?ch=${e}&rn=${s}`}function gc(t){return new Promise((e=>{const s=new Image;s.onload=()=>e(!1),s.onerror=()=>{e(!0)},s.src=t}))}function Tc(t,e){return Promise.all([gc(hc(t,1,e)),gc(hc(t,2,e))]).then((([t,e])=>!t&&e))}let vc=null;function Sc(){const t=parseInt(1e6*Math.random(),10),e="/img/px.gif";return vc||(vc=Tc(e,t.toString())),vc}var fc=s(15870),Ec=s(73539);function Ic(){const t="zhY4i4nJ9K";return Ec.Z[t]}function Cc(){const t="K9Jn4i4Yhz";return(0,fc.sb)(`#${t}`).then(Boolean)}let Ac=0,bc=null;function yc(){if(Ic())return clearTimeout(bc),Cc().then((t=>!t));if(Ac>=3)return clearTimeout(bc),Promise.resolve(!0);const t=300;return new Promise(((e,s)=>{bc=setTimeout((()=>{Ac+=1,yc().then(e,s)}),t*Ac)}))}const Pc={CAN_SEE_ACCEPTABLE_ADS:"aa",HAS_ADBLOCK:"yes",SEE_ADS:"no"},Lc={namespaced:!0,state(){return{hasAcceptableAdsFilter:!1,hasAdblock:!1}},getters:{adblockStatus(t){return t.hasAdblock?t.hasAcceptableAdsFilter?Pc.CAN_SEE_ACCEPTABLE_ADS:Pc.HAS_ADBLOCK:Pc.SEE_ADS}},mutations:{setAcceptableAds(t,e){t.hasAcceptableAdsFilter=e},setAdblock(t,e){t.hasAdblock=e}},actions:{detectAcceptableAds({commit:t}){return Sc().then((e=>{t("setAcceptableAds",e)}))},detectAdblock({commit:t}){return yc().then((e=>t("setAdblock",e)))},findOutAdblockStatus({dispatch:t}){return Promise.all([t("detectAcceptableAds"),t("detectAdblock")])}}};var Oc=s(72378),Nc=s.n(Oc);function Mc(){return(0,rs.Hm)((0,ls.k)("votes/reasons","v2"))}function Rc(){return(0,rs.Hm)((0,ls.k)("votes/thread_reasons","v2"))}function kc(){return(0,rs.Hm)((0,ls.k)("votes/user_reasons","v2"))}const wc={namespaced:!0,state(){return{userReasonsList:null}},actions:{vote({commit:t},{id:e,value:s,reasons:n}){const i=n?{value:s,reasons:n}:{value:s};return(0,cc.TH)(e,i).then((e=>(t("me/decrementPostsCharge",null,{root:!0}),e)))},loadUserReasonsList({commit:t,state:e}){return e.userReasonsList?Promise.resolve():kc().then((e=>{t("setUserReasonsList",e.data)}))}},mutations:{setUserReasonsList(t,e){t.userReasonsList=e}}};var Bc=s(2384),Dc=s(33055);function xc(t,e){return(0,Pi.o)(t)?e?ti.GX:ti.Z1:"news"===t.postType?e?Dc.W:Dc.Bb:e?Bc.uf:Bc.bE}const $c="non-route-key:ARTICLES_LIST_TOP_PERIOD",Uc="OTHER_NEWS_LIST";function Fc({pageNum:t=1,perPage:e=20}={}){return{name:$c,params:{period:"daily",pageNum:t,perPage:e},query:{}}}function Vc(t={}){return{name:Uc,params:{news:!0,...t},query:{}}}const Hc=Fc(),Gc=Vc();function Wc(t,e){switch(t.name){case"ARTICLES_LIST_TECHNOTEXT_ALL":case"ARTICLES_LIST_TECHNOTEXT_ALL_PAGES":case"ARTICLES_LIST_TECHNOTEXT_NOMINATION":case"ARTICLES_LIST_TECHNOTEXT_NOMINATION_PAGES":return{technotext:!0,nomination:t.params.nomination||"all",year:t.params.year};case"ARTICLES_LIST_ALL":case"ARTICLES_LIST_ALL_PAGES":return{sort:"rating",complexity:t.params.complexity};case"ARTICLES_LIST_ALL_SCORE":case"ARTICLES_LIST_ALL_SCORE_PAGES":return{sort:"rating",score:t.params.score,complexity:t.params.complexity};case"ARTICLES_LIST_BY_COMPANY":case"ARTICLES_LIST_BY_COMPANY_PAGES":return{company:t.params.name};case"COMPANY_BRANDING_PREVIEW":case"COMPANY_BRANDING_PREVIEW_PAGES":return{company:t.params.name};case"ARTICLES_LIST_TOP_BY_COMPANY":case"ARTICLES_LIST_TOP_BY_COMPANY_PAGES":return{company:t.params.name,sort:"rating"};case"ARTICLES_LIST_BY_FLOW_ALL":case"ARTICLES_LIST_BY_FLOW_ALL_PAGES":return{flow:t.params.flowName,complexity:t.params.complexity,sort:"all"};case"ARTICLES_LIST_BY_FLOW_ALL_SCORE":case"ARTICLES_LIST_BY_FLOW_ALL_SCORE_PAGES":return{flow:t.params.flowName,score:t.params.score,complexity:t.params.complexity,sort:"all"};case"ARTICLES_LIST_BY_FLOW_TOP_PERIOD":case"ARTICLES_LIST_BY_FLOW_TOP_PERIOD_PAGES":return{flow:t.params.flowName,period:t.params.period,complexity:t.params.complexity,sort:"all"};case"ARTICLES_LIST_BY_HUB_ALL":case"ARTICLES_LIST_BY_HUB_ALL_PAGES":return{hub:t.params.hubName,complexity:t.params.complexity,sort:"all"};case"ARTICLES_LIST_BY_HUB_ALL_SCORE":case"ARTICLES_LIST_BY_HUB_ALL_SCORE_PAGES":return{hub:t.params.hubName,score:t.params.score,complexity:t.params.complexity,sort:"all"};case"ARTICLES_LIST_BY_HUB_TOP_PERIOD":case"ARTICLES_LIST_BY_HUB_TOP_PERIOD_PAGES":return{hub:t.params.hubName,period:t.params.period,complexity:t.params.complexity,sort:"all"};case"NEWS_BY_HUB_ALL":case"NEWS_BY_HUB_ALL_PAGES":return{hub:t.params.hubName,news:!0};case"NEWS_BY_HUB_ALL_SCORE":case"NEWS_BY_HUB_ALL_SCORE_PAGES":return{hub:t.params.hubName,score:t.params.score,news:!0};case"NEWS_BY_HUB_TOP_PERIOD":case"NEWS_BY_HUB_TOP_PERIOD_PAGES":return{hub:t.params.hubName,period:t.params.period,news:!0};case"POSTS_BY_HUB_ALL":case"POSTS_BY_HUB_ALL_PAGES":return{hub:t.params.hubName,posts:!0,sort:"all"};case"POSTS_BY_HUB_ALL_SCORE":case"POSTS_BY_HUB_ALL_SCORE_PAGES":return{hub:t.params.hubName,score:t.params.score,posts:!0,sort:"all"};case"POSTS_BY_HUB_TOP_PERIOD":case"POSTS_BY_HUB_TOP_PERIOD_PAGES":return{hub:t.params.hubName,period:t.params.period,posts:!0,sort:"top"};case"POSTS_BY_COMPANY":case"POSTS_BY_COMPANY_PAGES":return{company:t.params.name,posts:!0,sort:"all"};case"POSTS_BY_COMPANY_TOP":case"POSTS_BY_COMPANY_TOP_PAGES":return{company:t.params.name,posts:!0,sort:"top"};case"POSTS_ALL":case"POSTS_ALL_PAGES":return{posts:!0,sort:"all"};case"POSTS_TOP_PERIOD":case"POSTS_TOP_PERIOD_PAGES":return{posts:!0,period:t.params.period,sort:"top"};case"POSTS_ALL_SCORE":case"POSTS_ALL_SCORE_PAGES":return{score:t.params.score,posts:!0,sort:"all"};case"ARTICLES_LIST_BY_USER":case"ARTICLES_LIST_BY_USER_PAGES":case"ARTICLES_DRAFTS_LIST_BY_USER":case"ARTICLES_DRAFTS_LIST_BY_USER_PAGES":case"ARTICLES_PLANNED_LIST_BY_USER":case"ARTICLES_PLANNED_LIST_BY_USER_PAGES":return{user:t.params.login};case"NEWS_LIST_BY_USER":case"NEWS_LIST_BY_USER_PAGES":return{user:t.params.login,news:!0};case"NEWS_DRAFTS_LIST_BY_USER":case"NEWS_DRAFTS_LIST_BY_USER_PAGES":return{user:t.params.login,draftType:"news"};case"NEWS_PLANNED_LIST_BY_USER":case"NEWS_PLANNED_LIST_BY_USER_PAGES":return{user:t.params.login,publicationsType:"news"};case"POSTS_LIST_BY_USER":case"POSTS_LIST_BY_USER_PAGES":return{user:t.params.login,posts:!0};case"POSTS_DRAFTS_LIST_BY_USER":case"POSTS_DRAFTS_LIST_BY_USER_PAGES":return{user:t.params.login,draftType:"threads"};case"POSTS_PLANNED_LIST_BY_USER":case"POSTS_PLANNED_LIST_BY_USER_PAGES":return{user:t.params.login,publicationsType:"threads"};case"ARTICLES_LIST_BOOKMARKED":case"ARTICLES_LIST_BOOKMARKED_PAGES":return{user:t.params.login,user_bookmarks:!0};case"POSTS_LIST_BOOKMARKED":case"POSTS_LIST_BOOKMARKED_PAGES":return{user:t.params.login,user_bookmarks_posts:!0};case"NEWS_LIST_BOOKMARKED":case"NEWS_LIST_BOOKMARKED_PAGES":return{user:t.params.login,user_bookmarks_news:!0};case"MY_FEED":case"MY_FEED_PAGES":return{myFeed:!0,...e};case"MEGAPROJECTS":case"MEGAPROJECTS_PAGES":return{megaprojects:!0};case"ARTICLES_LIST_TOP_PERIOD":case"ARTICLES_LIST_TOP_PERIOD_PAGES":case $c:return{period:t.params.period,complexity:t.params.complexity,sort:"date"};case"SEARCH_QUERY_RESULTS":case"SEARCH_QUERY_RESULTS_PAGES":return{query:t.query.q,order:t.query.order};case"NEWS_LIST_ALL":case"NEWS_LIST_ALL_PAGES":return{news:!0};case"OTHER_NEWS_LIST":return{news:!0,excludedIds:t.params.excludedIds};case"NEWS_LIST_ALL_SCORE":case"NEWS_LIST_ALL_SCORE_PAGES":return{news:!0,score:t.params.score};case"NEWS_LIST_TOP":case"NEWS_LIST_TOP_PERIOD":case"NEWS_LIST_TOP_PERIOD_PAGES":return{news:!0,period:t.params.period};case"NEWS_LIST_BY_COMPANY":case"NEWS_LIST_BY_COMPANY_PAGES":return{companyNews:t.params.name};case"NEWS_LIST_BY_FLOW_ALL":case"NEWS_LIST_BY_FLOW_ALL_PAGES":return{flow:t.params.flowName,flowNews:!0};case"NEWS_LIST_BY_FLOW_SCORE":case"NEWS_LIST_BY_FLOW_SCORE_PAGES":return{flow:t.params.flowName,flowNews:!0,score:t.params.score};case"NEWS_LIST_BY_FLOW_TOP":case"NEWS_LIST_BY_FLOW_TOP_PERIOD":case"NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES":return{flow:t.params.flowName,flowNews:!0,period:t.params.period};case"POSTS_BY_FLOW_ALL":case"POSTS_BY_FLOW_ALL_PAGES":return{flow:t.params.flowName,flowPosts:!0};case"POSTS_BY_FLOW_SCORE":case"POSTS_BY_FLOW_SCORE_PAGES":return{flow:t.params.flowName,flowPosts:!0,score:t.params.score};case"POSTS_BY_FLOW_TOP":case"POSTS_BY_FLOW_TOP_PERIOD":case"POSTS_BY_FLOW_TOP_PERIOD_PAGES":return{flow:t.params.flowName,flowPosts:!0,period:t.params.period};default:return{}}}function Zc({hubs:t}){return(t||[]).filter((t=>"collective"===t.type)).map((t=>t.alias))}function Yc({tags:t}){return(t||[]).map((t=>t.titleHtml))}const qc={namespaced:!0,state(){return{articlesList:{},articlesIds:{},isLoading:!1,pagesCount:{},route:{},reasonsList:null,postReasonsList:null,view:null,lastVisitedRoute:{},ssrCommentsArticleIds:[],viewedPosts:[],myFeedFilter:{complexity:"all",score:"all",types:["articles","posts","news"]}}},modules:{karma:wc},getters:{isViewedPost:t=>e=>t.viewedPosts.includes(e),getArticleById:t=>e=>t.articlesList[e],getArticlesList:t=>e=>{const s=t.articlesIds[e]||[];return s.map((e=>t.articlesList[e]))},getDailyArticles(t,e){return e.getArticlesList((0,Dn.Z)(Hc))},getOtherNews(t,e){return e.getArticlesList((0,Dn.Z)(Gc))},getArticleOptionsById:t=>e=>{const s=t.articlesList[e]||{},{isCorporative:n}=s,i=s.metadata||{},a=i.scriptUrls&&Boolean(i.scriptUrls.length)&&Boolean(i.stylesUrls.length),o=!(a||n);return{articleMeta:i,isCorporative:n,isMegapost:a,isAdsPermitted:o}},getReasonsList:t=>t.reasonsList,getPostReasonsList:t=>t.postReasonsList,getAllHubsTitles:t=>e=>{const{articlesList:s,articlesIds:n}=t,i=[],a=(0,Dn.Z)(e),o=n[a];return o?(o.forEach((t=>{const e=Zc(s[t]);i.push(...e)})),i):[]},getAllTagsNames:t=>e=>{const{articlesList:s,articlesIds:n}=t,i=[],a=(0,Dn.Z)(e),o=n[a];return o?(o.forEach((t=>{i.push(...Yc(s[t]))})),i):[]},getArticleHubsTitles:t=>e=>{const s=t.articlesList[e]||{};return Zc(s)},getArticleTagsTitles:t=>e=>{const s=t.articlesList[e]||{};return Yc(s)},getArticleView:t=>t.view,getPagesCount:t=>e=>t.pagesCount[e],getDailyPagesCount:t=>t.pagesCount[(0,Dn.Z)(Hc)],getOtherNewsPagesCount:t=>t.pagesCount[(0,Dn.Z)(Gc)],getCompanyAlias:(t,e)=>t=>{const s=e.getArticleById(t);if(!s)return null;const{hubs:n}=s;if(!n)return null;const i=n.filter((t=>"corporative"===t.type))[0];return i?i.alias.toLowerCase():null},isSubscribedToTracker:(t,e)=>t=>e.getArticleById(t).relatedData.trackerSubscribed,isSubscribedToEmail:(t,e)=>t=>e.getArticleById(t).relatedData.emailSubscribed,shouldSsrComments:t=>e=>t.ssrCommentsArticleIds.includes(e),compactView:t=>"list"===t.view},mutations:{setPostView(t,e){t.viewedPosts.includes(e)||t.viewedPosts.push(e)},setArticle(t,{article:e}){t.articlesList={...t.articlesList,[e.id]:e}},setArticleCommentsStatus(t,{articleId:e,status:s}){t.articlesList[e].commentsEnabled.status=s},setArticleRulesRemindStatus(t,{articleId:e,status:s}){t.articlesList[e].rulesRemindEnabled=s},incrementComments(t,{articleId:e}){const s=t.articlesList[e];s.statistics.commentsCount+=1},setArticleCommentsCount(t,{articleId:e,count:s}){const n=t.articlesList[e];n&&n.statistics&&(n.statistics.commentsCount=s)},resetCommentsUnreadCount(t,e){const s=t.articlesList[e];s&&s.relatedData&&(s.relatedData.unreadCommentsCount=0)},setArticles(t,{articlesList:e,articlesIds:s}){t.articlesList=Nc()(t.articlesList,e),t.articlesIds={...t.articlesIds,...s}},appendArticles(t,{routeKey:e,articlesToSet:s,appendToTop:n=!1}){const{articlesList:i,articlesIds:a}=s,o=a[e]||a;t.articlesList=Nc()(t.articlesList,i);let r=[];const l=t.articlesIds[e];r=l?n?o.concat(l):l.concat(o):o,t.articlesIds={...t.articlesIds,[e]:r}},clearArticles(t,e){delete t.articlesIds[e]},setArticlePoll(t,{poll:e,articleId:s}){const n=t.articlesList[s],i=n.polls.findIndex((t=>t.id===e.id));n.polls.splice(i,1,e)},setBookmarked(t,{articleId:e,shouldBookmarked:s}){const n=t.articlesList[e],{statistics:i}=n;i.favoritesCount=s?i.favoritesCount+1:i.favoritesCount-1,n.relatedData={...n.relatedData,bookmarked:s}},setBookmarkedMultiwidget(t,{refArticleId:e,articleId:s,shouldBookmarked:n}){const i=t.articlesList[e];if(!i)return;if(!Array.isArray(i.multiwidget))return;const a=i.multiwidget.map((t=>{if("post"!==t.type)return t;if(t.content.id!==s)return t;const{statistics:e}=t.content;return e.favoritesCount=n?e.favoritesCount+1:e.favoritesCount-1,{...t,content:{...t.content,relatedData:{...t.content.relatedData,bookmarked:n}}}}));t.articlesList[e]={...i,multiwidget:a}},setLoading(t,e){t.isLoading=e},setPagesCount(t,e){t.pagesCount={...t.pagesCount,...e}},setRating(t,e){const{articleId:s,score:n,value:i,votesCount:a}=e,o=t.articlesList[s];o.relatedData.vote.value=i,o.statistics.score=n,o.statistics.votesCount=a},setCanVote(t,{articleId:e,isEnabled:s}){const n=t.articlesList[e];n.relatedData.canVotePlus=s,n.relatedData.canVoteMinus=s},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},setReasonsList(t,e){t.reasonsList=e},setPostReasonsList(t,e){t.postReasonsList=e},setArticleView(t,e){t.view=e},setLastVisitedRoute(t,e){t.lastVisitedRoute=e},updateArticleRelatedData(t,{articleId:e,relatedData:s}){t.articlesList[e].relatedData={...t.articlesList[e].relatedData,...s}},setSsrCommentsArticleIds(t,e){t.ssrCommentsArticleIds=e},removeSsrCommentsArticleId(t,e){const s=new Set(t.ssrCommentsArticleIds);s.delete(e),t.ssrCommentsArticleIds=Array.from(s)},removePost(t,{postId:e,routeKey:s}){if(!t.articlesIds[s])return;const n=t.articlesIds[s].filter((t=>t!==e));t.articlesIds={...t.articlesIds,[s]:n},delete t.articlesList[e]},setMyFeedFilter(t,{filter:e}){t.myFeedFilter=e}},actions:{loadArticlesList({state:t,commit:e,rootGetters:s},{route:n,force:i,append:a=!1,params:o={}}){const r=(0,Dn.Z)(n,a),l=t.articlesIds[r],c=Boolean(Object.keys(n.query).length),m=s["pullRefresh/getRefreshState"];if(l&&!c&&!m&&!i)return!0;!a&&(c||m||i)&&e("clearArticles",r),e("setLoading",!0);const u=n.params.pageNum||1,d=n.params.perPage||20,p={...Wc(n,o),...s["i18n/langOptions"],page:u,perPage:d};return(0,Bc.rM)(p).then((t=>{const{pagesCount:s,publicationRefs:i,publicationIds:o}=t,l={[r]:o},c={[r]:s},m={articlesIds:l,articlesList:i};return a?e("appendArticles",{routeKey:r,articlesToSet:m}):e("setArticles",m),e("setPagesCount",c),e("setRouteCache",n),e("setLoading",!1),t}))},loadOtherNews({dispatch:t},{pageNum:e,append:s,force:n,perPage:i,excludedIds:a}={pageNum:1}){const o=Vc({pageNum:e,perPage:i,excludedIds:a});return t("loadArticlesList",{route:o,append:s,force:n})},loadDailyArticles({dispatch:t},{pageNum:e,append:s,force:n,perPage:i}={pageNum:1}){const a=Fc({pageNum:e,perPage:i});return t("loadArticlesList",{route:a,append:s,force:n})},loadMyFeed({dispatch:t,state:e,commit:s},{pageNum:n,applyFilters:i,force:a=!1}={pageNum:1}){const o=i?{...e.myFeedFilter}:{},r={name:"MY_FEED",params:{pageNum:n},query:{}};return t("loadArticlesList",{route:r,params:o,force:a}).then((t=>{const{myFeedFilter:e}=t;e&&s("setMyFeedFilter",{filter:e})}))},loadDrafts({state:t,commit:e,rootGetters:s},{route:n,force:i,append:a=!1}){const o=(0,Dn.Z)(n),r=t.articlesIds[o],l=Boolean(Object.keys(n.query).length),c=s["pullRefresh/getRefreshState"];if(r&&!l&&!c&&!i)return!0;!a&&(l||c||i)&&e("clearArticles",o),e("setLoading",!0);const m=n.params.pageNum||1,u=n.params.perPage||20,d={draftType:"posts",...Wc(n),...s["i18n/langOptions"],page:m,perPage:u};return(0,Bc.Oe)(d).then((t=>{const{publicationIds:s,pagesCount:i,publicationRefs:r}=t,l={[o]:s},c={[o]:i},m={articlesIds:l,articlesList:r};a?e("appendArticles",{routeKey:o,articlesToSet:m}):e("setArticles",m),e("setPagesCount",c),e("setRouteCache",n),e("setLoading",!1)}))},loadPlannedArticles({state:t,commit:e,rootGetters:s},{route:n}){const i=(0,Dn.Z)(n),a=s["pullRefresh/getRefreshState"];if(i in t.articlesIds&&!a)return Promise.resolve();e("setLoading",!0);const o=n.params.pageNum||1,r={publicationsType:"posts",...Wc(n),...s["i18n/langOptions"],page:o};return(0,Bc.ws)(r).then((t=>{const{publicationIds:s,publicationRefs:a,pagesCount:o}=t,r={[i]:s},l={[i]:o},c={articlesIds:r,articlesList:a};e("setArticles",c),e("setPagesCount",l),e("setRouteCache",n),e("setLoading",!1)}))},loadArticle({commit:t,rootGetters:e},{articleId:s,isPost:n=!1}){const i=n?ti.xl:Bc.fq;return i(s,e["i18n/langOptions"]).then((e=>{t("setArticle",{article:e})}))},loadArticlePreview({commit:t,rootGetters:e},{hash:s}){return(0,Bc.vG)(s,e["i18n/langOptions"]).then((e=>{t("setArticle",{article:{...e,id:s}})}))},toggleArticleBookmark({commit:t},{article:e,bookmarkModule:s}){const n=!e.relatedData.bookmarked,i=xc(e,n);return i(e.id).then((()=>{t(`${s}/setBookmarked`,{articleId:e.id,shouldBookmarked:n},{root:!0})}))},downvote({commit:t},{article:e,reason:s}){const{id:n}=e,i=(0,Pi.o)(e)?ti.wl:Bc.UJ;return i(n,{reason:s}).then((e=>{const{vote:s,canVote:i,score:a,votesCount:o,chargeSettings:r}=e,{value:l}=s;t("setRating",{articleId:n,score:a,value:l,votesCount:o}),t("setCanVote",{articleId:n,isEnabled:i}),t("me/setChargeSettings",r,{root:!0})}))},upvote({commit:t},{article:e}){const{id:s}=e,n=(0,Pi.o)(e)?ti.qu:Bc.Y9;return n(s).then((e=>{const{vote:n,canVote:i,score:a,votesCount:o,chargeSettings:r}=e,{value:l}=n;t("setRating",{articleId:s,score:a,value:l,votesCount:o}),t("setCanVote",{articleId:s,isEnabled:i}),t("me/setChargeSettings",r,{root:!0})}))},loadReasonsList({commit:t,getters:e},{isPost:s=!1}){return s?e.getPostReasonsList?Promise.resolve():Rc().then((e=>{t("setPostReasonsList",e.data)})):e.getReasonsList?Promise.resolve():Mc().then((e=>{t("setReasonsList",e.data)}))},setArticleView({commit:t},{view:e}){(0,l.d8)("habr_article_view",e,{expires:365}),t("setArticleView",e)},toggleArticleView({dispatch:t,getters:e}){const s="cards"===e.getArticleView?"list":"cards";t("setArticleView",{view:s})},setLastVisitedRoute({commit:t},e){t("setLastVisitedRoute",e)},setArticleCommentsStatus({commit:t},{articleId:e,status:s}){t("setArticleCommentsStatus",{articleId:e,status:s})},setArticleRulesRemindStatus({commit:t},{articleId:e,status:s}){t("setArticleRulesRemindStatus",{articleId:e,status:s})},toggleSubscriptionStatus({commit:t},{articleId:e,tracker:s,email:n,isPost:i}){const a=i?ti.B4:Bc.wZ;return a({articleId:e,tracker:s,email:n}).then((({emailSubscribed:s,trackerSubscribed:n})=>{t("updateArticleRelatedData",{articleId:e,relatedData:{emailSubscribed:s,trackerSubscribed:n}})}))},setPost({state:t,commit:e},{postId:s,post:n,routeKey:i}){if(t.articlesList[s])e("setArticle",{article:n});else{const t={articlesIds:{[i]:[s]},articlesList:{[s]:n}};e("appendArticles",{routeKey:i,articlesToSet:t,appendToTop:!0})}},removePost({commit:t},{postId:e,routeKey:s}){t("removePost",{postId:e,routeKey:s})}}};function jc({flowRefs:t}){const e=[];return Object.keys(t).forEach((s=>{const n=t[s];e.push({alias:n.alias,id:n.id,route:{name:"FLOW_PAGE",params:{flowName:n.alias}}})})),e}function Kc(t){return(0,rs.Hm)((0,ls.k)("refs/flows","v2"),t).then(jc)}function zc(t,e){return(0,rs.Hm)((0,ls.k)(`flows/${t}/authors`,"v2"),e)}var Qc=s(88092);const Xc=(t,e)=>`${e}_${t}`.toLowerCase(),Jc={namespaced:!0,state(){return{authors:{}}},getters:{getAuthorContributionsByAlias:t=>(e,s="flow")=>{const n=Xc(e,s);return t.authors[n]||[]}},mutations:{setAuthorContribution(t,{authors:e,key:s}){t.authors={...t.authors,[s]:e.authorIds.map((t=>e.authorRefs[t]))}}},actions:{loadAuthorContributions({state:t,commit:e},{flowName:s,hubName:n}){const i=s||n,a=s?"flow":"hub",o=Xc(i,a),r={page:1,perPage:10};if(t.authors[o])return t.authors[o];const l=s?zc:Qc.yp;return l(i,r).then((t=>(e("setAuthorContribution",{authors:t,key:o}),t.authorIds)))}}},tm={namespaced:!0,state(){return{articleRefs:{},articleIds:{},pagesCount:{},route:{},viewsCount:[],maxStatsCount:{}}},getters:{getArticlesList:t=>e=>{const s=t.articleIds[e]||[];return s.map((e=>t.articleRefs[e]))}},mutations:{setArticleRefs(t,e){t.articleRefs={...t.articleRefs,...e}},setArticleIds(t,{routeKey:e,articleIds:s}){t.articleIds={...t.articleIds,[e]:s}},setPagesCount(t,{routeKey:e,pagesCount:s}){t.pagesCount={...t.pagesCount,[e]:s}},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},setViewsCount(t,e){t.viewsCount=e},setStatisticsMaxCounts(t,e){t.maxStatsCount={...e}}},actions:{loadArticlesStatistics({commit:t},e){const s=e.params.login.toLowerCase(),n=e.params.pageNum||1,i=(0,Dn.Z)(e);return(0,cc.UZ)(s,{page:n}).then((s=>{const{articleRefs:n,articleIds:a,pagesCount:o}=s,[r,l,c,m]=a.reduce(((t,e)=>{const{statistics:s}=n[e],{commentsCount:i,favoritesCount:a,readingCount:o,votesCount:r}=s,l=[i,a,o,r];return t.map(((t,e)=>Math.max(t,l[e])))}),[0,0,0,0]),u={comments:r,favorites:l,readings:c,votes:m};t("setArticleRefs",n),t("setArticleIds",{routeKey:i,articleIds:a}),t("setPagesCount",{routeKey:i,pagesCount:o}),t("setRouteCache",e),t("setStatisticsMaxCounts",u)}))},loadArticlesViewCount({commit:t},{alias:e,period:s}){return(0,cc.ZB)(e.toLowerCase(),{period:s}).then((({data:e})=>{const s=e.map((t=>({x:t.date,y:t.count})));t("setViewsCount",s)}))}}};function em({fl:t,hl:e}){return(0,rs.Hm)((0,ls.k)("beta/announcements/current","v2"),{fl:t,hl:e})}function sm({experimentId:t,fl:e,hl:s}){return(0,rs.Hm)((0,ls.k)(`beta/announcements/${t}`,"v2"),{fl:e,hl:s})}function nm({experimentId:t,nocount:e=0}){return(0,rs.Hm)((0,ls.k)(`beta/announcements/${t}/comments`,"v2"),{nocount:e})}function im({experimentId:t,text:e,parentId:s}){return(0,rs.Q)((0,ls.k)(`beta/announcements/${t}/comments`,"v2"),{text:e,parentId:s})}function am({experimentId:t,commentId:e,mark:s}){return(0,rs.Q)((0,ls.k)(`beta/announcements/${t}/comments/${e}`,"v2"),{mark:s})}function om({fl:t,hl:e,perPage:s=20,pageNum:n=1}){return(0,rs.Hm)((0,ls.k)("beta/announcements/finished","v2"),{fl:t,hl:e,perPage:s,pageNum:n})}function rm(){return(0,rs.Q)((0,ls.k)("beta","v2"))}const lm={namespaced:!0,state(){return{currentAnnouncement:null,announcements:{},announcementCards:null,announcementComments:{},announcementCommentThreads:{},announcementCommentingStatuses:{},archivedList:[]}},getters:{archivedAnnouncements:t=>t.announcementCards?t.archivedList.map((e=>t.announcementCards[e])):[],getAnnouncementById:t=>e=>t.announcements[e],getCommentingStatusById:t=>e=>t.announcementCommentingStatuses[e],getAnnouncementCommentsTreeById:t=>e=>(t.announcementCommentThreads[e]||[]).map((function s(n){const i=t.announcementComments[e][n];return{...i,children:i.children.map(s)}}))},mutations:{setHasJoinedBetaTesting(t,e){t.hasJoinedBetaTesting=e},setCurrentAnnouncement(t,e){t.currentAnnouncement=e},setArchivedAnnouncements(t,{announcements:e,list:s}){t.announcementCards={...t.announcementCards,...e},t.archivedList=s},addAnnouncement(t,{experimentId:e,announcement:s}){t.announcements={...t.announcements,[e]:s}},addAnnouncementComments(t,{experimentId:e,comments:s,threads:n}){t.announcementComments={...t.announcementComments,[e]:s},t.announcementCommentThreads={...t.announcementCommentThreads,[e]:n}},addAnnouncementComment(t,{experimentId:e,comment:s}){const{id:n,parentId:i}=s;if(t.announcementComments={...t.announcementComments,[e]:{...t.announcementComments[e],[n]:s}},i){const s=t.announcementComments[e][i];s.children=Array.from(new Set([...s.children,n]))}else t.announcementCommentThreads={...t.announcementCommentThreads,[e]:Array.from(new Set([...t.announcementCommentThreads[e],n]))}},setCommentingStatus(t,{experimentId:e,commentAccess:s}){t.announcementCommentingStatuses={...t.announcementCommentingStatuses,[e]:s}},patchComment(t,{experimentId:e,commentId:s,newValues:n}){t.announcementComments={...t.announcementComments,[e]:{...t.announcementComments[e],[s]:{...t.announcementComments[e][s],...n}}}}},actions:{loadCurrentAnnouncement({state:t,commit:e,rootGetters:s}){return t.currentAnnouncement?Promise.resolve():em(s["i18n/langOptions"]).then((({announcement:t})=>{e("setCurrentAnnouncement",t)}))},loadAnnouncement({state:t,commit:e,rootGetters:s},n){return t.announcements[n]?Promise.resolve():sm({experimentId:n,...s["i18n/langOptions"]}).then((({announcement:t})=>{e("addAnnouncement",{experimentId:n,announcement:t})}))},loadAnnouncementComments({state:t,commit:e},s){return t.announcementComments[s]?Promise.resolve():nm({experimentId:s}).then((({commentAccess:t,data:{comments:n,threads:i}})=>{e("setCommentingStatus",{experimentId:s,commentAccess:t}),e("addAnnouncementComments",{experimentId:s,comments:n,threads:i})}))},postAnnouncementComment({commit:t},{experimentId:e,text:s,parentId:n}){return im({experimentId:e,text:s,parentId:n}).then((({commentAccess:s,data:n})=>{t("setCommentingStatus",{experimentId:e,commentAccess:s}),t("addAnnouncementComment",{experimentId:e,comment:n.comment})}))},loadArchivedAnnouncementsList({state:t,commit:e,rootGetters:s}){return t.announcementCards?Promise.resolve():om(s["i18n/langOptions"]).then((({announcementRefs:t,announcementExperimentIds:s})=>{e("setArchivedAnnouncements",{announcements:t,list:s})}))},voteForComment({commit:t},{experimentId:e,commentId:s,direction:n}){const i="up"===n?1:-1;return am({experimentId:e,commentId:s,mark:i}).then((({score:n,votesCount:i,vote:a})=>{const o={score:n,votesCount:i,vote:a};t("patchComment",{experimentId:e,commentId:s,newValues:o})}))}}};function cm(t){return(0,rs.Hm)((0,ls.k)("seo-landings-hubs"),t)}const mm={namespaced:!0,state(){return{seoLandings:[],hubs:""}},mutations:{setSeoLandings(t,e){t.seoLandings=e},setHubs(t,e){t.hubs=e},clearSeoLandings(t){t.seoLandings=[]}},actions:{loadSeoLandings({state:t,commit:e},{hubs:s}){return t.hubs===s?null:(e("clearSeoLandings"),cm({hubs:s}).then((t=>{e("setSeoLandings",t),e("setHubs",s)})))}}},um={namespaced:!0,state(){return{companyRefs:{},companyIds:{},companyTopIds:{},pagesCount:{},companyProfiles:{},companiesCategories:[],companiesCategoriesTotalCount:0,companiesWidgets:{},companiesWorkers:{},companiesFans:{},multiwidgets:{},route:{},isLoading:!1,companyWorkersLoading:!1,companyFansLoading:!1,multiwidgetLoading:!1,vacancies:{},companiesGalleries:{},companiesBanners:{},companiesLandingVacancies:{},companiesTechnologies:{},workplaceInfo:null}},getters:{getCompanyInfo:t=>e=>t.companyRefs[e]||null,getCompanyGallery:t=>e=>t.companiesGalleries[e]||null,getCompanyBanner:t=>e=>t.companiesBanners[e]||null,getCompanyLandingVacancies:t=>e=>t.companiesLandingVacancies[e]||null,getCompanyTechnologies:t=>e=>t.companiesTechnologies[e]||null,getCompanyStartupStatus:t=>e=>{const s=t.companyRefs[e]||null;return!(!s||!s.settings)&&s.settings.isStartup},getProfileInfo:t=>e=>t.companyProfiles[e]||null,companiesTopRating:t=>{const{companyTopIds:e}=t;return e&&e.length?e.map((e=>t.companyRefs[e])):[]},getCompanyVacancies:t=>e=>t.vacancies[e],getCompanyMultiwidget:t=>e=>t.multiwidgets[e]},mutations:{setCompanyRefs(t,e){t.companyRefs={...t.companyRefs,...e}},setCompanyIds(t,{routeKey:e,companyIds:s}){t.companyIds={...t.companyIds,[e]:s}},setCompanyTopIds(t,e){t.companyTopIds=e},setCompanyInfo(t,{companyInfo:e,alias:s}){t.companyRefs={...t.companyRefs,[s]:{...t.companyRefs[s],...e,statistics:{...e.statistics,...t.companyRefs[s]?t.companyRefs[s].statistics:{}}}}},setProfileInfo(t,e){t.companyProfiles={...t.companyProfiles,...e}},setCompaniesCategories(t,e){t.companiesCategories=e},setCompaniesCategoriesTotalCount(t,e){t.companiesCategoriesTotalCount=e},setSubscriptionStatus(t,{alias:e,isSubscribed:s}){t.companyRefs[e].relatedData.isSubscribed=s},setPagesCount(t,{routeKey:e,pagesCount:s}){t.pagesCount={...t.pagesCount,[e]:s}},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},clearCompanies(t,e){t.companyIds[e]&&(t.companyIds[e]=[])},setLoading(t,e){t.isLoading=e},setCompanyWidgets(t,{alias:e,widgets:s}){t.companiesWidgets={...t.companiesWidgets,[e]:s}},setCompanyWorkers(t,{alias:e,data:s}){t.companiesWorkers={...t.companiesWorkers,[e]:s}},setCompanyWorkersLoading(t,e){t.companyWorkersLoading=e},setCompanyFans(t,{alias:e,data:s}){t.companiesFans={...t.companiesFans,[e]:s}},setCompanyFansLoading(t,e){t.companyFansLoading=e},setCompanyVacancies(t,{alias:e,vacancies:s,totalPages:n}){t.vacancies={...t.vacancies,[e]:{vacancies:s,totalPages:n}}},setWorkplaceInfo(t,e){t.workplaceInfo=e},setCompanyGallery(t,{alias:e,galleryHtml:s}){t.companiesGalleries={...t.companiesGalleries,[e]:s}},setCompanyBanner(t,{alias:e,banner:s}){t.companiesBanners={...t.companiesBanners,[e]:s}},setCompanyLandingVacancies(t,{alias:e,status:s}){t.companiesLandingVacancies={...t.companiesLandingVacancies,[e]:s}},setCompanyTechnologies(t,{alias:e,technologies:s}){t.companiesTechnologies={...t.companiesTechnologies,[e]:s}},setMultiwidget(t,{alias:e,multiwidget:s}){t.multiwidgets={...t.multiwidgets,[e]:s}},setMultiwidgetLoading(t,e){t.multiwidgetLoading=e},setBookmarked(t,{articleId:e,shouldBookmarked:s}){const n=Object.values(t.multiwidgets);n.forEach((({blocks:t})=>{t.forEach((t=>{if("post"===t.type&&t.content&&t.content.id===e){const e=t.content,{relatedData:n,statistics:i}=e;i.favoritesCount=s?i.favoritesCount+1:i.favoritesCount-1,n.bookmarked=s}}))}))}},actions:{loadCompanies({commit:t,state:e,rootGetters:s},{route:n}){const i={title:"abc",rating:"rating"},a={...n.query,page:n.params.pageNum||1,perPage:n.query.perPage||20,sector:n.params.categoryAlias||null,order:i[n.query.sort]||"rating",orderDirection:n.query.order||"desc"},{q:o}=n.query,r=o?sn.Fy:sn.gu;let l={};o||(n.params.flowName&&(l={flowAlias:n.params.flowName}),n.params.hubName&&(l={hubAlias:n.params.hubName}));const c=(0,Dn.Z)(n),m=e.companyIds[c],u=Boolean(Object.keys(n.query).length),d=JSON.stringify(e.route.query)===JSON.stringify(n.query),p=n.params.hubName||n.params.flowName;return!(!(m&&m.length&&d)||o||p)||((u&&!d||p)&&t("clearCompanies",c),t("setLoading",!0),r({...a,...l,...s["i18n/langOptions"]}).then((({companyRefs:e,companyIds:s,pagesCount:i})=>(t("setCompanyRefs",e),t("setCompanyIds",{routeKey:c,companyIds:s}),t("setPagesCount",{routeKey:c,pagesCount:o?1:i}),t("setRouteCache",n),t("setLoading",!1),{companyRefs:e,companyIds:s,pagesCount:i}))))},searchCompanies({state:t,commit:e},{route:s}){const n={...s.query,page:s.params.pageNum||1},i=(0,Dn.Z)(s),a=JSON.stringify(t.route.query)===JSON.stringify(s.query),o=Boolean(Object.keys(s.query).length);return o&&!a&&e("clearCompanies",i),e("setLoading",!0),(0,sn.Fy)(n).then((({companyRefs:t,companyIds:n,pagesCount:a})=>(e("setCompanyRefs",t),e("setCompanyIds",{routeKey:i,companyIds:n}),e("setPagesCount",{routeKey:i,pagesCount:a}),e("setRouteCache",s),e("setLoading",!1),{companyRefs:t,companyIds:n,pagesCount:a})))},loadTopCompanies({commit:t,state:e,rootGetters:s}){const{companyTopIds:n}=e;if(n&&n.length)return e.companyTopIds;const i={page:1,perPage:10,sector:null,order:"rating",orderDirection:"desc"};return(0,sn.gu)({...i,...s["i18n/langOptions"]}).then((({companyRefs:e,companyIds:s})=>(t("setCompanyTopIds",s),t("setCompanyRefs",e),{companyRefs:e,companyIds:s})))},loadCompanyInfo({rootGetters:t,state:e,commit:s},{alias:n}){const i=t["i18n/langOptions"],a=e.companyRefs[n],o=a&&a.location,r=t["pullRefresh/getRefreshState"];return o&&!r?Promise.resolve():(0,sn.Yy)(n,i).then((t=>{s("setCompanyInfo",{companyInfo:t,alias:n})}))},updateCompanyInfo({rootGetters:t,commit:e},{alias:s}){const n=t["i18n/langOptions"];return(0,sn.Yy)(s,n).then((t=>{e("setCompanyInfo",{companyInfo:t,alias:s})}))},getEmployeeStatus({rootGetters:t,commit:e},{alias:s}){const n=t["i18n/langOptions"],i=t["me/userAlias"];return e("setWorkplaceInfo",{isUserEmployee:!1,employeeRequest:null}),(0,sn.Py)(s,i,n).then((t=>t.ok?(e("setWorkplaceInfo",{isUserEmployee:!0,employeeRequest:null}),Promise.resolve(null)):(0,cc.FM)(i,s).then((({employeeRequest:t})=>{t?e("setWorkplaceInfo",{isUserEmployee:!1,employeeRequest:t}):Promise.resolve(null)})))).catch((()=>e("setWorkplaceInfo",null)))},updateWorkplaceInfo({commit:t},e){t("setWorkplaceInfo",e)},loadProfileInfo({rootGetters:t,state:e,commit:s},{alias:n}){const i=t["i18n/langOptions"],a=e.companyProfiles[n],o=t["pullRefresh/getRefreshState"];return a&&!o?Promise.resolve(a):(0,sn.Dz)(n,i).then((t=>{const e={[n]:{...t}};return s("setProfileInfo",e),t}))},loadCompaniesCategories({commit:t,state:e}){return e.companiesCategories.length?Promise.resolve(e.companiesCategories):(t("setCompaniesCategories",[]),(0,sn.Tr)().then((({countByCategories:e,totalCount:s})=>{t("setCompaniesCategoriesTotalCount",s),t("setCompaniesCategories",e)})))},toggleSubscribeStatus({commit:t,state:e},s){const{isSubscribed:n}=e.companyRefs[s].relatedData,i=!n;return t("setSubscriptionStatus",{alias:s,isSubscribed:i}),(0,sn.US)(s).catch((e=>{throw t("setSubscriptionStatus",{alias:s,isSubscribed:!i}),e}))},loadCompanyWidgets({commit:t,state:e,rootGetters:s},n){if(e.companiesWidgets[n])return Promise.resolve();const i=s["i18n/langOptions"];return(0,sn.Cg)(n,i).then((({widgetRefs:e})=>{t("setCompanyWidgets",{alias:n,widgets:e})}))},loadCompanyMultiwidget({commit:t,state:e,rootGetters:s},{route:n}){const i=n.params.name.toLowerCase();if(e.multiwidgets[i])return Promise.resolve();const a=s["i18n/langOptions"];return t("setMultiwidgetLoading",!0),(0,sn.fh)(i,a).then((e=>{t("setMultiwidget",{alias:i,multiwidget:e})})).finally((()=>{t("setMultiwidgetLoading",!1)}))},loadCompanyWorkers({commit:t,state:e},s){const n=s.name===e.route.name,i=JSON.stringify(s.params)===JSON.stringify(e.route.params);if(n&&i)return Promise.resolve();t("setRouteCache",s);const a=s.params.name.toLowerCase(),o=s.params.pageNum||1,r="COMPANY_WORKERS_NEW"===s.name?"new":"all";return t("setCompanyWorkersLoading",!0),(0,sn.$Y)(a,r,{page:o}).then((e=>{t("setCompanyWorkers",{alias:a,data:e}),t("setCompanyWorkersLoading",!1)}))},loadCompanyFans({commit:t,state:e},s){const n=s.name===e.route.name,i=JSON.stringify(s.params)===JSON.stringify(e.route.params);if(n&&i)return Promise.resolve();t("setRouteCache",s);const a=s.params.name.toLowerCase(),o=s.params.pageNum||1,r="COMPANY_FANS_NEW"===s.name?"new":"all";return t("setCompanyFansLoading",!0),(0,sn.WY)(a,r,{page:o}).then((e=>{t("setCompanyFans",{alias:a,data:e}),t("setCompanyFansLoading",!1)}))},loadCompanyVacancies({commit:t},{alias:e,page:s=1}){return(0,sn.sS)(e,{page:s}).then((({vacancies:s,pagesCount:n})=>{t("setCompanyVacancies",{alias:e,totalPages:n,vacancies:s})}))},loadCompanyGallery({commit:t,rootGetters:e},{alias:s}){const n=e["i18n/langOptions"];return(0,sn.dq)(s,n).then((({galleryHtml:e})=>{t("setCompanyGallery",{alias:s,galleryHtml:e})}))},loadCompanyBanner({commit:t,rootGetters:e},{alias:s}){const n=e["i18n/langOptions"];return(0,sn.oz)(s,n).then((e=>{t("setCompanyBanner",{alias:s,banner:e})}))},loadCompanyLandingVacancies({commit:t,rootGetters:e},{alias:s}){const n=e["i18n/langOptions"];return(0,sn.TY)(s,n).then((({status:e})=>{t("setCompanyLandingVacancies",{alias:s,status:e})}))},loadCompanyTechnologies({commit:t,rootGetters:e},{alias:s}){const n=e["i18n/langOptions"];return(0,sn.Kv)(s,n).then((({technologies:e})=>{t("setCompanyTechnologies",{alias:s,technologies:e})}))}}},dm={namespaced:!0,state(){return{hubs:{},flows:{},companyRefs:{}}},getters:{getCompaniesHubsContributionByAlias:t=>e=>{const s=e.toLowerCase();return t.hubs[s]?t.hubs[s].map((e=>t.companyRefs[e])):[]},getCompaniesFlowsContributionByAlias:t=>e=>{const s=e.toLowerCase();return t.flows[s]?t.flows[s].map((e=>t.companyRefs[e])):[]}},mutations:{setCompaniesHubsContribution(t,{companyRefs:e,companyIds:s,key:n}){t.companyRefs={...t.companyRefs,...e},t.hubs={...t.companyIds,[n]:s}},setCompaniesFlowsContribution(t,{companyRefs:e,companyIds:s,key:n}){t.companyRefs={...t.companyRefs,...e},t.flows={...t.companyIds,[n]:s}}},actions:{loadHubsContributions({state:t,commit:e},s){const n=s.toLowerCase();return t.hubs[n]?t.hubs[n]:(0,sn.c2)(s).then((({companyRefs:t,companyIds:s})=>{e("setCompaniesHubsContribution",{companyRefs:t,companyIds:s,key:n})}))},loadFlowsContributions({state:t,commit:e},s){const n=s.toLowerCase();return t.flows[n]?t.flows[n]:(0,sn._H)(s).then((({companyRefs:t,companyIds:s})=>{e("setCompaniesFlowsContribution",{companyRefs:t,companyIds:s,key:n})}))}}},pm={inactive:0,ready:1,visible:2},_m=()=>!!window.jivo_api,hm={super:"COMPANY_ADMIN_EVENT_ROLE_super",admin:"COMPANY_ADMIN_EVENT_ROLE_admin",author:"COMPANY_ADMIN_EVENT_ROLE_author",editor:"COMPANY_ADMIN_EVENT_ROLE_editor"},gm={namespaced:!0,state(){return{companyInfo:null,companyInfoLoading:!1,faqArticles:null,brandingPreviewImageUrl:null,jivoStatus:pm.inactive,adminNotifications:null}},mutations:{setCompanyInfo(t,e){t.companyInfo=e},setCompanyInfoLoading(t,e){t.companyInfoLoading=e},setFaqNavigationList(t,e){t.faqNavigationList=e},setHasStartupProlongationFlag(t,e){t.companyInfo&&t.companyInfo.tariffData&&(t.companyInfo.tariffData.hasStartupProlongationRequest=e)},setFaqArticles(t,e){t.faqArticles=e},setBrandingPreviewImageUrl(t,e){t.brandingPreviewImageUrl=e},setJivoStatus(t,e){t.jivoStatus=e},setAdminNotifications(t,e){t.adminNotifications=e}},actions:{loadCompanyInfo({state:t,rootGetters:e,commit:s},{alias:n}){const i=e["i18n/langOptions"];return t.companyInfo&&t.companyInfo.alias===n?Promise.resolve(null):(s("setCompanyInfoLoading",!0),Promise.all([(0,sn.mp)(n,i),(0,sn.Yy)(n,i)]).then((([t,e])=>{const n={...e,...t};s("setCompanyInfo",n)})).finally((()=>{s("setCompanyInfoLoading",!1)})))},loadFaqData({commit:t,rootGetters:e,state:s}){const n=e["i18n/langOptions"];return s.faqArticles?Promise.resolve():(0,sn.rd)(n).then((({articlesList:t})=>Promise.all([...t.map((t=>(0,sn.KD)(t.alias,n)))]))).then((e=>{t("setFaqArticles",e)}))},setBrangingPreviewImage({commit:t},e){t("setBrandingPreviewImageUrl",e)},initializeJivoSiteChat({state:t,commit:e}){return new Promise(((s,n)=>{if(t.jivoStatus===pm.visible)s();else if(_m())return window.jivo_init(),void s();const i=document.createElement("script");i.src="//code-ya.jivosite.com/widget/43McEsqDSt",i.async=!0,i.addEventListener("error",n),document.body.append(i),window.jivo_onLoadCallback=()=>{e("setJivoStatus",pm.ready),s()}}))},sendJivoData({state:t,rootState:e,getters:s},{companyBlogUrl:n,userRole:i}){if(!_m())return;window.jivo_api.setContactInfo({name:e.me.user.fullname,email:e.me.user.email});const a=[{title:"Название блога компании",content:t.companyInfo.titleHtml},{title:"Ссылка на блог",content:n},{title:"Логин пользователя",content:e.me.user.alias}];if(t.companyInfo.tariffData){const[e,s]=[t.companyInfo.tariffData.startedAt,t.companyInfo.tariffData.endedAt].map((t=>new Date(t).toLocaleDateString("ru-RU")));a.push({title:"Текущий тариф",content:t.companyInfo.tariffData.title},{title:"Срок действия текущего тарифа",content:`${e} - ${s}`})}i&&a.push({title:"Роль в панели администрирования",content:i&&s.getUserRoleTitle(i)}),window.jivo_api.setCustomData(a)},destroyJivo({commit:t}){_m()&&(window.jivo_destroy(),t("setJivoStatus",pm.ready))},loadAdminNotifications({rootGetters:t,commit:e},{alias:s}){const n=t["i18n/langOptions"];return(0,sn._w)(s,n).then((t=>{e("setAdminNotifications",t.notifications)}))}},getters:{getUserRoleTitle(t,e,s,n){return t=>n["i18n/msg"](hm[t])}}},Tm={state(){return{hubRefs:{},hubIds:{}}},getters:{getHubsContributionsByAlias:t=>e=>{const s=e.toLowerCase();return t.hubIds[s]?t.hubIds[s].map((e=>t.hubRefs[e])):[]}},mutations:{setHubsContribution(t,{hubs:e,key:s}){t.hubRefs={...t.hubRefs,...e.hubRefs},t.hubIds={...t.hubIds,[s]:e.hubIds}}}},vm={namespaced:!0,modules:{contributionRefs:Tm},actions:{loadCompanyHubsContributions({state:t,commit:e},s){const n=s.toLowerCase();return t.contributionRefs.hubIds[n]?t.contributionRefs.hubIds[n]:(0,sn.oP)(s).then((t=>{e("setHubsContribution",{hubs:t,key:n})}))}}},Sm={namespaced:!0,state(){return{messages:[],respondent:null,isLoadMore:!1}},mutations:{setMessages(t,e){t.messages=e},addMessage(t,e){t.messages.push(e)},setRespondent(t,e){t.respondent=e},setLoadMoreStatus(t,e){t.isLoadMore=e},cleanState(t){t.messages=[],t.respondent=null,t.isLoadMore=!1}},actions:{fillState({commit:t},{messages:e,respondent:s,isLoadMore:n}){t("setLoadMoreStatus",!!n),t("setMessages",e),t("setRespondent",s)},updateMassagesList({state:t,commit:e},{messages:s,isLoadMore:n}){const i=s.concat(t.messages);e("setLoadMoreStatus",!!n),e("setMessages",i)},addMessage({commit:t},e){t("addMessage",e)},cleanState({commit:t}){t("cleanState")}}},fm={namespaced:!0,state(){return{conversations:[],pagesCount:0}},mutations:{setConversations(t,e){t.conversations=e},setPagesCount(t,e){t.pagesCount=e},cleanState(t){t.conversations=[],t.pagesCount=0}},actions:{fillState({commit:t},{conversations:e,pagesCount:s}){t("setPagesCount",s),t("setConversations",e)},cleanState({commit:t}){t("cleanState")}}};function Em(t,e){return(0,rs.Hm)((0,ls.k)(`docs/${t}/menu`,"v2"),e)}function Im(t,e,s){return(0,rs.Hm)((0,ls.k)(`docs/${t}/${e}`,"v2"),s)}function Cm(t){return(0,rs.Hm)((0,ls.k)("docs/","v2"),t)}const Am=t=>{const{alias:e,articleAlias:s}=t;return`${e}/${s}`},bm={namespaced:!0,state(){return{menu:{},articles:{},mainMenu:[],loading:{main:!1,dropdown:!1,article:!1}}},mutations:{setMenu(t,{alias:e,articlesList:s}){t.menu={...t.menu,[e]:s}},setArticle(t,{route:e,article:s}){t.articles={...t.articles,[Am(e)]:s}},setMainMenu(t,e){t.mainMenu=e},setLoadingState(t,e){const{name:s,value:n}=e;t.loading[s]=n}},getters:{getMenuByAlias:t=>e=>t.menu[e],getArticleByAlias:t=>e=>t.articles[Am(e)]},actions:{getDropdownList({commit:t,state:e,rootGetters:s},{alias:n}){return n?e.menu[n]?Promise.resolve():(t("setLoadingState",{name:"dropdown",value:!0}),Em(n,s["i18n/langOptions"]).then((e=>{const{articlesList:s}=e;return t("setMenu",{alias:n,articlesList:s}),t("setLoadingState",{name:"dropdown",value:!1}),s}))):Promise.resolve()},getArticle({commit:t,state:e,rootGetters:s},n){const{alias:i,articleAlias:a}=n;if(!a)return Promise.resolve();const o=Am(n);return e.articles[o]?Promise.resolve():(t("setLoadingState",{name:"article",value:!0}),Im(i,a,s["i18n/langOptions"]).then((e=>{t("setArticle",{route:n,article:e}),t("setLoadingState",{name:"article",value:!1})})))},getMainMenu({state:t,commit:e,rootGetters:s}){return 0===t.mainMenu.length?(e("setLoadingState",{name:"main",value:!0}),Cm(s["i18n/langOptions"]).then((t=>{e("setMainMenu",t),e("setLoadingState",{name:"main",value:!1})}))):Promise.resolve()}}};function ym(t){return(0,rs.Hm)((0,ls.k)("events"),t)}const Pm={namespaced:!0,state:{events:null},mutations:{saveEvents(t,e){t.events=e}},actions:{loadEvents({commit:t}){return ym().then((e=>{t("saveEvents",e.events)}))}},getters:{events(t){return t.events}}},Lm={namespaced:!0,state(){return{isProbablyVisible:!1}},mutations:{setIsProbablyVisible(t,e){t.isProbablyVisible=e}}};var Om=s(37522);function Nm(t){return(0,rs.Hm)((0,ls.k)("feed/counters","v2"),t)}const Mm={namespaced:!0,state(){return{flows:[],updates:{}}},mutations:{setFlows(t,e){t.flows=e},setUpdates(t,e){t.updates=e}},actions:{loadFlows({commit:t,state:e}){return e.flows.length?Promise.resolve(e.flows):(t("setFlows",[]),Kc().then((e=>(t("setFlows",e),e))))},loadUpdates({commit:t,rootGetters:e}){const s=e["i18n/langOptions"];return Nm(s).then((e=>(t("setUpdates",e),e))).catch((t=>{(0,Om.T)(t)}))}}},Rm={namespaced:!0,state(){return{isPwa:!1,device:null,isHabrCom:null}},getters:{isMobileOnly(t){return"mobile"===t.device},isMobile(t){return"mobile"===t.device||"tablet"===t.device},isTablet(t){return"tablet"===t.device},isDesktop(t){return"desktop"===t.device},isHabrCom(t){return!!t.isHabrCom}},mutations:{setPwaMode(t){t.isPwa=!0},setDevice(t,e){t.device=e},setIsHabrCom(t,e){t.isHabrCom=e}},actions:{initPwaMode({commit:t}){t("setPwaMode"),lc.W6||"serviceWorker"in navigator&&window.navigator.serviceWorker.ready.then((t=>{t.active.postMessage({runCache:!0})}))},setDevice({commit:t},{device:e}){t("setDevice",e)},setIsHabrCom({commit:t},{isHabrCom:e}){t("setIsHabrCom",e)}}},km={namespaced:!0,state(){return{hubRefs:{},hubIds:{},pagesCount:{},isLoading:!1,route:{}}},getters:{getHubByAlias:t=>e=>t.hubRefs[e.toLowerCase()]||null},mutations:{setHubRefs(t,e){t.hubRefs={...t.hubRefs,...e}},setHubIds(t,{routeKey:e,hubIds:s}){t.hubIds={...t.hubIds,[e]:s}},clearHubs(t,e){t.hubIds[e]&&(t.hubIds[e]=[])},setLoading(t,e){t.isLoading=e},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},setPagesCount(t,{routeKey:e,pagesCount:s}){t.pagesCount={...t.pagesCount,[e]:s}},setHubInfo(t,{hubAlias:e,hubInfo:s}){t.hubRefs={...t.hubRefs,[e]:s}},setSubscriptionStatus(t,{alias:e,isSubscribed:s}){t.hubRefs[e].relatedData.isSubscribed=s}},actions:{loadHubs({state:t,commit:e},{route:s}){const n={...s.query,page:s.params.pageNum||1,flowAlias:s.params.flowName},{q:i}=s.query,a=i?Qc.PL:Qc._C,o=(0,Dn.Z)(s),r=t.hubIds[o],l=Boolean(Object.keys(s.query).length),c=JSON.stringify(t.route.query)===JSON.stringify(s.query);return!(!(r&&r.length&&c)||i)||(l&&!c&&e("clearHubs",o),e("setLoading",!0),a(n).then((({hubRefs:t,hubIds:n,pagesCount:a})=>(e("setHubRefs",t),e("setHubIds",{routeKey:o,hubIds:n}),e("setPagesCount",{routeKey:o,pagesCount:i?1:a}),e("setRouteCache",s),e("setLoading",!1),{hubRefs:t,hubIds:n,pagesCount:a}))))},searchHubs({state:t,commit:e},{route:s}){const n={...s.query,page:s.params.pageNum||1},i=(0,Dn.Z)(s),a=JSON.stringify(t.route.query)===JSON.stringify(s.query),o=Boolean(Object.keys(s.query).length);return o&&!a&&e("clearHubs",i),e("setLoading",!0),(0,Qc.PL)(n).then((({hubRefs:t,hubIds:n,pagesCount:a})=>(e("setHubRefs",t),e("setHubIds",{routeKey:i,hubIds:n}),e("setPagesCount",{routeKey:i,pagesCount:a}),e("setRouteCache",s),e("setLoading",!1),{hubRefs:t,hubIds:n,pagesCount:a})))},loadHub({rootGetters:t,state:e,commit:s},{alias:n}){const i=t["i18n/langOptions"],a=n.toLowerCase(),o=e.hubRefs[a],r=o&&o.fullDescriptionHtml,l=t["pullRefresh/getRefreshState"];return r&&!l?Promise.resolve(o):(0,Qc.dx)(n,i).then((t=>(s("setHubInfo",{hubInfo:t,hubAlias:a}),t)))},toggleSubscribeStatus({commit:t,state:e},s){const n=s.toLowerCase(),{isSubscribed:i}=e.hubRefs[n].relatedData,a=!i;return t("setSubscriptionStatus",{alias:n,isSubscribed:a}),(0,Qc.PY)(s).catch((()=>{t("setSubscriptionStatus",{alias:n,isSubscribed:!a})}))}}},wm={namespaced:!0,state(){return{hubRefs:{},hubIds:{}}},getters:{getBlockHubsListByAlias:t=>(e="all")=>t.hubIds[e]?t.hubIds[e].map((e=>t.hubRefs[e])):[]},mutations:{setHubsBlock(t,{hubs:e,flowName:s}){t.hubRefs={...t.hubRefs,...e.hubRefs},t.hubIds={...t.hubIds,[s]:e.hubIds}}},actions:{loadHubsBlock({state:t,commit:e},{flowName:s="all"}){const n={page:1,flowAlias:"all"===s?null:s,perPage:10};return t.hubIds[s]?t.hubIds[s]:(0,Qc._C)(n).then((t=>(e("setHubsBlock",{hubs:t,flowName:s}),t.hubIds)))}}};var Bm=s(21540),Dm=s.n(Bm);const xm={en:"en_US",ru:"ru_RU"},$m={namespaced:!0,state(){return{fl:null,hl:null}},getters:{isEnglishContentEnabled:t=>t.fl&&t.fl.indexOf("en")>-1,isRussianContentEnabled:t=>t.fl&&t.fl.indexOf("ru")>-1,langOptions:t=>({fl:t.fl,hl:t.hl}),currentLocale:(t,e)=>xm[e.langOptions.hl],msg(t,e){return(t,s={})=>le(e.langOptions.hl,t,s)},pageTitle(t,e){return(...t)=>Dm()([...t.filter(Boolean),e.msg("SITENAME")].join(" / "))}},mutations:{setFl(t,e){t.fl=e},setHl(t,e){t.hl=e},setLangParams(t,{fl:e,hl:s}){t.fl=e,t.hl=s}}};function Um(t,e){return(0,rs.Hm)((0,ls.k)(`info/welcome/${t}`),e)}const Fm=t=>t.params.topic?`welcome-${t.params.topic}`:"welcome-index",Vm={namespaced:!0,state(){return{welcomePage:{},isLoading:!0}},getters:{welcomePage:t=>e=>{const s=Fm(e);return t.welcomePage[s]},getWelcomePage:t=>e=>t.welcomePage[e]||null},mutations:{setPage(t,e){t.welcomePage={...t.welcomePage,...e}},setIsLoading(t,e){t.isLoading=e}},actions:{loadWelcomePage({commit:t,getters:e,rootGetters:s},{route:n}){const{topic:i=""}=n.params,a=Fm(n);return e.getWelcomePage(a)?e.getWelcomePage(a):(t("setIsLoading",!0),Um(i,s["i18n/langOptions"]).then((({data:e})=>(t("setIsLoading",!1),t("setPage",{[a]:e}),e))))}}},Hm={namespaced:!0,state(){return{urlStruct:(0,zn.au)((0,zn.j4)())}},mutations:{setUrl(t,e){t.urlStruct=e}},actions:{updateUrl({commit:t},{route:e}){const s=(0,zn.j4)()||e.fullPath,n=(0,zn.au)(s);n.path=e.path,n.pathname=e.path,Object.assign(n.query,e.query),delete n.search,t("setUrl",n)}}},Gm={namespaced:!0,state(){return{modals:[]}},actions:{trackInHistory(t,{close:e,hash:s,closeEvent:n}){const i=t.rootGetters["global/isMobile"];if(!i)return;window.location.hash=s,t.commit("open",s);const a=()=>{t.getters.isOpen(s)&&window.history.back()};window.addEventListener("popstate",(()=>{n.off&&n.off(a),t.commit("close",s),e()}),{once:!0}),n.on(a)}},getters:{isOpen:t=>e=>t.modals.includes(e)},mutations:{open(t,e){t.modals.push(e)},close(t,e){t.modals.splice(t.modals.indexOf(e),1)}}},Wm={namespaced:!0,state(){return{mostReadingListIds:[],mostReadingListRefs:null,promoPost:null}},getters:{mostReadingList:t=>t.mostReadingListIds.map((e=>t.mostReadingListRefs[e]))},mutations:{setMostReadingList(t,{articleIds:e,articleRefs:s}){t.mostReadingListIds=e,t.mostReadingListRefs=s},setBookmarked(t,{articleId:e,shouldBookmarked:s}){const n=t.mostReadingListRefs[e],{relatedData:i,statistics:a}=n;a.favoritesCount=s?a.favoritesCount+1:a.favoritesCount-1,i.bookmarked=s},setPromoPost(t,e){t.promoPost=e}},actions:{loadMostReadingList({commit:t,getters:e,rootGetters:s}){return e.mostReadingList.length?e.mostReadingList:(0,Bc.TH)(s["i18n/langOptions"]).then((e=>{t("setMostReadingList",e)}))}}};var Zm=s(62965);const Ym={namespaced:!0,state(){return{articles:{},card:null,transactions:null,totalTransactions:null,isAccessible:null}},mutations:{setArticle(t,{articleAlias:e,article:s}){t.articles={...t.articles,[e]:s}},setCard(t,{ppaCard:e,isAccessible:s}){t.card=e,t.isAccessible=s},patchCard(t,e){t.card={...t.card,...e}},setTransactions(t,{transactions:e,pagesCount:s}){t.transactions=e,t.totalTransactions=s},updateTest(t,e){t.test.test=e}},getters:{getArticleByAlias:t=>e=>t.articles[e],isJustCreated:t=>t.card&&"just_created"===t.card.status},actions:{getArticle({commit:t,state:e,rootGetters:s},n){const i=s["i18n/langOptions"];return e.articles[n]?Promise.resolve():(0,Zm.qK)(n,i).then((e=>{t("setArticle",{articleAlias:n,article:e})}))},getCard({state:t,commit:e,rootGetters:s}){if(t.card)return Promise.resolve();const n=s["me/userAlias"];return(0,Zm.pV)(n).then((({ppaCard:t,isAccessible:s})=>{e("setCard",{ppaCard:t,isAccessible:s})}))},getTransactions({state:t,commit:e,rootGetters:s},n){if(t.transactions)return Promise.resolve();const i=s["me/userAlias"];return(0,Zm.ny)(i,n).then((({transactions:t,pagesCount:s})=>{e("setTransactions",{transactions:t,pagesCount:s})}))},postWithdrawEnabled({commit:t},e){return t("patchCard",{withdrawEnabled:e}),(0,Zm.Zx)(e)},joinPpa({dispatch:t}){return(0,Zm.s5)().then((()=>t("getCard")))}}},qm=t=>{if(0===t.length)return null;const e=t.slice(0).sort((([,t],[,e])=>t-e)),s=100*Math.random();let n=0,i=t[0][0];return e.forEach((([t,e])=>{n<=s&&(i=t),n+=e})),i},jm={namespaced:!0,state(){return{activeBlocks:{}}},mutations:{registerBlock(t,{name:e,id:s}){t.activeBlocks={...t.activeBlocks,[e]:s}},unregisterBlock(t,e){t.activeBlocks={...t.activeBlocks,[e]:""}}},getters:{getRandomBlockName(t){return e=>{const s=e.filter((e=>!t.activeBlocks[e])).map(((t,e,s)=>[t,Math.floor(100/s.length)]));return qm(s)}},getRegisteredBlockById(t){return e=>Object.keys(t.activeBlocks).find((s=>t.activeBlocks[s]===e))}}},Km={namespaced:!0,state:{isLoading:!1,hasLoaded:!1,featurer:null,megaposts:null,promoLinks:null,promoPosts:null},mutations:{setLoadingFlag(t,e){t.isLoading=e,e||(t.hasLoaded=!0)},savePromoData(t,e){Object.keys(e).forEach((s=>{t[s]=e[s].adverts}))}},actions:{loadPromoData({rootGetters:t,commit:e}){const{fl:s,hl:n}=t["i18n/langOptions"],i=n,a=s.split(","),o={version:"1.0",queries:{promoPosts:{type:"promopost",filter:{langs:a},count:3,view:{lang:i}},featurer:{type:"featurer",view:{lang:i}},megaposts:{type:"megapost",filter:{langs:a},count:1},promoLinks:{type:"promolink",filter:{langs:a},count:1,view:{lang:i}}}};return e("setLoadingFlag",!0),(0,w.H)(o).then((t=>{t&&t.results&&e("savePromoData",t.results)})).finally((()=>{e("setLoadingFlag",!1)}))}},getters:{feature({featurer:t}){return t&&t.length?t[0]:null},topLinkPost({megaposts:t}){return t&&t.length?t[0]:null},promoBlockPosts({promoPosts:t}){return t&&t.length?t:null},mostReadingPromoLink({promoLinks:t}){return t&&t.length?t[0]:null},dailyTopPromoLink({promoLinks:t},{mostReadingPromoLink:e}){return t&&t.length>1?t[1]:e}}},zm={namespaced:!0,state(){return{shouldRefresh:!1}},mutations:{setRefresh(t,e){t.shouldRefresh=e}},getters:{getRefreshState(t){return t.shouldRefresh}},actions:{toggleRefresh({commit:t},e){t("setRefresh",e)}}};function Qm(t,e){switch(t.name){case"NEW_AUTHORS_ARTICLES_LIST":case"NEW_AUTHORS_ARTICLES_LIST_PAGES":return{sandbox:"new_authors_posts"};case"AWAIT_INVITE_AUTHORS_ARTICLES_LIST":case"AWAIT_INVITE_AUTHORS_ARTICLES_LIST_PAGES":return{sandbox:"awaiting_invite_posts"};case"MOST_IMPORTANT_SANBOX_INFO":return{sandbox:"new_authors_posts",perPage:5};case"AWAIT_MODERATION_ARTICLES_LIST":case"AWAIT_MODERATION_ARTICLES_LIST_PAGES":return{sandbox:"awaiting_approval_posts"};case"SCHEDULED_SANDBOX_ARTICLES_LIST":case"SCHEDULED_SANDBOX_ARTICLES_LIST_PAGES":return{sandbox:"awaiting_publishing_posts"};case"MY_SANDBOX_ARTICLES_LIST":case"MY_SANDBOX_ARTICLES_LIST_PAGES":case"ARTICLES_LIST_SANDBOX_BY_USER":case"ARTICLES_LIST_SANDBOX_BY_USER_PAGES":return{sandbox:"by_author",userAlias:e};default:return{}}}const Xm={namespaced:!0,state(){return{articleIds:[],articleRefs:{},pagesCount:null,route:{},lastVisitedRoute:{},isLoading:!1}},getters:{getArticlesByRouteKey:t=>e=>{const s=t.articleIds[e]||[];return s.map((e=>t.articleRefs[e]))},getArticleById:t=>e=>t.articleRefs[e]||{}},mutations:{setArticles(t,{articleIds:e,articleRefs:s}){t.articleRefs={...t.articleRefs,...s},t.articleIds={...t.articleIds,...e}},setArticle(t,{article:e}){t.articleRefs={...t.articleRefs,[e.id]:e}},setPagesCount(t,e){t.pagesCount={...t.pagesCount,...e}},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},setLastVisitedRoute(t,e){t.lastVisitedRoute=e},setLoading(t,e){t.isLoading=e},removeArticleFromList(t,e,s){const n=t.articleIds[e].findIndex((({id:t})=>s===t));t.articleIds[e].splice(n,1)},clearArticles(t,e){delete t.articleIds[e]},markArticleAsScheduled(t,{id:e,plannedDateTime:s}){t.articleRefs[e]&&(t.articleRefs[e]={...t.articleRefs[e],plannedPublishTime:s,status:"sbAwaitingPublishing"})},removeArticleScheduledPublishing(t,{id:e}){t.articleRefs[e]&&(t.articleRefs[e]={...t.articleRefs[e],plannedPublishTime:null,status:"sbInvitePending"})}},actions:{loadArticleslist({commit:t,state:e,rootGetters:s},{route:n,force:i}){const a=(0,Dn.Z)(n),o=e.articleIds[a],r=Boolean(Object.keys(n.query).length),l=JSON.stringify(e.route.query)===JSON.stringify(n.query),c=s["pullRefresh/getRefreshState"];if(o&&l&&!c&&!i)return!0;(r&&!l||c||i)&&t("clearArticles",a),t("setLoading",!0);const m=n.params.userAlias||s["me/userAlias"],u=s["me/isLoggedIn"],d=(0,Bc.rM)({...Qm(n,m),...s["i18n/langOptions"],page:n.params.pageNum||1}),p=u?d.then((({publicationIds:t})=>t&&t.length?(0,Bc.YM)({articleIds:t.join(",")}):Promise.resolve([]))):[];return Promise.all([d,p]).then((([{publicationIds:e,publicationRefs:s,pagesCount:i},{notes:o}])=>{const r={[a]:e},l={[a]:i};return o&&o.length&&o.forEach((t=>{s[t.postId].moderationComment=t})),t("setArticles",{articleIds:r,articleRefs:s}),t("setPagesCount",l),t("setRouteCache",n),t("setLoading",!1),{articleIds:e,articleRefs:s,pagesCount:i}}))},loadArticle({commit:t,rootGetters:e,state:s},{force:n,route:i,snippetOnly:a}){const o=i.params.id,r=s.articleRefs&&s.articleRefs[o],l=e["pullRefresh/getRefreshState"],c=e["me/isLoggedIn"];return!r||n||l||!r.textHtml&&!a?Promise.all([(0,Bc.fq)(o,{...e["i18n/langOptions"],isSandbox:!0}),...c?[(0,Bc.YM)({articleIds:[o]})]:[]]).then((([e,s])=>{const n=s&&s.notes.length?s.notes[0]:null;return t("setArticle",{article:{...e,moderationComment:n}}),t("setRouteCache",i),e})):Promise.resolve()},updateArticlesList({commit:t},{route:e,id:s}){const n=(0,Dn.Z)(e);t("removeArticleFromList",n,s)},setLastVisitedRoute({commit:t},e){t("setLastVisitedRoute",e)}}},Jm={namespaced:!0,state:{searchQueryError:null},mutations:{setSearchQueryError(t,e){t.searchQueryError=e}}};var tu=s(46100);const eu={namespaced:!0,state(){return{inputs:{...(0,tu.j)(["uiLang"],""),...(0,tu.j)(["articlesLangEnglish","articlesLangRussian"],!1),...(0,tu.j)(["agreement"],!1),...(0,tu.j)(["email"],!0),...(0,tu.j)(["digest"],!0)}}},getters:{formData:({inputs:t})=>({fl:[t.articlesLangEnglish.value?"en":"",t.articlesLangRussian.value?"ru":""].filter(Boolean).join(","),hl:t.uiLang.value,agreement:t.agreement.value,email:t.email.value,digest:t.digest.value})},mutations:{setInputValue(t,{name:e,value:s}){t.inputs[e].value=s}},actions:{setInputValue({commit:t},{name:e,value:s}){t("setInputValue",{name:e,value:s})}}},su={namespaced:!0,state(){return{similarListIds:[],similarListRefs:null}},getters:{similarList:t=>t.similarListIds.map((e=>t.similarListRefs[e]))},mutations:{setSimilarList(t,{articleIds:e,articleRefs:s}){t.similarListIds=e,t.similarListRefs=s},setBookmarked(t,{articleId:e,shouldBookmarked:s}){const n=t.similarListRefs[e],{relatedData:i,statistics:a}=n;a.favoritesCount=s?a.favoritesCount+1:a.favoritesCount-1,i.bookmarked=s}},actions:{loadSimilarList({commit:t,rootGetters:e},{articleId:s,count:n}){return(0,Bc.lA)(s,{...e["i18n/langOptions"],count:n}).then((e=>(t("setSimilarList",e),e)))}}},nu={namespaced:!0,state(){return{error:null,isDataLoaded:!1,isDataLoading:!1,isHydrationFailed:!1,isServer:!1}},getters:{isServer(t){return t.isServer},error(t){return t.error}},mutations:{setDataLoaded(t,e){t.isDataLoaded=e},setDataLoading(t,e){t.isDataLoading=e},setEnvironment(t,e){t.isServer=e},setError(t,e){t.error=e},setHydrationFailed(t,e){t.isHydrationFailed=e},setI18nLoaded(t,e){t.isI18nLoaded=e}},actions:{markDataLoaded({commit:t}){t("setDataLoaded",!0),t("setDataLoading",!1)},markDataLoading({commit:t}){t("setDataLoading",!0)},markHydrationFailed({commit:t}){t("setHydrationFailed",!0)},setSsrError({commit:t},e){t("setDataLoaded",!0),t("setDataLoading",!1),t("setError",e)},showError({commit:t},{error:e}){return t("setError",e),t("setI18nLoaded",!0),Promise.reject(e)},reset({commit:t}){t("setDataLoaded",!1),t("setI18nLoaded",!1),t("setError",null)}}};function iu(t){return(0,rs.Hm)((0,ls.k)("stories"),t)}const au={namespaced:!0,state:{stories:null},mutations:{saveStories(t,e){t.stories=e}},actions:{loadStories({rootGetters:t,commit:e}){const s=t["i18n/langOptions"];return iu(s).then((t=>{e("saveStories",t)})).catch((()=>{}))}},getters:{stories(t,e,s,n){const{fl:i}=n["i18n/langOptions"],a=i.split(",");return t.stories?t.stories.filter((t=>a.includes(t.lang))):null}}},ou={namespaced:!0,mutations:{setTechnotextInfo(t,e){t.technotextInfo=e},setTechnotextInfoLoading(t,e){t.technotextInfoLoading=e},setTechnotextWinnersLoading(t,e){t.technotextWinnersLoading=e},setTechnotextWinners(t,e){t.technotextWinners=e},setYears(t,e){t.years=e},setTechnotextDocForNominees(t,e){t.technotextDocForNominees=e},setTechnotextDocForWinners(t,e){t.technotextDocForWinners=e}},getters:{currentTechnotextApplicationUrl(t){return Boolean(t.technotextInfo&&t.technotextInfo.isActive)&&t.technotextInfo.applicationUrl},docForNominees(t){return t.technotextDocForNominees},docForWinners(t){return t.technotextDocForWinners}},state(){return{years:[],technotextDocForNominees:null,technotextDocForWinners:null,technotextInfo:{},technotextInfoLoading:!1,technotextWinners:{},technotextWinnersLoading:!1}},actions:{loadTechnotextWinners({commit:t},{year:e}){return t("setTechnotextWinners",{}),t("setTechnotextWinnersLoading",!0),Cl(e).then((e=>{t("setTechnotextWinners",e)}))},loadTechnotextYears({commit:t,state:e}){return e.years.length?e.years:Il().then((({technotexts:e})=>{t("setYears",e)}))},loadTechnotextInfo({commit:t,rootGetters:e,state:s},{year:n}){if(s.technotextInfo.year===n)return null;t("setTechnotextInfo",{}),t("setTechnotextDocForNominees",null),t("setTechnotextDocForWinners",null),t("setTechnotextInfoLoading",!0);const i=e["i18n/langOptions"];return El(n,{...i}).then((e=>{t("setTechnotextInfo",e);const s=[],n=e.docForNominees,a=(n||"").split("/");a[0]&&a[1]&&s.push(Im(a[0],a[1],{...i}).then((e=>{t("setTechnotextDocForNominees",e)})).catch((()=>null)));const o=e.docForWinners,r=(o||"").split("/");return r[0]&&r[1]&&s.push(Im(r[0],r[1],{...i}).then((e=>{t("setTechnotextDocForWinners",e)})).catch((()=>null))),Promise.all(s)})).finally((()=>{t("setTechnotextInfoLoading",!1)}))}}},ru={notifications:"system",mentions:"mentions",subscribers:"subscribers",applications:"applications"};function lu(t){const{perPage:e,pageNum:s,hl:n,category:i}=t;return(0,rs.Hm)((0,ls.k)("me/notifications","v2"),{per_page:e,page_num:s,hl:n,category:ru[i]})}function cu({ids:t,category:e}){return(0,rs.Q)((0,ls.k)("me/notifications/read","v2"),{ids:t,category:ru[e]})}function mu(t){const{perPage:e,pageNum:s,byAuthor:n}=t;return(0,rs.Hm)((0,ls.k)("tracker/publications","v2"),{perPage:e,pageNum:s,byAuthor:n})}function uu(t){return(0,rs.Q)((0,ls.k)("tracker/publications/read","v2"),{ids:t})}function du(t){return(0,rs.ZI)((0,ls.k)("tracker/publications","v2"),{ids:t})}const pu={namespaced:!0,state(){return{notificationsLoading:!1,notificationsList:[],notificationsPageCount:0,pendingMarkNotificationsRead:[],publicationsLoading:!0,publicationsList:[],publicationsPageCount:0,pendingDeletePublications:!1,pendingMarkPublicationsRead:!1}},mutations:{setNotificationsLoading(t,e){t.notificationsLoading=e},setNotificationsData(t,{notificationsList:e,pagesCount:s}){t.notificationsList=e,t.notificationsPageCount=s},setPublicationsLoading(t,e){t.publicationsLoading=e},setPublicationsData(t,{publicationsList:e,pagesCount:s}){t.publicationsList=e,t.publicationsPageCount=s},markNotificationsRead(t,e){t.notificationsList=t.notificationsList.map((t=>e.includes(t.id)||0===e.length?{...t,unread:!1}:t))},setDeletePublicationsPending(t,e){t.pendingDeletePublications=e},setMarkPublicationsReadPending(t,e){t.pendingMarkPublicationsRead=e},setMarkNotificationsReadPending(t,e){t.pendingMarkNotificationsRead=[...t.pendingMarkNotificationsRead,...e]},removeMarkNotificationsReadPending(t,e){t.pendingMarkNotificationsRead=t.pendingMarkNotificationsRead.filter((t=>!e.includes(t)))}},actions:{loadPublications({commit:t},{params:e,silent:s=!1}){return s||(t("setPublicationsLoading",!0),t("setPublicationsData",{publicationsList:[],pagesCount:0})),mu(e).then((e=>{const{publicationIds:s,publicationRefs:n,pagesCount:i,unreadCounters:a}=e;t("me/setUnreadCounters",a,{root:!0}),t("setPublicationsData",{publicationsList:s.filter((t=>t)).map((t=>n[t])),pagesCount:i})})).finally((()=>{t("setPublicationsLoading",!1)}))},loadNotifications(t,e){const{commit:s}=t;return s("setNotificationsLoading",!0),s("setNotificationsData",{notificationsList:[],pagesCount:0}),lu(e).then((t=>{const{itemRefs:e,itemIds:n,pagesCount:i,unreadCounters:a}=t;s("setNotificationsData",{notificationsList:n.map((t=>e[t])),pagesCount:i}),s("me/setUnreadCounters",a,{root:!0})})).finally((()=>{s("setNotificationsLoading",!1)}))},async deletePublications({commit:t,dispatch:e},{ids:s,updateParams:n=null}){t("setDeletePublicationsPending",!0);try{const{unreadCounters:i}=await du(s);n&&await e("loadPublications",n),t("me/setUnreadCounters",i,{root:!0})}catch(i){throw i}finally{t("setDeletePublicationsPending",!1)}},async markTrackerPublicationsRead({commit:t,dispatch:e},{ids:s,updateParams:n=null}){t("setMarkPublicationsReadPending",!0);try{const{unreadCounters:i}=await uu(s);n&&await e("loadPublications",n),t("me/setUnreadCounters",i,{root:!0})}catch(i){throw i}finally{t("setMarkPublicationsReadPending",!1)}},markNotificationsAsRead({commit:t},{ids:e=[],category:s}){t("setMarkNotificationsReadPending",e);const n=!(null!==e&&void 0!==e&&e.length)||Boolean(s),i={ids:e};return s&&(i.category=s),cu(i).then((({unreadCounters:s})=>{t("markNotificationsRead",n?[]:e),t("me/setUnreadCounters",s,{root:!0})})).finally((()=>{t("removeMarkNotificationsReadPending",e)}))}},getters:{pendingMarkNotificationsRead:t=>e=>t.pendingMarkNotificationsRead.includes(e)}};var _u=s(1615);const hu={namespaced:!0,state(){return{user:null,uuid:null,ppgDemanded:!1,karmaResetInfo:{canReincarnate:null,wasReincarnated:null,currentScore:null},notes:null,userUpdates:{feeds:{newPostsCount:null,newThreadsCount:null,newNewsCount:null,newCount:null},conversationUnreadCount:0}}},getters:{isLoggedIn(t){return Boolean(t.user)},isSuperAdmin(t){return t.user&&-1!==t.user.groups.indexOf("super")},isCorrector(t){return t.user&&-1!==t.user.groups.indexOf("corrector")},isModerator(t){return t.user&&-1!==t.user.groups.indexOf("moderator")},isReadOnly(t){return t.user&&-1!==t.user.groups.indexOf("readonly")},isCommentsManual(t){return t.user&&-1!==t.user.groups.indexOf("comments_manual")},isReadOnlyOrReadAndComment(t){return t.user&&(-1!==t.user.groups.indexOf("readonly")||-1!==t.user.groups.indexOf("comments_manual")||-1!==t.user.groups.indexOf("comments"))},isReadOnlyOrCommentsManual(t,e){return t.user&&(e.isReadOnly||e.isCommentsManual)},userAlias(t){return t.user&&t.user.alias},userShowAdv(t){return!t.user||t.user&&!t.user.settings.miscSettings.hideAdv},userGaType(t,e){return e.isLoggedIn?-1!==t.user.groups.indexOf("comments_manual")||-1!==t.user.groups.indexOf("comments")?"readcomment":-1!==t.user.groups.indexOf("readonly")?"readonly":"habrauser":"guest"},ppaBalance(t){return t.user?t.user.ppaBalance:null},lastKarmaResetDate:t=>t.karmaResetInfo.wasReincarnated,karmaResetScore:t=>t.karmaResetInfo.currentScore,canCancelKarmaReset:({karmaResetInfo:t})=>t.canReincarnate,notesList:t=>t.notes?t.notes.noteIds.map((e=>t.notes.noteRefs[e])):[],notesPagesCount:t=>t.notes&&t.notes.pagesCount,rssKey(t){return t.user&&t.user.rssKey},companiesAdmin(t){return t.user&&t.user.companiesAdmin},hasJoinedBetaTesting(t){return t.user&&t.user.groups.includes("tester")},canSendComplaint(t,e){return t.user&&t.user.settings.permissionSettings.canAddComplaints||e.isSuperAdmin},notices(t){return t.user?t.user.notices:[]},canPostVoice(t){return t.user&&t.user.settings.permissionSettings.canCreateVoices},useMarkdownInComments(t){return t.user&&t.user.settings.miscSettings.useMarkdownInComments},useMarkdownInArticles(t){return t.user&&t.user.settings.miscSettings.useMarkdownInArticles},useMarkdownInPosts(t){return t.user&&t.user.settings.miscSettings.useMarkdownInPosts},blockReasonWithDate(t){var e;return null===(e=t.user)||void 0===e?void 0:e.block},notificationUnreadCounters(t){var e;return(null===(e=t.user)||void 0===e?void 0:e.notificationUnreadCounters)||null},totalUnreadNotifications(t){var e,s;return(null===(e=t.user)||void 0===e||null===(s=e.notificationUnreadCounters)||void 0===s?void 0:s.total)||0},karma(t){var e,s;return(null===(e=t.user)||void 0===e||null===(s=e.scoreStats)||void 0===s?void 0:s.score)||null},unreadConversations(t){var e;return(null===(e=t.userUpdates)||void 0===e?void 0:e.conversationUnreadCount)||0},hasNewPublicationsBySubscription(t){var e,s;return(null===(e=t.userUpdates)||void 0===e||null===(s=e.feeds)||void 0===s?void 0:s.newCount)>0}},mutations:{setUser(t,e){t.user=e},setUserUpdates(t,e){t.userUpdates.conversationUnreadCount=e.conversationUnreadCount,t.userUpdates.feeds=e.feeds,t.user={...t.user,notificationUnreadCounters:{...t.user.notificationUnreadCounters,total:e.trackerUnreadCount}}},setUserFeedUpdates(t,e){t.userUpdates.feeds={...t.userUpdates.feeds,...e}},setUUID(t,e){t.uuid=e},setPPGDemanded(t,e){t.ppgDemanded=e},setChargeSettings(t,e){t.user.settings.chargeSettings=e},decrementPostsCharge(t){t.user.settings.chargeSettings={...t.user.settings.chargeSettings,postVoteCount:t.user.settings.chargeSettings.postVoteCount-1}},decrementCommentsCharge(t){t.user.settings.chargeSettings={...t.user.settings.chargeSettings,commentVoteCount:t.user.settings.chargeSettings.commentVoteCount-1}},setKarmaResetInfo(t,e){t.karmaResetInfo=e},setUserNotes(t,e){t.notes=e},setHasJoinedBetaTesting(t,e){if(e){const e=new Set(t.user.groups);e.add("tester"),t.user.groups=Array.from(e)}else t.user.groups=t.user.groups.filter((t=>"tester"!==t))},setAvailableInvitesCount(t,e){t.user.availableInvitesCount=e},setUserUseMarkdown(t,e){t.user.settings.miscSettings={...t.user.settings.miscSettings,...e}},setUnreadCounters(t,e){t.user&&(t.user={...t.user,notificationUnreadCounters:e})}},actions:{init({commit:t,getters:e,dispatch:s},n){return e.isLoggedIn&&!n?Promise.resolve(null):(0,_u.jo)().then((e=>e?(t("setUser",e),e.ppg&&t("setPPGDemanded",!0),s("logUserToGA"),e):null))},loadKarmaResetInfo({commit:t}){return(0,_u.t)().then((e=>{t("setKarmaResetInfo",e)}))},loadUpdates({commit:t,getters:e}){return e.isLoggedIn?(0,_u.sY)().then((e=>{t("setUserUpdates",e)})).catch((t=>{(0,Om.T)(t)})):Promise.resolve(null)},cancelKarmaReset({dispatch:t}){return(0,_u.J5)().then((()=>t("loadKarmaResetInfo")))},resetKarma({dispatch:t}){return(0,_u.lW)().then((()=>t("loadKarmaResetInfo")))},loadMyUserNotes({commit:t},{route:e}){const s={page:e.params.pageNum||1};return(0,_u.TR)(s).then((e=>{t("setUserNotes",e)}))},toggleBetaTestParticipation({commit:t}){return rm().then((({betaTester:e})=>{t("setHasJoinedBetaTesting",e)}))},setPPGDemanded({commit:t},e){t("setPPGDemanded",e)},issueInviteByUserAlias({state:t,commit:e},s){return(0,cc.HM)(s).then((()=>{e("setAvailableInvitesCount",t.user.availableInvitesCount-1)}))},updateUseMarkdown({commit:t},e){return(0,cc.K9)(e).then((e=>{t("setUserUseMarkdown",e)}))},getUUID({commit:t}){return(0,_u.Fs)().then((e=>{t("setUUID",e.uuid)})).catch((()=>null))}}},gu={namespaced:!0,modules:{contributionRefs:Tm},actions:{loadUserHubsContributions({state:t,commit:e},{login:s}){const n=s,i=n.toLowerCase(),a={page:1,perPage:10};return t.contributionRefs.hubIds[i]?t.contributionRefs.hubIds[i]:(0,cc.V6)(n,a).then((t=>{e("setHubsContribution",{hubs:t,key:i})}))}}},Tu={namespaced:!0,state(){return{availableInvites:0,usedInvitesIds:[],usedInvitesRefs:{},usedInvitesPagesCount:0,unusedInvitesIds:[],unusedInvitesRefs:{},unusedInvitesPagesCount:0}},getters:{usedInvites:t=>t.usedInvitesIds.length?t.usedInvitesIds.map((e=>t.usedInvitesRefs[e])):[],unusedInvites:t=>t.unusedInvitesIds.length?t.unusedInvitesIds.map((e=>t.unusedInvitesRefs[e])):[]},mutations:{setAvailableInvites(t,e){t.availableInvites=e},setUsedInvites(t,{userIds:e,userRefs:s,pagesCount:n}){t.usedInvitesIds=e,t.usedInvitesRefs={...t.usedInvitesRefs,...s},t.usedInvitesPagesCount=n},setUnusedInvites(t,{inviteIds:e,inviteRefs:s,pagesCount:n}){t.unusedInvitesIds=e,t.unusedInvitesRefs={...t.unusedInvitesRefs,...s},t.unusedInvitesPagesCount=n},revokeInvite(t,e){t.unusedInvitesIds.splice(e,1)},clearState(t){t.availableInvites=0,t.sedInvitesIds=[],t.usedInvitesRefs=null,t.usedInvitesPagesCount=0,t.unusedInvitesIds=[],t.unusedInvitesRefs=null,t.unusedInvitesPagesCount=0}},actions:{loadInvitesList({commit:t}){return Promise.all([(0,_u.sE)(),(0,_u.KW)(),(0,_u.iX)()]).then((([e,s,n])=>{const{availableInvitesCount:i}=e;return t("setAvailableInvites",i),t("setUsedInvites",s),t("setUnusedInvites",n),{usedInvites:s,unusedInvites:n}}))},loadMoreUsedInvites({commit:t,state:e},s){return(0,_u.KW)(s).then((s=>{const n=[...e.usedInvitesIds,...s.userIds];t("setUsedInvites",{...s,userIds:n})}))},loadMoreUnusedInvites({commit:t,state:e},s){return(0,_u.iX)(s).then((s=>{const n=[...e.unusedInvitesIds,...s.inviteIds];t("setUnusedInvites",{...s,inviteIds:n})}))},putInvite({commit:t},e){return(0,_u.HM)(e).then((({inviteCount:e})=>{t("setAvailableInvites",e)}))},revokeInvite({commit:t},{id:e,index:s}){return(0,_u.jA)(e).then((({inviteCount:e})=>{t("setAvailableInvites",e),t("revokeInvite",s)}))},clearState({commit:t}){t("clearState")}}};function vu(t){const e=t?ac.F9:ac.w1,s=t?ac.Ps:ac.Nj;return{addToFavorites:e,removeFromFavorites:s}}const Su={namespaced:!0,state(){return{karmaVotesList:[],karmaVotesPagesCount:null,karmaVotesListLoading:!1,commentsVotesList:[],commentsVotesPagesCount:null,commentsVotesListLoading:!1,postsVotesList:[],postsVotesPagesCount:null,postsVotesListLoading:!1,userVotesList:[],userVotesPagesCount:null,userVotesListLoading:!1}},mutations:{setKarmaVotesListLoading(t,e){t.karmaVotesListLoading=e},setKarmaVotes(t,{votes:e,pagesCount:s}){t.karmaVotesList=e,t.karmaVotesPagesCount=s},setCommentsVotesListLoading(t,e){t.commentsVotesListLoading=e},setCommentsVotes(t,{list:e,pagesCount:s}){t.commentsVotesList=e,t.commentsVotesPagesCount=s},setVotedCommentFavorite(t,{commentId:e,isFavorite:s}){const n=t.commentsVotesList.find((({id:t})=>e===t));n.isFavorite=s},setPostsVotesListLoading(t,e){t.postsVotesListLoading=e},setPostsVotes(t,{list:e,pagesCount:s}){t.postsVotesList=e,t.postsVotesPagesCount=s},setBookmarked(t,{articleId:e,shouldBookmarked:s}){const n=t.postsVotesList.find((({id:t})=>t===e));if(!n)return;const{relatedData:i,statistics:a}=n;a.favoritesCount=s?a.favoritesCount+1:a.favoritesCount-1,i.bookmarked=s},setUserVotes(t,{votes:e,pagesCount:s}){t.userVotesList=e,t.userVotesPagesCount=s},setUserVotesListLoading(t,e){t.userVotesListLoading=e}},actions:{loadKarmaVotes({commit:t},{login:e,query:s}){return t("setKarmaVotesListLoading",!0),(0,cc.GL)(e,s).then((e=>{t("setKarmaVotes",e)})).finally((()=>{t("setKarmaVotesListLoading",!1)}))},loadCommentsVotes({commit:t},{login:e,query:s}){return t("setCommentsVotesListLoading",!0),(0,cc.yG)(e,s).then((e=>{t("setCommentsVotes",{list:e.commentIds.map((t=>e.commentRefs[t])),pagesCount:e.pagesCount})})).finally((()=>{t("setCommentsVotesListLoading",!1)}))},setVotedCommentFavorite({commit:t},{publicationId:e,commentId:s,isFavorite:n,isPost:i}){const{addToFavorites:a,removeFromFavorites:o}=vu(i);return n?a({publicationId:e,commentId:s}).then((()=>{t("setVotedCommentFavorite",{commentId:s,isFavorite:n})})):o({publicationId:e,commentId:s}).then((()=>{t("setVotedCommentFavorite",{commentId:s,isFavorite:n})}))},loadPostsVotes({commit:t},{login:e,query:s}){return t("setPostsVotesListLoading",!0),(0,cc.Hm)(e,s).then((e=>{t("setPostsVotes",{list:e.articleIds.map((t=>e.articleRefs[t])),pagesCount:e.pagesCount})})).finally((()=>{t("setPostsVotesListLoading",!1)}))},loadUserVotes({commit:t},{login:e,query:s}){return t("setUserVotesListLoading",!0),(0,cc.Yv)(e,s).then((e=>{t("setUserVotes",e)})).finally((()=>{t("setUserVotesListLoading",!1)}))}}},fu={namespaced:!0,state(){return{authorRefs:{},authorIds:{},pagesCount:{},authorProfiles:{},userHubs:{},userInvitations:{},authorFollowers:{},authorFollowed:{},userSpecialization:{},karmaStats:[],statistics:null,isLoading:!1,authorFollowersLoading:!1,authorFollowedLoading:!1,userHubsLoading:!1,userInvitationsLoading:!1,route:{}}},getters:{getUserByAlias:t=>e=>t.authorRefs[e.toLowerCase()]||null,getProfileInfo:t=>e=>t.authorProfiles[e.toLowerCase()]||null,getUserInvitations:t=>e=>t.userInvitations[e.toLowerCase()]||null,getUserHubs:t=>e=>t.userHubs[e.toLowerCase()]||null,getUserSpecialization:t=>e=>t.userSpecialization[e.toLowerCase()]||null},mutations:{setAuthorRefs(t,e){t.authorRefs={...t.authorRefs,...e}},setAuthorIds(t,{routeKey:e,authorIds:s}){t.authorIds={...t.authorIds,[e]:s}},setUserInfo(t,{userAlias:e,userData:s}){const n=e.toLowerCase();t.authorRefs={...t.authorRefs,[n]:{...t.authorRefs[n],...s}}},setUserKarmaData(t,{userAlias:e,karmaData:s}){t.authorRefs={...t.authorRefs,[e]:{...t.authorRefs[e],scoreStats:s.scoreStats,relatedData:{...t.authorRefs[e].relatedData,vote:s.vote}}}},setProfileInfo(t,{profileData:e,userAlias:s}){t.authorProfiles={...t.authorProfiles,[s]:{...t.authorProfiles[s],...e}}},setPagesCount(t,{routeKey:e,pagesCount:s}){t.pagesCount={...t.pagesCount,[e]:s}},clearAuthors(t,e){t.authorIds[e]&&(t.authorIds[e]=[])},setLoading(t,e){t.isLoading=e},setRouteCache(t,e){t.route.name=e.name,t.route.params=e.params,t.route.query=e.query},setSubscriptionStatus(t,{alias:e,isSubscribed:s}){t.authorRefs[e.toLowerCase()].relatedData.isSubscribed=s},setFollowersCount(t,{alias:e,count:s}){t.authorRefs[e].followStats.followersCount=s},setUsersStatisticsData(t,e){t.statistics=e},setUsersKarmaStatsData(t,e){t.karmaStats=e},setUserFollowers(t,{alias:e,data:s}){t.authorFollowers={...t.authorFollowers,[e]:s}},setUserFollowersLoading(t,e){t.authorFollowersLoading=e},setUserFollowed(t,{alias:e,data:s}){t.authorFollowed={...t.authorFollowed,[e]:s}},setUserFollowedLoading(t,e){t.authorFollowedLoading=e},setUserInvitationsLoading(t,e){t.userInvitationsLoading=e},setUserInvitations(t,{invitations:e,alias:s,page:n}){const i=t.userInvitations[s]||{},a=i.invitationsRefs||{};t.userInvitations={...t.userInvitations,[s]:{invitationsRefs:{...a,...e.userRefs},pagesCount:e.pagesCount,currentPage:n}}},setUserHubsLoading(t,e){t.userHubsLoading=e},setUserSpecialization(t,{specialization:e,alias:s}){t.userSpecialization={...t.userSpecialization,[s]:e}},setUserHubs(t,{hubs:e,alias:s,page:n}){const i=t.userHubs[s]||{},a=i.hubRefs||{};t.userHubs={...t.userHubs,[s]:{hubRefs:{...a,...e.hubRefs},pagesCount:e.pagesCount,currentPage:n}}}},actions:{loadUserInfo({commit:t,state:e,rootGetters:s},{alias:n,snippet:i,force:a}){const o=n.toLowerCase(),r=e.authorRefs[o],l=s["pullRefresh/getRefreshState"],c=s["i18n/langOptions"],m=s["me/userAlias"],u=m?m.toLowerCase():null,d=s["me/isLoggedIn"],p=o===u;if(r&&r.counterStats&&!l&&!a)return Promise.resolve(r);if(i&&!a){const e=i.alias.toLowerCase();return t("setUserInfo",{userAlias:e,userData:i}),i}return Promise.all([(0,cc.bG)(n,c),...d&&!p?[(0,cc.jS)(n)]:[]]).then((([e,s])=>{const n=e.alias.toLowerCase(),a={...r,...i,...e,note:s};return t("setUserInfo",{userAlias:n,userData:a}),a}))},loadUserSpecialization({commit:t,state:e},{alias:s}){const n=s.toLowerCase(),i=e.userSpecialization[n];return i?Promise.resolve(i):(0,cc.Es)(n).then((e=>{t("setUserSpecialization",{specialization:e,alias:n})})).catch((t=>{throw t}))},loadUserInvitations({commit:t,state:e},{alias:s,page:n=1}){const i=s.toLowerCase(),a=e.userInvitations[i];return a&&a.currentPage>=n?Promise.resolve(a):(t("setUserInvitationsLoading",!0),(0,cc.OR)(i,{page:n}).then((e=>{t("setUserInvitations",{invitations:e,alias:i,page:n}),t("setUserInvitationsLoading",!1)})).catch((e=>{throw t("setUserInvitationsLoading",!1),e})))},loadUserHubs({commit:t,state:e},{alias:s,page:n=1}){const i=s.toLowerCase(),a=e.userHubs[i];return a&&a.currentPage>=n?Promise.resolve(a):(t("setUserHubsLoading",!0),(0,cc.YI)(i,{page:n}).then((e=>{t("setUserHubs",{hubs:e,alias:i,page:n})})).finally((()=>{t("setUserHubsLoading",!1)})))},loadProfileInfo({commit:t,state:e,rootGetters:s},n){const i=s["i18n/langOptions"],a=e.authorProfiles[n],o=s["pullRefresh/getRefreshState"];return a&&!o?Promise.resolve(a):Promise.all([(0,cc.Lt)(n,i),(0,cc.LD)(n)]).then((([s,i])=>{const a=n.toLowerCase(),o={...e.authorProfiles[a],...s,companies:i};return t("setProfileInfo",{profileData:o,userAlias:a}),s}))},searchUsers({state:t,commit:e},{route:s}){const n={...s.query,page:s.params.pageNum||1},i=(0,Dn.Z)(s),a=t.authorIds[i],o=Boolean(Object.keys(s.query).length),r=JSON.stringify(t.route.query)===JSON.stringify(s.query),l=JSON.stringify(t.route.params)===JSON.stringify(s.params);return!!(r&&a&&l)||(o&&!r&&e("clearAuthors",i),e("setLoading",!0),(0,cc.d9)(n).then((({userRefs:t,userIds:n,pagesCount:a})=>(e("setAuthorRefs",t),e("setAuthorIds",{routeKey:i,authorIds:n}),e("setPagesCount",{routeKey:i,pagesCount:a}),e("setRouteCache",s),e("setLoading",!1),{userRefs:t,userIds:n,pagesCount:a}))))},loadUsers({state:t,commit:e,rootGetters:s},{route:n}){const i={...n.query,page:n.params.pageNum||1},{q:a}=n.query,o=(0,Dn.Z)(n),r=t.authorIds[o],l=Boolean(Object.keys(n.query).length),c=JSON.stringify(t.route.query)===JSON.stringify(n.query),m=n.params.hubName||n.params.flowName;if(r&&r.length&&c&&!a&&!m)return!0;(l&&!c||m)&&e("clearAuthors",o),e("setLoading",!0);let u=a?cc.d9:cc.Fp;const d=[{...i,...s["i18n/langOptions"]}];return a||(n.params.flowName&&(u=zc,d.unshift(n.params.flowName)),n.params.hubName&&(u=Qc.yp,d.unshift(n.params.hubName))),u(...d).then((({authorRefs:t,authorIds:s,userRefs:i,userIds:r,pagesCount:l})=>{e("setAuthorRefs",t||i),e("setAuthorIds",{routeKey:o,authorIds:s||r}),e("setPagesCount",{routeKey:o,pagesCount:a?1:l}),e("setRouteCache",n),e("setLoading",!1)}))},toggleSubscribeStatus({commit:t},{alias:e,isSubscribed:s}){return t("setSubscriptionStatus",{alias:e,isSubscribed:!s}),(0,cc.JI)(e).then((({isSubscribed:s})=>{t("setSubscriptionStatus",{alias:e,isSubscribed:s})}))},updateFollowersCounter({commit:t,state:e},s){const n=s.toLowerCase(),{isSubscribed:i}=e.authorRefs[n].relatedData,{followersCount:a}=e.authorRefs[n].followStats,o=i?a+1:a-1;t("setFollowersCount",{alias:n,count:o})},addUserNote({commit:t,state:e},{alias:s,note:n}){return(0,cc.C1)(s,{text:n.text}).then((n=>{const i=s.toLowerCase(),a={...e.authorRefs[i],note:n};t("setUserInfo",{userAlias:i,userData:a})}))},updateKarmaInfo({commit:t},{userAlias:e,karmaData:s}){const n=e.toLowerCase();t("setUserKarmaData",{userAlias:n,karmaData:s})},loadUsersStatistics({state:t,commit:e}){return t.statistics?t.statistics:(0,cc.xS)().then((t=>(e("setUsersStatisticsData",t),t)))},loadKarmaStats({state:t,commit:e}){return t.karmaStats.length?Promise.resolve():(0,cc.xm)().then((t=>e("setUsersKarmaStatsData",t)))},loadUserFollowers({commit:t},e){const s=e.params.login.toLowerCase(),n=e.params.pageNum||1;return t("setUserFollowersLoading",!0),(0,cc.dX)(s,{page:n}).then((e=>{t("setUserFollowers",{alias:s,data:e}),t("setUserFollowersLoading",!1)}))},loadUserFollowed({commit:t},e){const s=e.params.login.toLowerCase(),n=e.params.pageNum||1;return t("setUserFollowedLoading",!0),(0,cc.Ct)(s,{page:n}).then((e=>{t("setUserFollowed",{alias:s,data:e}),t("setUserFollowedLoading",!1)}))}}};var Eu=s(64198),Iu=s(11943);const Cu={namespaced:!0,state(){return{prevScrollY:{},scrollY:0,width:0}},mutations:{setPrevScrollY(t,{prevScrollY:e,fullPath:s}){t.prevScrollY[s]=e},setScrollY(t,e){t.scrollY=e},setWidth(t,e){t.width=e}},actions:{init({commit:t}){t("setWidth",window.innerWidth),window.addEventListener("resize",(()=>{t("setWidth",window.innerWidth)})),(0,Eu.fE)((()=>{(0,fc.AD)().then((e=>t("setScrollY",e)))}))},restorePrevScrollY({state:t},{fullPath:e}){t.prevScrollY[e]&&(0,Iu.X5)(t.prevScrollY[e])},setPrevScrollY({commit:t,state:e},{fullPath:s}){t("setPrevScrollY",{prevScrollY:e.scrollY,fullPath:s})}}};var Au=s(71398);const bu={namespaced:!0,state(){return{WYSIWYGRulesRefs:null}},mutations:{setWYSIWYGRulesRefs(t,e){t.WYSIWYGRulesRefs=e}},actions:{async getWYSIWYGRulesRefsIfNotExist({commit:t,state:e}){if(!e.WYSIWYGRulesRefs){const{wysiwygRuleRefs:e}=await(0,Au.e)();t("setWYSIWYGRulesRefs",e)}}}},yu={adblock:Lc,articlesList:qc,authorContribution:Jc,betaTest:lm,authorStatistics:tm,career:mm,comments:_c,companies:um,companyAdmin:gm,companiesContribution:dm,companyHubsContribution:vm,conversation:Sm,conversations:fm,docs:bm,feature:Lm,flows:Mm,global:Rm,hubs:km,hubsBlock:wm,i18n:$m,info:Vm,location:Hm,me:hu,modal:Gm,mostReadingList:Wm,ppa:Ym,projectsBlocks:jm,promoData:Km,pullRefresh:zm,sandbox:Xm,search:Jm,settingsOther:eu,similarList:su,ssr:nu,stories:au,technotext:ou,userHubsContribution:gu,userInvites:Tu,userVotes:Su,users:fu,viewport:Cu,tracker:pu,events:Pm,wysiwyg:bu};function Pu(){return new h.ZP.Store({modules:yu})}n["default"].use(h.ZP);const Lu=()=>({computed:{...(0,h.Se)("i18n",["langOptions","msg"])}});var Ou=s(19682);function Nu(t){const{features:e}=this.$root;return t in e?e[t]:(0,Ou.getFeatureStatusFromEnv)(t)}function Mu(t,e){return t&&!e}function Ru(t,e,s={}){const n=(0,Xn.c)(),i=()=>[n.value,t()];return this.$watch(i,(([t,n],[i,a]=[])=>{var o;const r=null===(o=s.equals)||void 0===o?void 0:o.call(s,n,a);if(!t)return;const l=s.immediate&&Mu(t,i);l?e(n,a):r||e(n,a)}),s)}function ku(t=as,e){const s=Pu(),i=nc(s);i.onReady((()=>_s(i,s)),(t=>{throw t}));const a=new n["default"]({router:i,store:s,render:s=>s(t,{props:e})});return{app:a,router:i,store:s}}n["default"].use(c.Z),n["default"].use(d()),n["default"].mixin(Lu()),n["default"].use(m.ZP),n["default"].config.productionTip=!1,n["default"].prototype.$getFeatureFlag=Nu,n["default"].prototype.$activeWatch=Ru;const wu=(t,e)=>{const s=[],n=t[e];return Array.isArray(n)?s.push(...n):n&&s.push(n),s},Bu={created(){const{asyncData:t}=this.$options;if(!t)return;const e=this;this.$fetchState=n["default"].observable({_isFetching:!1,_isWaitingForGuards:!1,get isLoading(){return e.$fetchState._isFetching&&e.$fetchState._isWaitingForGuards},error:null});const s=()=>{const e=this.$route,s=this.$store;this.$fetchState._isFetching=!0,this.$fetchState._isWaitingForGuards=!0,this.dataPromise=t.call(this,{store:s,route:e,redirect:ce.redirect,notFound:ce.notFound,forbidden:ce.forbidden}).then((()=>{this.$store.dispatch("ssr/markDataLoaded"),this.$store.dispatch("pullRefresh/toggleRefresh",!1),this.$fetchState._isFetching=!1,this.$fetchState._isWaitingForGuards=!1;const t=wu(this.$options,"afterAsyncData");if(!t||0===t.length)return;this.$fetchState._isWaitingForGuards=!0;const n=i=>{if(i)return this.$fetchState._isWaitingForGuards=!1,void this.$router.push(i);const a=t.shift();a?a({store:s,route:e,next:n}):this.$fetchState._isWaitingForGuards=!1};n()})).catch((t=>{if(this.$fetchState._isFetching=!1,this.$fetchState._isWaitingForGuards=!1,this.$fetchState.error=t,t instanceof ce.TemporaryMoved)return this.$router.push(t.path);if(t instanceof ce.ForbiddenError||t instanceof ce.NotFoundError)return s.dispatch("ssr/showError",{error:t});this.$store.dispatch("ssr/showError",{error:t}),this.$store.dispatch("ssr/markDataLoaded");const e=(0,ce.isPPGError)(t);if(e){this.$store.dispatch("me/setPPGDemanded",!0);const{program:e}=t.data,s="comments"===e?"PPG_COMMENTS":"PPG_SMILES";this.$router.push({name:s})}}))},{hasHydrated:i}=this.$root.$children[0],a=this.$vnode.elm&&this.$vnode.elm.dataset&&this.$vnode.elm.dataset.asyncCalled;!i||a?this.dataPromise=Promise.resolve():s(),this.$watch((()=>this.$store.getters["pullRefresh/getRefreshState"]),(t=>{const e=this._inactive;t&&!e&&s()}))}};var Du=s(98367),xu=s(95916),$u=s(66482),Uu=s(77208);function Fu(t){const e=[];return(0,$u.shouldPolyfill)()&&e.push(s.e(9616).then(s.bind(s,38210)),s.e(9616).then(s.t.bind(s,1329,23)),s.e(9616).then(s.t.bind(s,66037,23))),(0,Uu.shouldPolyfill)()&&(e.push(s.e(9616).then(s.bind(s,74462))),"ru"===t?e.push(s.e(9616).then(s.t.bind(s,45542,23))):e.push(s.e(9616).then(s.t.bind(s,17689,23)))),e}function Vu(t){let e=Promise.resolve();return(0,xu.shouldPolyfill)()&&(e=s.e(9616).then(s.bind(s,31942))),e.then((()=>Promise.all(Fu(t))))}var Hu=s(13869);function Gu(){let t=Promise.resolve();return(0,Hu.Z)()||(t=Promise.all([s.e(1830).then(s.t.bind(s,39989,23)),s.e(2341).then(s.t.bind(s,55594,23)).then((t=>{window.fetchStream=t.default}))])),t}var Wu=s(95205);"serviceWorker"in navigator&&(0,Wu.z)("https://habr.com/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});const Zu=(t,e)=>!e.some((e=>e.type===t.type&&e.content===t.content))&&t,Yu={closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!1,position:"top-center",draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:!1,newestOnTop:!0,icon:!1,filterBeforeCreate:Zu};n["default"].use(i.ZP,Yu);const qu=t=>{const e=(0,Du.Z)();t.state.global.device!==e&&t.dispatch("global/setDevice",{device:e})},ju=!0,{app:Ku,router:zu,store:Qu}=ku(),Xu=t=>{ju?(0,Om.T)(t):console.error(t)};window.__INITIAL_STATE__&&(Qu.replaceState(window.__INITIAL_STATE__),window.__INITIAL_STATE__=null),window.addEventListener("resize",r()((()=>qu(Qu)),100),!1),Qu.state.global.isPwa&&"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((t=>{t.active.postMessage({runCache:!0})})),a.av({username:Qu.state.me.user?Qu.state.me.user.alias:"HABR_GUEST"});const{hl:Ju}=Qu.state.i18n;n["default"].mixin(Bu),Ku.$root.features=(0,Ou.parseFeaturesSettings)((0,l.ej)("features")||""),Promise.all([window.i18nFetch,Vu(Ju),Gu(),Qu.dispatch("adblock/findOutAdblockStatus")]).then((([t])=>{re(t),zu.onReady((()=>{Ku.$mount("#app"),qu(Qu)}),(t=>{throw t}))})),zu.onError=t=>Xu(t),window.onerror=t=>Xu(t),window.onunhandledrejection=({reason:t})=>Xu(t)},48001:(t,e,s)=>{"use strict";function n(){return!0}s.d(e,{sK:()=>i});const i={required:!0,type:Object,validator:n}},23159:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});var n=s(24646);function i(t){return(0,n.HD)(t.alias)&&((0,n.HD)(t.avatarUrl)||null===t.avatarUrl||(0,n.HD)(t.image))}const a={required:!0,type:Object,validator:i}},37522:(t,e,s)=>{"use strict";s.d(e,{T:()=>p});var n=s(20144),i=s(14621),a=s(40802),o=s(53610),r=s(12699),l=s(64517),c=s(9827),m=s(95595),u=s.n(m);const d=!0;function p(t){"string"!==typeof t?"TimeoutError"!==t.name?(a.e((t=>{t.setTag("app_version","2.165.0")})),a.Tb(t)):a.$e((e=>{e.setFingerprint(["TimeoutError"]),a.Tb(t)})):a.$e((e=>{e.setLevel("info"),a.uT(t)}))}i.S1({...u(),dsn:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",environment:"production",release:"2024-02-09-14-07",integrations:[new o.I,new r.S,new l.m,new c.w({Vue:n["default"],attachProps:!0})],whitelistUrls:d?[/https?:\/\/((www)\.)?(m\.)?habr\.com/,"https://assets.habr.com/habr-web/"]:[]})},95936:(t,e,s)=>{"use strict";s.d(e,{Q:()=>i});var n=s(23009);const i=(t,e,s)=>{const i=(0,n.o)(t),a="news"===t.postType,o="megaproject"===t.postType,r=t.hubs.filter((t=>"corporative"===t.type)),l=r.length&&r[0].alias;let c=`/${s}/articles/${e}/`;return a&&(c=`/${s}/news/${e}/`),t.isCorporative&&(c=`/${s}/companies/${l}/articles/${e}/`),a&&t.isCorporative&&(c=`/${s}/companies/${l}/news/${e}/`),i&&(c=`/${s}/posts/${e}/`),i&&t.isCorporative&&(c=`/${s}/companies/${l}/posts/${e}/`),o&&(c=`/${s}/specials/${e}/`),c}},69325:(t,e,s)=>{"use strict";s.d(e,{r:()=>n});const n=t=>[{label:t("NAV_COMPLEXITY"),value:"ARTICLES_LIST_COMPLEXITY",children:[{label:t("NAV_ALL"),params:{}},{label:t("NAV_COMPLEXITY_LOW"),params:{complexity:"easy"}},{label:t("NAV_COMPLEXITY_MEDIUM"),params:{complexity:"medium"}},{label:t("NAV_COMPLEXITY_HIGH"),params:{complexity:"hard"}}]}]},40759:(t,e,s)=>{"use strict";s.d(e,{e:()=>i});var n=s(3682);const i={bind(t){(0,n.Z)(t)},inserted(t){n.Z.update(t)},update(t){n.Z.update(t)},unbind(t){n.Z.destroy(t)}}},65873:(t,e,s)=>{"use strict";s.d(e,{P:()=>n});const n=(t,e)=>{const s=Object.keys(e),n=[];return s.forEach((s=>{const i=e[s];if(i)if(Array.isArray(i))i.forEach((e=>{n.push(`${t}_${s}-${e}`)}));else{const e="boolean"===typeof i?s:`${s}-${i}`;n.push(`${t}_${e}`)}})),[t,n]}},89029:(t,e,s)=>{"use strict";function n(t){return t?"https://career.habr.com/companies/{company}/vacancies".replace("{company}",t):"https://career.habr.com/catalog"}function i(t){return t?"https://career.habr.com/education_centers/{company}/active_courses".replace("{company}",t):"https://career.habr.com/education_centers"}s.d(e,{B:()=>i,M:()=>n})},28374:(t,e,s)=>{"use strict";function n(t,e=!1){const s=t.params.flowName||t.params.hubName||t.params.login||t.params.name;let n=t.name;const i=!e&&t.params.pageNum&&1!==t.params.pageNum?t.params.pageNum:null,a=t.params.score,o=t.params.period,r=t.params.complexity,l=t.params.categoryAlias,c=t.params.nomination,m=t.params.year,u=[s,a,o,i,r,l,c,m].filter(Boolean);return n=u.length?`${n}_${u.join("_")}`:n,n.toUpperCase()}s.d(e,{Z:()=>n})},27683:(t,e,s)=>{"use strict";s.d(e,{O:()=>a});var n=s(28287);const i=(t,e)=>{const s=t.parentElement&&"FIGURE"===t.parentElement.tagName,n=t.getAttribute("inline");if((s||n)&&(t.setAttribute("src","/img/no-image.png"),t.setAttribute("width",24),t.setAttribute("height",24),t.setAttribute("title",e),t.removeAttribute("data-blurred"),s)){const s=document.createElement("div");s.setAttribute("class","tm-empty-image");const n=document.createElement("span");n.innerText=e,s.append(t.cloneNode(!0)),s.append(n),t.replaceWith(s)}},a=(t,e)=>{const s=(0,n.Jx)(t),a=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){let s=t.target,i=new Image;const o=(0,n.V0)(s.getAttribute("data-src")||s.src);i.setAttribute("src",o);const r=()=>{"/img/image-loader.svg"===s.getAttribute("src")&&s.removeAttribute("src"),s.setAttribute("src",o);const t=s.getAttribute("data-width");t&&s.setAttribute("width",t),setTimeout((()=>{s.removeAttribute("data-blurred"),i.removeEventListener("load",r),i.removeEventListener("error",l),i=null,s=null}),0)},l=()=>{s.setAttribute("src",null),s.setAttribute("alt",e),s.removeAttribute("data-blurred"),i.removeEventListener("load",r),i.removeEventListener("error",l),i=null,s=null};i.addEventListener("load",r),i.addEventListener("error",l),a.unobserve(t.target)}}))}),{rootMargin:"500px"});return s.forEach((t=>{const s=t.getAttribute("data-src"),n=t.getAttribute("src");if(n||i(t,e),s){const e=s.split(".").pop(),n=["jpg","jpeg"];-1!==n.indexOf(e)&&a.observe(t)}})),()=>a.disconnect()}},98339:(t,e,s)=>{"use strict";function n(t){if(!t)throw new Error("Missed spoilerBlock param!");const e=t.querySelector(".spoiler_title"),s=()=>{t.classList.toggle("spoiler_open")};return e.addEventListener("click",s),()=>{e.removeEventListener("click",s)}}s.d(e,{y:()=>l});const i=()=>s.e(7417).then(s.bind(s,90401)),a=t=>i().then((e=>e.default(t)));function o(t){const e=document.createElement("div");e.className="table table_wrapped",e.appendChild(t.cloneNode(!0)),t.parentNode.replaceChild(e,t)}function r(t){const e=document.createElement("iframe"),s=t.getAttribute("id");e.setAttribute("frameborder",0),e.setAttribute("scrolling","no"),e.setAttribute("allowfullscreen",!0);const n=t.getAttribute("data-src");if(n&&e.setAttribute("src",n),e.setAttribute("style",t.getAttribute("data-style")),e.setAttribute("width",t.getAttribute("width")),e.setAttribute("id",s),t.parentNode.replaceChild(e,t),s.match(/^habrQuiz\d+$/)){var i,a;const t=s.replace("habr","init");null===(i=(a=window)[t])||void 0===i||i.call(a)}}const l=t=>{const e=t.querySelectorAll(".tm-iframe_temp"),s=t.querySelectorAll("table"),i=t.querySelectorAll("pre code"),l=t.querySelectorAll("div.spoiler");i.length&&[...i].forEach(a),l.length&&[...l].forEach(n),e.length&&[...e].forEach(r),s.length&&[...s].forEach(o)}},13869:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});var n=s(77945);function i(){return n.Qg&&!n.Cg&&window.ReadableStream}},22827:(t,e,s)=>{"use strict";s.d(e,{Hs:()=>c,Lr:()=>m,Yw:()=>l});var n=s(52322);const i="light",a="system",o="dark",r="theme";function l(){return(0,n.ej)(r)?(0,n.ej)(r):i}function c(t){(0,n.d8)(r,t,{expires:365})}function m(t){const e=document.querySelector("#dark-colors"),s=document.querySelector("#light-colors");t===a?(s.media="(prefers-color-scheme: light)",s.disabled=!1,e.media="(prefers-color-scheme: dark)",e.disabled=!1):t===i?(s.media="all",s.disabled=!1,e.media="not all",e.disabled=!0):t===o&&(e.media="all",e.disabled=!1,s.media="not all",s.disabled=!0)}},61424:(t,e,s)=>{"use strict";s.d(e,{_6:()=>a,dE:()=>l,ev:()=>o,ve:()=>r});var n=s(83049);function i(t){Object.assign(t.meta,{isRedirected:!0})}function a(t){Object.assign(t.meta,{isRedirected:!1})}function o(t){var e;return null===(e=t.meta)||void 0===e?void 0:e.isRedirected}function r(t){var e;return!1===(null===(e=t.meta)||void 0===e?void 0:e.isRedirected)}function l(t,e,s){t.hash&&(0===t.hash.indexOf("#comment")||(0,n.rG)(t.hash))&&i(t),s()}},15466:(t,e,s)=>{"use strict";s.d(e,{J7:()=>S,RC:()=>v,bP:()=>l,lp:()=>f,v2:()=>a});var n=s(66622),i=s(2740);const a=t=>{const[,e]=t.getAttribute("name").split("comment_");return e},o=t=>t.offsetParent,r=()=>{const t=Array.from(document.querySelectorAll("[data-comment-new]"));if(0===t.length)return[];const e=t.filter(o);return 0===e.length?t:e},l=()=>{const t=r();return 0===t.length?null:t[0]},c=()=>Array.from(document.querySelectorAll("[data-selected-comment]")).forEach((t=>{delete t.dataset.selectedComment})),m=t=>{t.dataset.selectedComment="true"},u=t=>{c(),m(t)},d=()=>document.querySelector("[data-selected-comment]"),p=()=>{const{top:t}=document.documentElement.getBoundingClientRect(),e=window.scrollY-Math.abs(t);return e<5},_=()=>{const t=r();if(0===t.length)return null;let e;if(p())e=t.indexOf(d())-1;else{const s=(0,i.p)(t);if(!s)return null;e=t.indexOf(s)-1}return t[e]||t[t.length-1]},h=()=>{const t=r();if(0===t.length)return null;let e;if(p())e=t.indexOf(d())+1;else{const s=(0,i.p)(t);if(!s)return null;const n=0===s.getBoundingClientRect().top,a=t.indexOf(s);e=n?a+1:a}return t[e]||t[0]},g=t=>t?o(t)?t:g(t.parentElement):null,T=t=>e=>{if(e instanceof n.Fv){const e=g(t).querySelector("[data-comment-collapsed-thread]");(0,n.Jn)(e,"start")}},v=t=>{if(t.parentElement){const e=t.parentElement.querySelector("[data-comment-header]");e&&e.focus()}},S=()=>{const t=h();t&&(0,n.Jn)(t).then((()=>{u(t),v(t)})).catch(T(t))},f=()=>{const t=_();t&&(0,n.Jn)(t).then((()=>{u(t),v(t)})).catch(T(t))}},5723:(t,e,s)=>{"use strict";s.d(e,{Cl:()=>a,Hx:()=>n,Ng:()=>i,Yi:()=>o,ZZ:()=>r});const n=300,i=300,a=300,o=300,r=3e3},34073:(t,e,s)=>{"use strict";s.d(e,{X:()=>o});var n=s(8065);const i={ym:"yandex",ga:"google"};function a(t={}){const{analyticsSettings:e=[]}=t;return e.reduce(((t,{type:e,trackingId:s})=>({...t,[i[e]]:s})),{})}function o(t,e){const{settings:s}=t;if(!s)return;const i=a(s);if(!i)return;const{google:o,yandex:r}=i;o&&(0,n.uK)((()=>{(0,n._k)(o,{name:"company"}),(0,n.Z0)({fullPath:e,trackerName:"company",sendYm:!1}),(0,n.gE)("company")})),r&&window.ym&&(window.ym(r,"init",{defer:!0,webvisor:!1,clickmap:!1}),window.ym(r,"hit",e))}},34938:(t,e,s)=>{"use strict";s.d(e,{Kf:()=>l,R0:()=>a,eD:()=>c,fd:()=>i,kM:()=>n,yB:()=>r,yK:()=>o});const n=t=>({name:"ARTICLES_LIST_BY_COMPANY",query:{},params:{name:t}});function i(t){return t&&t.settings&&"expired"===t.settings.status}function a(t,e){if(t&&Array.isArray(t.sectors)){const s=t.sectors.map((({title:t})=>t));return[e,...s].join(", ")}return""}function o(t){return t&&t.metadata&&Array.isArray(t.metadata.keywords)?t.metadata.keywords.join(", "):""}const r=new Date(2018,5,1),l=30,c=["postCount","readingCount","commentsCount","favoritesCount","score"]},85378:(t,e,s)=>{"use strict";function n(t){const e=document.createElement("input");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e)}s.d(e,{Z:()=>n})},8938:(t,e,s)=>{"use strict";function n(t){return t.toISOString().slice(0,10)}function i(t){const e=new Date,s=new Date(e.getTime()-86400*t*1e3);return{date_from:n(s),date_to:n(e)}}function a(t){return+new Date(t)/1e3}function o(t,e){return new Date(t.getTime()+1e3*e*60*60*24)}function r(t){const e=new Date(t);let s=e.getDate();s<10&&(s=`0${s}`);let n=e.getMonth()+1;return n<10&&(n=`0${n}`),`${s}.${n}`}s.d(e,{AH:()=>n,E4:()=>o,Rn:()=>a,ic:()=>i,l4:()=>r})},52717:(t,e,s)=>{"use strict";function n(t){const e="sandbox"===t.postType?"sandbox":"topic";return`https://habr.com/${e}/edit/${t.id}/`}s.d(e,{B:()=>n})},98367:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a,b:()=>o});const n=768,i=1024,a=()=>{const t=window.innerWidth;return t<n?"mobile":t<i?"tablet":"desktop"},o=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},51566:(t,e,s)=>{"use strict";s.d(e,{i:()=>l,y:()=>c});const n=[];let i=!1;const a={LEFT:50,RIGHT:-50};function o(t){return{delta:t,isLeft:t>a.LEFT,isRight:t<a.RIGHT}}function r(t){return{delta:t}}function l(t){if(n.push(t),!i){let t=0;i=!0,window.addEventListener("touchstart",(e=>{const s=e.changedTouches[0];t=s.pageX})),window.addEventListener("touchmove",(e=>{const s=e.changedTouches[0],i=t-s.pageX,a=r(i);n.forEach((t=>t(a)))})),window.addEventListener("touchend",(e=>{const s=e.changedTouches[0];t-=s.pageX;const i=o(t);n.forEach((t=>t(i)))}))}return t}function c(t){let e=null;n.some(((s,n)=>s===t&&(e=n,!0))),null!==e&&n.splice(e)}},77945:(t,e,s)=>{"use strict";s.d(e,{Cg:()=>r,QO:()=>l,Qg:()=>a,W6:()=>o,Yu:()=>c,v9:()=>i});const n="production",i="development"===n,a="undefined"!==typeof window,o="undefined"===typeof window,r="test"===n,l="https://qna.habr.com",c="https://career.habr.com"},36771:(t,e,s)=>{"use strict";s.d(e,{C5:()=>a,JV:()=>o,TU:()=>i,zg:()=>n.getErrorCode});var n=s(26452);function i(t){const e=(0,n.getErrorCode)(t);return"FORM_ERRORS"===e&&t.data?t.data:null}function a(t,e){var s,i;return"FORM_ERRORS"===(0,n.getErrorCode)(t)&&null!==(s=t.data)&&void 0!==s&&null!==(i=s[e])&&void 0!==i&&i.length?t.data[e][0]:null}function o(t){return t&&t.data instanceof Blob?t.data.text().then((t=>JSON.parse(t))):Promise.resolve(t)}},5163:(t,e,s)=>{"use strict";s.d(e,{W:()=>m});const n=["https://habr.com","https://m.habr.com","https://habrahabr.ru","https://habr.com","https://habr.com"];let i=!1,a=!1;function o(t){return["Control","Meta"].includes(t)}function r(t){o(t.key)&&(i=!1)}function l(t){o(t.key)&&(i=!0)}function c(){a||(document.addEventListener("keyup",r),document.addEventListener("keydown",l),a=!0)}const m=(t,e)=>{c();const s=t.querySelectorAll("a");if(!s.length)return()=>{};const a=[];return s.forEach((t=>{if(-1!==n.indexOf(t.origin)&&!t.hash){const s=s=>{1!==s.button&&(i||e(s,t))};t.addEventListener("click",s),a.push((()=>{t.removeEventListener("click",s)}))}})),()=>{a.forEach((t=>t()))}}},13836:(t,e,s)=>{"use strict";let n,i;s.d(e,{O:()=>a,j:()=>o});const a=t=>(n||(n=new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"})),n.format(t)),o=t=>(i||(i=new Intl.NumberFormat("en-US",{useGrouping:!1,signDisplay:"exceptZero"})),i.format(t))},42052:(t,e,s)=>{"use strict";s.d(e,{I$:()=>a,Pr:()=>i,Ro:()=>n,aF:()=>o});const n={post:"tm_block_top_daily_post_post",comment:"tm_block_top_daily_post_comment"},i="tm_block_similar_post_common",a=(t,e)=>{const s="top_daily"===t?"topdaily_post":"similar_post";return`tm_block_${s}_${e}`},o=t=>`tm_block_other_news_${t}`},12066:(t,e,s)=>{"use strict";s.d(e,{s:()=>l});var n=s(30172),i=s(95186),a=s(52997),o=s(20732);const r=t=>{const e=t.getElementsByClassName("gallery-wrapper"),s=[].slice.call(e);return s},l=t=>{n.Z.use([i.Z,a.Z,o.Z]);const e=r(t),s=[],l=[];return e.forEach((t=>{const e=t.querySelector(".thumb-gallery"),i=Array.from(e.querySelectorAll(".swiper-slide")).length>8;e&&!i&&e.classList.add("thumb-gallery_nav_off");const a=new n.Z(e,{spaceBetween:12,slidesPerView:"auto",freeMode:!0,threshold:10,multipleActiveThumbs:!1,watchSlidesProgress:!0,observer:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}});l.push(a);const o=new n.Z(t.querySelector(".gallery"),{slidesPerView:1,spaceBetween:0,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},thumbs:{swiper:a}});s.push(o)})),s}},68668:(t,e,s)=>{"use strict";function n(t){return"a"===t.parentNode.tagName.toLowerCase()}function i(t,e=0){const s=n(t);return!!s||!(e>1)&&i(t.parentNode,e+1)}s.d(e,{N:()=>o});var a=s(28287);const o=t=>(0,a.Jx)(t).filter((t=>!i(t)))},4441:(t,e,s)=>{"use strict";function n(t){if("string"!==typeof t)return null;const e={article:"article",news:"news",post:"post",specials:"specials",megaproject:"specials",sandbox:"sandbox",unknown:"unknown"};return e[t]||null}function i(t){if(!t)return null;const{publicationType:e,postType:s}=t;return e?n(e):s?n(s):null}s.d(e,{T:()=>i})},8065:(t,e,s)=>{"use strict";s.d(e,{IZ:()=>c,Lq:()=>p,Z0:()=>T,_k:()=>d,gE:()=>u,t4:()=>m,uK:()=>l});var n=s(13517);function i(t,e,s){return t?e&&e(t):s&&s()}function a(){const t=(0,n.au)((0,n.j4)());return t?t.path:""}function o(t){const e=(0,n.au)((0,n.j4)());return`${e.protocol}//${e.host}${t}`}const r=new Map,l=(t,e)=>i(window.gtag,t,e);function c(t,e={},s){const n=40;if(t.length>n)throw new Error("eventName should be shorter!");l((n=>{n("event",t,{send_to:r.get(s),...e})}))}function m(t,e){l((s=>{s("set",t,e)}))}function u(t){r.delete(t)}function d(t,e){t&&l((s=>{const n={send_page_view:!1},i=["config",t];if(e){i.push({...n,...e});const s=e.name;s&&r.set(s,t)}else i.push(n);s(...i)}))}function p(t){const{lang:e}=t,s=t.publicationType||t.postType;let n="ugc";return t.isEditorial&&(n="editorial"),t.isCorporative&&(n="corp"),[s,n,e].join("_").replace("megaproject","special")}function _(){const t=window.ym;return Boolean(t)&&"function"===typeof t}function h(){const{location:t,history:e}=window;if(-1!==t.search.indexOf("utm_")){const s=new URL(t),n=Array.from(s.searchParams.keys()).filter((t=>t.startsWith("utm_")));n.forEach((t=>s.searchParams.delete(t))),e.replaceState({},null,s)}}const g="24049213";function T({fullPath:t,trackerName:e,optionalParams:s={},sendYm:n=!0}){const i=t||a(),c="G-S28W1WC23F";l((t=>{t("event","page_view",{page_location:o(i),...s,send_to:e?r.get(e):c})})),_()&&n&&window.ym(g,"hit",i),h()}},75444:(t,e,s)=>{"use strict";s.d(e,{c:()=>c});var n=s(93096),i=s.n(n),a=s(2740);function o(t){return Array.from(document.querySelectorAll(t))}function r(t){t.focus({preventScroll:!0}),window.scrollTo({top:t.offsetTop,behavior:"smooth"})}function l({navigatableSelector:t,onPrevNavigationEnd:e,onNextNavigationEnd:s,onFocusedInteraction:n}){const l=i()(r,400);return{h:()=>{const[s]=o(t);s===document.activeElement?e():l(s)},l:()=>{const e=o(t),n=e[e.length-1];n===document.activeElement?s():l(n)},k:()=>{const s=o(t),{activeElement:n}=document,i=s.indexOf(n),r=-1===i?(0,a.p)(s):s[i-1];r?l(r):e()},j:()=>{const e=o(t),{activeElement:n}=document,i=e.indexOf(n),r=-1===i?(0,a.p)(e):e[i+1];r?l(r):s()},o:()=>{const e=o(t),{activeElement:s}=document,i=e.indexOf(s);-1!==i&&n(document.activeElement)}}}function c({toggleArticleView:t}={}){const e=l({navigatableSelector:"[data-navigatable]",onFocusedInteraction(t){const e=t.querySelector("[data-article-link]");e&&e.click()},onPrevNavigationEnd(){const t=document.querySelector("[data-pagination-prev]");t&&t.click()},onNextNavigationEnd(){const t=document.querySelector("[data-pagination-next]");t&&t.click()}});return t&&(e.t=t),e}},21509:(t,e,s)=>{"use strict";function n(t,e){return Math.floor(t+Math.random()*(e+1-t))}s.d(e,{r:()=>n})},63715:(t,e,s)=>{"use strict";function n(t){return`https://tmtm.ru/megapost/habr/preview/${t}/`}function i(t){return`https://tmtm.ru/megapost/habr/edit/${t}/`}s.d(e,{c:()=>i,w:()=>n})},32057:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});const n="https://habr.com",i=(t,e=n)=>{const s=new URL(t,e);return`${s.origin}${s.pathname}`}},37020:(t,e,s)=>{"use strict";s.d(e,{Uc:()=>i,_B:()=>a,wm:()=>n});const n=(t,e)=>t&&e&&t.id===e.id,i=(t,e)=>t&&e&&t.alias===e.alias,a=t=>JSON.parse(JSON.stringify(t))},23009:(t,e,s)=>{"use strict";s.d(e,{E:()=>o,o:()=>i.a});var n=s(57509),i=s.n(n),a=s(70236);function o(t){return[a.VU.POST,a.VU.POST_OF_COMPANY].includes(t)}},70236:(t,e,s)=>{"use strict";s.d(e,{VU:()=>a,g1:()=>o});var n=s(61424);function i({id:t}){return`/rss/publications/${t}/`}const a={ARTICLE:"PUB_ARTICLE",ARTICLE_COMMENTS:"PUB_ARTICLE_COMMENTS",ARTICLE_OF_COMPANY:"PUB_ARTICLE_OF_COMPANY",ARTICLE_OF_COMPANY_COMMENTS:"PUB_ARTICLE_OF_COMPANY_COMMENTS",ARTICLE_SANDBOX:"PUB_ARTICLE_SANDBOX",NEWS:"PUB_NEWS",NEWS_COMMENTS:"PUB_NEWS_COMMENTS",NEWS_OF_COMPANY:"PUB_NEWS_OF_COMPANY",NEWS_OF_COMPANY_COMMENTS:"PUB_NEWS_OF_COMPANY_COMMENTS",POST:"PUB_POST",POST_OF_COMPANY:"PUB_POST_OF_COMPANY",SPECIAL:"PUB_SPECIAL",SPECIAL_COMMENTS:"PUB_SPECIAL_COMMENTS",SPECIAL_PREVIEW:"PUB_SPECIAL_PREVIEW"};function o(t,e){return{name:t,pathToRegexpOptions:{strict:!0},components:{default:e},props:{default:!0},meta:{pageType:"post",customGA:!0,rssLink:t=>i({id:t.id})},beforeEnter:n.dE}}},79206:(t,e,s)=>{"use strict";s.d(e,{CW:()=>r,I5:()=>T,RC:()=>_,Ro:()=>h,Zl:()=>S,cv:()=>p,dV:()=>d,fM:()=>f,fp:()=>m,k5:()=>g,ms:()=>l,y7:()=>v});var n=s(52717),i=s(23009);const a=t=>{let e=0;return t.content&&t.content.forEach((t=>{t.text&&(e+=t.text.length)})),e},o=1500,r=({json:t})=>{const e=[];if(t){const s=t.content||[];let n=0;for(let t=0;t<s.length;t+=1)if("paragraph"===s[t].type){if(!(n<o))return e;n+=a(s[t]),n>0&&e.push(s[t])}else if(e.length>0)return e}return e},l=({json:t})=>{const e=null;if(t){const e=t.content||[];for(let t=0;t<e.length;t+=1)if("image"===e[t].type)return e[t].attrs.src}return e},c=t=>JSON.parse(localStorage.getItem(t)||"{}"),m=(t,e)=>{const s=c(t);return s[e]},u=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},d=(t,e)=>{const s=c(t);delete s[e],u(t,s)},p=(t,e,s,n,i)=>{const a=c(n),o={};a[e]&&(o[e]=a[e],delete a[e]);const r=Object.keys(a),l=r.sort(((t,e)=>new Date(a[t].savedDate)>new Date(a[e].savedDate)?-1:1)).slice(0,i);l.forEach((t=>{o[t]=a[t]})),u(n,{...o,[s]:t})},_=t=>{const e={};return Object.entries(t).forEach((([t,s])=>{"preview"===t?(s.source&&(e.preview=s.source),s.feedCover&&(e.feedCover=s.feedCover)):e[t]=s})),e},h=new Date;h.setDate((new Date).getDate()+1);const g=t=>{let e;switch(t.postType){case"news":e="PUBLICATION_NEWS_EDIT";break;case"sandbox":e="PUBLICATION_SANDBOX_EDIT";break;default:e="PUBLICATION_ARTICLE_EDIT"}return{name:e,params:{publicationId:t.id}}},T=(t,e)=>{const{relatedData:s,postType:i}=t,a=(null===s||void 0===s?void 0:s.canEdit)&&"megaproject"!==i;if(!a)return;const o=parseInt(t.editorVersion,10),r=2===o,l=(0,n.B)(t);r?e.push(g(t)):window.location=l};function v(t,e){switch(t){case"news":return e("NAV_NEWS");case"posts":return e("NAV_POSTS");default:return e("NAV_ARTICLES")}}function S(t){const{id:e,lang:s}=t;return(0,i.o)(t)?`https://habr.com/${s}/posts/${e}/`:`https://habr.com/p/${e}/`}function f(t,e){return"free_blog"===t.tariffId?t.postsLeft?e("PUBLICATION_HUBS_FREE_BLOG_POSTS_LIMIT",t):e("PUBLICATION_HUBS_FREE_BLOG_POSTS_LIMIT_EXCEEDED",t):t.postsLeft?e("PUBLICATION_HUBS_POSTS_LIMIT",t):e("PUBLICATION_HUBS_POSTS_LIMIT_EXCEEDED",t)}},28287:(t,e,s)=>{"use strict";s.d(e,{Jx:()=>l,V0:()=>m,dv:()=>r});const n="habrastorage.org",i=/\/r\/w\w+\//,a=780,o=[390,780,1560];function r(t,e=120,s=!1){const a=t,o=s?"q1":"",r=a&&"string"===typeof a&&"gif"===t.toLowerCase().split(".").pop();return r?a:a&&-1!==a.indexOf(n)?a.replace(i,"/").replace(`${n}/`,`${n}/r/w${e}${o}/`):a}function l(t){const e=t.getElementsByTagName("img"),s=[].slice.call(e);return s}function c(){if(window){const{innerWidth:t,devicePixelRatio:e}=window,s=t*e,n=o.reduce(((t,e)=>Math.abs(e-s)<Math.abs(t-s)?e:t));return n}return a}function m(t){const e=c();return r(t,e)}},23217:(t,e,s)=>{"use strict";s.d(e,{B5:()=>_,dY:()=>p,de:()=>h,nz:()=>d,uT:()=>u,ym:()=>m});var n=s(70236),i=s(4441);const a={corp:{news:n.VU.NEWS_OF_COMPANY,specials:n.VU.SPECIAL,default:n.VU.ARTICLE_OF_COMPANY,post:n.VU.POST_OF_COMPANY},regular:{sandbox:n.VU.ARTICLE_SANDBOX,specials:n.VU.SPECIAL,news:n.VU.NEWS,post:n.VU.POST,default:n.VU.ARTICLE}};function o({isCorporative:t,postType:e}){const s=t?a.corp:a.regular;return s[e]||s.default}const r={corp:{default:n.VU.ARTICLE_OF_COMPANY_COMMENTS,post:n.VU.POST_OF_COMPANY,news:n.VU.NEWS_OF_COMPANY_COMMENTS},regular:{default:n.VU.ARTICLE_COMMENTS,news:n.VU.NEWS_COMMENTS,specials:n.VU.SPECIAL_COMMENTS,post:n.VU.POST}};function l({isCorporative:t,postType:e}){const s=t?r.corp:r.regular;return s[e]||s.default}function c(t){return t.find((t=>"corporative"===t.type)).alias}function m(t,e){const{hubs:s,id:n,isCorporative:a}=t,o=(0,i.T)(t);return{name:l({isCorporative:a,postType:o}),params:{companyName:a?c(s):null,id:n,hl:e}}}function u(t,e){const{hubs:s,id:n,isCorporative:a}=t,r=(0,i.T)(t);return{name:o({isCorporative:a,postType:r}),params:{companyName:a?c(s):null,id:n,hl:e}}}function d(t){const e=t.flatMap((t=>[t.value,...t.children?d(t.children):[]]));return Array.from(new Set(e))}const p="more-news",_="donate-success",h="donate-failure"},13278:(t,e,s)=>{"use strict";s.d(e,{YL:()=>r,bc:()=>c,qV:()=>l});var n=s(52322),i=s(76721);function a(t){const{period:e,score:s}=t;return(!e||!s)&&(e?["daily","weekly","monthly","yearly","alltime"].includes(e):!s||["0","10","25","50","100"].includes(s))}function o(t){return t.replace(/^\/(en|ru)/,"")}function r({route:t,flowName:e,hubName:s,isNews:r,isPosts:l}){const{location:c,href:m}=t,{params:u}=c;if(!a(u))return;const d=(0,i.buildCookieName)({flowName:e,hubName:s,isNews:r,isPosts:l}),p=o(m);(0,n.d8)(d,p,{expires:365})}function l(t){const{path:e}=t,s=o(e);(0,n.d8)("habr_web_home_feed",s,{expires:365})}function c(t){const e=(0,n.ej)("habr_web_home_feed")||"/all/";return`/${t.hl}${e}`}},83049:(t,e,s)=>{"use strict";s.d(e,{dY:()=>u,fo:()=>m,m2:()=>d,rG:()=>o});var n=s(15870),i=s(15466),a=s(91256);function o(t){return"#first_unread"===t}function r(t){return t.indexOf("#comment_")>-1||o(t)}function l(t){return t.split("#comment_")[1]}const c=12;function m(t){if(!r(t))return Promise.resolve(!1);let e;if(r(t)){const s=l(t);e=`[name="comment_${s}"]`}if(o(t)){const t=(0,i.bP)();t&&(e=`[name="${t.getAttribute("name")}"]`)}return(0,n.br)(e).then((t=>{if(t&&((0,a.Zu)(t,c),t.parentElement)){const e=t.parentElement.querySelector("[data-comment-header]");e&&e.focus()}}))}function u(t){r(t.hash)&&setTimeout((()=>{m(t.hash)}),300)}function d(t){const e=document.querySelector(`[name="comment_${t}"]`),s=document.querySelector("[data-height-limiter]");if(!s)return!0;const n=e.getBoundingClientRect(),i=s.getBoundingClientRect();return n.top+n.height<i.top}},91256:(t,e,s)=>{"use strict";s.d(e,{Ab:()=>c,Ex:()=>l,Zu:()=>r,kI:()=>o});var n=s(11943);const i=200;function a(){const t=document.querySelector("[data-header-sticky]"),e=document.querySelector("[data-menu-sticky]");return e?e.getBoundingClientRect().height:t?t.getBoundingClientRect().height:0}function o(t){const e=t.getBoundingClientRect().top,s=e+(0,n.wA)(),o=a();return o>0?(0,n.X5)(s-o,i):(0,n.X5)(s,i)}function r(t,e=0){const s=t.getBoundingClientRect().top,a=s+(0,n.wA)();return(0,n.X5)(a-e,i)}function l(t){const e=t.getBoundingClientRect().top,s=e+(0,n.wA)();return(0,n.X5)(s,i)}function c(t=document.body){const e=[".base-input__error",".tm-input__error",".tm-md-leadtext__description_error",".editor__error"],s=t.querySelector(e.join(", "));s&&s.scrollIntoView({behavior:"smooth",block:"center"})}},66622:(t,e,s)=>{"use strict";s.d(e,{Fv:()=>o,Jn:()=>c});var n=s(11943);const i=200,a=12;class o extends Error{constructor(){super("Element is not focusable")}}class r extends Error{constructor(){super("Scroll to the element has been prevented")}}const l=t=>new Promise(((e,s)=>{let n;const i=()=>{s(new r),n&&n.disconnect(),window.removeEventListener("wheel",i)};n=new IntersectionObserver((t=>{const[s]=t;s.isIntersecting&&(e(),n.disconnect(),window.removeEventListener("wheel",i))})),n.observe(t),window.addEventListener("wheel",i)})),c=t=>new Promise(((e,s)=>{if(null===t.offsetParent)return void s(new o);const{top:r}=t.getBoundingClientRect();if(0===r)return void e(!0);const c=t.getBoundingClientRect().top,m=c+(0,n.wA)();(0,n.X5)(m-a,i),e(l(t))}))},7748:(t,e,s)=>{"use strict";function n(t){const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""}function i(t){return t.replace(/(<([^>]+)>)/gi,"")}s.d(e,{V:()=>n,_:()=>i})},4249:(t,e,s)=>{"use strict";s.d(e,{z:()=>i});const n={USD:"$",RUB:"₽",EUR:"€"},i={location(t,e){return t.remoteFriendly?e("VACANCY_REMOTE_FRIENDLY"):t.location},salary(t,e){if(!t.salary)return e("VACANCY_NEGOTIATED_SALARY");const{from:s,to:i,currency:a}=t.salary,o=n[a];return s?i?e("VACANCY_SALARY",{from:s,to:i,currency:o}):e("VACANCY_SALARY_FROM",{from:s,currency:o}):e("VACANCY_SALARY_TO",{to:i,currency:o})},tags(t){const e=[];return t.qualification&&e.push(t.qualification),e.push(...t.divisions.map((t=>t.title)),...t.properties),e}}},59436:(t,e,s)=>{"use strict";s.d(e,{H:()=>i,o:()=>n});const n=t=>e=>t.includes(e),i=t=>e=>!e||n(t)(e)},2740:(t,e,s)=>{"use strict";function n(t){return t.map((t=>[t,t.getBoundingClientRect()])).reduce(((t,e)=>Math.abs(e[1].top)<Math.abs(t[1].top)?e:t))[0]}s.d(e,{p:()=>n})},69811:(t,e,s)=>{"use strict";s.d(e,{ZI:()=>E,Hm:()=>T,Q:()=>f,Cm:()=>I});var n=s(9669),i=s.n(n),a=s(80129),o=s.n(a);const r=t=>{const e=new URL(t.url);return"https://habr.com"!==e.origin?t:{...t,headers:{...t.headers,"x-app-version":"2.165.0"}}};var l=s(77945),c=s(52322);function m(t){if(!t)return;const e=document.querySelector('meta[name="habr-version"]'),s=e?e.getAttribute("content"):"",[,n]=s.split("."),[,i]=t.split(".");if(i-n>1){const t=(0,c.ej)("target-minor-version");t&&t===i||((0,c.d8)("target-minor-version",i,{expires:30}),window.location.reload(!0))}if(i!==n){const t=new CustomEvent("showRefreshNotice");document.dispatchEvent(t)}}function u(t){if(t){const e=new CustomEvent("showCacheNotice",{detail:t});document.dispatchEvent(e)}else{const t=new CustomEvent("hideCacheNotice");document.dispatchEvent(t)}}const d=(t={})=>({...t,withCredentials:!0});function p(t,e,s){this.name=this.constructor.name,this.message=t.message,Object.assign(this,t),this.stack=s||e.stack||(new Error).stack}i().interceptors.request.use(r),p.prototype=Object.create(Error.prototype),p.prototype.constructor=p;const _=(t,e)=>{const{response:s}=t;return s?s.data&&s.data.message?new p(s.data,t,e):new p(t.response,t,e):t},h=(t,e)=>e<2&&(!t.response||408===t.response.status);function g(t){!l.v9&&l.Qg&&(m(t["server-habr-version"]),u(t["x-sw-cache"]))}function T(t,e={},s=0,n=!0,a="json"){const r={responseType:a,params:{...e},paramsSerializer:t=>o().stringify(t,{arrayFormat:"indices"})},l=n?d(r):r,{stack:c}=new Error;return i().get(t,l).then((t=>(g(t.headers),t.data))).catch((i=>{if(h(i,s))return new Promise((i=>setTimeout((()=>i(T(t,e,s+1,n),2e3)))));throw _(i,c)}))}function v(){const t=document.querySelector('meta[name="csrf-token"]');return t&&t.getAttribute("content")}function S(){const t=v(),e=t?{headers:{"csrf-token":t}}:{};return e}function f(t,e={},s=!0,n=!0){const a=n?S():{},o=s?d(a):a,{stack:r}=new Error;return i().post(t,e,o).then((t=>(g(t.headers),t.data))).catch((t=>{throw _(t,r)}))}function E(t,e={},s=!0,n=!0){const{stack:a}=new Error,o=n?S():{},r=s?d(o):o;return i()({method:"DELETE",url:t,data:e,...r}).then((t=>t.data)).catch((t=>{throw _(t,a)}))}function I(t,e={},s=!0,n=!0){const a=n?S():{},o=s?d(a):a,{stack:r}=new Error;return i()({method:"SEARCH",url:t,data:e,...o}).then((t=>(g(t.headers),t.data))).catch((t=>{throw _(t,r)}))}},2384:(t,e,s)=>{"use strict";s.d(e,{$K:()=>C,Ai:()=>E,Az:()=>u,Dz:()=>L,KZ:()=>O,Mc:()=>_,Oe:()=>o,TH:()=>S,UJ:()=>d,Uj:()=>T,Y9:()=>p,YM:()=>A,Yc:()=>y,bE:()=>g,fo:()=>f,fq:()=>l,hx:()=>N,jL:()=>P,lA:()=>v,mZ:()=>m,rM:()=>a,sI:()=>I,uf:()=>h,vG:()=>c,wZ:()=>b,ws:()=>r,x1:()=>M});var n=s(69811),i=s(54226);function a(t){return(0,n.Hm)((0,i.k)("articles/","v2"),t)}function o(t){return(0,n.Hm)((0,i.k)("articles/drafts","v2"),t)}function r(t){return(0,n.Hm)((0,i.k)("articles/planned","v2"),t)}function l(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/`,"v2"),e)}function c(t,e){return(0,n.Hm)((0,i.k)(`articles/preview/${t}/`,"v2"),e)}function m(t,e="posts"){return(0,n.ZI)((0,i.k)(`articles/drafts/${t}/${e}`,"v2"))}function u(t){if(!t)throw new Error("Article ID is undefined!");return(0,n.Q)((0,i.k)(`articles/${t}/pageview`,"v2"))}function d(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/votes/down`,"v2"),e)}function p(t){return(0,n.Q)((0,i.k)(`articles/${t}/votes/up`,"v2"))}function _(t){return(0,n.Hm)((0,i.k)(`articles/${t}/reasons/stats`,"v2"))}function h(t){return(0,n.Q)((0,i.k)(`articles/${t}/bookmarks`,"v2"))}function g(t){return(0,n.ZI)((0,i.k)(`articles/${t}/bookmarks`,"v2"))}function T(t,e){return(0,n.Q)((0,i.k)(`polls/${t}/vote`,"v2"),e)}function v(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/similar`,"v2"),e)}function S(t){return(0,n.Hm)((0,i.k)("articles/most-reading","v2"),t)}function f(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/complaint`,"v2"),e)}function E(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/misprint`,"v2"),e)}function I(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/recommendation/template`,"v2"),e)}function C(t){return(0,n.Hm)((0,i.k)("refs/post/recommendations","v2"),t)}function A(t){return(0,n.Hm)((0,i.k)("articles/moderation-comments","v2"),t)}function b({articleId:t,email:e,tracker:s}){return(0,n.Q)((0,i.k)(`articles/${t}/subscription`,"v2"),{emailSubscribed:e,trackerSubscribed:s})}function y(t){return(0,n.Q)((0,i.k)(`articles/${t}/rules_remind/`,"v2"))}function P(t){return(0,n.ZI)((0,i.k)(`articles/${t}/rules_remind/`,"v2"))}function L(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/published`,"v2"),e)}function O(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/trackingPix`,"v2"),e)}function N(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/defer`,"v2"),e)}function M(t){return(0,n.Hm)((0,i.k)("shared-count/facebook","v2"),t)}},61823:(t,e,s)=>{"use strict";s.d(e,{BL:()=>C,DF:()=>T,EG:()=>N,F9:()=>V,FI:()=>d,FL:()=>x,ID:()=>o,Ir:()=>u,M1:()=>c,Mi:()=>L,Nj:()=>b,Ps:()=>H,QF:()=>k,SE:()=>M,TH:()=>f,Vy:()=>B,YS:()=>$,ZG:()=>R,ZQ:()=>m,bj:()=>E,eT:()=>w,fX:()=>v,fp:()=>g,j4:()=>r,nE:()=>P,nN:()=>y,oA:()=>U,oP:()=>I,oc:()=>h,pD:()=>l,pu:()=>a,qb:()=>F,sQ:()=>O,w1:()=>A,x1:()=>_,xF:()=>D,yw:()=>S,zT:()=>p});var n=s(69811),i=s(54226);function a(t,e,s){let a=`articles/${t}/comments/`;return s&&(a+="?nocount=1"),(0,n.Hm)((0,i.k)(a,"v2"),e)}function o(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/split/guest`,"v2"),e)}function r(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/split/guest/cache`,"v2"),e)}function l({id:t,hl:e}){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/split/user`,"v2"),{hl:e})}function c(t,e){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/new`,"v2"),e)}function m(t){return(0,n.Hm)((0,i.k)("comments/search","v2"),t)}function u(t,e,s){return(0,n.Q)((0,i.k)(`comments/${s}/${t}/add`,"v2"),e)}function d(t,e,s){return(0,n.Q)((0,i.k)(`comments/${s}/${t}/preview`,"v2"),e)}function p(t){return(0,n.Q)((0,i.k)(`articles/${t}/comments/reset`,"v2"))}function _(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/comments/disable`,"v2"),e)}function h(t){return(0,n.Q)((0,i.k)(`articles/${t}/comments/enable`,"v2"))}function g(t,e,s){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/${e}/source`,"v2"),s)}function T(t,e,s){return(0,n.Q)((0,i.k)(`articles/${t}/comments/${e}`,"v2"),s)}function v(t,e){return(0,n.Q)((0,i.k)(`articles/${t}/comments-suspend/${e}`,"v2"))}function S(t,e,s,a){return(0,n.Q)((0,i.k)(`${a}/${t}/comment-complaint/${e}`,"v2"),s)}function f(t,e,s){const a=s?"approve":"reject";return(0,n.Q)((0,i.k)(`articles/${t}/comments/${e}/moderate/${a}`,"v2"))}function E({postId:t,commentId:e,data:s}){return(0,n.Q)((0,i.k)(`articles/${t}/comments/${e}/votes`,"v2"),s)}function I({postId:t,commentId:e,data:s}){return(0,n.Q)((0,i.k)(`articles/${t}/comments/${e}/pinned`,"v2"),s)}function C(t){return(0,n.Hm)((0,i.k)(`articles/${t}/comments/pinned`,"v2"))}function A({publicationId:t,commentId:e}){return(0,n.Q)((0,i.k)(`articles/${t}/comments/${e}/bookmarks`,"v2"))}function b({publicationId:t,commentId:e}){return(0,n.ZI)((0,i.k)(`articles/${t}/comments/${e}/bookmarks`,"v2"))}function y(t){return(0,n.Q)((0,i.k)(`articles/${t}/comments/read`,"v2"))}async function P({articleId:t,hl:e,cacheKey:s,isPost:n}){const i=new URLSearchParams({hl:e,cacheKey:s,isPost:n}),a=`/ssr/comments/${t}?${i.toString()}`,o=window.fetchStream||fetch,r=await o(a),{body:l,ok:c}=r;return c?l:Promise.reject(r)}function L(t,e,s){let a=`threads/${t}/comments/`;return s&&(a+="?nocount=1"),(0,n.Hm)((0,i.k)(a,"v2"),e)}function O({postId:t,commentId:e,data:s}){return(0,n.Q)((0,i.k)(`threads/${t}/comments/${e}/pinned`,"v2"),s)}function N(t){return(0,n.Hm)((0,i.k)(`threads/${t}/comments/pinned`,"v2"))}function M(t,e,s){return(0,n.Hm)((0,i.k)(`threads/${t}/comments/${e}/source`,"v2"),s)}function R(t,e){return(0,n.Q)((0,i.k)(`threads/${t}/comments-suspend/${e}`,"v2"))}function k(t,e,s){return(0,n.Q)((0,i.k)(`threads/${t}/comments/${e}`,"v2"),s)}function w(t){return(0,n.Q)((0,i.k)(`threads/${t}/comments/read`,"v2"))}function B(t,e){return(0,n.Hm)((0,i.k)(`threads/${t}/comments/new`,"v2"),e)}function D(t,e){return(0,n.Hm)((0,i.k)(`threads/${t}/comments/split/guest`,"v2"),e)}function x(t,e){return(0,n.Hm)((0,i.k)(`threads/${t}/comments/split/guest/cache`,"v2"),e)}function $({id:t,hl:e}){return(0,n.Hm)((0,i.k)(`threads/${t}/comments/split/user`,"v2"),{hl:e})}function U({postId:t,commentId:e,data:s}){return(0,n.Q)((0,i.k)(`threads/${t}/comments/${e}/votes`,"v2"),s)}function F(t,e,s){const a=s?"approve":"reject";return(0,n.Q)((0,i.k)(`threads/${t}/comments/${e}/moderate/${a}`,"v2"))}function V({publicationId:t,commentId:e}){return(0,n.Q)((0,i.k)(`threads/${t}/comments/${e}/bookmarks`,"v2"))}function H({publicationId:t,commentId:e}){return(0,n.ZI)((0,i.k)(`threads/${t}/comments/${e}/bookmarks`,"v2"))}},12790:(t,e,s)=>{"use strict";s.d(e,{$Y:()=>g,AL:()=>st,Az:()=>ye,Bj:()=>jt,C1:()=>_,C5:()=>ie,C6:()=>I,CW:()=>ae,Cg:()=>d,DR:()=>$,Dz:()=>m,E9:()=>w,EJ:()=>ve,EV:()=>de,F5:()=>K,FN:()=>j,FY:()=>le,Fl:()=>be,Fy:()=>r,Fz:()=>ne,GL:()=>wt,Gu:()=>et,HJ:()=>re,Hu:()=>Tt,I1:()=>Pe,IA:()=>pt,J:()=>ce,J9:()=>_e,Jb:()=>z,Jj:()=>ft,KD:()=>Qt,KO:()=>Ut,KW:()=>N,Kv:()=>Ie,L$:()=>Ft,LX:()=>Se,Mk:()=>xt,Mp:()=>Te,NW:()=>b,N_:()=>Ct,OS:()=>x,PC:()=>Mt,Py:()=>Xt,Qh:()=>te,Qs:()=>ot,RS:()=>rt,RX:()=>X,Rp:()=>Le,SU:()=>Gt,Sp:()=>O,T1:()=>Ae,TN:()=>Dt,TY:()=>ge,Tj:()=>vt,Tr:()=>l,US:()=>u,VN:()=>A,W7:()=>_t,WW:()=>tt,WY:()=>V,Wd:()=>h,Wu:()=>Jt,X$:()=>R,Xl:()=>ut,Xn:()=>se,Xw:()=>B,YZ:()=>Rt,Yn:()=>It,Yv:()=>v,Yy:()=>c,Z2:()=>Me,Z4:()=>Vt,ZA:()=>kt,_:()=>lt,_H:()=>G,_w:()=>Ne,ar:()=>L,b6:()=>Ce,bj:()=>D,c2:()=>H,ct:()=>T,d7:()=>Zt,dE:()=>F,dU:()=>k,dc:()=>dt,dq:()=>oe,ep:()=>Et,ey:()=>$t,fh:()=>p,go:()=>qt,gu:()=>o,h6:()=>gt,hA:()=>Bt,hE:()=>yt,hS:()=>ht,iG:()=>S,iJ:()=>Wt,iX:()=>St,iv:()=>M,jC:()=>ke,jY:()=>bt,jq:()=>me,k5:()=>ct,kC:()=>Ot,ke:()=>Kt,kw:()=>f,l:()=>Y,m_:()=>at,mp:()=>q,oP:()=>W,oU:()=>J,om:()=>nt,oz:()=>ue,p6:()=>Nt,q9:()=>At,qQ:()=>xe,qT:()=>P,qU:()=>Be,qV:()=>y,rD:()=>pe,rL:()=>Lt,rd:()=>zt,rw:()=>E,sS:()=>Z,sn:()=>fe,tF:()=>it,uH:()=>Q,uW:()=>Ht,ur:()=>we,vk:()=>Oe,wO:()=>Re,wX:()=>U,xE:()=>mt,xg:()=>Pt,xt:()=>Ee,xz:()=>De,yF:()=>ee,yz:()=>Yt,z4:()=>C,zc:()=>he});var n=s(8938),i=s(69811),a=s(54226);function o(t={}){const{flowAlias:e,hubAlias:s}=t;let n="companies/";return e&&(n=`flows/${e}/companies`),s&&(n=`hubs/${s}/companies`),(0,i.Hm)((0,a.k)(n,"v2"),t)}function r(t){return(0,i.Hm)((0,a.k)("companies/search","v2"),t)}function l(t){return(0,i.Hm)((0,a.k)("companies/company_categories/","v2"),t)}function c(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/card/`,"v2"),e)}function m(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/whois/`,"v2"),e)}function u(t){return(0,i.Q)((0,a.k)(`companies/${t}/subscription`,"v2"))}function d(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/widgets/`,"v2"),e)}function p(t,e){return(0,i.Hm)((0,a.k)("inset/multiwidget","v2"),{...e,company:t})}function _(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/polls/unanswered`,"v2"),e)}function h(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/polls/${e}`,"v2"),s)}function g(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/workers/${e}`,"v2"),s)}function T(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widgets`,"v2"),e)}function v(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/multiwidgets`,"v2"),e)}function S(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/multiwidgets/${e}`,"v2"),s)}function f(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/applications`,"v2"),s)}function E(t,e,s){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/applications/${s}`,"v2"))}function I(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widget_twitter/${e}/account`,"v2"))}function C(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/widget_twitter/${e}/account`,"v2"))}function A(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_twitter/${e}/connect`,"v2"),null)}function b(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_twitter/${e}/exclude_replies`,"v2"),s)}function y(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widgets/${e}/${s}/form`,"v2"))}function P(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/multiwidgets/${e}/form`,"v2"))}function L(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/multiwidgets/${e}`,"v2"))}function O(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/applications/${s}/form`,"v2"))}function N(t,e,s,n){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/applications/${s}`,"v2"),n)}function M(t,e,s,n){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widgets/${e}/${s}`,"v2"),n)}function R(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widgets/${e}/published`,"v2"),s)}function k(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/multiwidgets/${e}/published`,"v2"),s)}function w(t,e,s){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/widgets/${e}/${s}`,"v2"))}function B(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/multiwidgets/${e}`,"v2"))}function D(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widgets_ordering`,"v2"),e)}function x(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/ordering`,"v2"),s)}function $(t,e,s,n){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_applications/${e}/applications/${s}/published`,"v2"),n)}function U(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/widget_news/${e}/items`,"v2"),s)}function F(t,e,s,n){return(0,i.Q)((0,a.k)(`companies/${t}/admin/widget_news/${e}/items/${s}/published`,"v2"),n)}function V(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/fans/${e}`,"v2"),s)}function H(t){return(0,i.Hm)((0,a.k)(`companies/top/by_hub/${t}`,"v2"))}function G(t){return(0,i.Hm)((0,a.k)(`companies/top/by_flow/${t}`,"v2"))}function W(t){return(0,i.Hm)((0,a.k)(`companies/${t}/investment/hubs`,"v2"))}function Z(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/vacancies/`,"v2"),e)}function Y(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/branding/${e}`,"v2"))}function q(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/info`,"v2"),e)}function j(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/profile/form`,"v2"),e)}function K(){return(0,i.Hm)((0,a.k)("refs/company_categories","v2"))}function z(){return(0,i.Hm)((0,a.k)("refs/human_resources","v2"))}function Q(){return(0,i.Hm)((0,a.k)("refs/company_contact_types","v2"))}function X(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/profile`,"v2"),e)}function J(t,e){const s=e.period||"month",o={rating:"rating",views:"posts_views",followers:"subscribers"},r={week:7,month:30,quarter:90,halfyear:180,year:365,twoyears:730},l=r[s],c=(0,n.ic)(l);return(0,i.Hm)((0,a.k)(`companies/${t}/indicators/`,"v2"),{...c,type:o[e.type]})}function tt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/authors`,"v2"),e)}function et(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/hubs`,"v2"),e)}function st(t,{page:e,perPage:s}){return(0,i.Hm)((0,a.k)(`companies/${t}/career/vacancies/`,"v2"),{page_num:e,per_page:s})}function nt(t){return(0,i.Hm)((0,a.k)(`companies/${t}/career/settings/form`,"v2"))}function it(t){return(0,i.Q)((0,a.k)(`companies/${t.companyAlias}/career/settings`,"v2"),{...t,alias:t.careerAlias})}function at({companyAlias:t,vacancyId:e,isActive:s}){return(0,i.Q)((0,a.k)(`companies/${t}/career/vacancy`,"v2"),{id:e,isActive:s})}function ot(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/log`,"v2"),e)}function rt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/tariff/code`,"v2"),e)}function lt(t){return(0,i.Hm)((0,a.k)(`companies/${t}/analytics/settings/form`,"v2"))}function ct(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/analytics/settings`,"v2"),e)}function mt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/localization/form`,"v2"),e)}function ut(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/localization`,"v2"),e)}function dt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/finance/list`,"v2"),e)}function pt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/employees`,"v2"),e)}function _t(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/employees`,"v2"),e)}function ht(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/employees/${e}/`,"v2"))}function gt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/employee_requests`,"v2"),e)}function Tt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/employee_requests/${e}/approve`,"v2"),null)}function vt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/employee_requests/${e}/reject`,"v2"),null)}function St(t){return(0,i.Hm)((0,a.k)(`companies/${t}/tariff/current`,"v2"))}function ft(t){return(0,i.Hm)((0,a.k)(`companies/${t}/tariff/list`,"v2"))}function Et(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/tariff/prolong`,"v2"),e)}function It(t){return(0,i.Q)((0,a.k)(`companies/${t}/admin/startup/prolong`,"v2"))}function Ct(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/manager/list`,"v2"),e)}function At(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/manager`,"v2"),e)}function bt(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/manager/${e}/role`,"v2"),s)}function yt(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/manager/${e}/settings`,"v2"),s)}function Pt(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/manager/${e}/`,"v2"))}function Lt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/invites/count`,"v2"),e)}function Ot(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/invites/used`,"v2"),e)}function Nt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/invites/unused`,"v2"),e)}function Mt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/invites/${e}/`,"v2"))}function Rt(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/invites/${e}/`,"v2"))}function kt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/invites/by_email`,"v2"),e)}function wt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/invites/by_login`,"v2"),e)}function Bt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/requisites/list`,"v2"),e)}function Dt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/requisites/${e}/current`,"v2"))}function xt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/requisites`,"v2"),e)}function $t(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/requisites/${e}`,"v2"),s)}function Ut(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/requisites/${e}`,"v2"))}function Ft(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/posts/`,"v2"),e)}function Vt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/news/`,"v2"),e)}function Ht(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/branding/list`,"v2"),e)}function Gt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/branding/list/`,"v2"),e)}function Wt(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/branding/list/${e}/`,"v2"),s)}function Zt(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/branding/list/${e}/`,"v2"))}function Yt(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/branding/list/${e}/form/`,"v2"),s)}function qt(t){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/branding/current/`,"v2"))}function jt(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/branding/current/`,"v2"),e)}function Kt(){return(0,i.Hm)((0,a.k)("refs/application_platforms","v2"))}function zt(t){return(0,i.Hm)((0,a.k)("companies/faq/","v2"),t)}function Qt(t,e){return(0,i.Hm)((0,a.k)(`companies/faq/${t}`,"v2"),e)}function Xt(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/workers/all/${e}`,"v2"),s)}function Jt(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/employees_suggest`,"v2"),e)}function te(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/managers_suggest`,"v2"),e)}function ee(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/invites/by_login/suggest`,"v2"),e)}function se(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/posts/export`,"v2"),e,0,!0,"blob")}function ne(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/statistics/news/export`,"v2"),e,0,!0,"blob")}function ie(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/finance/files/${e}`,"v2"),s,0,!0,"blob")}function ae(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/profile`,"v2"),e)}function oe(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/landing/gallery`,"v2"),e)}function re(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/gallery`,"v2"),e)}function le(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/gallery/form`,"v2"),e)}function ce(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/gallery`,"v2"),e)}function me(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/gallery/published`,"v2"),e)}function ue(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/landing/banner`,"v2"),e)}function de(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/banner`,"v2"),e)}function pe(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/banner/form`,"v2"),e)}function _e(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/banner/published`,"v2"),e)}function he(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/banner`,"v2"),e)}function ge(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/landing/vacancies`,"v2"),e)}function Te(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/vacancies`,"v2"),e)}function ve(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/vacancies/published`,"v2"),e)}function Se(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/technology/form`,"v2"),e)}function fe(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/technology`,"v2"),e)}function Ee(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/landing/technology`,"v2"),e)}function Ie(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/landing/technology`,"v2"),e)}function Ce(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/landing/technology/published`,"v2"),e)}function Ae(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/post_banners`,"v2"),e)}function be(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/post_banners/${e}/form`,"v2"),s)}function ye(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/post_banners`,"v2"),e)}function Pe(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/post_banners/${s}`,"v2"),e)}function Le(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/post_banners/${e}`,"v2"))}function Oe(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/post_banners/${e}/published`,"v2"),s)}function Ne(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/notifications`,"v2"),e)}function Me(t,e){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/polls`,"v2"),e)}function Re(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/polls/${e}/form`,"v2"),s)}function ke(t,e,s){return(0,i.Hm)((0,a.k)(`companies/${t}/admin/polls/${e}`,"v2"),s)}function we(t,e){return(0,i.Q)((0,a.k)(`companies/${t}/admin/polls`,"v2"),e)}function Be(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/polls/${s}`,"v2"),e)}function De(t,e){return(0,i.ZI)((0,a.k)(`companies/${t}/admin/polls/${e}`,"v2"))}function xe(t,e,s){return(0,i.Q)((0,a.k)(`companies/${t}/admin/polls/${e}/published`,"v2"),s)}},88092:(t,e,s)=>{"use strict";s.d(e,{PL:()=>o,PY:()=>c,_C:()=>a,dx:()=>r,f3:()=>m,lm:()=>u,yp:()=>l});var n=s(69811),i=s(54226);function a(t){let e=(0,i.k)("hubs/","v2");return t.flowAlias&&(e=(0,i.k)(`hubs/${t.flowAlias}/`,"v2")),(0,n.Hm)(e,t)}function o(t){return(0,n.Hm)((0,i.k)("hubs/search","v2"),t)}function r(t,e){return(0,n.Hm)((0,i.k)(`hubs/${t}/profile`,"v2"),e)}function l(t,e){return(0,n.Hm)((0,i.k)(`hubs/${t}/authors`,"v2"),e)}function c(t){return(0,n.Q)((0,i.k)(`hubs/${t}/subscription`,"v2"))}function m(t){return(0,n.Hm)((0,i.k)("presets/list","v2"),t)}function u(t){return(0,n.Q)((0,i.k)("presets/subscription","v2"),t)}},54226:(t,e,s)=>{"use strict";function n(t,e="v1"){return encodeURI(`https://habr.com/kek/${e}/${t}`)}s.d(e,{k:()=>n})},1615:(t,e,s)=>{"use strict";s.d(e,{C0:()=>g,Fs:()=>I,HM:()=>d,J5:()=>f,KW:()=>m,TR:()=>E,iX:()=>u,jA:()=>p,jo:()=>r,lW:()=>S,ln:()=>_,mp:()=>T,sE:()=>c,sY:()=>l,sZ:()=>h,t:()=>v});var n=s(9669),i=s.n(n),a=s(69811),o=s(54226);function r(){return(0,a.Hm)((0,o.k)("me","v2"))}function l(){return(0,a.Hm)((0,o.k)("me/updates","v2"))}function c(){return(0,a.Hm)((0,o.k)("me/invites/available","v2"))}function m(t){return(0,a.Hm)((0,o.k)("me/invites/used","v2"),t)}function u(t){return(0,a.Hm)((0,o.k)("me/invites/unused","v2"),t)}function d(t){return(0,a.Q)((0,o.k)("me/invites/all","v2"),t)}function p(t){return(0,a.Q)((0,o.k)(`me/invites/all/${t}`,"v2"))}function _(t){return(0,a.Q)((0,o.k)(`me/invites/all/${t}/resend`,"v2"),{id:t})}function h(t){return(0,a.Q)((0,o.k)("me/invites/check","v2"),{invite:t})}function g(t){return(0,a.Q)((0,o.k)("me/invites/apply","v2"),{invite:t})}function T(t){return(0,a.Q)((0,o.k)("me/ppg","v2"),{program:t})}function v(){return(0,a.Hm)((0,o.k)("me/karma/reset","v2"))}function S(){return(0,a.Q)((0,o.k)("me/karma/reset","v2"))}function f(){return(0,a.ZI)((0,o.k)("me/karma/reset","v2"))}function E(t){return(0,a.Hm)((0,o.k)("me/notes","v2"),t)}function I(){const t={VUE_APP_RELEASE_VERSION:"2024-02-09-14-07",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_GA_HOSTNAME:"habr.com",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_ANALYTICS_YANDEX_METRIKA_KEY:"24049213",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_KARMA_HINTS:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.165.0",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_BACKEND_URL&&"default"!=={VUE_APP_RELEASE_VERSION:"2024-02-09-14-07",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_GA_HOSTNAME:"habr.com",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_ANALYTICS_YANDEX_METRIKA_KEY:"24049213",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_KARMA_HINTS:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.165.0",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_BACKEND_URL?{VUE_APP_RELEASE_VERSION:"2024-02-09-14-07",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_GA_HOSTNAME:"habr.com",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_ANALYTICS_YANDEX_METRIKA_KEY:"24049213",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8084/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_SENTRY_DSN_API:"http://e0e387b25a1049dbb812bf8a197403f2@127.0.0.1:8085/12",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_KARMA_HINTS:"on",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_FREELANCE_BLOCK_URL:"https://freelance.habr.com/tasks",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_REDIS_HOST:"localhost",VUE_APP_SCRIPT_STATUS_ADBLOCK:"zhY4i4nJ9K",VUE_APP_SCRIPT_STATUS_DESKTOP_STATE:"e0044d29c024",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_FB_ACCESS_TOKEN:"444736788986613|XshRJ2gOujliLvbFJjDrWO566oc",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.165.0",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_BACKEND_URL:"https://habr.com",e=`${t}/uuid/`;return i().post(e,null,{withCredentials:!0}).then((({data:t})=>(t.uuid&&i().interceptors.request.use((e=>{const s=new RegExp("^https://habr.com/kek/");return s.test(e.url)?{...e,headers:{...e.headers,"habr-user-uuid":t.uuid}}:e})),t)))}},33055:(t,e,s)=>{"use strict";s.d(e,{Bb:()=>r,Pq:()=>a,W:()=>o});var n=s(69811),i=s(54226);function a(t){return(0,n.Hm)((0,i.k)("news/context","v2"),t)}function o(t){return(0,n.Q)((0,i.k)(`news/${t}/bookmarks`,"v2"))}function r(t){return(0,n.ZI)((0,i.k)(`news/${t}/bookmarks`,"v2"))}},2687:(t,e,s)=>{"use strict";s.d(e,{$X:()=>m,B4:()=>v,GX:()=>u,W1:()=>a,Z1:()=>d,d1:()=>h,d9:()=>S,fR:()=>r,k3:()=>l,qT:()=>g,qu:()=>_,s1:()=>o,sv:()=>T,wl:()=>p,xl:()=>c});var n=s(69811),i=s(54226);function a(t,e){const s=e?`threads/save/${e}`:"threads/save";return(0,n.Q)((0,i.k)(s,"v2"),t)}function o(t){return(0,n.Q)((0,i.k)("threads/preview","v2"),t)}function r(t){return(0,n.ZI)((0,i.k)(`threads/${t}`,"v2"))}function l(t,e){return(0,n.Hm)((0,i.k)(`threads/${t}/form`,"v2"),e)}function c(t,e){return(0,n.Hm)((0,i.k)(`threads/${t}/`,"v2"),e)}function m(t){return(0,n.Hm)((0,i.k)(`threads/${t}/reasons/stats`,"v2"))}function u(t){return(0,n.Q)((0,i.k)(`threads/${t}/bookmarks/add`,"v2"))}function d(t){return(0,n.Q)((0,i.k)(`threads/${t}/bookmarks/remove`,"v2"))}function p(t,e){return(0,n.Q)((0,i.k)(`threads/${t}/votes/down`,"v2"),e)}function _(t){return(0,n.Q)((0,i.k)(`threads/${t}/votes/up`,"v2"))}function h(t){return(0,n.Q)((0,i.k)(`threads/${t}/pageview`,"v2"))}function g(t){return(0,n.Q)((0,i.k)(`threads/${t}/rules_remind/`,"v2"))}function T(t){return(0,n.ZI)((0,i.k)(`threads/${t}/rules_remind/`,"v2"))}function v({articleId:t,email:e,tracker:s}){return(0,n.Q)((0,i.k)(`threads/${t}/subscription`,"v2"),{emailSubscribed:e,trackerSubscribed:s})}function S(t,e){return(0,n.Q)((0,i.k)(`threads/${t}/complain`,"v2"),e)}},62965:(t,e,s)=>{"use strict";s.d(e,{YB:()=>m,Zx:()=>l,hg:()=>c,ny:()=>r,pV:()=>o,qK:()=>a,s5:()=>u});var n=s(69811),i=s(54226);function a(t,e){return(0,n.Hm)((0,i.k)(`docs/ppa/${t}`,"v2"),e)}function o(t){return(0,n.Hm)((0,i.k)(`ppa/cards/${t}`,"v2"))}function r(t,e){return(0,n.Hm)((0,i.k)(`ppa/transactions/${t}`,"v2"),{page_num:e})}function l(t){return(0,n.Q)((0,i.k)("ppa/withdraw","v2"),{value:t})}function c(t){return(0,n.Q)((0,i.k)("ppa/profile","v2"),t)}function m(t){return(0,n.Q)((0,i.k)("ppa/profile/update","v2"),t)}function u(){return(0,n.Q)((0,i.k)("ppa/join","v2"))}},97660:(t,e,s)=>{"use strict";s.d(e,{NN:()=>l,Sr:()=>r,ge:()=>o,l9:()=>c,uC:()=>a});var n=s(69811),i=s(54226);function a(t={}){const{count:e,hubs:s=[],tags:a=[],companyAlias:o,hl:r}=t;return(0,n.Hm)((0,i.k)("inset/vacancies","v2"),{count:e,hubs:s.slice(0,10).join(","),tags:a.slice(0,10).join(","),companyAlias:o,hl:r})}function o(t={}){const{count:e,hubs:s,tags:a,hl:o}=t;return(0,n.Hm)((0,i.k)("inset/tasks","v2"),{count:e,hubs:s.slice(0,10).join(","),tags:a.slice(0,10).join(","),hl:o})}function r(t={}){const{hubs:e=[],tags:s=[]}=t;return(0,n.Hm)((0,i.k)("inset/courses","v2"),{...t,hubs:e.slice(0,10).join(","),tags:s.slice(0,10).join(",")})}function l({count:t,tags:e=[],hl:s}){return(0,n.Hm)((0,i.k)("inset/questions","v2"),{count:t,tags:e.slice(0,5).join(","),hl:s})}function c(){return(0,n.Hm)((0,i.k)("inset/salary_distribution","v2"))}},92698:(t,e,s)=>{"use strict";s.d(e,{H:()=>a,s:()=>o});var n=s(37522),i=s(69811);function a(t={}){const e="https://effect.habr.com/a";return(0,i.Cm)(e,JSON.stringify(t),!1,!1).then((t=>{if(t.error)throw new Error(t.error.message);return t})).catch((t=>(0,n.T)(t)))}function o(t=[]){const e="https://effect.habr.com/a",s={version:"1.0",events:t};return(0,i.Q)(e,JSON.stringify(s),!1,!1).then((t=>{if(t.error)throw new Error(t.error.message);return t})).catch((t=>(0,n.T)(t)))}},71398:(t,e,s)=>{"use strict";s.d(e,{D5:()=>d,EC:()=>h,K$:()=>S,Ki:()=>v,P7:()=>m,Y2:()=>u,aW:()=>f,d7:()=>I,e:()=>a,f$:()=>c,fR:()=>C,in:()=>p,mj:()=>o,pG:()=>_,uI:()=>E,wO:()=>r,xx:()=>l});var n=s(69811),i=s(54226);function a(){return(0,n.Hm)((0,i.k)("publication/wysiwyg-rules","v2"))}function o(t){return(0,n.Hm)((0,i.k)("publication/suggest-tags","v2"),t)}function r(t){return(0,n.Hm)((0,i.k)("publication/suggest-customers","v2"),t)}function l(t){return(0,n.Hm)((0,i.k)("publication/suggest-authors","v2"),t)}function c(t){return(0,n.Hm)((0,i.k)("publication/suggest-megapost-companies","v2"),t)}function m(t){return(0,n.Hm)((0,i.k)("publication/suggest-inner-tags","v2"),t)}function u(t){return(0,n.Q)((0,i.k)("publication/upload","v2"),t)}function d(t,e){const s=e?`publication/save/${e}`:"publication/save";return(0,n.Q)((0,i.k)(s,"v2"),t)}function p(t,e){const s=e?`megapost/save/${e}`:"megapost/save";return(0,n.Q)((0,i.k)(s,"v2"),t)}function _(t){return(0,n.Hm)((0,i.k)(`megapost/post-data/${t}`,"v2"))}function h(t){return(0,n.Hm)((0,i.k)(`publication/post-data/${t}`,"v2"))}const g=(t,e)=>t.filter((t=>-1===e.indexOf(t.id))).map((t=>({name:t.title,alias:t.id.toString(),aliasName:t.alias,postsLeft:Number.isInteger(t.postsLeft)?t.postsLeft:null,tariffId:t.tariffId,isCorporative:t.isCorporative}))),T=t=>{const e=[],s=t.byPost?t.byPost.map((t=>(e.push(t.id),{name:t.title,alias:t.id.toString(),aliasName:t.alias,postsLeft:Number.isInteger(t.postsLeft)?t.postsLeft:null,tariffId:t.tariffId,isCorporative:t.isCorporative}))):[],n=t.collective?g(t.collective,e):[],i=t.corporative?g(t.corporative,e):[],a=t.offtopic?g(t.offtopic,e):[];return[{list:s,name:"PUBLICATION_HUBS_BYPOST"},{list:i,name:"PUBLICATION_HUBS_CORPORATIVE"},{list:n,name:"PUBLICATION_HUBS_COLLECTIVE"},{list:a,name:"PUBLICATION_HUBS_OFFTOPIC"}]};function v(t){return(0,n.Hm)((0,i.k)("megapost/suggest-company-blog","v2"),t).then(T)}function S(t){return(0,n.Hm)((0,i.k)("megapost/suggest-hubs","v2"),t).then(T)}function f(t){return(0,n.Hm)((0,i.k)("publication/suggest-hubs","v2"),t).then(T)}function E(t){return(0,n.Hm)((0,i.k)("publication/suggest-banners","v2"),t)}function I(t){return(0,n.Q)((0,i.k)("publication/preview","v2"),t)}function C(t){return(0,n.Hm)((0,i.k)("publication/suggest-multiwidgets","v2"),t)}},3371:(t,e,s)=>{"use strict";s.d(e,{q:()=>r});var n=s(9669),i=s.n(n),a=s(37522);const o=i().create({baseURL:"https://stats.habr.com"});function r(t,e){return o.post(t,e).then((({data:t})=>t)).catch((t=>{(0,a.T)(t),console.error(t.message)}))}},19516:(t,e,s)=>{"use strict";s.d(e,{$B:()=>H,C1:()=>P,C7:()=>$,Ct:()=>N,Es:()=>R,FM:()=>tt,Fp:()=>a,GL:()=>S,HM:()=>O,Hm:()=>nt,JI:()=>E,JO:()=>w,Jj:()=>G,K9:()=>U,KE:()=>I,L5:()=>W,LD:()=>m,Lt:()=>T,OR:()=>d,S6:()=>_,T3:()=>D,TH:()=>v,Ts:()=>c,UZ:()=>A,Uu:()=>x,V6:()=>l,WU:()=>p,XW:()=>V,YI:()=>h,Yv:()=>f,ZB:()=>C,_X:()=>F,aP:()=>r,bG:()=>g,cZ:()=>b,d1:()=>K,d9:()=>o,dX:()=>M,dZ:()=>L,fK:()=>et,h8:()=>j,jS:()=>y,l$:()=>q,lp:()=>k,mH:()=>Z,qN:()=>u,qq:()=>z,ri:()=>it,tZ:()=>Y,w9:()=>J,wS:()=>B,xS:()=>Q,xm:()=>X,yG:()=>st});var n=s(69811),i=s(54226);function a(t){return(0,n.Hm)((0,i.k)("users/","v2"),t)}function o(t){return(0,n.Hm)((0,i.k)("users/search","v2"),t)}function r(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/comments`,"v2"),e)}function l(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/investment/hubs`,"v2"),e)}function c(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/bookmarks/comments`,"v2"),e)}function m(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/subscriptions/companies`,"v2"),e)}function u(t,e,s){return(0,n.Hm)((0,i.k)(`users/${t}/flow/${e}/subscriptions/hubs`,"v2"),s)}function d(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/invited`,"v2"),e)}function p(t){return(0,n.Hm)((0,i.k)(`users/${t}/ppg`,"v2"))}function _(t,e){return(0,n.Q)((0,i.k)(`users/${t}/ppg`,"v2"),{program:e})}function h(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/subscriptions/hubs`,"v2"),e)}function g(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/card`,"v2"),e)}function T(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/whois`,"v2"),e)}function v(t,e){return(0,n.Q)((0,i.k)(`users/${t}/votes`,"v2"),e)}function S(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/votes_for`,"v2"),e)}function f(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/votes_from`,"v2"),e)}function E(t){return(0,n.Q)((0,i.k)(`users/${t}/following/toggle`,"v2"))}function I(t){return(0,n.Q)((0,i.k)("settings/i18n","v2"),t)}function C(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/statistics/viewcount`,"v2"),e)}function A(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/statistics/posts`,"v2"),e)}function b(t){return(0,n.Q)((0,i.k)("settings/subscription","v2"),t)}function y(t){return(0,n.Hm)((0,i.k)(`users/${t}/note`,"v2"))}function P(t,e){return(0,n.Q)((0,i.k)(`users/${t}/note`,"v2"),e)}function L(t){return(0,n.Q)((0,i.k)(`users/${t}/invites`,"v2"))}function O(t){return(0,n.Q)((0,i.k)(`users/${t}/issue_invite`,"v2"))}function N(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/followed`,"v2"),e)}function M(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/followers`,"v2"),e)}function R(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/occupation`,"v2"),e)}function k(t){return(0,n.Hm)((0,i.k)(`settings/${t}/form`,"v2"))}function w(t){return(0,n.Hm)((0,i.k)(`settings/oauth/${t}`,"v2"))}function B(t){return(0,n.Q)((0,i.k)(`settings/oauth/delete/${t}`,"v2"))}function D(t){return(0,n.Q)((0,i.k)("settings/oauth/clients","v2"),t)}function x(t,e,s){return(0,n.Q)((0,i.k)(`settings/oauth/clients/${e}/${s}`,"v2"),t)}function $(t){return(0,n.Hm)((0,i.k)(`settings/oauth/clients/${t}/form`,"v2"))}function U(t){return(0,n.Q)((0,i.k)("settings/use_markdown","v2"),t)}function F(){return(0,n.Hm)((0,i.k)("refs/user_contact_types","v2"))}function V(){return(0,n.Hm)((0,i.k)("refs/geo","v2"))}function H(t){return(0,n.Hm)((0,i.k)("refs/geo","v2"),{countryId:t})}function G(t,e){return(0,n.Hm)((0,i.k)("refs/geo","v2"),{countryId:t,regionId:e})}function W(){return(0,n.Hm)((0,i.k)("refs/specializations","v2"))}function Z(){return(0,n.Hm)((0,i.k)("refs/currencies","v2"))}function Y(){return(0,n.Hm)((0,i.k)("refs/qualifications","v2"))}function q(t){return(0,n.Hm)((0,i.k)("suggest/skills","v2"),t)}function j(t){return(0,n.Hm)((0,i.k)("suggest/skills/similar","v2"),{skills:t})}function K(t,e){return(0,n.Q)((0,i.k)(`settings/${e}`,"v2"),t)}function z(t){return(0,n.Q)((0,i.k)("upload","v2"),t)}function Q(){return(0,n.Hm)((0,i.k)("statistics/users","v2"))}function X(){return(0,n.Hm)((0,i.k)("karma-stats"))}function J(t,e){return(0,n.Q)((0,i.k)(`users/${t}/employee_requests`,"v2"),e)}function tt(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/employee_requests/${e}`,"v2"))}function et(t,e){return(0,n.ZI)((0,i.k)(`users/${t}/employee_requests/${e}/`,"v2"))}function st(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/comments/votes`,"v2"),e)}function nt(t,e){return(0,n.Hm)((0,i.k)(`users/${t}/posts/votes`,"v2"),e)}function it(t,e){return(0,n.Q)((0,i.k)(`users/${t}/donations/destream`,"v2"),e)}},71299:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var vuex__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(20629),_components_abbreviation_presenter_abbreviation_presenter_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(64085),_components_article_formatted_body_article_formatted_body_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35099),_components_article_poll_article_poll_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(62513),_components_article_tracking_pixels_article_tracking_pixels_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30745),_guards_article_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(48001),_utils_enovironment_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(77945),_utils_gallery_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(68668),_utils_gallery_slider_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(12066),_utils_scroll_to_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(91256),_xhr_article_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2384);const TMGallery=()=>__webpack_require__.e(5121).then(__webpack_require__.bind(__webpack_require__,15716)),__WEBPACK_DEFAULT_EXPORT__={name:"TMArticleBody",components:{TMArticlePoll:_components_article_poll_article_poll_vue__WEBPACK_IMPORTED_MODULE_2__.Z,TMGallery,TMArticleFormattedBody:_components_article_formatted_body_article_formatted_body_vue__WEBPACK_IMPORTED_MODULE_1__.Z,TMArticleTrackingPixels:_components_article_tracking_pixels_article_tracking_pixels_vue__WEBPACK_IMPORTED_MODULE_3__.Z,TMAbbreviationPresenter:_components_abbreviation_presenter_abbreviation_presenter_vue__WEBPACK_IMPORTED_MODULE_0__.Z},props:{article:_guards_article_js__WEBPACK_IMPORTED_MODULE_4__.sK,isMegapostScriptsLodaded:Boolean},data(){return{galleryImages:[],gallerySliders:[],isLoadingDecline:!1,isLoadingVote:!1}},computed:{...(0,vuex__WEBPACK_IMPORTED_MODULE_8__.Se)("i18n",["msg"]),articleId(){return this.$route.params.id},editorVersion(){return parseInt(this.article.editorVersion,10)},formattedClass(){return this.isMegapostV1?"":"tm-article-body__content_formatted"},isMegapostV1(){return"megaproject"===this.article.postType&&1===this.editorVersion}},watch:{isMegapostScriptsLodaded:{handler(t){t&&_utils_enovironment_js__WEBPACK_IMPORTED_MODULE_5__.Qg&&this.evalMegapostScripts()},immediate:!0}},mounted(){const currentHash=this.$route.hash;if(currentHash){const t=this.$el.querySelector(`a[name="${currentHash.substr(1)}"]`)||this.$el.querySelector(currentHash);t&&((0,_utils_scroll_to_js__WEBPACK_IMPORTED_MODULE_6__.kI)(t),window.history.replaceState(null,null," "))}if(!this.isMegapostV1){this.galleryImages=(0,_utils_gallery_js__WEBPACK_IMPORTED_MODULE_9__.N)(this.$el),this.gallerySliders=(0,_utils_gallery_slider_js__WEBPACK_IMPORTED_MODULE_10__.s)(this.$el);const inlineScripts=Array.from(this.$el.querySelectorAll("script"));if(inlineScripts&&inlineScripts.length){const quizRegexp=/(function initQuiz[\d]+\(\){const t=document.getElementById)/g;inlineScripts.forEach((script=>{const scriptInner=script.innerText;null!==scriptInner.match(quizRegexp)&&eval(scriptInner)}))}}},methods:{...(0,vuex__WEBPACK_IMPORTED_MODULE_8__.OI)("articlesList",["setArticlePoll"]),declineVote({pollId:t}){this.isLoadingDecline=!0,this.sendVote({pollId:t}).then((()=>{this.isLoadingDecline=!1}))},sendVote({variantId:t,pollId:e}){return(0,_xhr_article_js__WEBPACK_IMPORTED_MODULE_7__.Uj)(e,{id:t}).then((t=>this.setArticlePoll({poll:t,articleId:this.articleId}))).catch((t=>{this.$toast.error(t.message),this.isLoadingVote=!1,this.isLoadingDecline=!1}))},evalMegapostScripts(){if(this.$el){const inlineScripts=Array.from(this.$el.querySelectorAll("script"));inlineScripts.forEach((script=>{eval(script.innerText)}))}},getNodesList(t){const e=this.$el.querySelectorAll(t);return[].slice.call(e)},getArticleFlagValue(t){return this.msg(this.flagsValues[t])}}}},24654:()=>{}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var s=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(s.exports,s,s.exports,__webpack_require__),s.loaded=!0,s.exports}__webpack_require__.m=__webpack_modules__,(()=>{var t=[];__webpack_require__.O=(e,s,n,i)=>{if(!s){var a=1/0;for(c=0;c<t.length;c++){s=t[c][0],n=t[c][1],i=t[c][2];for(var o=!0,r=0;r<s.length;r++)(!1&i||a>=i)&&Object.keys(__webpack_require__.O).every((t=>__webpack_require__.O[t](s[r])))?s.splice(r--,1):(o=!1,i<a&&(a=i));if(o){t.splice(c--,1);var l=n();void 0!==l&&(e=l)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[s,n,i]}})(),(()=>{__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return __webpack_require__.d(e,{a:e}),e}})(),(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;__webpack_require__.t=function(s,n){if(1&n&&(s=this(s)),8&n)return s;if("object"===typeof s&&s){if(4&n&&s.__esModule)return s;if(16&n&&"function"===typeof s.then)return s}var i=Object.create(null);__webpack_require__.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&n&&s;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>a[t]=()=>s[t]));return a["default"]=()=>s,__webpack_require__.d(i,a),i}})(),(()=>{__webpack_require__.d=(t,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}})(),(()=>{__webpack_require__.f={},__webpack_require__.e=t=>Promise.all(Object.keys(__webpack_require__.f).reduce(((e,s)=>(__webpack_require__.f[s](t,e),e)),[]))})(),(()=>{__webpack_require__.u=t=>"js/"+({0:"code-mode/sql-js",92:"code-mode/powershell-js",128:"wysiwig-icons",263:"code-mode/rust-js",269:"page-article",318:"page-my-feed",388:"user-apps",478:"code-mode/javascript-js",734:"page-user",785:"code-mode/stex-js",821:"code-mode/php-js",983:"fail-placeholder",1163:"docs",1231:"page-flows",1663:"code-mode/assembly-js",1763:"code-mode/vbscript-js",1830:"web-streams-polyfill",1894:"code-mode/commonlisp-js",1967:"code-mode/python-js",2021:"code-mode/yaml-js",2047:"user-app",2136:"events",2159:"code-mode/lua-js",2205:"code-mode/shell-js",2328:"admin",2341:"fetch-readablestream",2443:"about",2636:"page-error",2731:"code-mode/r-js",2755:"code-mode/cmake-js",2780:"apexCharts",2808:"code-mode/mathematica-js",2837:"code-mode/erlang-js",2972:"page-company",3049:"user-upgrade",3389:"page-technotext",3839:"page-startup",3977:"company-localization-ru",4017:"code-mode/1c-js",4106:"code-mode/perl-js",4306:"page-ppa",4585:"code-mode/ruby-js",4634:"page-flow",4670:"page-company-admin",4915:"analytics-manual-en",5022:"company-localization-en",5106:"publication",5112:"user-settings",5121:"gallery",5361:"code-mode/simple-mode-js",5550:"code-mode/elixir-js",5631:"page-article-comments",5727:"analytics-manual-ru",5809:"code-mode/diff-js",5996:"info",6359:"code-mode/vhdl-js",6379:"page-hub",6453:"megaposts-admin",6464:"search",6504:"user-invites",6841:"feed-setting",6937:"code-mode/go-js",7029:"code-mode/coffeescript-js",7086:"page-user-comments",7324:"megaprojects",7338:"code-mode/nginx-js",7417:"hljs",7478:"page-feed-preview",7484:"sandbox",7521:"code-mode/css-js",7576:"dialogs",7628:"beta-test",7927:"code-mode/pascal-js",7996:"ppg",8281:"code-mode/xml-js",8463:"user-statistics",8631:"user-articles-subpages",8642:"code-mode/mllike-js",8656:"feedback",8736:"code-mode/clike-js",8746:"code-mode/haskell-js",8778:"tracker",8799:"photoswipe",9039:"requisites-terms-text-en",9291:"code-mode/django-js",9353:"code-mode/smalltalk-js",9386:"code-mode/markdown-js",9451:"code-mode/swift-js",9613:"code-mode/julia-js",9616:"lang",9634:"requisites-terms-text-ru",9722:"voice"}[t]||t)+"."+{0:"70e8b72d",88:"a0d482bd",92:"04c3a52a",128:"eab67d51",263:"b23c0a1e",269:"09b047b7",318:"c05e2c6a",388:"812321d4",478:"bf6516b0",734:"3523991b",785:"7a3d8467",821:"d679c89f",983:"80bd7d1f",1163:"c94a52ad",1231:"31ee6287",1346:"1f3e0d47",1354:"5b98b98b",1546:"a1431764",1663:"e46b098b",1763:"abf567af",1830:"40182fe0",1894:"6448c07d",1967:"5d6334f1",2021:"c2ef77dc",2047:"b16e676c",2136:"57a46a07",2152:"d132efcd",2159:"26e092ca",2183:"a6fb2c48",2205:"517e3157",2208:"6dc464e3",2259:"150b22a4",2328:"35c1cc30",2341:"115f1cef",2443:"1f2a43c5",2622:"73af3dbb",2636:"e3e75508",2656:"017cb957",2731:"cf1236ea",2755:"22cf6e25",2780:"f5c461ca",2803:"16b09a08",2808:"d08957e4",2837:"70daa59c",2972:"110b0318",3049:"3e4e70ea",3079:"9129c5c3",3163:"4578a117",3321:"74e4488b",3352:"3cb517a6",3389:"35b13434",3839:"f0667a2a",3977:"8d44148e",4017:"218d379e",4106:"117d050b",4306:"4c22832d",4585:"4fd42e34",4634:"fb76034c",4670:"f4126d78",4874:"aa1adae6",4915:"877546e3",5022:"0b981550",5106:"c84cc4e0",5112:"777e5526",5121:"ea96c5d9",5302:"af07b088",5361:"e5f06042",5468:"2702448e",5550:"909889f1",5631:"7cad337a",5727:"d87587c1",5750:"32169a43",5809:"41a339db",5996:"b5569108",6235:"af29795f",6258:"3adab688",6342:"197f6a82",6359:"dd5242da",6379:"c5a52054",6419:"61153372",6453:"59ed3ad6",6464:"38b4a146",6504:"d06ad5fc",6720:"a7c8f821",6841:"cb16c7cf",6937:"d850d421",7029:"d3a738f2",7086:"df90bad7",7150:"88a6acca",7298:"c8f1d73c",7324:"4f5b3934",7338:"c722ee3f",7417:"3484cc87",7478:"be8f8ef7",7484:"0fe8a483",7521:"100e03d3",7576:"7c51204e",7628:"eda5ecff",7927:"ebed7d26",7996:"dab8d275",8069:"34c9f7e2",8281:"2d4b8c83",8456:"3172d51c",8463:"be9586d6",8631:"3d15fb74",8642:"f664f731",8656:"36324ccf",8736:"eb547c1a",8746:"653cfcd2",8771:"8f3e4997",8778:"ff593bae",8799:"82c8ee0a",8838:"01bea32e",9039:"117a322b",9291:"17206bac",9353:"881a5718",9386:"8dc06557",9451:"5843e327",9613:"4f99e5c8",9616:"6326cbc5",9634:"37ecbce1",9722:"36b0a081"}[t]+".js"})(),(()=>{__webpack_require__.miniCssF=t=>"css/"+({269:"page-article",318:"page-my-feed",388:"user-apps",734:"page-user",1163:"docs",1231:"page-flows",2047:"user-app",2136:"events",2328:"admin",2443:"about",2972:"page-company",3049:"user-upgrade",3389:"page-technotext",3839:"page-startup",4306:"page-ppa",4634:"page-flow",4670:"page-company-admin",5106:"publication",5112:"user-settings",5121:"gallery",5631:"page-article-comments",5996:"info",6379:"page-hub",6453:"megaposts-admin",6464:"search",6504:"user-invites",6841:"feed-setting",7086:"page-user-comments",7324:"megaprojects",7478:"page-feed-preview",7484:"sandbox",7576:"dialogs",7628:"beta-test",7996:"ppg",8463:"user-statistics",8631:"user-articles-subpages",8656:"feedback",8778:"tracker",9722:"voice"}[t]||t)+"."+{269:"20779f67",318:"b64a4ee4",388:"ad6df1ec",734:"87a3ff53",1163:"ee175303",1231:"8eb73c7e",1354:"a8511115",1546:"cb5e2a8d",2047:"9f0ccf23",2136:"7c0e9f34",2152:"9416d421",2259:"cf27a8f6",2328:"216f652b",2443:"76b72d9a",2972:"065b263d",3049:"ac8b699c",3389:"5d77abf1",3839:"66da92d1",4306:"488e6490",4634:"ffc662a3",4670:"6cbed8dc",4874:"7f7a9c11",5106:"a2c6197f",5112:"5496495e",5121:"3e8c05c3",5631:"0981f87b",5996:"c3322ff3",6379:"3281c7b4",6419:"114ec465",6453:"4421223d",6464:"8dbd1c34",6504:"5124d951",6720:"1db23f7e",6841:"ab785113",7086:"05f10467",7324:"43ada6ce",7478:"e49ae653",7484:"3294c99d",7576:"e8168703",7628:"198b69bd",7996:"32471d43",8463:"d72141ea",8631:"1b8efc84",8656:"f98cc766",8778:"6102b724",9722:"4296eb7d"}[t]+".css"})(),(()=>{__webpack_require__.h=()=>"8bd4d5664c88e741"})(),(()=>{__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{__webpack_require__.hmd=t=>(t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t)})(),(()=>{__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={},e="habr-web:";__webpack_require__.l=(s,n,i,a)=>{if(t[s])t[s].push(n);else{var o,r;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var m=l[c];if(m.getAttribute("src")==s||m.getAttribute("data-webpack")==e+i){o=m;break}}o||(r=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",e+i),o.src=s),t[s]=[n];var u=(e,n)=>{o.onerror=o.onload=null,clearTimeout(d);var i=t[s];if(delete t[s],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((t=>t(n))),e)return e(n)},d=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),r&&document.head.appendChild(o)}}})(),(()=>{__webpack_require__.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t)})(),(()=>{__webpack_require__.p="https://assets.habr.com/habr-web/"})(),(()=>{var t=(t,e,s,n)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var a=a=>{if(i.onerror=i.onload=null,"load"===a.type)s();else{var o=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=r,i.parentNode.removeChild(i),n(l)}};return i.onerror=i.onload=a,i.href=e,document.head.appendChild(i),i},e=(t,e)=>{for(var s=document.getElementsByTagName("link"),n=0;n<s.length;n++){var i=s[n],a=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===t||a===e))return i}var o=document.getElementsByTagName("style");for(n=0;n<o.length;n++){i=o[n],a=i.getAttribute("data-href");if(a===t||a===e)return i}},s=s=>new Promise(((n,i)=>{var a=__webpack_require__.miniCssF(s),o=__webpack_require__.p+a;if(e(a,o))return n();t(s,o,n,i)})),n={2143:0};__webpack_require__.f.miniCss=(t,e)=>{var i={269:1,318:1,388:1,734:1,1163:1,1231:1,1354:1,1546:1,2047:1,2136:1,2152:1,2259:1,2328:1,2443:1,2972:1,3049:1,3389:1,3839:1,4306:1,4634:1,4670:1,4874:1,5106:1,5112:1,5121:1,5631:1,5996:1,6379:1,6419:1,6453:1,6464:1,6504:1,6720:1,6841:1,7086:1,7324:1,7478:1,7484:1,7576:1,7628:1,7996:1,8463:1,8631:1,8656:1,8778:1,9722:1};n[t]?e.push(n[t]):0!==n[t]&&i[t]&&e.push(n[t]=s(t).then((()=>{n[t]=0}),(e=>{throw delete n[t],e})))}})(),(()=>{var t={2143:0};__webpack_require__.f.j=(e,s)=>{var n=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==n)if(n)s.push(n[2]);else{var i=new Promise(((s,i)=>n=t[e]=[s,i]));s.push(n[2]=i);var a=__webpack_require__.p+__webpack_require__.u(e),o=new Error,r=s=>{if(__webpack_require__.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var i=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;o.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,n[1](o)}};__webpack_require__.l(a,r,"chunk-"+e,e)}},__webpack_require__.O.j=e=>0===t[e];var e=(e,s)=>{var n,i,a=s[0],o=s[1],r=s[2],l=0;if(a.some((e=>0!==t[e]))){for(n in o)__webpack_require__.o(o,n)&&(__webpack_require__.m[n]=o[n]);if(r)var c=r(__webpack_require__)}for(e&&e(s);l<a.length;l++)i=a[l],__webpack_require__.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return __webpack_require__.O(c)},s=self["webpackChunkhabr_web"]=self["webpackChunkhabr_web"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})(),__webpack_require__.O(void 0,[4998],(()=>__webpack_require__(18580)));var __webpack_exports__=__webpack_require__.O(void 0,[4998],(()=>__webpack_require__(53720)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.757efe33.js.map