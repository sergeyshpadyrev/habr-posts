(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e907e"],{"8c96":function(e,t,n){(function(t,r){e.exports=r(n("2b0e"))})("undefined"!==typeof self&&self,(function(e){return function(e){function t(t){for(var n,i,o=t[0],s=t[1],a=0,l=[];a<o.length;a++)i=o[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);c&&c(t);while(l.length)l.shift()()}var n={},r={126:0};function i(e){return o.p+"wysiwyg.umd.min."+({0:"wysiwyg-code/apl-apl",1:"wysiwyg-code/asciiarmor-asciiarmor",2:"wysiwyg-code/asn-1-asn-1",3:"wysiwyg-code/asterisk-asterisk",4:"wysiwyg-code/brainfuck-brainfuck",5:"wysiwyg-code/clike-clike",6:"wysiwyg-code/clojure-clojure",7:"wysiwyg-code/cmake-cmake",8:"wysiwyg-code/cobol-cobol",9:"wysiwyg-code/coffeescript-coffeescript",10:"wysiwyg-code/commonlisp-commonlisp",11:"wysiwyg-code/crystal-crystal",12:"wysiwyg-code/css-css",13:"wysiwyg-code/cypher-cypher",14:"wysiwyg-code/d-d",15:"wysiwyg-code/dart-dart",16:"wysiwyg-code/diff-diff",17:"wysiwyg-code/django-django",18:"wysiwyg-code/dockerfile-dockerfile",19:"wysiwyg-code/dtd-dtd",20:"wysiwyg-code/dylan-dylan",21:"wysiwyg-code/ebnf-ebnf",22:"wysiwyg-code/ecl-ecl",23:"wysiwyg-code/eiffel-eiffel",24:"wysiwyg-code/elm-elm",25:"wysiwyg-code/erlang-erlang",26:"wysiwyg-code/factor-factor",27:"wysiwyg-code/fcl-fcl",28:"wysiwyg-code/forth-forth",29:"wysiwyg-code/fortran-fortran",30:"wysiwyg-code/gas-gas",31:"wysiwyg-code/gfm-gfm",32:"wysiwyg-code/gherkin-gherkin",33:"wysiwyg-code/go-go",34:"wysiwyg-code/groovy-groovy",35:"wysiwyg-code/haml-haml",36:"wysiwyg-code/handlebars-handlebars",37:"wysiwyg-code/haskell-haskell",38:"wysiwyg-code/haskell-literate-haskell-literate",39:"wysiwyg-code/haxe-haxe",40:"wysiwyg-code/htmlembedded-htmlembedded",41:"wysiwyg-code/htmlmixed-htmlmixed",42:"wysiwyg-code/http-http",43:"wysiwyg-code/idl-idl",44:"wysiwyg-code/javascript-javascript",45:"wysiwyg-code/jinja2-jinja2",46:"wysiwyg-code/jsx-jsx",47:"wysiwyg-code/julia-julia",48:"wysiwyg-code/livescript-livescript",49:"wysiwyg-code/lua-lua",50:"wysiwyg-code/markdown-markdown",51:"wysiwyg-code/mathematica-mathematica",52:"wysiwyg-code/mbox-mbox",53:"wysiwyg-code/meta",54:"wysiwyg-code/mirc-mirc",55:"wysiwyg-code/mllike-mllike",56:"wysiwyg-code/modelica-modelica",57:"wysiwyg-code/mscgen-mscgen",58:"wysiwyg-code/mumps-mumps",59:"wysiwyg-code/nginx-nginx",60:"wysiwyg-code/nsis-nsis",61:"wysiwyg-code/ntriples-ntriples",62:"wysiwyg-code/octave-octave",63:"wysiwyg-code/oz-oz",64:"wysiwyg-code/pascal-pascal",65:"wysiwyg-code/pegjs-pegjs",66:"wysiwyg-code/perl-perl",67:"wysiwyg-code/php-php",68:"wysiwyg-code/pig-pig",69:"wysiwyg-code/powershell-powershell",70:"wysiwyg-code/properties-properties",71:"wysiwyg-code/protobuf-protobuf",72:"wysiwyg-code/pug-pug",73:"wysiwyg-code/puppet-puppet",74:"wysiwyg-code/python-python",75:"wysiwyg-code/q-q",76:"wysiwyg-code/r-r",77:"wysiwyg-code/rpm-rpm",78:"wysiwyg-code/rst-rst",79:"wysiwyg-code/ruby-ruby",80:"wysiwyg-code/rust-rust",81:"wysiwyg-code/sas-sas",82:"wysiwyg-code/sass-sass",83:"wysiwyg-code/scheme-scheme",84:"wysiwyg-code/shell-shell",85:"wysiwyg-code/sieve-sieve",86:"wysiwyg-code/slim-slim",87:"wysiwyg-code/smalltalk-smalltalk",88:"wysiwyg-code/smarty-smarty",89:"wysiwyg-code/solr-solr",90:"wysiwyg-code/soy-soy",91:"wysiwyg-code/sparql-sparql",92:"wysiwyg-code/spreadsheet-spreadsheet",93:"wysiwyg-code/sql-sql",94:"wysiwyg-code/stex-stex",95:"wysiwyg-code/stylus-stylus",96:"wysiwyg-code/swift-swift",97:"wysiwyg-code/tcl-tcl",98:"wysiwyg-code/textile-textile",99:"wysiwyg-code/tiddlywiki-tiddlywiki",100:"wysiwyg-code/tiki-tiki",101:"wysiwyg-code/toml-toml",102:"wysiwyg-code/tornado-tornado",103:"wysiwyg-code/troff-troff",104:"wysiwyg-code/ttcn-cfg-ttcn-cfg",105:"wysiwyg-code/ttcn-ttcn",106:"wysiwyg-code/turtle-turtle",107:"wysiwyg-code/twig-twig",108:"wysiwyg-code/vb-vb",109:"wysiwyg-code/vbscript-vbscript",110:"wysiwyg-code/velocity-velocity",111:"wysiwyg-code/verilog-verilog",112:"wysiwyg-code/vhdl-vhdl",113:"wysiwyg-code/vue-vue",114:"wysiwyg-code/wast-wast",115:"wysiwyg-code/webidl-webidl",116:"wysiwyg-code/xml-xml",117:"wysiwyg-code/xquery-xquery",118:"wysiwyg-code/yacas-yacas",119:"wysiwyg-code/yaml-frontmatter-yaml-frontmatter",120:"wysiwyg-code/yaml-yaml",121:"wysiwyg-code/z80-z80",122:"wysiwyg-code/1c-js",123:"wysiwyg-code/rpm-changes-index-html",124:"wysiwyg-code/tiddlywiki-tiddlywiki-css",125:"wysiwyg-code/tiki-tiki-css"}[e]||e)+".js"}function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=s);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=i(e);var c=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",c.name="ChunkLoadError",c.type=i,c.request=o,n[1](c)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var s=("undefined"!==typeof self?self:this)["webpackJsonpwysiwyg"]=("undefined"!==typeof self?self:this)["webpackJsonpwysiwyg"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=a;return o(o.s="fb15")}({"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"0538":function(e,t,n){"use strict";var r=n("1c0b"),i=n("861d"),o=[].slice,s={},a=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("C,a","return new C("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?a(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(s.prototype=t.prototype),s}},"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(r(e))}},"05aa":function(e,t,n){"use strict";n("61ca")},"0676":function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=s(e),t=a(t,!0),c)try{return u(e,t)}catch(n){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},"073e":function(e,t,n){"use strict";var r=n("5dbe"),i=o(Error);function o(e){return t.displayName=e.displayName||e.name,t;function t(t){return t&&(t=r.apply(null,arguments)),new e(t)}}e.exports=i,i.eval=o(EvalError),i.range=o(RangeError),i.reference=o(ReferenceError),i.syntax=o(SyntaxError),i.type=o(TypeError),i.uri=o(URIError),i.create=o},"07ac":function(e,t,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"0a06":function(e,t,n){"use strict";var r=n("c532"),i=n("30b5"),o=n("f6b4"),s=n("5270"),a=n("4a7b");function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=a(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=l},"0ac0":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return C}));var r=n("304a"),i=65535,o=Math.pow(2,16);function s(e,t){return e+t*o}function a(e){return e&i}function l(e){return(e-(e&i))/o}var c=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},u=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};u.prototype.recover=function(e){var t=0,n=a(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+l(e)},u.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},u.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},u.prototype._map=function(e,t,n){for(var r=0,i=this.inverted?2:1,o=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;var u=this.ranges[a+i],d=this.ranges[a+o],f=l+u;if(e<=f){var h=u?e==l?-1:e==f?1:t:t,p=l+r+(h<0?0:d);if(n)return p;var m=e==(t<0?l:f)?null:s(a/3,e-l);return new c(p,t<0?e!=l:e!=f,m)}r+=d-u}return n?e+r:new c(e+r)},u.prototype.touches=function(e,t){for(var n=0,r=a(t),i=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;var c=this.ranges[s+i],u=l+c;if(e<=u&&s==3*r)return!0;n+=this.ranges[s+o]-c}return!1},u.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,i=0;r<this.ranges.length;r+=3){var o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,a,a+c),i+=c-l}},u.prototype.invert=function(){return new u(this.ranges,!this.inverted)},u.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},u.offset=function(e){return 0==e?u.empty:new u(e<0?[0,-e,0]:[0,0,e])},u.empty=new u([]);var d=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function f(e){var t=Error.call(this,e);return t.__proto__=f.prototype,t}d.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new d(this.maps,this.mirror,e,t)},d.prototype.copy=function(){return new d(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},d.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},d.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},d.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},d.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},d.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},d.prototype.invert=function(){var e=new d;return e.appendMappingInverted(this),e},d.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},d.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},d.prototype._map=function(e,t,n){for(var r=!1,i=this.from;i<this.to;i++){var o=this.maps[i],s=o.mapResult(e,t);if(null!=s.recover){var a=this.getMirror(i);if(null!=a&&a>i&&a<this.to){i=a,e=this.maps[a].recover(s.recover);continue}}s.deleted&&(r=!0),e=s.pos}return n?e:new c(e,r)},f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="TransformError";var h=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new d},p={before:{configurable:!0},docChanged:{configurable:!0}};function m(){throw new Error("Override me")}p.before.get=function(){return this.docs.length?this.docs[0]:this.doc},h.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new f(t.failed);return this},h.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},p.docChanged.get=function(){return this.steps.length>0},h.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(h.prototype,p);var g=Object.create(null),v=function(){};v.prototype.apply=function(e){return m()},v.prototype.getMap=function(){return u.empty},v.prototype.invert=function(e){return m()},v.prototype.map=function(e){return m()},v.prototype.merge=function(e){return null},v.prototype.toJSON=function(){return m()},v.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=g[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},v.jsonID=function(e,t){if(e in g)throw new RangeError("Duplicate use of step JSON ID "+e);return g[e]=t,t.prototype.jsonID=e,t};var y=function(e,t){this.doc=e,this.failed=t};y.ok=function(e){return new y(e,null)},y.fail=function(e){return new y(null,e)},y.fromReplace=function(e,t,n,i){try{return y.ok(e.replace(t,n,i))}catch(o){if(o instanceof r["ReplaceError"])return y.fail(o.message);throw o}};var b=function(e){function t(t,n,r,i){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&x(e,this.from,this.to)?y.fail("Structure replace would overwrite content"):y.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new u([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?r["Slice"].empty:new r["Slice"](e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var i=this.slice.size+e.slice.size==0?r["Slice"].empty:new r["Slice"](this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),i,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,r["Slice"].fromJSON(e,n.slice),!!n.structure)},t}(v);v.jsonID("replace",b);var w=function(e){function t(t,n,r,i,o,s,a){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=!!a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(x(e,this.from,this.gapFrom)||x(e,this.gapTo,this.to)))return y.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return y.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?y.fromReplace(e,this.from,this.to,n):y.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new u([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deleted&&r.deleted||i<n.pos||o>r.pos?null:new t(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,r["Slice"].fromJSON(e,n.slice),n.insert,!!n.structure)},t}(v);function x(e,t,n){var r=e.resolve(t),i=n-t,o=r.depth;while(i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount)o--,i--;if(i>0){var s=r.node(o).maybeChild(r.indexAfter(o));while(i>0){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function k(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function C(e){for(var t=e.parent,n=t.content.cutByIndex(e.startIndex,e.endIndex),r=e.depth;;--r){var i=e.$from.node(r),o=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(o,s,n))return r;if(0==r||i.type.spec.isolating||!k(i,o,s))break}}function S(e,t,n,r){void 0===r&&(r=e);var i=M(e,t),o=i&&D(r,t);return o?i.map(_).concat({type:t,attrs:n}).concat(o.map(_)):null}function _(e){return{type:e,attrs:null}}function M(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;var s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}function D(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;for(var a=s.length?s[s.length-1]:t,l=a.contentMatch,c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return l&&l.validEnd?s:null}function A(e,t,n){var r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function E(e,t,n,r){void 0===n&&(n=1);var i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var a=i.depth-1,l=n-2;a>o;a--,l--){var c=i.node(a),u=i.index(a);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),f=r&&r[l]||c;if(f!=c&&(d=d.replaceChild(0,f.type.create(f.attrs))),!c.canReplace(u+1,c.childCount)||!f.type.validContent(d))return!1}var h=i.indexAfter(o),p=r&&r[0];return i.node(o).canReplaceWith(h,h,p?p.type:i.node(o+1).type)}function O(e,t){var n=e.resolve(t),r=n.index();return T(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function T(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function N(e,t,n){void 0===n&&(n=-1);for(var r=e.resolve(t),i=r.depth;;i--){var o=void 0,s=void 0,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&T(o,s)&&r.node(i).canReplace(a,a+1))return t;if(0==i)break;t=n<0?r.before(i):r.after(i)}}function L(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function I(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var i=n.content,o=0;o<n.openStart;o++)i=i.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),u=r.node(a),d=!1;if(1==s)d=u.canReplace(c,c,i);else{var f=u.contentMatchAt(c).findWrapping(i.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return 0==l?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function R(e,t,n){for(var i=[],o=0;o<e.childCount;o++){var s=e.child(o);s.content.size&&(s=s.copy(R(s.content,t,s))),s.isInline&&(s=t(s,n,o)),i.push(s)}return r["Fragment"].fromArray(i)}v.jsonID("replaceAround",w),h.prototype.lift=function(e,t){for(var n=e.$from,i=e.$to,o=e.depth,s=n.before(o+1),a=i.after(o+1),l=s,c=a,u=r["Fragment"].empty,d=0,f=o,h=!1;f>t;f--)h||n.index(f)>0?(h=!0,u=r["Fragment"].from(n.node(f).copy(u)),d++):l--;for(var p=r["Fragment"].empty,m=0,g=o,v=!1;g>t;g--)v||i.after(g+1)<i.end(g)?(v=!0,p=r["Fragment"].from(i.node(g).copy(p)),m++):c++;return this.step(new w(l,c,s,a,new r["Slice"](u.append(p),d,m),u.size-d,!0))},h.prototype.wrap=function(e,t){for(var n=r["Fragment"].empty,i=t.length-1;i>=0;i--)n=r["Fragment"].from(t[i].type.create(t[i].attrs,n));var o=e.start,s=e.end;return this.step(new w(o,s,o,s,new r["Slice"](n,0,0),t.length,!0))},h.prototype.setBlockType=function(e,t,n,i){var o=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,i)&&A(o.doc,o.mapping.slice(s).map(t),n)){o.clearIncompatible(o.mapping.slice(s).map(t,1),n);var a=o.mapping.slice(s),l=a.map(t,1),c=a.map(t+e.nodeSize,1);return o.step(new w(l,c,l+1,c-1,new r["Slice"](r["Fragment"].from(n.create(i,null,e.marks)),0,0),1,!0)),!1}})),this},h.prototype.setNodeMarkup=function(e,t,n,i){var o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);var s=t.create(n,null,i||o.marks);if(o.isLeaf)return this.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new w(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new r["Slice"](r["Fragment"].from(s),0,0),1,!0))},h.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var i=this.doc.resolve(e),o=r["Fragment"].empty,s=r["Fragment"].empty,a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){o=r["Fragment"].from(i.node(a).copy(o));var u=n&&n[c];s=r["Fragment"].from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}return this.step(new b(e,e,new r["Slice"](o.append(s),t,t),!0))},h.prototype.join=function(e,t){void 0===t&&(t=1);var n=new b(e-t,e+t,r["Slice"].empty,!0);return this.step(n)};var F=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),i=e.resolve(this.from),o=i.node(i.sharedDepth(this.to)),s=new r["Slice"](R(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return y.fromReplace(e,this.from,this.to,s)},t.prototype.invert=function(){return new P(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(v);v.jsonID("addMark",F);var P=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),i=new r["Slice"](R(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return y.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new F(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(v);function B(e,t,n,i){if(void 0===n&&(n=t),void 0===i&&(i=r["Slice"].empty),t==n&&!i.size)return null;var o=e.resolve(t),s=e.resolve(n);return j(o,s,i)?new b(t,n,i):new z(o,s,i).fit()}function j(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}v.jsonID("removeMark",P),h.prototype.addMark=function(e,t,n){var r=this,i=[],o=[],s=null,a=null;return this.doc.nodesBetween(e,t,(function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var d=Math.max(l,e),f=Math.min(l+r.nodeSize,t),h=n.addToSet(u),p=0;p<u.length;p++)u[p].isInSet(h)||(s&&s.to==d&&s.mark.eq(u[p])?s.to=f:i.push(s=new P(d,f,u[p])));a&&a.to==d?a.to=f:o.push(a=new F(d,f,n))}}})),i.forEach((function(e){return r.step(e)})),o.forEach((function(e){return r.step(e)})),this},h.prototype.removeMark=function(e,t,n){var i=this;void 0===n&&(n=null);var o=[],s=0;return this.doc.nodesBetween(e,t,(function(i,a){if(i.isInline){s++;var l=null;if(n instanceof r["MarkType"]){var c,u=i.marks;while(c=n.isInSet(u))(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(i.marks)&&(l=[n]):l=i.marks;if(l&&l.length)for(var d=Math.min(a+i.nodeSize,t),f=0;f<l.length;f++){for(var h=l[f],p=void 0,m=0;m<o.length;m++){var g=o[m];g.step==s-1&&h.eq(o[m].style)&&(p=g)}p?(p.to=d,p.step=s):o.push({style:h,from:Math.max(a,e),to:d,step:s})}}})),o.forEach((function(e){return i.step(new P(e.from,e.to,e.style))})),this},h.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var i=this.doc.nodeAt(e),o=[],s=e+1,a=0;a<i.childCount;a++){var l=i.child(a),c=s+l.nodeSize,u=n.matchType(l.type,l.attrs);if(u){n=u;for(var d=0;d<l.marks.length;d++)t.allowsMarkType(l.marks[d].type)||this.step(new P(s,c,l.marks[d]))}else o.push(new b(s,c,r["Slice"].empty));s=c}if(!n.validEnd){var f=n.fillBefore(r["Fragment"].empty,!0);this.replace(s,s,new r["Slice"](f,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},h.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=r["Slice"].empty);var i=B(this.doc,e,t,n);return i&&this.step(i),this},h.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new r["Slice"](r["Fragment"].from(n),0,0))},h.prototype.delete=function(e,t){return this.replace(e,t,r["Slice"].empty)},h.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var z=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var i=0;i<=e.depth;i++){var o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}this.placed=r["Fragment"].empty;for(var s=e.depth;s>0;s--)this.placed=r["Fragment"].from(e.node(s).copy(this.placed))},H={depth:{configurable:!0}};function $(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy($(e.firstChild.content,t-1,n)))}function V(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(V(e.lastChild.content,t-1,n)))}function W(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function U(e,t,n){if(t<=0)return e;var i=e.content;return t>1&&(i=i.replaceChild(0,U(i.firstChild,t-1,1==i.childCount?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(r["Fragment"].empty,!0)))),e.copy(i)}function q(e,t,n,r,i){var o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;var a=r.fillBefore(o.content,!0,s);return a&&!G(n,o.content,s)?a:null}function G(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function K(e,t,n,i,o){if(t<n){var s=e.firstChild;e=e.replaceChild(0,s.copy(K(s.content,t+1,n,i,s)))}if(t>i){var a=o.contentMatchAt(0),l=a.fillBefore(e).append(e);e=l.append(a.matchFragment(l).fillBefore(r["Fragment"].empty,!0))}return e}function J(e,t){for(var n=[],r=Math.min(e.depth,t.depth),i=r;i>=0;i--){var o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;o==t.start(i)&&n.push(i)}return n}H.depth.get=function(){return this.frontier.length-1},z.prototype.fit=function(){while(this.unplaced.size){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(t<0?this.$to:i.doc.resolve(t));if(!o)return null;var s=this.placed,a=i.depth,l=o.depth;while(a&&l&&1==s.childCount)s=s.firstChild.content,a--,l--;var c=new r["Slice"](s,a,l);return t>-1?new w(i.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||i.pos!=this.$to.pos?new b(i.pos,o.pos,c):void 0},z.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--){var n=void 0,i=void 0;t?(i=W(this.unplaced.content,t-1).firstChild,n=i.content):n=this.unplaced.content;for(var o=n.firstChild,s=this.depth;s>=0;s--){var a=this.frontier[s],l=a.type,c=a.match,u=void 0,d=void 0;if(1==e&&(o?c.matchType(o.type)||(d=c.fillBefore(r["Fragment"].from(o),!1)):l.compatibleContent(i.type)))return{sliceDepth:t,frontierDepth:s,parent:i,inject:d};if(2==e&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:s,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}},z.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,o=W(t,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new r["Slice"](t,n+1,Math.max(i,o.size+n>=t.size-i?n+1:0)),!0)},z.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,o=W(t,n);if(o.childCount<=1&&n>0){var s=t.size-n<=n+o.size;this.unplaced=new r["Slice"]($(t,n-1,1),n-1,s?n-1:i)}else this.unplaced=new r["Slice"]($(t,n,1),n,i)},z.prototype.placeNodes=function(e){var t=e.sliceDepth,n=e.frontierDepth,i=e.parent,o=e.inject,s=e.wrap;while(this.depth>n)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var l=this.unplaced,c=i?i.content:l.content,u=l.openStart-t,d=0,f=[],h=this.frontier[n],p=h.match,m=h.type;if(o){for(var g=0;g<o.childCount;g++)f.push(o.child(g));p=p.matchFragment(o)}var v=c.size+t-(l.content.size-l.openEnd);while(d<c.childCount){var y=c.child(d),b=p.matchType(y.type);if(!b)break;d++,(d>1||0==u||y.content.size)&&(p=b,f.push(U(y.mark(m.allowedMarks(y.marks)),1==d?u:0,d==c.childCount?v:-1)))}var w=d==c.childCount;w||(v=-1),this.placed=V(this.placed,n,r["Fragment"].from(f)),this.frontier[n].match=p,w&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var x=0,k=c;x<v;x++){var C=k.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),k=C.content}this.unplaced=w?0==t?r["Slice"].empty:new r["Slice"]($(l.content,t-1,1),t-1,v<0?l.openEnd:t-1):new r["Slice"]($(l.content,t,d),l.openStart,l.openEnd)},z.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!q(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;var n=this.$to,r=n.depth,i=this.$to.after(r);while(r>1&&i==this.$to.end(--r))++i;return i},z.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,i=n.type,o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=q(e,t,i,r,o);if(s){for(var a=t-1;a>=0;a--){var l=this.frontier[a],c=l.match,u=l.type,d=q(e,a,u,c,!0);if(!d||d.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}},z.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;while(this.depth>t.depth)this.closeFrontierNode();t.fit.childCount&&(this.placed=V(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,i)}return e},z.prototype.openFrontierNode=function(e,t,n){var i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=V(this.placed,this.depth,r["Fragment"].from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},z.prototype.closeFrontierNode=function(){var e=this.frontier.pop(),t=e.match.fillBefore(r["Fragment"].empty,!0);t.childCount&&(this.placed=V(this.placed,this.frontier.length,t))},Object.defineProperties(z.prototype,H),h.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var i=this.doc.resolve(e),o=this.doc.resolve(t);if(j(i,o,n))return this.step(new b(e,t,n));var s=J(i,this.doc.resolve(t));0==s[s.length-1]&&s.pop();var a=-(i.depth+1);s.unshift(a);for(var l=i.depth,c=i.pos-1;l>0;l--,c--){var u=i.node(l).type.spec;if(u.defining||u.isolating)break;s.indexOf(l)>-1?a=l:i.before(l)==c&&s.splice(1,0,-l)}for(var d=s.indexOf(a),f=[],h=n.openStart,p=n.content,m=0;;m++){var g=p.firstChild;if(f.push(g),m==n.openStart)break;p=g.content}h>0&&f[h-1].type.spec.defining&&i.node(d).type!=f[h-1].type?h-=1:h>=2&&f[h-1].isTextblock&&f[h-2].type.spec.defining&&i.node(d).type!=f[h-2].type&&(h-=2);for(var v=n.openStart;v>=0;v--){var y=(v+h+1)%(n.openStart+1),w=f[y];if(w)for(var x=0;x<s.length;x++){var k=s[(x+d)%s.length],C=!0;k<0&&(C=!1,k=-k);var S=i.node(k-1),_=i.index(k-1);if(S.canReplaceWith(_,_,w.type,w.marks))return this.replace(i.before(k),C?o.after(k):t,new r["Slice"](K(n.content,0,n.openStart,y),y,n.openEnd))}}for(var M=this.steps.length,D=s.length-1;D>=0;D--){if(this.replace(e,t,n),this.steps.length>M)break;var A=s[D];A<0||(e=i.before(A),t=o.after(A))}return this},h.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var i=L(this.doc,e,n.type);null!=i&&(e=t=i)}return this.replaceRange(e,t,new r["Slice"](r["Fragment"].from(n),0,0))},h.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),i=J(n,r),o=0;o<i.length;o++){var s=i[o],a=o==i.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&r.end(l)-t!=r.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)}},"0c26":function(e,t,n){var r=n("27b7");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("667a9e8c",r,!0,{sourceMap:!1,shadowMode:!1})},"0cb2":function(e,t,n){var r=n("7b0b"),i=Math.floor,o="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,l,c,u){var d=n+e.length,f=l.length,h=a;return void 0!==c&&(c=r(c),h=s),o.call(u,h,(function(r,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(d);case"<":s=c[o.slice(1,-1)];break;default:var a=+o;if(0===a)return r;if(a>f){var u=i(a/10);return 0===u?r:u<=f?void 0===l[u-1]?o.charAt(1):l[u-1]+o.charAt(1):r}s=l[a-1]}return void 0===s?"":s}))}},"0cea":function(e,t,n){var r=n("448a").default,i=n("ded3").default;n("498a"),n("ac1f"),n("1276"),n("159b"),n("99af"),n("a4d3"),n("e01a"),n("9911"),n("d81d");var o=n("e407"),s=o.tableNodes,a=n("4b6d"),l=a.languages,c=s({tableGroup:"block",cellContent:"table_paragraph+|paragraph+"}),u={doc:{content:"block+"},table_wrapper:{content:"table",draggable:!0,group:"block",parseDOM:[{tag:"table"}],toDOM:function(){return["div",0]}},hard_break:{inline:!0,group:"inline",selectable:!1,draggable:!0,inclusive:!1,parseDOM:[{tag:"br",getAttrs:function(e){var t=e.parentNode;return!!t.textContent.trim().length&&{}}}],toDOM:function(){return["br"]}},persona:{attrs:{inserted:{default:!1}},content:"persona_image persona_heading paragraph",group:"block",defining:!0,isolating:!1,draggable:!0,selectable:!0,parseDOM:[{tag:"div",class:"persona",persona:!0,skip:!0}],toDOM:function(){return["div",{class:"persona",persona:!0},0]}},persona_heading:{content:"inline*",group:"block",marks:"",parseDOM:[{tag:"h5[persona=true]"}],toDOM:function(){return["h5",{class:"persona__heading",persona:!0},0]}},paragraph:{attrs:{align:{default:null},simple:{default:!1},persona:{default:!1}},content:"inline*",draggable:!0,group:"block",parseDOM:[{tag:"p",getAttrs:function(e){return!!e.textContent.trim()&&{align:null,persona:e.getAttribute("persona"),simple:e.getAttribute("persona")}}}],toDOM:function(e){var t=e.attrs.persona?{persona:!0,class:"persona__text"}:{};return["p",i({align:e.attrs.align},t),0]}},table_paragraph:{attrs:{align:{default:null}},content:"inline*",draggable:!1,group:"block",parseDOM:[{tag:"p",getAttrs:function(e){var t=e.parentNode;while(t){if(["TABLE","TH","TD","TR"].indexOf(t.tagName)>=0)return{align:null};t=t.parentNode}return!1}}],toDOM:function(e){return["p",{align:e.attrs.align},0]}},epigraph:{attrs:{align:{default:"right"}},content:"inline*",draggable:!0,group:"block",parseDOM:[{tag:'p[class="epigrpah"]',getAttrs:function(e){return{align:e.getAttribute("align")}}}],toDOM:function(e){return["p",{class:"epigrpah epigrpah_".concat(e.attrs.align),align:e.attrs.align},0]}},anchor:{attrs:{id:{default:null}},content:"inline*",draggable:!0,group:"block",parseDOM:[{tag:'a[class="anchor"]',getAttrs:function(e){return{id:e.getAttribute("id")}}}],toDOM:function(e){return["a",{class:"anchor",name:e.attrs.id,id:e.attrs.id},0]}},text:{group:"inline"},blockquote:{content:"paragraph+",group:"block",defining:!0,draggable:!0,selectable:!0,parseDOM:[{tag:"blockquote",contentElement:function(e){return e}}],toDOM:function(){return["blockquote",0]}},code_block:{attrs:{lang:{default:null},code:{default:""},inserted:{default:!1}},content:"text*",group:"block",defining:!1,draggable:!0,selectable:!0,atom:!0,parseDOM:[{tag:"pre",getAttrs:function(e){var t=e?e.getAttribute("class")||e.children.length&&e.firstChild.getAttribute&&e.firstChild.getAttribute("class"):"",n=t?t.split(" "):[],r=null;return l.forEach((function(e){var t=n.indexOf(e.code);-1!==t&&(r=n[t])})),{code:e.innerText,lang:r}}}],toDOM:function(e){return["pre",["code",{class:e.attrs.lang},e.attrs.code]]}},embed:{attrs:{src:{default:null},inserted:{default:!1},data:{default:{}},isHabr:{default:!1},habrUrl:{default:null}},group:"block",atom:!0,draggable:!0,selectable:!0,parseDOM:[{tag:"iframe",getAttrs:function(e){return{src:e.getAttribute("src")}}}],toDOM:function(e){var t=e.attrs,n=t.data;return t.habrUrl?["iframe",{id:e.attrs.data.id,src:e.attrs.habrUrl,class:"embed_video embed__content",allowfullscreen:!0}]:["div",{class:t.isHabr?"embed_link embed_layout-right":"embed_link"},["div",{class:"embed__thumb",style:'background-image: url("'.concat(n.thumb,'");')}],["div",{class:"embed__caption"},["div",{class:"embed__caption-title"},["span",{},n.title||""]]].concat(r(t.isHabr?[["div",{class:"embed__caption-description"},"".concat(n.description,"...")]]:[]),[["a",{href:n.link,target:"_blank",rel:"noopener noreferrer nofollow",class:"embed__caption-link"},n.host||""]])]}},formula:{attrs:{source:{default:null},src:{default:null},inserted:{default:!1},width:{default:0},height:{default:0}},group:"block",atom:!0,draggable:!0,selectable:!0,parseDOM:[{tag:'img[class="formula"]',getAttrs:function(e){return{source:e.getAttribute("source"),src:e.getAttribute("src")||null,width:e.getAttribute("width")||0,height:e.getAttribute("height")||0}}}],toDOM:function(e){return["img",{class:"formula",source:e.attrs.source,alt:e.attrs.source,src:e.attrs.src,width:e.attrs.width,height:e.attrs.height}]}},heading:{attrs:{level:{default:1},class:{default:null}},content:"inline*",group:"block",marks:"",defining:!0,draggable:!0,selectable:!0,parseDOM:[1,2,3].map((function(e){return{tag:"h".concat(e),attrs:{level:e},contentElement:function(e){var t=e.textContent;return e.innerHTML=t,e}}})),toDOM:function(e){return["h".concat(e.attrs.level+1),e.textContent]}},hr:{attrs:{inserted:{default:!1}},group:"block",atom:!0,selectable:!0,draggable:!0,parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}},image:{attrs:{src:{default:null},title:{default:null},customClass:{default:"image"},border:{default:!1},float:{default:!1},fullWidth:{default:!1},inserted:{default:!1},width:{default:0},height:{default:0}},group:"block",atom:!0,draggable:!0,selectable:!0,parseDOM:[{tag:"img",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("title"),class:e.getAttribute("customClass"),width:e.getAttribute("width")||0,height:e.getAttribute("height")||0}}}],toDOM:function(e){return["figure",{class:"".concat(e.attrs.float?"float ":"").concat(e.attrs.border?"bordered ":"").concat(e.attrs.fullWidth?"full-width ":"")},["img",{src:"string"===typeof e.attrs.src?e.attrs.src:"",alt:e.attrs.title,title:e.attrs.title,width:e.attrs.width,height:e.attrs.height}],["figcaption",e.attrs.title||""]]}},inline_formula:{attrs:{source:{default:null},src:{default:null},width:{default:0},height:{default:0}},inline:!0,group:"inline",atom:!0,parseDOM:[{tag:'img[class="formula inline"]',getAttrs:function(e){return{source:e.getAttribute("source"),src:e.getAttribute("src"),width:e.getAttribute("width")||0,height:e.getAttribute("height")||0}}}],toDOM:function(e){return["img",{class:"formula inline",source:e.attrs.source,alt:e.attrs.source,src:e.attrs.src}]}},inline_image:{attrs:{src:{default:null},class:{default:"image image-inline"},width:{default:0},height:{default:0}},inline:!0,atom:!0,group:"inline",selectable:!0,draggable:!0,parseDOM:[{tag:"img[inline=true]",getAttrs:function(e){return{src:e.getAttribute("src"),width:e.getAttribute("width")||0,height:e.getAttribute("height")||0,class:e.getAttribute("class")}}}],toDOM:function(e){return["img",{inline:"true",class:"image image-inline",src:e.attrs.src,width:e.attrs.width,height:e.attrs.height}]}},persona_image:{attrs:{src:{default:null},class:{default:"image image-persona"}},atom:!0,group:"block",selectable:!1,draggable:!1,parseDOM:[{tag:"img[persona=true]",getAttrs:function(e){return{src:e.getAttribute("src"),class:e.getAttribute("class")}}}],toDOM:function(e){return["img",{persona:"true",class:"image persona__image",src:e.attrs.src}]}},list:{attrs:{order:{default:1},tag:{default:null},type:{default:"outer"}},content:"listitem+",draggable:!0,group:"block",parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1,tag:"ol",type:"li"===e.parentElement.tagName.toLowerCase()?"inner":"outer"}}},{tag:"ul",getAttrs:function(e){return{tag:"ul",type:"li"===e.parentElement.tagName.toLowerCase()?"inner":"outer"}}}],toDOM:function(e){return 1===e.attrs.order?[-1!==["ul","ol"].indexOf(e.attrs.tag)?e.attrs.tag:"ul",0]:[-1!==["ul","ol"].indexOf(e.attrs.tag)?e.attrs.tag:"ul",{start:e.attrs.order},0]}},listitem:{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}},mention:{attrs:{identity:{default:null},identityType:{default:null},display:{default:null},link:{default:null},class:{default:"mention"}},inline:!0,atom:!0,group:"inline",selectable:!0,draggable:!0,parseDOM:[{tag:'a[class="mention"]',getAttrs:function(e){return{link:e.getAttribute("href"),display:e.innerText,class:e.getAttribute("class")}}}],toDOM:function(e){return["a",{class:"mention",href:e.attrs.link},e.attrs.display]}},spoiler:{attrs:{title:{default:""}},content:"block+",group:"block",defining:!0,isolating:!0,draggable:!0,selectable:!0,parseDOM:[{tag:"details"},{tag:"spoiler",getAttrs:function(e){return{title:e.getAttribute("title")}}}],toDOM:function(e){var t=e.attrs.title||"Hidden text";return["details",{class:"spoiler"},["summary",t],["div",{class:"spoiler__content"},0]]}},table:c.table,table_cell:c.table_cell,table_row:c.table_row,table_header:c.table_header},d={abbr:{attrs:{title:{default:null}},inclusive:!1,parseDOM:[{tag:"abbr[title]",getAttrs:function(e){return{title:e.getAttribute("title")}}}],toDOM:function(e){return["abbr",i({},e.attrs),0]}},link:{attrs:{href:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href")}}}],toDOM:function(e){return["a",i({},e.attrs),0]}},sub:{parseDOM:[{tag:"sub"}],toDOM:function(){return["sub",0]}},sup:{parseDOM:[{tag:"sup"}],toDOM:function(){return["sup",0]}},italic:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}},bold:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong",0]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}},strike:{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e}}],toDOM:function(){return["s",0]}},underline:{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(e){return"underline"===e}}],toDOM:function(){return["u",0]}}};e.exports={nodes:u,marks:d,tableNodesObject:c}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d3b":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("c430"),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"0df6":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"0e54":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o={exports:{}};function s(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function a(e){o.exports.defaults=e}o.exports={defaults:s(),getDefaults:s,changeDefaults:a};var l=/[&<>"']/,c=/[&<>"']/g,u=/[<>"']|&(?!#?\w+;)/,d=/[<>"']|&(?!#?\w+;)/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=function(e){return f[e]};function p(e,t){if(t){if(l.test(e))return e.replace(c,h)}else if(u.test(e))return e.replace(d,h);return e}var m=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g(e){return e.replace(m,(function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var v=/(^|[^\[])\^/g;function y(e,t){e=e.source||e,t=t||"";var n={replace:function(t,r){return r=r.source||r,r=r.replace(v,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var b=/[^\w:]/g,w=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function x(e,t,n){if(e){var r;try{r=decodeURIComponent(g(n)).replace(b,"").toLowerCase()}catch(i){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!w.test(n)&&(n=M(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(i){return null}return n}var k={},C=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,_=/^([^:]+:\/*[^/]*)[\s\S]*$/;function M(e,t){k[" "+e]||(C.test(e)?k[" "+e]=e+"/":k[" "+e]=O(e,"/",!0)),e=k[" "+e];var n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(S,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(_,"$1")+t:e+t}var D={exec:function(){}};function A(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function E(e,t){var n=e.replace(/\|/g,(function(e,t,n){var r=!1,i=t;while(--i>=0&&"\\"===n[i])r=!r;return r?"|":" |"})),r=n.split(/ \|/),i=0;if(r.length>t)r.splice(t);else while(r.length<t)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function O(e,t,n){var r=e.length;if(0===r)return"";var i=0;while(i<r){var o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}function T(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}function N(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function L(e,t){if(t<1)return"";var n="";while(t>1)1&t&&(n+=e),t>>=1,e+=e;return n+e}var I={escape:p,unescape:g,edit:y,cleanUrl:x,resolveUrl:M,noopTest:D,merge:A,splitCells:E,rtrim:O,findClosingBracket:T,checkSanitizeDeprecation:N,repeatString:L},R=o.exports.defaults,F=I.rtrim,P=I.splitCells,B=I.escape,j=I.findClosingBracket;function z(e,t,n){var r=t.href,i=t.title?B(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:B(o)}}function H(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);if(null===t)return e;var n=t[0];return n.length>=r.length?e.slice(r.length):e})).join("\n")}var $=function(){function e(e){this.options=e||R}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:F(n,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=H(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=F(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:P(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=P(n.cells[r],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,i,o,s,a,l,c,u,d=t[0],f=t[2],h=f.length>1,p={type:"list",raw:d,ordered:h,start:h?+f.slice(0,-1):"",loose:!1,items:[]},m=t[0].match(this.rules.block.item),g=!1,v=m.length;i=this.rules.block.listItemStart.exec(m[0]);for(var y=0;y<v;y++){if(n=m[y],d=n,this.options.pedantic||(u=n.match(new RegExp("\\n\\s*\\n {0,"+(i[0].length-1)+"}\\S")),u&&(s=n.length-u.index+m.slice(y+1).join("\n").length,p.raw=p.raw.substring(0,p.raw.length-s),n=n.substring(0,u.index),d=n,v=y+1)),y!==v-1){if(o=this.rules.block.listItemStart.exec(m[y+1]),this.options.pedantic?o[1].length>i[1].length:o[1].length>=i[0].length||o[1].length>3){m.splice(y,2,m[y]+(!this.options.pedantic&&o[1].length<i[0].length&&!m[y].match(/\n$/)?"":"\n")+m[y+1]),y--,v--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==f[f.length-1]:h===(1===o[2].length))&&(s=m.slice(y+1).join("\n").length,p.raw=p.raw.substring(0,p.raw.length-s),y=v-1),i=o}r=n.length,n=n.replace(/^ *([*+-]|\d+[.)]) ?/,""),~n.indexOf("\n ")&&(r-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+r+"}","gm"),"")),n=F(n,"\n"),y!==v-1&&(d+="\n"),a=g||/\n\n(?!\s*$)/.test(d),y!==v-1&&(g="\n\n"===d.slice(-2),a||(a=g)),a&&(p.loose=!0),this.options.gfm&&(l=/^\[[ xX]\] /.test(n),c=void 0,l&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),p.items.push({type:"list_item",raw:d,task:l,checked:c,loose:a,text:n})}return p}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):B(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));var n=t[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:n,raw:t[0],href:t[2],title:t[3]}}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:P(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=P(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:B(t[1])}},t.tag=function(e,t,n){var r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):B(r[0]):r[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=F(n.slice(0,-1),"\\");if((n.length-r.length)%2===0)return}else{var i=j(t[2],"()");if(i>-1){var o=0===t[0].indexOf("!")?5:4,s=o+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,s).trim(),t[3]=""}}var a=t[2],l="";if(this.options.pedantic){var c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);c&&(a=c[1],l=c[3])}else l=t[3]?t[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(n)?a.slice(1):a.slice(1,-1)),z(t,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:l?l.replace(this.rules.inline._escapes,"$1"):l},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return z(n,r,n[0])}},t.emStrong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){var o,s,a=r[0].length-1,l=a,c=0,u="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;u.lastIndex=0,t=t.slice(-1*e.length+a);while(null!=(r=u.exec(t)))if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],o)if(s=o.length,r[3]||r[4])l+=s;else if(!((r[5]||r[6])&&a%3)||(a+s)%3){if(l-=s,!(l>0))return s=Math.min(s,s+l+c),Math.min(a,s)%2?{type:"em",raw:e.slice(0,a+r.index+s+1),text:e.slice(1,a+r.index+s)}:{type:"strong",raw:e.slice(0,a+r.index+s+1),text:e.slice(2,a+r.index+s-1)}}else c+=s}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=B(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,r,i=this.rules.inline.autolink.exec(e);if(i)return"@"===i[2]?(n=B(this.options.mangle?t(i[1]):i[1]),r="mailto:"+n):(n=B(i[1]),r=n),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,i;if("@"===n[2])r=B(this.options.mangle?t(n[0]):n[0]),i="mailto:"+r;else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=B(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},t.inlineText=function(e,t,n){var r,i=this.rules.inline.text.exec(e);if(i)return r=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):B(i[0]):i[0]:B(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}},e}(),V=I.noopTest,W=I.edit,U=I.merge,q={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:V,table:V,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};q.def=W(q.def).replace("label",q._label).replace("title",q._title).getRegex(),q.bullet=/(?:[*+-]|\d{1,9}[.)])/,q.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,q.item=W(q.item,"gm").replace(/bull/g,q.bullet).getRegex(),q.listItemStart=W(/^( *)(bull) */).replace("bull",q.bullet).getRegex(),q.list=W(q.list).replace(/bull/g,q.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+q.def.source+")").getRegex(),q._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",q._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,q.html=W(q.html,"i").replace("comment",q._comment).replace("tag",q._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),q.paragraph=W(q._paragraph).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",q._tag).getRegex(),q.blockquote=W(q.blockquote).replace("paragraph",q.paragraph).getRegex(),q.normal=U({},q),q.gfm=U({},q.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),q.gfm.nptable=W(q.gfm.nptable).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",q._tag).getRegex(),q.gfm.table=W(q.gfm.table).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",q._tag).getRegex(),q.pedantic=U({},q.normal,{html:W("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",q._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:V,paragraph:W(q.normal._paragraph).replace("hr",q.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",q.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var G={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:V,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:V,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};G.punctuation=W(G.punctuation).replace(/punctuation/g,G._punctuation).getRegex(),G.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,G.escapedEmSt=/\\\*|\\_/g,G._comment=W(q._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),G.emStrong.lDelim=W(G.emStrong.lDelim).replace(/punct/g,G._punctuation).getRegex(),G.emStrong.rDelimAst=W(G.emStrong.rDelimAst,"g").replace(/punct/g,G._punctuation).getRegex(),G.emStrong.rDelimUnd=W(G.emStrong.rDelimUnd,"g").replace(/punct/g,G._punctuation).getRegex(),G._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,G._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,G._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,G.autolink=W(G.autolink).replace("scheme",G._scheme).replace("email",G._email).getRegex(),G._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,G.tag=W(G.tag).replace("comment",G._comment).replace("attribute",G._attribute).getRegex(),G._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,G._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,G._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,G.link=W(G.link).replace("label",G._label).replace("href",G._href).replace("title",G._title).getRegex(),G.reflink=W(G.reflink).replace("label",G._label).getRegex(),G.reflinkSearch=W(G.reflinkSearch,"g").replace("reflink",G.reflink).replace("nolink",G.nolink).getRegex(),G.normal=U({},G),G.pedantic=U({},G.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:W(/^!?\[(label)\]\((.*?)\)/).replace("label",G._label).getRegex(),reflink:W(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",G._label).getRegex()}),G.gfm=U({},G.normal,{escape:W(G.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),G.gfm.url=W(G.gfm.url,"i").replace("email",G.gfm._extended_email).getRegex(),G.breaks=U({},G.gfm,{br:W(G.br).replace("{2,}","*").getRegex(),text:W(G.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var K={block:q,inline:G},J=$,Z=o.exports.defaults,X=K.block,Y=K.inline,Q=I.repeatString;function ee(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function te(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var ne=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Z,this.options.tokenizer=this.options.tokenizer||new J,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:X.normal,inline:Y.normal};this.options.pedantic?(t.block=X.pedantic,t.inline=Y.pedantic):this.options.gfm&&(t.block=X.gfm,this.options.breaks?t.inline=Y.breaks:t.inline=Y.gfm),this.tokenizer.rules=t}e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.lexInline=function(t,n){var r=new e(n);return r.inlineTokens(t)};var n=e.prototype;return n.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(e,t,n){var r,i,o,s,a,l,c=this;void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));while(e){var u,d,f;if(null==(u=this.options)||null==(d=u.extensions)||!d.block||!this.options.extensions.block.some((function(n){return!!(r=n.call(c,e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)})))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),s=t[t.length-1],s&&"paragraph"===s.type?(s.raw+="\n"+r.raw,s.text+="\n"+r.text):t.push(r);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(a=e,null!=(f=this.options.extensions)&&f.startBlock&&function(){var t=1/0,n=e.slice(1),r=void 0;c.options.extensions.startBlock.forEach((function(e){r=e.call(this,n),"number"===typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}(),n&&(r=this.tokenizer.paragraph(a)))s=t[t.length-1],l&&"paragraph"===s.type?(s.raw+="\n"+r.raw,s.text+="\n"+r.text):t.push(r),l=a.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),s=t[t.length-1],s&&"text"===s.type?(s.raw+="\n"+r.raw,s.text+="\n"+r.text):t.push(r);else if(e){var h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}return t},n.inline=function(e){var t,n,r,i,o,s,a=e.length;for(t=0;t<a;t++)switch(s=e[t],s.type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},i=s.header.length,n=0;n<i;n++)s.tokens.header[n]=[],this.inlineTokens(s.header[n],s.tokens.header[n]);for(i=s.cells.length,n=0;n<i;n++)for(o=s.cells[n],s.tokens.cells[n]=[],r=0;r<o.length;r++)s.tokens.cells[n][r]=[],this.inlineTokens(o[r],s.tokens.cells[n][r]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(i=s.items.length,n=0;n<i;n++)this.inline(s.items[n].tokens);break}return e},n.inlineTokens=function(e,t,n,r){var i,o,s,a=this;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var l,c,u,d=e;if(this.tokens.links){var f=Object.keys(this.tokens.links);if(f.length>0)while(null!=(l=this.tokenizer.rules.inline.reflinkSearch.exec(d)))f.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,l.index)+"["+Q("a",l[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}while(null!=(l=this.tokenizer.rules.inline.blockSkip.exec(d)))d=d.slice(0,l.index)+"["+Q("a",l[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while(null!=(l=this.tokenizer.rules.inline.escapedEmSt.exec(d)))d=d.slice(0,l.index)+"++"+d.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);while(e){var h,p,m;if(c||(u=""),c=!1,null==(h=this.options)||null==(p=h.extensions)||!p.inline||!this.options.extensions.inline.some((function(n){return!!(i=n.call(a,e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)})))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e,n,r))e=e.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,o=t[t.length-1],o&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),o=t[t.length-1],"link"===i.type?(i.tokens=this.inlineTokens(i.text,[],!0,r),t.push(i)):o&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,d,u))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.autolink(e,te))e=e.substring(i.raw.length),t.push(i);else if(n||!(i=this.tokenizer.url(e,te))){if(s=e,null!=(m=this.options.extensions)&&m.startInline&&function(){var t=1/0,n=e.slice(1),r=void 0;a.options.extensions.startInline.forEach((function(e){r=e.call(this,n),"number"===typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(s=e.substring(0,t+1))}(),i=this.tokenizer.inlineText(s,r,ee))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(u=i.raw.slice(-1)),c=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(e){var g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}throw new Error(g)}}else e=e.substring(i.raw.length),t.push(i)}return t},t(e,null,[{key:"rules",get:function(){return{block:X,inline:Y}}}]),e}(),re=o.exports.defaults,ie=I.cleanUrl,oe=I.escape,se=function(){function e(e){this.options=e||re}var t=e.prototype;return t.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+oe(r,!0)+'">'+(n?e:oe(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:oe(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var r=t?"ol":"ul",i=t&&1!==n?' start="'+n+'"':"";return"<"+r+i+">\n"+e+"</"+r+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' align="'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(e=ie(this.options.sanitize,this.options.baseUrl,e),null===e)return n;var r='<a href="'+oe(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r},t.image=function(e,t,n){if(e=ie(this.options.sanitize,this.options.baseUrl,e),null===e)return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r},t.text=function(e){return e},e}(),ae=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),le=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),ce=se,ue=ae,de=le,fe=o.exports.defaults,he=I.unescape,pe=function(){function e(e){this.options=e||fe,this.options.renderer=this.options.renderer||new ce,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ue,this.slugger=new de}e.parse=function(t,n){var r=new e(n);return r.parse(t)},e.parseInline=function(t,n){var r=new e(n);return r.parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,r,i,o,s,a,l,c,u,d,f,h,p,m,g,v,y,b,w,x="",k=e.length;for(n=0;n<k;n++){var C,S;if(d=e[n],null==(C=this.options.extensions)||null==(S=C.renderers)||!S[d.type]||(w=this.options.extensions.renderers[d.type].call(this,d),!1===w&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)))switch(d.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(d.tokens),d.depth,he(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",o=d.header.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(d.tokens.header[r]),{header:!0,align:d.align[r]});for(c+=this.renderer.tablerow(l),u="",o=d.cells.length,r=0;r<o;r++){for(a=d.tokens.cells[r],l="",s=a.length,i=0;i<s;i++)l+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:d.align[i]});u+=this.renderer.tablerow(l)}x+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(d.tokens),x+=this.renderer.blockquote(u);continue;case"list":for(f=d.ordered,h=d.start,p=d.loose,o=d.items.length,u="",r=0;r<o;r++)g=d.items[r],v=g.checked,y=g.task,m="",g.task&&(b=this.renderer.checkbox(v),p?g.tokens.length>0&&"text"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):m+=b),m+=this.parse(g.tokens,p),u+=this.renderer.listitem(m,y,v);x+=this.renderer.list(u,f,h);continue;case"html":x+=this.renderer.html(d.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":u=d.tokens?this.parseInline(d.tokens):d.text;while(n+1<k&&"text"===e[n+1].type)d=e[++n],u+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);x+=t?this.renderer.paragraph(u):u;continue;default:var _='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(_);throw new Error(_)}else x+=w||""}return x},t.parseInline=function(e,t){t=t||this.renderer;var n,r,i,o="",s=e.length;for(n=0;n<s;n++){var a,l;if(r=e[n],null==(a=this.options.extensions)||null==(l=a.renderers)||!l[r.type]||(i=this.options.extensions.renderers[r.type].call(this,r),!1===i&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))switch(r.type){case"escape":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;case"text":o+=t.text(r.text);break;default:var c='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}else o+=i||""}return o},e}(),me=ne,ge=pe,ve=$,ye=se,be=ae,we=le,xe=I.merge,ke=I.checkSanitizeDeprecation,Ce=I.escape,Se=o.exports.getDefaults,_e=o.exports.changeDefaults,Me=o.exports.defaults;function De(e,t,n){if("undefined"===typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"===typeof t&&(n=t,t=null),t=xe({},De.defaults,t||{}),ke(t),n){var r,i=t.highlight;try{r=me.lex(e,t)}catch(l){return n(l)}var o=function(e){var o;if(!e)try{t.walkTokens&&De.walkTokens(r,t.walkTokens),o=ge.parse(r,t)}catch(l){e=l}return t.highlight=i,e?n(e):n(null,o)};if(!i||i.length<3)return o();if(delete t.highlight,!r.length)return o();var s=0;return De.walkTokens(r,(function(e){"code"===e.type&&(s++,setTimeout((function(){i(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),s--,0===s&&o()}))}),0))})),void(0===s&&o())}try{var a=me.lex(e,t);return t.walkTokens&&De.walkTokens(a,t.walkTokens),ge.parse(a,t)}catch(l){if(l.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ce(l.message+"",!0)+"</pre>";throw l}}De.options=De.setOptions=function(e){return xe(De.defaults,e),_e(De.defaults),De},De.getDefaults=Se,De.defaults=Me,De.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=xe.apply(void 0,[{}].concat(n)),s=De.defaults.extensions||{renderers:{},childTokens:{}};n.forEach((function(t){if(t.extensions&&(i=!0,t.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t,n=null==(t=s.renderers)?void 0:t[e.name];s.renderers[e.name]=n?function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=e.renderer.apply(this,r);return!1===o&&(o=n.apply(this,r)),o}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");s[e.level]?s[e.level].unshift(e.tokenizer):s[e.level]=[e.tokenizer],e.start&&("block"===e.level?s.startBlock?s.startBlock.push(e.start):s.startBlock=[e.start]:"inline"===e.level&&(s.startInline?s.startInline.push(e.start):s.startInline=[e.start]))}e.childTokens&&(s.childTokens[e.name]=e.childTokens)}))),t.renderer&&function(){var e=De.defaults.renderer||new ye,n=function(n){var r=e[n];e[n]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=t.renderer[n].apply(e,o);return!1===a&&(a=r.apply(e,o)),a}};for(var r in t.renderer)n(r);o.renderer=e}(),t.tokenizer&&function(){var e=De.defaults.tokenizer||new ve,n=function(n){var r=e[n];e[n]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=t.tokenizer[n].apply(e,o);return!1===a&&(a=r.apply(e,o)),a}};for(var r in t.tokenizer)n(r);o.tokenizer=e}(),t.walkTokens){var n=De.defaults.walkTokens;o.walkTokens=function(r){t.walkTokens.call(e,r),n&&n(r)}}i&&(o.extensions=s),De.setOptions(o)}))},De.walkTokens=function(e,t){for(var n,r=function(){var e=n.value;switch(t(e),e.type){case"table":for(var r,o=i(e.tokens.header);!(r=o()).done;){var s=r.value;De.walkTokens(s,t)}for(var a,l=i(e.tokens.cells);!(a=l()).done;)for(var c,u=a.value,d=i(u);!(c=d()).done;){var f=c.value;De.walkTokens(f,t)}break;case"list":De.walkTokens(e.items,t);break;default:var h,p,m,g,v,y;null!=(h=De.defaults)&&null!=(p=h.extensions)&&null!=(m=p.childTokens)&&m[e.type]&&(null==(y=De.defaults)||y.extensions.childTokens[e.type].forEach((function(n){De.walkTokens(e[n],t)}))),!e.tokens||null!=(g=De.defaults)&&null!=(v=g.extensions)&&v.childTokens[e.type]||De.walkTokens(e.tokens,t)}},o=i(e);!(n=o()).done;)r()},De.parseInline=function(e,t){if("undefined"===typeof e||null===e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=xe({},De.defaults,t||{}),ke(t);try{var n=me.lexInline(e,t);return t.walkTokens&&De.walkTokens(n,t.walkTokens),ge.parseInline(n,t)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ce(r.message+"",!0)+"</pre>";throw r}},De.Parser=ge,De.parser=ge.parse,De.Renderer=ye,De.TextRenderer=be,De.Lexer=me,De.lexer=me.lex,De.Tokenizer=ve,De.Slugger=we,De.parse=De;var Ae=De;return Ae}))},1020:function(e,t){function n(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var r=e[t];"object"!=typeof r||Object.isFrozen(r)||n(r)})),e}var r=n,i=n;r.default=i;class o{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function s(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function a(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const l="</span>",c=e=>!!e.kind;class u{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=s(e)}openNode(e){if(!c(e))return;let t=e.kind;e.sublanguage||(t=`${this.classPrefix}${t}`),this.span(t)}closeNode(e){c(e)&&(this.buffer+=l)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class d{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t={kind:e,children:[]};this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){while(this.closeNode());}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"===typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!==typeof e&&e.children&&(e.children.every(e=>"string"===typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{d._collapse(e)}))}}class f extends d{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.kind=t,n.sublanguage=!0,this.add(n)}toHTML(){const e=new u(this,this.options);return e.value()}finalize(){return!0}}function h(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function p(e){return e?"string"===typeof e?e:e.source:null}function m(...e){const t=e.map(e=>p(e)).join("");return t}function g(...e){const t="("+e.map(e=>p(e)).join("|")+")";return t}function v(e){return new RegExp(e.toString()+"|").exec("").length-1}function y(e,t){const n=e&&e.exec(t);return n&&0===n.index}const b=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function w(e,t="|"){let n=0;return e.map(e=>{n+=1;const t=n;let r=p(e),i="";while(r.length>0){const e=b.exec(r);if(!e){i+=r;break}i+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&n++)}return i}).map(e=>`(${e})`).join(t)}const x=/\b\B/,k="[a-zA-Z]\\w*",C="[a-zA-Z_]\\w*",S="\\b\\d+(\\.\\d+)?",_="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",M="\\b(0b[01]+)",D="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",A=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=m(t,/.*\b/,e.binary,/\b.*/)),a({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},E={begin:"\\\\[\\s\\S]",relevance:0},O={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[E]},T={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[E]},N={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},L=function(e,t,n={}){const r=a({className:"comment",begin:e,end:t,contains:[]},n);return r.contains.push(N),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},I=L("//","$"),R=L("/\\*","\\*/"),F=L("#","$"),P={className:"number",begin:S,relevance:0},B={className:"number",begin:_,relevance:0},j={className:"number",begin:M,relevance:0},z={className:"number",begin:S+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},H={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[E,{begin:/\[/,end:/\]/,relevance:0,contains:[E]}]}]},$={className:"title",begin:k,relevance:0},V={className:"title",begin:C,relevance:0},W={begin:"\\.\\s*"+C,relevance:0},U=function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})};var q=Object.freeze({__proto__:null,MATCH_NOTHING_RE:x,IDENT_RE:k,UNDERSCORE_IDENT_RE:C,NUMBER_RE:S,C_NUMBER_RE:_,BINARY_NUMBER_RE:M,RE_STARTERS_RE:D,SHEBANG:A,BACKSLASH_ESCAPE:E,APOS_STRING_MODE:O,QUOTE_STRING_MODE:T,PHRASAL_WORDS_MODE:N,COMMENT:L,C_LINE_COMMENT_MODE:I,C_BLOCK_COMMENT_MODE:R,HASH_COMMENT_MODE:F,NUMBER_MODE:P,C_NUMBER_MODE:B,BINARY_NUMBER_MODE:j,CSS_NUMBER_MODE:z,REGEXP_MODE:H,TITLE_MODE:$,UNDERSCORE_TITLE_MODE:V,METHOD_GUARD:W,END_SAME_AS_BEGIN:U});function G(e,t){const n=e.input[e.index-1];"."===n&&t.ignoreMatch()}function K(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=G,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function J(e,t){Array.isArray(e.illegal)&&(e.illegal=g(...e.illegal))}function Z(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function X(e,t){void 0===e.relevance&&(e.relevance=1)}const Y=["of","and","for","in","not","or","if","then","parent","list","value"],Q="keyword";function ee(e,t,n=Q){const r={};return"string"===typeof e?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach((function(n){Object.assign(r,ee(e[n],t,n))})),r;function i(e,n){t&&(n=n.map(e=>e.toLowerCase())),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,te(n[0],n[1])]}))}}function te(e,t){return t?Number(t):ne(e)?0:1}function ne(e){return Y.includes(e.toLowerCase())}function re(e,{plugins:t}){function n(t,n){return new RegExp(p(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=v(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=n(w(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new r;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}function o(e){const t=new i;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}function s(t,r){const i=t;if(t.isCompiled)return i;[Z].forEach(e=>e(t,r)),e.compilerExtensions.forEach(e=>e(t,r)),t.__beforeBegin=null,[K,J,X].forEach(e=>e(t,r)),t.isCompiled=!0;let a=null;if("object"===typeof t.keywords&&(a=t.keywords.$pattern,delete t.keywords.$pattern),t.keywords&&(t.keywords=ee(t.keywords,e.case_insensitive)),t.lexemes&&a)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return a=a||t.lexemes||/\w+/,i.keywordPatternRe=n(a,!0),r&&(t.begin||(t.begin=/\B|\b/),i.beginRe=n(t.begin),t.endSameAsBegin&&(t.end=t.begin),t.end||t.endsWithParent||(t.end=/\B|\b/),t.end&&(i.endRe=n(t.end)),i.terminatorEnd=p(t.end)||"",t.endsWithParent&&r.terminatorEnd&&(i.terminatorEnd+=(t.end?"|":"")+r.terminatorEnd)),t.illegal&&(i.illegalRe=n(t.illegal)),t.contains||(t.contains=[]),t.contains=[].concat(...t.contains.map((function(e){return oe("self"===e?t:e)}))),t.contains.forEach((function(e){s(e,i)})),t.starts&&s(t.starts,r),i.matcher=o(i),i}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=a(e.classNameAliases||{}),s(e)}function ie(e){return!!e&&(e.endsWithParent||ie(e.starts))}function oe(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return a(e,{variants:null},t)}))),e.cachedVariants?e.cachedVariants:ie(e)?a(e,{starts:e.starts?a(e.starts):null}):Object.isFrozen(e)?a(e):e}var se="10.7.3";function ae(e){return Boolean(e||""===e)}function le(e){const t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,s(this.code);let t={};return this.autoDetect?(t=e.highlightAuto(this.code),this.detectedLanguage=t.language):(t=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),t.value},autoDetect(){return!this.language||ae(this.autodetect)},ignoreIllegals(){return!0}},render(e){return e("pre",{},[e("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}},n={install(e){e.component("highlightjs",t)}};return{Component:t,VuePlugin:n}}const ce={"after:highlightElement":({el:e,result:t,text:n})=>{const r=de(e);if(!r.length)return;const i=document.createElement("div");i.innerHTML=t.value,t.value=fe(r,de(i),n)}};function ue(e){return e.nodeName.toLowerCase()}function de(e){const t=[];return function e(n,r){for(let i=n.firstChild;i;i=i.nextSibling)3===i.nodeType?r+=i.nodeValue.length:1===i.nodeType&&(t.push({event:"start",offset:r,node:i}),r=e(i,r),ue(i).match(/br|hr|img|input/)||t.push({event:"stop",offset:r,node:i}));return r}(e,0),t}function fe(e,t,n){let r=0,i="";const o=[];function a(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function l(e){function t(e){return" "+e.nodeName+'="'+s(e.value)+'"'}i+="<"+ue(e)+[].map.call(e.attributes,t).join("")+">"}function c(e){i+="</"+ue(e)+">"}function u(e){("start"===e.event?l:c)(e.node)}while(e.length||t.length){let t=a();if(i+=s(n.substring(r,t[0].offset)),r=t[0].offset,t===e){o.reverse().forEach(c);do{u(t.splice(0,1)[0]),t=a()}while(t===e&&t.length&&t[0].offset===r);o.reverse().forEach(l)}else"start"===t[0].event?o.push(t[0].node):o.pop(),u(t.splice(0,1)[0])}return i+s(n.substr(r))}const he={},pe=e=>{console.error(e)},me=(e,...t)=>{console.log("WARN: "+e,...t)},ge=(e,t)=>{he[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),he[`${e}/${t}`]=!0)},ve=s,ye=a,be=Symbol("nomatch"),we=function(e){const t=Object.create(null),n=Object.create(null),i=[];let s=!0;const a=/(^(<[^>]+>|\t|)+|\n)/gm,l="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let u={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:f};function d(e){return u.noHighlightRe.test(e)}function p(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=u.languageDetectRe.exec(t);if(n){const t=F(n[1]);return t||(me(l.replace("{}",n[1])),me("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>d(e)||F(e))}function m(e,t,n,r){let i="",o="";"object"===typeof t?(i=e,n=t.ignoreIllegals,o=t.language,r=void 0):(ge("10.7.0","highlight(lang, code, ...args) has been deprecated."),ge("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=e,i=t);const s={code:i,language:o};H("before:highlight",s);const a=s.result?s.result:g(s.language,s.code,n,r);return a.code=s.code,H("after:highlight",a),a}function g(e,n,r,a){function c(e,t){const n=M.case_insensitive?t[0].toLowerCase():t[0];return Object.prototype.hasOwnProperty.call(e.keywords,n)&&e.keywords[n]}function d(){if(!E.keywords)return void T.addText(N);let e=0;E.keywordPatternRe.lastIndex=0;let t=E.keywordPatternRe.exec(N),n="";while(t){n+=N.substring(e,t.index);const r=c(E,t);if(r){const[e,i]=r;if(T.addText(n),n="",L+=i,e.startsWith("_"))n+=t[0];else{const n=M.classNameAliases[e]||e;T.addKeyword(t[0],n)}}else n+=t[0];e=E.keywordPatternRe.lastIndex,t=E.keywordPatternRe.exec(N)}n+=N.substr(e),T.addText(n)}function f(){if(""===N)return;let e=null;if("string"===typeof E.subLanguage){if(!t[E.subLanguage])return void T.addText(N);e=g(E.subLanguage,N,!0,O[E.subLanguage]),O[E.subLanguage]=e.top}else e=b(N,E.subLanguage.length?E.subLanguage:null);E.relevance>0&&(L+=e.relevance),T.addSublanguage(e.emitter,e.language)}function p(){null!=E.subLanguage?f():d(),N=""}function m(e){return e.className&&T.openNode(M.classNameAliases[e.className]||e.className),E=Object.create(e,{parent:{value:E}}),E}function v(e,t,n){let r=y(e.endRe,n);if(r){if(e["on:end"]){const n=new o(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){while(e.endsParent&&e.parent)e=e.parent;return e}}if(e.endsWithParent)return v(e.parent,t,n)}function w(e){return 0===E.matcher.regexIndex?(N+=e[0],1):(P=!0,0)}function x(e){const t=e[0],n=e.rule,r=new o(n),i=[n.__beforeBegin,n["on:begin"]];for(const o of i)if(o&&(o(e,r),r.isMatchIgnored))return w(t);return n&&n.endSameAsBegin&&(n.endRe=h(t)),n.skip?N+=t:(n.excludeBegin&&(N+=t),p(),n.returnBegin||n.excludeBegin||(N=t)),m(n),n.returnBegin?0:t.length}function k(e){const t=e[0],r=n.substr(e.index),i=v(E,e,r);if(!i)return be;const o=E;o.skip?N+=t:(o.returnEnd||o.excludeEnd||(N+=t),p(),o.excludeEnd&&(N=t));do{E.className&&T.closeNode(),E.skip||E.subLanguage||(L+=E.relevance),E=E.parent}while(E!==i.parent);return i.starts&&(i.endSameAsBegin&&(i.starts.endRe=i.endRe),m(i.starts)),o.returnEnd?0:t.length}function C(){const e=[];for(let t=E;t!==M;t=t.parent)t.className&&e.unshift(t.className);e.forEach(e=>T.openNode(e))}let S={};function _(t,i){const o=i&&i[0];if(N+=t,null==o)return p(),0;if("begin"===S.type&&"end"===i.type&&S.index===i.index&&""===o){if(N+=n.slice(i.index,i.index+1),!s){const t=new Error("0 width match regex");throw t.languageName=e,t.badRule=S.rule,t}return 1}if(S=i,"begin"===i.type)return x(i);if("illegal"===i.type&&!r){const e=new Error('Illegal lexeme "'+o+'" for mode "'+(E.className||"<unnamed>")+'"');throw e.mode=E,e}if("end"===i.type){const e=k(i);if(e!==be)return e}if("illegal"===i.type&&""===o)return 1;if(R>1e5&&R>3*i.index){const e=new Error("potential infinite loop, way more iterations than matches");throw e}return N+=o,o.length}const M=F(e);if(!M)throw pe(l.replace("{}",e)),new Error('Unknown language: "'+e+'"');const D=re(M,{plugins:i});let A="",E=a||D;const O={},T=new u.__emitter(u);C();let N="",L=0,I=0,R=0,P=!1;try{for(E.matcher.considerAll();;){R++,P?P=!1:E.matcher.considerAll(),E.matcher.lastIndex=I;const e=E.matcher.exec(n);if(!e)break;const t=n.substring(I,e.index),r=_(t,e);I=e.index+r}return _(n.substr(I)),T.closeAllNodes(),T.finalize(),A=T.toHTML(),{relevance:Math.floor(L),value:A,language:e,illegal:!1,emitter:T,top:E}}catch(B){if(B.message&&B.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:B.message,context:n.slice(I-100,I+100),mode:B.mode},sofar:A,relevance:0,value:ve(n),emitter:T};if(s)return{illegal:!1,relevance:0,value:ve(n),emitter:T,language:e,top:E,errorRaised:B};throw B}}function v(e){const t={relevance:0,emitter:new u.__emitter(u),value:ve(e),illegal:!1,top:c};return t.emitter.addText(e),t}function b(e,n){n=n||u.languages||Object.keys(t);const r=v(e),i=n.filter(F).filter(B).map(t=>g(t,e,!1));i.unshift(r);const o=i.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(F(e.language).supersetOf===t.language)return 1;if(F(t.language).supersetOf===e.language)return-1}return 0}),[s,a]=o,l=s;return l.second_best=a,l}function w(e){return u.tabReplace||u.useBR?e.replace(a,e=>"\n"===e?u.useBR?"<br>":e:u.tabReplace?e.replace(/\t/g,u.tabReplace):e):e}function x(e,t,r){const i=t?n[t]:r;e.classList.add("hljs"),i&&e.classList.add(i)}const k={"before:highlightElement":({el:e})=>{u.useBR&&(e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":({result:e})=>{u.useBR&&(e.value=e.value.replace(/\n/g,"<br>"))}},C=/^(<[^>]+>|\t)+/gm,S={"after:highlightElement":({result:e})=>{u.tabReplace&&(e.value=e.value.replace(C,e=>e.replace(/\t/g,u.tabReplace)))}};function _(e){let t=null;const n=p(e);if(d(n))return;H("before:highlightElement",{el:e,language:n}),t=e;const r=t.textContent,i=n?m(r,{language:n,ignoreIllegals:!0}):b(r);H("after:highlightElement",{el:e,result:i,text:r}),e.innerHTML=i.value,x(e,n,i.language),e.result={language:i.language,re:i.relevance,relavance:i.relevance},i.second_best&&(e.second_best={language:i.second_best.language,re:i.second_best.relevance,relavance:i.second_best.relevance})}function M(e){e.useBR&&(ge("10.3.0","'useBR' will be removed entirely in v11.0"),ge("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),u=ye(u,e)}const D=()=>{if(D.called)return;D.called=!0,ge("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead.");const e=document.querySelectorAll("pre code");e.forEach(_)};function A(){ge("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),E=!0}let E=!1;function O(){if("loading"===document.readyState)return void(E=!0);const e=document.querySelectorAll("pre code");e.forEach(_)}function T(){E&&O()}function N(n,r){let i=null;try{i=r(e)}catch(o){if(pe("Language definition for '{}' could not be registered.".replace("{}",n)),!s)throw o;pe(o),i=c}i.name||(i.name=n),t[n]=i,i.rawDefinition=r.bind(null,e),i.aliases&&P(i.aliases,{languageName:n})}function L(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]}function I(){return Object.keys(t)}function R(e){ge("10.4.0","requireLanguage will be removed entirely in v11."),ge("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const t=F(e);if(t)return t;const n=new Error("The '{}' language is required, but not loaded.".replace("{}",e));throw n}function F(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function P(e,{languageName:t}){"string"===typeof e&&(e=[e]),e.forEach(e=>{n[e.toLowerCase()]=t})}function B(e){const t=F(e);return t&&!t.disableAutodetect}function j(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}function z(e){j(e),i.push(e)}function H(e,t){const n=e;i.forEach((function(e){e[n]&&e[n](t)}))}function $(e){return ge("10.2.0","fixMarkup will be removed entirely in v11.0"),ge("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),w(e)}function V(e){return ge("10.7.0","highlightBlock will be removed entirely in v12.0"),ge("10.7.0","Please use highlightElement now."),_(e)}"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",T,!1),Object.assign(e,{highlight:m,highlightAuto:b,highlightAll:O,fixMarkup:$,highlightElement:_,highlightBlock:V,configure:M,initHighlighting:D,initHighlightingOnLoad:A,registerLanguage:N,unregisterLanguage:L,listLanguages:I,getLanguage:F,registerAliases:P,requireLanguage:R,autoDetection:B,inherit:ye,addPlugin:z,vuePlugin:le(e).VuePlugin}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString=se;for(const o in q)"object"===typeof q[o]&&r(q[o]);return Object.assign(e,q),e.addPlugin(k),e.addPlugin(ce),e.addPlugin(S),e};var xe=we({});e.exports=xe},1148:function(e,t,n){"use strict";var r=n("a691"),i=n("1d80");e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},"11b0":function(e,t,n){function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("e260"),n("3ca3"),n("ddb0"),n("a630"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),s=n("1d80"),a=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),f=n("9f7f"),h=f.UNSUPPORTED_Y,p=[].push,m=Math.min,g=4294967295;r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(s(this)),o=void 0===n?g:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var a,l,c,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,m=new RegExp(e.source,f+"g");while(a=d.call(m,r)){if(l=m.lastIndex,l>h&&(u.push(r.slice(h,a.index)),a.length>1&&a.index<r.length&&p.apply(u,a.slice(1)),c=a[0].length,h=l,u.length>=o))break;m.lastIndex===a.index&&m.lastIndex++}return h===r.length?!c&&m.test("")||u.push(""):u.push(r.slice(h)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var s=n(r,e,this,i,r!==t);if(s.done)return s.value;var d=o(e),f=String(this),p=a(d,RegExp),v=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"g":"y"),b=new p(h?"^(?:"+d.source+")":d,y),w=void 0===i?g:i>>>0;if(0===w)return[];if(0===f.length)return null===u(b,f)?[f]:[];var x=0,k=0,C=[];while(k<f.length){b.lastIndex=h?0:k;var S,_=u(b,h?f.slice(k):f);if(null===_||(S=m(c(b.lastIndex+(h?k:0)),f.length))===x)k=l(f,k,v);else{if(C.push(f.slice(x,k)),C.length===w)return C;for(var M=1;M<=_.length-1;M++)if(C.push(_[M]),C.length===w)return C;k=x=S}}return C.push(f.slice(x)),C}]}),h)},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"131a":function(e,t,n){var r=n("23e7"),i=n("d2bb");r({target:"Object",stat:!0},{setPrototypeOf:i})},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},1544:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".block-menu{left:0;display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;z-index:1;margin-top:-.25rem;visibility:hidden;opacity:0;-webkit-transition:opacity .2s,visibility .2s;transition:opacity .2s,visibility .2s}.block-menu_active{opacity:1;visibility:visible;z-index:30}.block-menu__plus{color:silver;padding:4px 6px;background:none;outline:none}.block-menu__plus .svg-icon{width:20px;height:20px;padding:2px}.block-menu__plus.button-icon_active{color:#000}.block-menu__context{max-height:250px;overflow-y:auto}",""]),e.exports=t},"155e":function(e,t,n){var r=n("52e3");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("fb70101e",r,!0,{sourceMap:!1,shadowMode:!1})},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),s=n("9112");for(var a in i){var l=r[a],c=l&&l.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(u){c.forEach=o}}},"164e":function(e,t,n){"use strict";n("34e5")},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=i("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"18a5":function(e,t,n){"use strict";var r=n("23e7"),i=n("857a"),o=n("af03");r({target:"String",proto:!0,forced:o("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(l){}return n}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},"1d2b":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2236:function(e,t,n){var r=n("5a43");function i(e){if(Array.isArray(e))return r(e)}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),a=n("35a1"),l=n("2a62"),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var u,d,f,h,p,m,g,v=n&&n.that,y=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),x=s(t,v,1+y+w),k=function(e){return u&&l(u),new c(!0,e)},C=function(e){return y?(r(e),w?x(e[0],e[1],k):x(e[0],e[1])):w?x(e,k):x(e)};if(b)u=e;else{if(d=a(e),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(f=0,h=o(e.length);h>f;f++)if(p=C(e[f]),p&&p instanceof c)return p;return new c(!1)}u=d.call(e)}m=u.next;while(!(g=m.call(u)).done){try{p=C(g.value)}catch(S){throw l(u),S}if("object"==typeof p&&p&&p instanceof c)return p}return new c(!1)}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,d,f,h,p,m=e.target,g=e.global,v=e.stat;if(u=g?r:v?r[m]||a(m,{}):(r[m]||{}).prototype,u)for(d in t){if(h=t[d],e.noTargetGet?(p=i(u,d),f=p&&p.value):f=u[d],n=c(g?d:m+(v?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof h===typeof f)continue;l(h,f)}(e.sham||f&&f.sham)&&o(h,"sham",!0),s(u,d,h,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},2444:function(e,t,n){"use strict";(function(t){var r=n("c532"),i=n("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function a(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n("b50d")),e}var l={adapter:a(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(o)})),e.exports=l}).call(this,n("4362"))},"24fb":function(e,t,n){"use strict";function r(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"===typeof btoa){var o=i(r),s=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(s).concat([o]).join("\n")}return[n].join("\n")}function i(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=r(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"===typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),o=n("1d80"),s=n("ab13");r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"25d3":function(e,t,n){var r={"./1c.js":["f2a3",122]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id="25d3",e.exports=i},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),i=n("825a"),o=n("d039"),s=n("ad6d"),a="toString",l=RegExp.prototype,c=l[a],u=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=a;(u||d)&&r(RegExp.prototype,a,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in l)?s.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},"27b7":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".node_persona{clear:both;min-height:60px}.editor__content .node_persona .node_paragraph,.editor__content .node_persona p{clear:none;font-size:13px;font-weight:400;line-height:20px;color:#909090;margin-top:4px;overflow:hidden}",""]),e.exports=t},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"2b3d":function(e,t,n){"use strict";n("3ca3");var r,i=n("23e7"),o=n("83ab"),s=n("0d3b"),a=n("da84"),l=n("37e8"),c=n("6eeb"),u=n("19aa"),d=n("5135"),f=n("60da"),h=n("4df4"),p=n("6547").codeAt,m=n("5fb2"),g=n("d44e"),v=n("9861"),y=n("69f3"),b=a.URL,w=v.URLSearchParams,x=v.getState,k=y.set,C=y.getterFor("URL"),S=Math.floor,_=Math.pow,M="Invalid authority",D="Invalid scheme",A="Invalid host",E="Invalid port",O=/[A-Za-z]/,T=/[\d+-.A-Za-z]/,N=/\d/,L=/^(0x|0X)/,I=/^[0-7]+$/,R=/^\d+$/,F=/^[\dA-Fa-f]+$/,P=/[\0\t\n\r #%/:?@[\\]]/,B=/[\0\t\n\r #/:?@[\\]]/,j=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,z=/[\t\n\r]/g,H=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return A;if(n=V(t.slice(1,-1)),!n)return A;e.host=n}else if(Y(e)){if(t=m(t),P.test(t))return A;if(n=$(t),null===n)return A;e.host=n}else{if(B.test(t))return A;for(n="",r=h(t),i=0;i<r.length;i++)n+=Z(r[i],q);e.host=n}},$=function(e){var t,n,r,i,o,s,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),t=l.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=l[r],""==i)return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=L.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)s=0;else{if(!(10==o?R:8==o?I:F).test(i))return e;s=parseInt(i,o)}n.push(s)}for(r=0;r<t;r++)if(s=n[r],r==t-1){if(s>=_(256,5-t))return null}else if(s>255)return null;for(a=n.pop(),r=0;r<n.length;r++)a+=n[r]*_(256,3-r);return a},V=function(e){var t,n,r,i,o,s,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,c++,u=c}while(f()){if(8==c)return;if(":"!=f()){t=n=0;while(n<4&&F.test(f()))t=16*t+parseInt(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,c>6)return;r=0;while(f()){if(i=null,r>0){if(!("."==f()&&r<4))return;d++}if(!N.test(f()))return;while(N.test(f())){if(o=parseInt(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}l[c]=256*l[c]+i,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;l[c++]=t}else{if(null!==u)return;d++,c++,u=c}}if(null!==u){s=c-u,c=7;while(0!=c&&s>0)a=l[c],l[c--]=l[u+s-1],l[u+--s]=a}else if(8!=c)return;return l},W=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t},U=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=W(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},q={},G=f({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),K=f({},G,{"#":1,"?":1,"{":1,"}":1}),J=f({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return d(X,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&O.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},se={},ae={},le={},ce={},ue={},de={},fe={},he={},pe={},me={},ge={},ve={},ye={},be={},we={},xe={},ke={},Ce={},Se={},_e={},Me={},De=function(e,t,n,i){var o,s,a,l,c=n||se,u=0,f="",p=!1,m=!1,g=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(j,"")),t=t.replace(z,""),o=h(t);while(u<=o.length){switch(s=o[u],c){case se:if(!s||!O.test(s)){if(n)return D;c=le;continue}f+=s.toLowerCase(),c=ae;break;case ae:if(s&&(T.test(s)||"+"==s||"-"==s||"."==s))f+=s.toLowerCase();else{if(":"!=s){if(n)return D;f="",c=le,u=0;continue}if(n&&(Y(e)!=d(X,f)||"file"==f&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(Y(e)&&X[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?c=be:Y(e)&&i&&i.scheme==e.scheme?c=ce:Y(e)?c=he:"/"==o[u+1]?(c=ue,u++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Se)}break;case le:if(!i||i.cannotBeABaseURL&&"#"!=s)return D;if(i.cannotBeABaseURL&&"#"==s){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=Me;break}c="file"==i.scheme?be:de;continue;case ce:if("/"!=s||"/"!=o[u+1]){c=de;continue}c=pe,u++;break;case ue:if("/"==s){c=me;break}c=Ce;continue;case de:if(e.scheme=i.scheme,s==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==s||"\\"==s&&Y(e))c=fe;else if("?"==s)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=_e;else{if("#"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=Ce;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Me}break;case fe:if(!Y(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=Ce;continue}c=me}else c=pe;break;case he:if(c=pe,"/"!=s||"/"!=f.charAt(u+1))continue;u++;break;case pe:if("/"!=s&&"\\"!=s){c=me;continue}break;case me:if("@"==s){p&&(f="%40"+f),p=!0,a=h(f);for(var v=0;v<a.length;v++){var y=a[v];if(":"!=y||g){var b=Z(y,J);g?e.password+=b:e.username+=b}else g=!0}f=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&Y(e)){if(p&&""==f)return M;u-=h(f).length+1,f="",c=ge}else f+=s;break;case ge:case ve:if(n&&"file"==e.scheme){c=xe;continue}if(":"!=s||m){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&Y(e)){if(Y(e)&&""==f)return A;if(n&&""==f&&(Q(e)||null!==e.port))return;if(l=H(e,f),l)return l;if(f="",c=ke,n)return;continue}"["==s?m=!0:"]"==s&&(m=!1),f+=s}else{if(""==f)return A;if(l=H(e,f),l)return l;if(f="",c=ye,n==ve)return}break;case ye:if(!N.test(s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&Y(e)||n){if(""!=f){var w=parseInt(f,10);if(w>65535)return E;e.port=Y(e)&&w===X[e.scheme]?null:w,f=""}if(n)return;c=ke;continue}return E}f+=s;break;case be:if(e.scheme="file","/"==s||"\\"==s)c=we;else{if(!i||"file"!=i.scheme){c=Ce;continue}if(s==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==s)e.host=i.host,e.path=i.path.slice(),e.query="",c=_e;else{if("#"!=s){ne(o.slice(u).join(""))||(e.host=i.host,e.path=i.path.slice(),re(e)),c=Ce;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Me}}break;case we:if("/"==s||"\\"==s){c=xe;break}i&&"file"==i.scheme&&!ne(o.slice(u).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=Ce;continue;case xe:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&te(f))c=Ce;else if(""==f){if(e.host="",n)return;c=ke}else{if(l=H(e,f),l)return l;if("localhost"==e.host&&(e.host=""),n)return;f="",c=ke}continue}f+=s;break;case ke:if(Y(e)){if(c=Ce,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=r&&(c=Ce,"/"!=s))continue}else e.fragment="",c=Me;else e.query="",c=_e;break;case Ce:if(s==r||"/"==s||"\\"==s&&Y(e)||!n&&("?"==s||"#"==s)){if(oe(f)?(re(e),"/"==s||"\\"==s&&Y(e)||e.path.push("")):ie(f)?"/"==s||"\\"==s&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(s==r||"?"==s||"#"==s))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==s?(e.query="",c=_e):"#"==s&&(e.fragment="",c=Me)}else f+=Z(s,K);break;case Se:"?"==s?(e.query="",c=_e):"#"==s?(e.fragment="",c=Me):s!=r&&(e.path[0]+=Z(s,q));break;case _e:n||"#"!=s?s!=r&&("'"==s&&Y(e)?e.query+="%27":e.query+="#"==s?"%23":Z(s,q)):(e.fragment="",c=Me);break;case Me:s!=r&&(e.fragment+=Z(s,G));break}u++}},Ae=function(e){var t,n,r=u(this,Ae,"URL"),i=arguments.length>1?arguments[1]:void 0,s=String(e),a=k(r,{type:"URL"});if(void 0!==i)if(i instanceof Ae)t=C(i);else if(n=De(t={},String(i)),n)throw TypeError(n);if(n=De(a,s,null,t),n)throw TypeError(n);var l=a.searchParams=new w,c=x(l);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(l)||null},o||(r.href=Oe.call(r),r.origin=Te.call(r),r.protocol=Ne.call(r),r.username=Le.call(r),r.password=Ie.call(r),r.host=Re.call(r),r.hostname=Fe.call(r),r.port=Pe.call(r),r.pathname=Be.call(r),r.search=je.call(r),r.searchParams=ze.call(r),r.hash=He.call(r))},Ee=Ae.prototype,Oe=function(){var e=C(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",Q(e)&&(c+=n+(r?":"+r:"")+"@"),c+=U(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},Te=function(){var e=C(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Ae(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&Y(e)?t+"://"+U(e.host)+(null!==n?":"+n:""):"null"},Ne=function(){return C(this).scheme+":"},Le=function(){return C(this).username},Ie=function(){return C(this).password},Re=function(){var e=C(this),t=e.host,n=e.port;return null===t?"":null===n?U(t):U(t)+":"+n},Fe=function(){var e=C(this).host;return null===e?"":U(e)},Pe=function(){var e=C(this).port;return null===e?"":String(e)},Be=function(){var e=C(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},je=function(){var e=C(this).query;return e?"?"+e:""},ze=function(){return C(this).searchParams},He=function(){var e=C(this).fragment;return e?"#"+e:""},$e=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&l(Ee,{href:$e(Oe,(function(e){var t=C(this),n=String(e),r=De(t,n);if(r)throw TypeError(r);x(t.searchParams).updateSearchParams(t.query)})),origin:$e(Te),protocol:$e(Ne,(function(e){var t=C(this);De(t,String(e)+":",se)})),username:$e(Le,(function(e){var t=C(this),n=h(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Z(n[r],J)}})),password:$e(Ie,(function(e){var t=C(this),n=h(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Z(n[r],J)}})),host:$e(Re,(function(e){var t=C(this);t.cannotBeABaseURL||De(t,String(e),ge)})),hostname:$e(Fe,(function(e){var t=C(this);t.cannotBeABaseURL||De(t,String(e),ve)})),port:$e(Pe,(function(e){var t=C(this);ee(t)||(e=String(e),""==e?t.port=null:De(t,e,ye))})),pathname:$e(Be,(function(e){var t=C(this);t.cannotBeABaseURL||(t.path=[],De(t,e+"",ke))})),search:$e(je,(function(e){var t=C(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",De(t,e,_e)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:$e(ze),hash:$e(He,(function(e){var t=C(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",De(t,e,Me)):t.fragment=null}))}),c(Ee,"toJSON",(function(){return Oe.call(this)}),{enumerable:!0}),c(Ee,"toString",(function(){return Oe.call(this)}),{enumerable:!0}),b){var Ve=b.createObjectURL,We=b.revokeObjectURL;Ve&&c(Ae,"createObjectURL",(function(e){return Ve.apply(b,arguments)})),We&&c(Ae,"revokeObjectURL",(function(e){return We.apply(b,arguments)}))}g(Ae,"URL"),i({global:!0,forced:!s,sham:!o},{URL:Ae})},"2ca0":function(e,t,n){"use strict";var r=n("23e7"),i=n("06cf").f,o=n("50c4"),s=n("5a34"),a=n("1d80"),l=n("ab13"),c=n("c430"),u="".startsWith,d=Math.min,f=l("startsWith"),h=!c&&!f&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!f},{startsWith:function(e){var t=String(a(this));s(e);var n=o(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,n):t.slice(n,n+r.length)===r}})},"2cf4":function(e,t,n){var r,i,o,s=n("da84"),a=n("d039"),l=n("0366"),c=n("1be4"),u=n("cc12"),d=n("1cdc"),f=n("605d"),h=s.location,p=s.setImmediate,m=s.clearImmediate,g=s.process,v=s.MessageChannel,y=s.Dispatch,b=0,w={},x="onreadystatechange",k=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},C=function(e){return function(){k(e)}},S=function(e){k(e.data)},_=function(e){s.postMessage(e+"",h.protocol+"//"+h.host)};p&&m||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},m=function(e){delete w[e]},f?r=function(e){g.nextTick(C(e))}:y&&y.now?r=function(e){y.now(C(e))}:v&&!d?(i=new v,o=i.port2,i.port1.onmessage=S,r=l(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&h&&"file:"!==h.protocol&&!a(_)?(r=_,s.addEventListener("message",S,!1)):r=x in u("script")?function(e){c.appendChild(u("script"))[x]=function(){c.removeChild(this),k(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:p,clear:m}},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,l=a&&a.versions,c=l&&l.v8;c?(r=c.split("."),i=r[0]<4?1:r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"2d83":function(e,t,n){"use strict";var r=n("387f");e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},"2e67":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"304a":function(e,t,n){"use strict";function r(e){this.content=e}n.r(t),n.d(t,"ContentMatch",(function(){return H})),n.d(t,"DOMParser",(function(){return he})),n.d(t,"DOMSerializer",(function(){return Oe})),n.d(t,"Fragment",(function(){return l})),n.d(t,"Mark",(function(){return h})),n.d(t,"MarkType",(function(){return ue})),n.d(t,"Node",(function(){return P})),n.d(t,"NodeRange",(function(){return I})),n.d(t,"NodeType",(function(){return se})),n.d(t,"ReplaceError",(function(){return p})),n.d(t,"ResolvedPos",(function(){return E})),n.d(t,"Schema",(function(){return de})),n.d(t,"Slice",(function(){return m})),r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,o=i.find(e),s=i.content.slice();return-1==o?s.push(n||e,t):(s[o+1]=t,n&&(s[o]=n)),new r(s)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var i=this.remove(t),o=i.content.slice(),s=i.find(e);return o.splice(-1==s?o.length:s,0,t,n),new r(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=r.from(e),e.size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=r.from(e),e.size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};var i=r,o=i;function s(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var i=e.child(r),o=t.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(var a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){var l=s(i.content,o.content,n+1);if(null!=l)return l}n+=i.nodeSize}else n+=i.nodeSize}}function a(e,t,n,r){for(var i=e.childCount,o=t.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};var s=e.child(--i),l=t.child(--o),c=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){var u=0,d=Math.min(s.text.length,l.text.length);while(u<d&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1])u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){var f=a(s.content,l.content,n-1,r-1);if(f)return f}n-=c,r-=c}else n-=c,r-=c}}var l=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};l.prototype.nodesBetween=function(e,t,n,r,i){void 0===r&&(r=0);for(var o=0,s=0;s<t;o++){var a=this.content[o],l=s+a.nodeSize;if(l>e&&!1!==n(a,r+s,i,o)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,t-c),n,r+c)}s=l}},l.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},l.prototype.textBetween=function(e,t,n,r){var i="",o=!0;return this.nodesBetween(e,t,(function(s,a){s.isText?(i+=s.text.slice(Math.max(e,a)-a,t-a),o=!n):s.isLeaf&&r?(i+=r,o=!n):!o&&s.isBlock&&(i+=n,o=!0)}),0),i},l.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new l(r,this.size+e.size)},l.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var i=0,o=0;o<t;i++){var s=this.content[i],a=o+s.nodeSize;a>e&&((o<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),r+=s.nodeSize),o=a}return new l(n,r)},l.prototype.cutByIndex=function(e,t){return e==t?l.empty:0==e&&t==this.content.length?this:new l(this.content.slice(e,t))},l.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new l(r,i)},l.prototype.addToStart=function(e){return new l([e].concat(this.content),this.size+e.nodeSize)},l.prototype.addToEnd=function(e){return new l(this.content.concat(e),this.size+e.nodeSize)},l.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},l.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},l.prototype.maybeChild=function(e){return this.content[e]},l.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}},l.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),s(this,e,t)},l.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),a(this,e,t,n)},l.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return d(0,e);if(e==this.size)return d(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e||t>0?d(n+1,o):d(n,r);r=o}},l.prototype.toString=function(){return"<"+this.toStringInner()+">"},l.prototype.toStringInner=function(){return this.content.join(", ")},l.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},l.fromJSON=function(e,t){if(!t)return l.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new l(t.map(e.nodeFromJSON))},l.fromArray=function(e){if(!e.length)return l.empty;for(var t,n=0,r=0;r<e.length;r++){var i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new l(t||e,n)},l.from=function(e){if(!e)return l.empty;if(e instanceof l)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new l([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(l.prototype,c);var u={index:0,offset:0};function d(e,t){return u.index=e,u.offset=t,u}function f(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!f(e[r],t[r]))return!1}else{for(var i in e)if(!(i in t)||!f(e[i],t[i]))return!1;for(var o in t)if(!(o in e))return!1}return!0}l.empty=new l([],0);var h=function(e,t){this.type=e,this.attrs=t};function p(e){var t=Error.call(this,e);return t.__proto__=p.prototype,t}h.prototype.addToSet=function(e){for(var t,n=!1,r=0;r<e.length;r++){var i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t},h.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},h.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},h.prototype.eq=function(e){return this==e||this.type==e.type&&f(this.attrs,e.attrs)},h.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},h.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},h.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},h.setFrom=function(e){if(!e||0==e.length)return h.none;if(e instanceof h)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},h.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var m=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},g={size:{configurable:!0}};function v(e,t,n){var r=e.findIndex(t),i=r.index,o=r.offset,s=e.maybeChild(i),a=e.findIndex(n),l=a.index,c=a.offset;if(o==t||s.isText){if(c!=n&&!e.child(l).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(i!=l)throw new RangeError("Removing non-flat range");return e.replaceChild(i,s.copy(v(s.content,t-o-1,n-o-1)))}function y(e,t,n,r){var i=e.findIndex(t),o=i.index,s=i.offset,a=e.maybeChild(o);if(s==t||a.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));var l=y(a.content,t-s-1,n);return l&&e.replaceChild(o,a.copy(l))}function b(e,t,n){if(n.openStart>e.depth)throw new p("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new p("Inconsistent open depths");return w(e,t,n,0)}function w(e,t,n,r){var i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){var s=w(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){var a=A(n,e),l=a.start,c=a.end;return _(o,M(e,l,c,t,r))}var u=e.parent,d=u.content;return _(u,d.cut(0,e.parentOffset).append(n.content).append(d.cut(t.parentOffset)))}return _(o,D(e,t,r))}function x(e,t){if(!t.type.compatibleContent(e.type))throw new p("Cannot join "+t.type.name+" onto "+e.type.name)}function k(e,t,n){var r=e.node(n);return x(r,t.node(n)),r}function C(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function S(e,t,n,r){var i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(C(e.nodeAfter,r),o++));for(var a=o;a<s;a++)C(i.child(a),r);t&&t.depth==n&&t.textOffset&&C(t.nodeBefore,r)}function _(e,t){if(!e.type.validContent(t))throw new p("Invalid content for node "+e.type.name);return e.copy(t)}function M(e,t,n,r,i){var o=e.depth>i&&k(e,t,i+1),s=r.depth>i&&k(n,r,i+1),a=[];return S(null,e,i,a),o&&s&&t.index(i)==n.index(i)?(x(o,s),C(_(o,M(e,t,n,r,i+1)),a)):(o&&C(_(o,D(e,t,i+1)),a),S(t,n,i,a),s&&C(_(s,D(n,r,i+1)),a)),S(r,null,i,a),new l(a)}function D(e,t,n){var r=[];if(S(null,e,n,r),e.depth>n){var i=k(e,t,n+1);C(_(i,D(e,t,n+1)),r)}return S(t,null,n,r),new l(r)}function A(e,t){for(var n=t.depth-e.openStart,r=t.node(n),i=r.copy(e.content),o=n-1;o>=0;o--)i=t.node(o).copy(l.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}g.size.get=function(){return this.content.size-this.openStart-this.openEnd},m.prototype.insertAt=function(e,t){var n=y(this.content,e+this.openStart,t,null);return n&&new m(n,this.openStart,this.openEnd)},m.prototype.removeBetween=function(e,t){return new m(v(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},m.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},m.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},m.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},m.fromJSON=function(e,t){if(!t)return m.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new m(l.fromJSON(e,t.content),n,r)},m.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,i=e.firstChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.firstChild)n++;for(var o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)r++;return new m(e,n,r)},Object.defineProperties(m.prototype,g),m.empty=new m(l.empty,0,0);var E=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},O={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};E.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},O.parent.get=function(){return this.node(this.depth)},O.doc.get=function(){return this.node(0)},E.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},E.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},E.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},E.prototype.start=function(e){return e=this.resolveDepth(e),0==e?0:this.path[3*e-1]+1},E.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},E.prototype.before=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},E.prototype.after=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},O.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},O.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},O.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},E.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,i=0;i<e;i++)r+=n.child(i).nodeSize;return r},E.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return h.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var i=n;n=r,r=i}for(var o=n.marks,s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||r&&o[s].isInSet(r.marks)||(o=o[s--].removeFromSet(o));return o},E.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n},E.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},E.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new I(this,e,n)},E.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},E.prototype.max=function(e){return e.pos>this.pos?e:this},E.prototype.min=function(e){return e.pos<this.pos?e:this},E.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},E.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,i=t,o=e;;){var s=o.content.findIndex(i),a=s.index,l=s.offset,c=i-l;if(n.push(o,a,r+l),!c)break;if(o=o.child(a),o.isText)break;i=c-1,r+=l+1}return new E(t,n,i)},E.resolveCached=function(e,t){for(var n=0;n<T.length;n++){var r=T[n];if(r.pos==t&&r.doc==e)return r}var i=T[N]=E.resolve(e,t);return N=(N+1)%L,i},Object.defineProperties(E.prototype,O);var T=[],N=0,L=12,I=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},R={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};R.start.get=function(){return this.$from.before(this.depth+1)},R.end.get=function(){return this.$to.after(this.depth+1)},R.parent.get=function(){return this.$from.node(this.depth)},R.startIndex.get=function(){return this.$from.index(this.depth)},R.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(I.prototype,R);var F=Object.create(null),P=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||l.empty,this.marks=r||h.none},B={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};B.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},B.childCount.get=function(){return this.content.childCount},P.prototype.child=function(e){return this.content.child(e)},P.prototype.maybeChild=function(e){return this.content.maybeChild(e)},P.prototype.forEach=function(e){this.content.forEach(e)},P.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this)},P.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},B.textContent.get=function(){return this.textBetween(0,this.content.size,"")},P.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},B.firstChild.get=function(){return this.content.firstChild},B.lastChild.get=function(){return this.content.lastChild},P.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},P.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},P.prototype.hasMarkup=function(e,t,n){return this.type==e&&f(this.attrs,t||e.defaultAttrs||F)&&h.sameSet(this.marks,n||h.none)},P.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},P.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},P.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},P.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return m.empty;var r=this.resolve(e),i=this.resolve(t),o=n?0:r.sharedDepth(t),s=r.start(o),a=r.node(o),l=a.content.cut(r.pos-s,i.pos-s);return new m(l,r.depth-o,i.depth-o)},P.prototype.replace=function(e,t,n){return b(this.resolve(e),this.resolve(t),n)},P.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,i=n.offset;if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}},P.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},P.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}},P.prototype.resolve=function(e){return E.resolveCached(this,e)},P.prototype.resolveNoCache=function(e){return E.resolve(this,e)},P.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},B.isBlock.get=function(){return this.type.isBlock},B.isTextblock.get=function(){return this.type.isTextblock},B.inlineContent.get=function(){return this.type.inlineContent},B.isInline.get=function(){return this.type.isInline},B.isText.get=function(){return this.type.isText},B.isLeaf.get=function(){return this.type.isLeaf},B.isAtom.get=function(){return this.type.isAtom},P.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),z(this.marks,e)},P.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},P.prototype.canReplace=function(e,t,n,r,i){void 0===n&&(n=l.empty),void 0===r&&(r=0),void 0===i&&(i=n.childCount);var o=this.contentMatchAt(e).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var a=r;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},P.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return!!o&&o.validEnd},P.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},P.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=h.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!h.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(e){return e.type.name})));this.content.forEach((function(e){return e.check()}))},P.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},P.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=l.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(P.prototype,B);var j=function(e){function t(t,n,r,i){if(e.call(this,t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):z(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(P);function z(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var H=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},$={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};H.parse=function(e,t){var n=new V(e,t);if(null==n.next)return H.empty;var r=U(n);n.next&&n.err("Unexpected trailing text");var i=te(Y(r));return ne(i,n),i},H.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},H.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r},$.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},$.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},H.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},H.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=[this];function i(o,s){var a=o.matchFragment(e,n);if(a&&(!t||a.validEnd))return l.from(s.map((function(e){return e.createAndFill()})));for(var c=0;c<o.next.length;c+=2){var u=o.next[c],d=o.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(d)){r.push(d);var f=i(d,s.concat(u));if(f)return f}}}return i(this,[])},H.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},H.prototype.computeWrapping=function(e){var t=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){var r=n.shift(),i=r.match;if(i.matchType(e)){for(var o=[],s=r;s.type;s=s.via)o.push(s.type);return o.reverse()}for(var a=0;a<i.next.length;a+=2){var l=i.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in t||r.type&&!i.next[a+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),t[l.name]=!0)}}},$.edgeCount.get=function(){return this.next.length>>1},H.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},H.prototype.toString=function(){var e=[];function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)-1==e.indexOf(n.next[r])&&t(n.next[r])}return t(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",i=0;i<t.next.length;i+=2)r+=(i?", ":"")+t.next[i].name+"->"+e.indexOf(t.next[i+1]);return r})).join("\n")},Object.defineProperties(H.prototype,$),H.empty=new H(!0);var V=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},W={next:{configurable:!0}};function U(e){var t=[];do{t.push(q(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function q(e){var t=[];do{t.push(G(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function G(e){for(var t=X(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=J(e,t)}return t}function K(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function J(e,t){var n=K(e),r=n;return e.eat(",")&&(r="}"!=e.next?K(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Z(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var i=[];for(var o in n){var s=n[o];s.groups.indexOf(t)>-1&&i.push(s)}return 0==i.length&&e.err("No node type or group '"+t+"' found"),i}function X(e){if(e.eat("(")){var t=U(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=Z(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}function Y(e){var t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach((function(e){return e.to=t}))}function o(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(o(n,t))}),[]);if("seq"==e.type)for(var s=0;;s++){var a=o(e.exprs[s],t);if(s==e.exprs.length-1)return a;i(a,t=n())}else{if("star"==e.type){var l=n();return r(t,l),i(o(e.expr,l),l),[r(l)]}if("plus"==e.type){var c=n();return i(o(e.expr,t),c),i(o(e.expr,c),c),[r(c)]}if("opt"==e.type)return[r(t)].concat(o(e.expr,t));if("range"==e.type){for(var u=t,d=0;d<e.min;d++){var f=n();i(o(e.expr,u),f),u=f}if(-1==e.max)i(o(e.expr,u),u);else for(var h=e.min;h<e.max;h++){var p=n();r(u,p),i(o(e.expr,u),p),u=p}return[r(u)]}if("name"==e.type)return[r(t,null,e.value)]}}}function Q(e,t){return t-e}function ee(e,t){var n=[];return r(t),n.sort(Q);function r(t){var i=e[t];if(1==i.length&&!i[0].term)return r(i[0].to);n.push(t);for(var o=0;o<i.length;o++){var s=i[o],a=s.term,l=s.to;a||-1!=n.indexOf(l)||r(l)}}}function te(e){var t=Object.create(null);return n(ee(e,0));function n(r){var i=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var o=i.indexOf(n),s=o>-1&&i[o+1];ee(e,r).forEach((function(e){s||i.push(n,s=[]),-1==s.indexOf(e)&&s.push(e)}))}}))}));for(var o=t[r.join(",")]=new H(r.indexOf(e.length-1)>-1),s=0;s<i.length;s+=2){var a=i[s+1].sort(Q);o.next.push(i[s],t[a.join(",")]||n(a))}return o}}function ne(e,t){for(var n=0,r=[e];n<r.length;n++){for(var i=r[n],o=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var l=i.next[a],c=i.next[a+1];s.push(l.name),!o||l.isText||l.hasRequiredAttrs()||(o=!1),-1==r.indexOf(c)&&r.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function re(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function ie(e,t){var n=Object.create(null);for(var r in e){var i=t&&t[r];if(void 0===i){var o=e[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}n[r]=i}return n}function oe(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new le(e[n]);return t}W.next.get=function(){return this.tokens[this.pos]},V.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},V.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(V.prototype,W);var se=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=oe(n.attrs),this.defaultAttrs=re(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},ae={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};ae.isInline.get=function(){return!this.isBlock},ae.isTextblock.get=function(){return this.isBlock&&this.inlineContent},ae.isLeaf.get=function(){return this.contentMatch==H.empty},ae.isAtom.get=function(){return this.isLeaf||this.spec.atom},se.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},se.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},se.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:ie(this.attrs,e)},se.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new P(this,this.computeAttrs(e),l.from(t),h.setFrom(n))},se.prototype.createChecked=function(e,t,n){if(t=l.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new P(this,this.computeAttrs(e),t,h.setFrom(n))},se.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),t=l.from(t),t.size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var i=this.contentMatch.matchFragment(t).fillBefore(l.empty,!0);return i?new P(this,e,t.append(i),h.setFrom(n)):null},se.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},se.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},se.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},se.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:h.empty:e},se.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new se(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(se.prototype,ae);var le=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},ce={isRequired:{configurable:!0}};ce.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(le.prototype,ce);var ue=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=oe(r.attrs),this.rank=t,this.excluded=null;var i=re(this.attrs);this.instance=i&&new h(this,i)};ue.prototype.create=function(e){return!e&&this.instance?this.instance:new h(this,ie(this.attrs,e))},ue.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,i){return n[e]=new ue(e,r++,t,i)})),n},ue.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},ue.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},ue.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var de=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=o.from(e.nodes),this.spec.marks=o.from(e.marks),this.nodes=se.compile(this.spec.nodes,this),this.marks=ue.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=n[s]||(n[s]=H.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==a?null:a?fe(this,a.split(" ")):""!=a&&i.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:fe(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function fe(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(var a in e.marks){var l=e.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}de.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof se))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},de.prototype.text=function(e,t){var n=this.nodes.text;return new j(n,n.defaultAttrs,e,h.setFrom(t))},de.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},de.prototype.nodeFromJSON=function(e){return P.fromJSON(this,e)},de.prototype.markFromJSON=function(e){return h.fromJSON(this,e)},de.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var he=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};he.prototype.parse=function(e,t){void 0===t&&(t={});var n=new ke(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},he.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new ke(this,t,!0);return n.addAll(e,null,t.from,t.to),m.maxOpen(n.finish())},he.prototype.matchTag=function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var i=this.tags[r];if(_e(e,i.tag)&&(void 0===i.namespace||e.namespaceURI==i.namespace)&&(!i.context||t.matchesContext(i.context))){if(i.getAttrs){var o=i.getAttrs(e);if(!1===o)continue;i.attrs=o}return i}}},he.prototype.matchStyle=function(e,t,n,r){for(var i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){var o=this.styles[i];if(!(0!=o.style.indexOf(e)||o.context&&!n.matchesContext(o.context)||o.style.length>e.length&&(61!=o.style.charCodeAt(e.length)||o.style.slice(e.length+1)!=t))){if(o.getAttrs){var s=o.getAttrs(t);if(!1===s)continue;o.attrs=s}return o}}},he.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var i=t[r],o=null==i.priority?50:i.priority;if(o<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=De(e)),e.mark=t}))};for(var i in e.marks)r(i);var o=function(t){var r=e.nodes[s].spec.parseDOM;r&&r.forEach((function(e){n(e=De(e)),e.node=s}))};for(var s in e.nodes)o();return t},he.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new he(e,he.schemaRules(e)))};var pe={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},me={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ge={ol:!0,ul:!0},ve=1,ye=2,be=4;function we(e){return(e?ve:0)|("full"===e?ye:0)}var xe=function(e,t,n,r,i,o,s){this.type=e,this.attrs=t,this.solid=i,this.match=o||(s&be?null:e.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=h.none,this.pendingMarks=r,this.stashMarks=[]};xe.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(l.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},xe.prototype.finish=function(e){if(!(this.options&ve)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var r=l.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(l.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},xe.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},xe.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):Ae(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},xe.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!pe.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var ke=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,i=t.topNode,o=we(t.preserveWhitespace)|(n?be:0);r=i?new xe(i.type,i.attrs,h.none,h.none,!0,t.topMatch||i.type.contentMatch,o):new xe(n?null:e.schema.topNodeType,null,h.none,h.none,!0,null,o),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},Ce={top:{configurable:!0},currentPos:{configurable:!0}};function Se(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&ge.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}function _e(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Me(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(t=n.exec(e))r.push(t[1],t[2].trim());return r}function De(e){var t={};for(var n in e)t[n]=e[n];return t}function Ae(e,t){var n=t.schema.nodes,r=function(r){var i=n[r];if(i.allowsMarkType(e)){var o=[],s=function(e){o.push(e);for(var n=0;n<e.edgeCount;n++){var r=e.edge(n),i=r.type,a=r.next;if(i==t)return!0;if(o.indexOf(a)<0&&s(a))return!0}};return s(i.contentMatch)?{v:!0}:void 0}};for(var i in n){var o=r(i);if(o)return o.v}}function Ee(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}Ce.top.get=function(){return this.nodes[this.open]},ke.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(Me(t)):null,r=this.top;if(null!=n)for(var i=0;i<n.length;i++)this.addPendingMark(n[i]);if(this.addElement(e),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],r)}},ke.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(n.options&ye||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&ve)t=n.options&ye?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],i=e.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},ke.prototype.addElement=function(e,t){var n,r=e.nodeName.toLowerCase();ge.hasOwnProperty(r)&&this.parser.normalizeLists&&Se(e);var i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(i?i.ignore:me.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);var o,s=this.top,a=this.needsBlock;if(pe.hasOwnProperty(r))o=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),o&&this.sync(s),this.needsBlock=a}else this.addElementByRule(e,i,!1===i.consuming?n:null)},ke.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},ke.prototype.ignoreFallback=function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},ke.prototype.readStyles=function(e){var t=h.none;e:for(var n=0;n<e.length;n+=2)for(var r=null;;){var i=this.parser.matchStyle(e[n],e[n+1],this,r);if(!i)continue e;if(i.ignore)return null;if(t=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(t),!1!==i.consuming)break;r=i}return t},ke.prototype.addElementByRule=function(e,t,n){var r,i,o,s,a=this;t.node?(i=this.parser.schema.nodes[t.node],i.isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):r=this.enter(i,t.attrs,t.preserveWhitespace)):(o=this.parser.schema.marks[t.mark],s=o.create(t.attrs),this.addPendingMark(s));var l=this.top;if(i&&i.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var c=t.contentElement;"string"==typeof c?c=e.querySelector(c):"function"==typeof c&&(c=c(e)),c||(c=e),this.findAround(e,c,!0),this.addAll(c,r)}r&&(this.sync(l),this.open--),s&&this.removePendingMark(s,l)},ke.prototype.addAll=function(e,t,n,r){for(var i=n||0,o=n?e.childNodes[n]:e.firstChild,s=null==r?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o),t&&pe.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,i)},ke.prototype.findPlace=function(e){for(var t,n,r=this.open;r>=0;r--){var i=this.nodes[r],o=i.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=i,!o.length))break;if(i.solid)break}if(!t)return!1;this.sync(n);for(var s=0;s<t.length;s++)this.enterInner(t[s],null,!1);return!0},ke.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,i=0;i<e.marks.length;i++)n.type&&!n.type.allowsMarkType(e.marks[i].type)||(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1},ke.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},ke.prototype.enterInner=function(e,t,n,r){this.closeExtra();var i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e,t);var o=null==r?i.options&~be:we(r);i.options&be&&0==i.content.length&&(o|=be),this.nodes.push(new xe(e,t,i.activeMarks,i.pendingMarks,n,null,o)),this.open++},ke.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},ke.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},ke.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},Ce.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e},ke.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},ke.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},ke.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){var i=t.compareDocumentPosition(this.find[r].node);i&(n?2:4)&&(this.find[r].pos=this.currentPos)}},ke.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},ke.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=function(e,a){for(;e>=0;e--){var l=n[e];if(""==l){if(e==n.length-1||0==e)continue;for(;a>=o;a--)if(s(e-1,a))return!0;return!1}var c=a>0||0==a&&i?t.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;a--}return!0};return s(n.length-1,this.open)},ke.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}},ke.prototype.addPendingMark=function(e){var t=Ee(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},ke.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n],i=r.pendingMarks.lastIndexOf(e);if(i>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var o=r.popFromStashMark(e);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==t)break}},Object.defineProperties(ke.prototype,Ce);var Oe=function(e,t){this.nodes=e||{},this.marks=t||{}};function Te(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Ne(e){return e.document||window.document}Oe.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=Ne(t).createDocumentFragment());var i=n,o=null;return e.forEach((function(e){if(o||e.marks.length){o||(o=[]);var n=0,s=0;while(n<o.length&&s<e.marks.length){var a=e.marks[s];if(r.marks[a.type.name]){if(!a.eq(o[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}while(n<o.length)i=o.pop(),o.pop();while(s<e.marks.length){var l=e.marks[s++],c=r.serializeMark(l,e.isInline,t);c&&(o.push(l,i),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(r.serializeNode(e,t))})),n},Oe.prototype.serializeNode=function(e,t){void 0===t&&(t={});var n=Oe.renderSpec(Ne(t),this.nodes[e.type.name](e)),r=n.dom,i=n.contentDOM;if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,i,t):this.serializeFragment(e.content,t,i)}return r},Oe.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n=this.serializeNode(e,t),r=e.marks.length-1;r>=0;r--){var i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n},Oe.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&Oe.renderSpec(Ne(n),r(e,t))},Oe.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var r=t[0],i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));var o=null,s=n?e.createElementNS(n,r):e.createElement(r),a=t[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var c in l=2,a)if(null!=a[c]){var u=c.indexOf(" ");u>0?s.setAttributeNS(c.slice(0,u),c.slice(u+1),a[c]):s.setAttribute(c,a[c])}for(var d=l;d<t.length;d++){var f=t[d];if(0===f){if(d<t.length-1||d>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var h=Oe.renderSpec(e,f,n),p=h.dom,m=h.contentDOM;if(s.appendChild(p),m){if(o)throw new RangeError("Multiple content holes");o=m}}return{dom:s,contentDOM:o}},Oe.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new Oe(this.nodesFromSchema(e),this.marksFromSchema(e)))},Oe.nodesFromSchema=function(e){var t=Te(e.nodes);return t.text||(t.text=function(e){return e.text}),t},Oe.marksFromSchema=function(e){return Te(e.marks)}},"30b5":function(e,t,n){"use strict";var r=n("c532");function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},"32e6":function(e,t){function n(e,t){for(var n in t)e.setAttribute(n,t[n])}function r(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function i(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,o){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"===typeof t&&(o=t,t={}),t=t||{},o=o||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&n(a,t.attrs),t.text&&(a.text=""+t.text);var l="onload"in a?r:i;l(a,o),a.onload||r(a,o),s.appendChild(a)}},3410:function(e,t,n){var r=n("23e7"),i=n("d039"),o=n("7b0b"),s=n("e163"),a=n("e177"),l=i((function(){s(1)}));r({target:"Object",stat:!0,forced:l,sham:!a},{getPrototypeOf:function(e){return s(o(e))}})},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"34e5":function(e,t,n){var r=n("cc66");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("273f03c6",r,!0,{sourceMap:!1,shadowMode:!1})},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),a=r.length,l=0;while(a>l)i.f(e,n=r[l++],t[n]);return e}},"387f":function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},3934:function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("69f3"),o=n("7dd0"),s="String Iterator",a=i.set,l=i.getterFor(s);o(String,"String",(function(e){a(this,{type:s,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3ce4":function(e,t,n){"use strict";var r=n("1020"),i=n("073e");t.highlight=s,t.highlightAuto=a,t.registerLanguage=l,t.listLanguages=c,t.registerAlias=u,d.prototype.addText=p,d.prototype.addKeyword=f,d.prototype.addSublanguage=h,d.prototype.openNode=m,d.prototype.closeNode=g,d.prototype.closeAllNodes=y,d.prototype.finalize=y,d.prototype.toHTML=v;var o="hljs-";function s(e,t,n){var s,a=r.configure({}),l=n||{},c=l.prefix;if("string"!==typeof e)throw i("Expected `string` for name, got `%s`",e);if(!r.getLanguage(e))throw i("Unknown language: `%s` is not registered",e);if("string"!==typeof t)throw i("Expected `string` for value, got `%s`",t);if(null!==c&&void 0!==c||(c=o),r.configure({__emitter:d,classPrefix:c}),s=r.highlight(t,{language:e,ignoreIllegals:!0}),r.configure(a||{}),s.errorRaised)throw s.errorRaised;return{relevance:s.relevance,language:s.language,value:s.emitter.rootNode.children}}function a(e,t){var n,a,l,c,u=t||{},d=u.subset||r.listLanguages(),f=u.prefix,h=d.length,p=-1;if(null!==f&&void 0!==f||(f=o),"string"!==typeof e)throw i("Expected `string` for value, got `%s`",e);a={relevance:0,language:null,value:[]},n={relevance:0,language:null,value:[]};while(++p<h)c=d[p],r.getLanguage(c)&&(l=s(c,e,t),l.language=c,l.relevance>a.relevance&&(a=l),l.relevance>n.relevance&&(a=n,n=l));return a.language&&(n.secondBest=a),n}function l(e,t){r.registerLanguage(e,t)}function c(){return r.listLanguages()}function u(e,t){var n,i=e;for(n in t&&(i={},i[e]=t),i)r.registerAliases(i[n],{languageName:n})}function d(e){this.options=e,this.rootNode={children:[]},this.stack=[this.rootNode]}function f(e,t){this.openNode(t),this.addText(e),this.closeNode()}function h(e,t){var n=this.stack,r=n[n.length-1],i=e.rootNode.children,o=t?{type:"element",tagName:"span",properties:{className:[t]},children:i}:i;r.children=r.children.concat(o)}function p(e){var t,n,r=this.stack;""!==e&&(t=r[r.length-1],n=t.children[t.children.length-1],n&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e}))}function m(e){var t=this.stack,n=this.options.classPrefix+e,r=t[t.length-1],i={type:"element",tagName:"span",properties:{className:[n]},children:[]};r.children.push(i),t.push(i)}function g(){this.stack.pop()}function v(){return""}function y(){}},"3f8c":function(e,t){e.exports={}},"408a":function(e,t,n){var r=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"448a":function(e,t,n){var r=n("2236"),i=n("11b0"),o=n("6613"),s=n("0676");function a(e){return r(e)||i(e)||o(e)||s()}e.exports=a,e.exports["default"]=e.exports,e.exports.__esModule=!0},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"466d":function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),o=n("50c4"),s=n("1d80"),a=n("8aa5"),l=n("14c3");r("match",1,(function(e,t,n){return[function(t){var n=s(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var s=i(e),c=String(this);if(!s.global)return l(s,c);var u=s.unicode;s.lastIndex=0;var d,f=[],h=0;while(null!==(d=l(s,c))){var p=String(d[0]);f[h]=p,""===p&&(s.lastIndex=a(c,o(s.lastIndex),u)),h++}return 0===h?null:f}]}))},"467f":function(e,t,n){"use strict";var r=n("2d83");e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},4930:function(e,t,n){var r=n("2d00"),i=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"498a":function(e,t,n){"use strict";var r=n("23e7"),i=n("58a8").trim,o=n("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},"499e":function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[0],a=o[1],l=o[2],c=o[3],u={id:e+":"+i,css:a,media:l,sourceMap:c};r[s]?r[s].parts.push(u):n.push(r[s]={id:s,parts:[u]})}return n}n.r(t),n.d(t,"default",(function(){return p}));var i="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,c=!1,u=function(){},d=null,f="data-vue-ssr-id",h="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,n,i){c=n,d=i||{};var s=r(e,t);return m(s),function(t){for(var n=[],i=0;i<s.length;i++){var a=s[i],l=o[a.id];l.refs--,n.push(l)}for(t?(s=r(e,t),m(s)):s=[],i=0;i<n.length;i++)if(l=n[i],0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(v(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(v(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:s}}}}function g(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function v(e){var t,n,r=document.querySelector("style["+f+'~="'+e.id+'"]');if(r){if(c)return u;r.parentNode.removeChild(r)}if(h){var i=l++;r=a||(a=g()),t=b.bind(null,r,i,!1),n=b.bind(null,r,i,!0)}else r=g(),t=w.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function b(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function w(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(f,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},"4a7b":function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){"undefined"!==typeof t[e]&&(n[e]=t[e])})),r.forEach(o,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):"undefined"!==typeof t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):"undefined"!==typeof e[i]&&(n[i]=e[i])})),r.forEach(s,(function(r){"undefined"!==typeof t[r]?n[r]=t[r]:"undefined"!==typeof e[r]&&(n[r]=e[r])}));var a=i.concat(o).concat(s),l=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return r.forEach(l,(function(r){"undefined"!==typeof t[r]?n[r]=t[r]:"undefined"!==typeof e[r]&&(n[r]=e[r])})),n}},"4ae1":function(e,t,n){var r=n("23e7"),i=n("d066"),o=n("1c0b"),s=n("825a"),a=n("861d"),l=n("7c73"),c=n("0538"),u=n("d039"),d=i("Reflect","construct"),f=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),h=!u((function(){d((function(){}))})),p=f||h;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){o(e),s(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!f)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var i=n.prototype,u=l(a(i)?i:Object.prototype),p=Function.apply.call(e,u,t);return a(p)?p:u}})},"4b6d":function(e,t){var n=[{title:"1С",code:"1c",alias:"1c"},{title:"Bash",code:"shell",alias:"bash",mode:"text/x-sh"},{title:"CSS",code:"css",alias:"css"},{title:"Cmake",code:"cmake",alias:"cmake"},{title:"Coffee Script",code:"coffeescript",alias:"coffeescript"},{title:"C++",code:"clike",mode:"text/x-c++src",alias:"cpp"},{title:"C#",code:"clike",mode:"text/x-csharp",alias:"cs"},{title:"Dart",code:"dart",alias:"dart"},{title:"Delphi",code:"delphi",alias:"delphi",mode:"text/x-pascal"},{title:"Diff",code:"diff",alias:"diff"},{title:"Django",code:"django",alias:"django"},{title:"Erlang",code:"erlang",alias:"erlang"},{title:"Go",code:"go",alias:"go"},{title:"Haskell",code:"haskell",alias:"haskell"},{title:"Java",code:"clike",mode:"text/x-java",alias:"java"},{title:"Javascript",code:"javascript",alias:"javascript"},{title:"JSON",code:"javascript",alias:"json",mode:"application/json"},{title:"Julia",code:"julia",alias:"julia"},{title:"Kotlin",code:"clike",mode:"text/x-kotlin",alias:"kotlin"},{title:"Lisp",code:"lisp",alias:"lisp",mode:"text/x-common-lisp"},{title:"Lua",code:"lua",alias:"lua"},{title:"Markdown",code:"markdown",alias:"markdown"},{title:"Mathlab",code:"mathematica",alias:"matlab"},{title:"NGINX",code:"nginx",alias:"nginx",mode:"text/x-nginx-conf"},{title:"Objective C",code:"clike",mode:"text/x-objectivec",alias:"objectivec"},{title:"Perl",code:"perl",alias:"perl"},{title:"pgSQL",code:"sql",alias:"pgsql",mode:"text/x-pgsql"},{title:"PHP",code:"php",alias:"php"},{title:"PowerShell",code:"powershell",alias:"powershell",mode:"application/x-powershell"},{title:"Python",code:"python",alias:"python"},{title:"R",code:"r",alias:"r"},{title:"Ruby",code:"ruby",alias:"ruby"},{title:"Rust",code:"rust",alias:"rust"},{title:"Scala",code:"clike",mode:"text/x-scala",alias:"scala"},{title:"Smalltalk",code:"smalltalk",alias:"smalltalk"},{title:"SQL",code:"sql",alias:"sql"},{title:"Swift",code:"swift",alias:"swift"},{title:"Vala",code:"java",alias:"vala",mode:"text/x-java"},{title:"Vbscript",code:"vbscript",alias:"vbscript"},{title:"VHDL",code:"vhdl",alias:"vhdl"},{title:"XML, HTML",code:"htmlmixed",alias:"xml"},{title:"YAML",code:"yaml",alias:"yaml"}];e.exports={languages:n}},"4c53":function(e,t,n){"use strict";var r=n("23e7"),i=n("857a"),o=n("af03");r({target:"String",proto:!0,forced:o("sub")},{sub:function(){return i(this,"sub","","")}})},"4d63":function(e,t,n){var r=n("83ab"),i=n("da84"),o=n("94ca"),s=n("7156"),a=n("9bf2").f,l=n("241c").f,c=n("44e7"),u=n("ad6d"),d=n("9f7f"),f=n("6eeb"),h=n("d039"),p=n("69f3").enforce,m=n("2626"),g=n("b622"),v=g("match"),y=i.RegExp,b=y.prototype,w=/a/g,x=/a/g,k=new y(w)!==w,C=d.UNSUPPORTED_Y,S=r&&o("RegExp",!k||C||h((function(){return x[v]=!1,y(w)!=w||y(x)==x||"/a/i"!=y(w,"i")})));if(S){var _=function(e,t){var n,r=this instanceof _,i=c(e),o=void 0===t;if(!r&&i&&e.constructor===_&&o)return e;k?i&&!o&&(e=e.source):e instanceof _&&(o&&(t=u.call(e)),e=e.source),C&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var a=s(k?new y(e,t):y(e,t),r?this:b,_);if(C&&n){var l=p(a);l.sticky=!0}return a},M=function(e){e in _||a(_,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},D=l(y),A=0;while(D.length>A)M(D[A++]);b.constructor=_,_.prototype=b,f(i,"RegExp",_)}m("RegExp")},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,l=r(t),c=i(l.length),u=o(s,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),s=o("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("7b0b"),o=n("9bdd"),s=n("e95a"),a=n("50c4"),l=n("8418"),c=n("35a1");e.exports=function(e){var t,n,u,d,f,h,p=i(e),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,b=c(p),w=0;if(y&&(v=r(v,g>2?arguments[2]:void 0,2)),void 0==b||m==Array&&s(b))for(t=a(p.length),n=new m(t);t>w;w++)h=y?v(p[w],w):p[w],l(n,w,h);else for(d=b.call(p),f=d.next,n=new m;!(u=f.call(d)).done;w++)h=y?o(d,v,[u.value,w],!0):u.value,l(n,w,h);return n.length=w,n}},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t,n){var r=n("7b0b"),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},5270:function(e,t,n){"use strict";var r=n("c532"),i=n("c401"),o=n("2e67"),s=n("2444");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||s.adapter;return t(e).then((function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"52e3":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".bubble-menu{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;z-index:30;padding:2px;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:6px;visibility:hidden;opacity:0;-webkit-transition:opacity .2s,visibility .2s;transition:opacity .2s,visibility .2s}.bubble-menu_active{opacity:1;visibility:visible}.bubble-menu__buttons{background:#fff;-webkit-box-shadow:0 0 8px rgba(0,0,0,.2);box-shadow:0 0 8px rgba(0,0,0,.2);border-radius:4px}.bubble-menu__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;background:transparent;border:0;color:#111;padding:4px 6px;border-radius:4px;cursor:pointer}.bubble-menu__button:last-child{margin-right:0}.bubble-menu__button:hover,.bubble-menu__button_active{background-color:#eee}.bubble-menu__form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bubble-menu__wrapper{-webkit-box-shadow:0 0 8px rgba(0,0,0,.2);box-shadow:0 0 8px rgba(0,0,0,.2);background:#fff;border-radius:4px;position:relative;overflow:hidden}.bubble-menu__input{font:inherit;position:relative;border:none;background:transparent;line-height:16px;font-size:13px;padding:6px 28px 6px 12px;color:#111;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;background:#fff}.bubble-menu__input-button{position:absolute;right:0;top:4px;color:silver;background:none}.bubble-menu__input-button:hover{color:#111}.bubble-menu>div{white-space:nowrap;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bubble-menu__separator{width:1px;height:20px;margin:0 6px;background:#eee}.bubble-menu__context .bubble-menu__button{font-size:13px;padding:12px 4px 12px 20px;height:auto;border-radius:0}",""]),e.exports=t},5313:function(e,t,n){"use strict";n.r(t),n.d(t,"AllSelection",(function(){return h})),n.d(t,"EditorState",(function(){return _})),n.d(t,"NodeSelection",(function(){return d})),n.d(t,"Plugin",(function(){return E})),n.d(t,"PluginKey",(function(){return N})),n.d(t,"Selection",(function(){return s})),n.d(t,"SelectionRange",(function(){return l})),n.d(t,"TextSelection",(function(){return c})),n.d(t,"Transaction",(function(){return w}));var r=n("304a"),i=n("0ac0"),o=Object.create(null),s=function(e,t,n){this.ranges=n||[new l(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},a={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};a.anchor.get=function(){return this.$anchor.pos},a.head.get=function(){return this.$head.pos},a.from.get=function(){return this.$from.pos},a.to.get=function(){return this.$to.pos},a.$from.get=function(){return this.ranges[0].$from},a.$to.get=function(){return this.ranges[0].$to},a.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},s.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},s.prototype.replace=function(e,t){void 0===t&&(t=r["Slice"].empty);for(var n=t.content.lastChild,i=null,o=0;o<t.openEnd;o++)i=n,n=n.lastChild;for(var s=e.steps.length,a=this.ranges,l=0;l<a.length;l++){var c=a[l],u=c.$from,d=c.$to,f=e.mapping.slice(s);e.replaceRange(f.map(u.pos),f.map(d.pos),l?r["Slice"].empty:t),0==l&&g(e,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}},s.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,i=0;i<r.length;i++){var o=r[i],s=o.$from,a=o.$to,l=e.mapping.slice(n),c=l.map(s.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),g(e,n,t.isInline?-1:1))}},s.findFrom=function(e,t,n){var r=e.parent.inlineContent?new c(e):m(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var i=e.depth-1;i>=0;i--){var o=t<0?m(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):m(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(o)return o}},s.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new h(e.node(0))},s.atStart=function(e){return m(e,e,0,0,1)||new h(e)},s.atEnd=function(e){return m(e,e,e.content.size,e.childCount,-1)||new h(e)},s.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=o[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},s.jsonID=function(e,t){if(e in o)throw new RangeError("Duplicate use of selection JSON ID "+e);return o[e]=t,t.prototype.jsonID=e,t},s.prototype.getBookmark=function(){return c.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(s.prototype,a),s.prototype.visible=!0;var l=function(e,t){this.$from=e,this.$to=t},c=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var i=n.resolve(r.map(this.head));if(!i.parent.inlineContent)return e.near(i);var o=n.resolve(r.map(this.anchor));return new t(o.parent.inlineContent?o:i,i)},t.prototype.replace=function(t,n){if(void 0===n&&(n=r["Slice"].empty),e.prototype.replace.call(this,t,n),n==r["Slice"].empty){var i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new u(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,i){var o=n.pos-r.pos;if(i&&!o||(i=o>=0?1:-1),!r.parent.inlineContent){var s=e.findFrom(r,i,!0)||e.findFrom(r,-i,!0);if(!s)return e.near(r,i);r=s.$head}return n.parent.inlineContent||(0==o?n=r:(n=(e.findFrom(n,-i,!0)||e.findFrom(n,i,!0)).$anchor,n.pos<r.pos!=o<0&&(n=r))),new t(n,r)},Object.defineProperties(t.prototype,n),t}(s);s.jsonID("text",c);var u=function(e,t){this.anchor=e,this.head=t};u.prototype.map=function(e){return new u(e.map(this.anchor),e.map(this.head))},u.prototype.resolve=function(e){return c.between(e.resolve(this.anchor),e.resolve(this.head))};var d=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var i=r.mapResult(this.anchor),o=i.deleted,s=i.pos,a=n.resolve(s);return o?e.near(a):new t(a)},t.prototype.content=function(){return new r["Slice"](r["Fragment"].from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new f(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(s);d.prototype.visible=!1,s.jsonID("node",d);var f=function(e){this.anchor=e};f.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new u(r,r):new f(r)},f.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&d.isSelectable(n)?new d(t):s.near(t)};var h=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=r["Slice"].empty),n==r["Slice"].empty){t.delete(0,t.doc.content.size);var i=e.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return p},t}(s);s.jsonID("all",h);var p={map:function(){return this},resolve:function(e){return new h(e)}};function m(e,t,n,r,i,o){if(t.inlineContent)return c.create(e,n);for(var s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){var a=t.child(s);if(a.isAtom){if(!o&&d.isSelectable(a))return d.create(e,n-(i<0?a.nodeSize:0))}else{var l=m(e,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}}function g(e,t,n){var r=e.steps.length-1;if(!(r<t)){var o=e.steps[r];if(o instanceof i["c"]||o instanceof i["b"]){var a,l=e.mapping.maps[r];l.forEach((function(e,t,n,r){null==a&&(a=r)})),e.setSelection(s.near(e.doc.resolve(a),n))}}}var v=1,y=2,b=4,w=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|v)&~y,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&v)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=y,this},t.prototype.ensureMarks=function(e){return r["Mark"].sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&y)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=this.updated&~y,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r["Mark"].none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var i=this.storedMarks;if(!i){var o=this.doc.resolve(t);i=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=b,this},n.scrolledIntoView.get=function(){return(this.updated&b)>0},Object.defineProperties(t.prototype,n),t}(i["e"]);function x(e,t){return t&&e?e.bind(t):e}var k=function(e,t,n){this.name=e,this.init=x(t.init,n),this.apply=x(t.apply,n)},C=[new k("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new k("selection",{init:function(e,t){return e.selection||s.atStart(t.doc)},apply:function(e){return e.selection}}),new k("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new k("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],S=function(e,t){var n=this;this.schema=e,this.fields=C.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new k(e.key,e.spec.state,e))}))},_=function(e){this.config=e},M={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};M.schema.get=function(){return this.config.schema},M.plugins.get=function(){return this.config.plugins},_.prototype.apply=function(e){return this.applyTransaction(e).state},_.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},_.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var i=!1,o=0;o<this.config.plugins.length;o++){var s=this.config.plugins[o];if(s.spec.appendTransaction){var a=r?r[o].n:0,l=r?r[o].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}},_.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new _(this.config),n=this.config.fields,r=0;r<n.length;r++){var i=n[r];t[i.name]=i.apply(e,this[i.name],this,t)}for(var o=0;o<D.length;o++)D[o](this,e,t);return t},M.tr.get=function(){return new w(this)},_.create=function(e){for(var t=new S(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new _(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},_.prototype.reconfigure=function(e){for(var t=new S(this.schema,e.plugins),n=t.fields,r=new _(t),i=0;i<n.length;i++){var o=n[i].name;r[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,r)}return r},_.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]))}return t},_.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var i=new S(e.schema,e.plugins),o=new _(i);return i.fields.forEach((function(i){if("doc"==i.name)o.doc=r["Node"].fromJSON(e.schema,t.doc);else if("selection"==i.name)o.selection=s.fromJSON(o.doc,t.selection);else if("storedMarks"==i.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var a in n){var l=n[a],c=l.spec.state;if(l.key==i.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a))return void(o[i.name]=c.fromJSON.call(l,e,t[a],o))}o[i.name]=i.init(e,o)}})),o},_.addApplyListener=function(e){D.push(e)},_.removeApplyListener=function(e){var t=D.indexOf(e);t>-1&&D.splice(t,1)},Object.defineProperties(_.prototype,M);var D=[];function A(e,t,n){for(var r in e){var i=e[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=A(i,t,{})),n[r]=i}return n}var E=function(e){this.props={},e.props&&A(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:T("plugin")};E.prototype.getState=function(e){return e[this.key]};var O=Object.create(null);function T(e){return e in O?e+"$"+ ++O[e]:(O[e]=0,e+"$")}var N=function(e){void 0===e&&(e="key"),this.key=T(e)};N.prototype.get=function(e){return e.config.pluginsByKey[this.key]},N.prototype.getState=function(e){return e[this.key]}},5319:function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),o=n("50c4"),s=n("a691"),a=n("1d80"),l=n("8aa5"),c=n("0cb2"),u=n("14c3"),d=Math.max,f=Math.min,h=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var p=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=r.REPLACE_KEEPS_$0,g=p?"$":"$0";return[function(n,r){var i=a(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!p&&m||"string"===typeof r&&-1===r.indexOf(g)){var a=n(t,e,this,r);if(a.done)return a.value}var v=i(e),y=String(this),b="function"===typeof r;b||(r=String(r));var w=v.global;if(w){var x=v.unicode;v.lastIndex=0}var k=[];while(1){var C=u(v,y);if(null===C)break;if(k.push(C),!w)break;var S=String(C[0]);""===S&&(v.lastIndex=l(y,o(v.lastIndex),x))}for(var _="",M=0,D=0;D<k.length;D++){C=k[D];for(var A=String(C[0]),E=d(f(s(C.index),y.length),0),O=[],T=1;T<C.length;T++)O.push(h(C[T]));var N=C.groups;if(b){var L=[A].concat(O,E,y);void 0!==N&&L.push(N);var I=String(r.apply(void 0,L))}else I=c(A,y,E,O,N,r);E>=M&&(_+=y.slice(M,E)+I,M=E+A.length)}return _+y.slice(M)}]}))},"55be":function(e,t,n){"use strict";n.r(t),n.d(t,"CellSelection",(function(){return z})),n.d(t,"TableMap",(function(){return m})),n.d(t,"TableView",(function(){return $e})),n.d(t,"__clipCells",(function(){return J})),n.d(t,"__insertCells",(function(){return Q})),n.d(t,"__pastedCells",(function(){return q})),n.d(t,"addColSpan",(function(){return B})),n.d(t,"addColumn",(function(){return ge})),n.d(t,"addColumnAfter",(function(){return ye})),n.d(t,"addColumnBefore",(function(){return ve})),n.d(t,"addRow",(function(){return ke})),n.d(t,"addRowAfter",(function(){return Se})),n.d(t,"addRowBefore",(function(){return Ce})),n.d(t,"cellAround",(function(){return _})),n.d(t,"colCount",(function(){return I})),n.d(t,"columnIsHeader",(function(){return j})),n.d(t,"columnResizing",(function(){return Ue})),n.d(t,"columnResizingPluginKey",(function(){return We})),n.d(t,"deleteColumn",(function(){return we})),n.d(t,"deleteRow",(function(){return Me})),n.d(t,"deleteTable",(function(){return He})),n.d(t,"findCell",(function(){return L})),n.d(t,"fixTables",(function(){return he})),n.d(t,"fixTablesKey",(function(){return de})),n.d(t,"goToNextCell",(function(){return ze})),n.d(t,"handlePaste",(function(){return se})),n.d(t,"inSameTable",(function(){return N})),n.d(t,"isInTable",(function(){return D})),n.d(t,"mergeCells",(function(){return Ee})),n.d(t,"moveCellForward",(function(){return T})),n.d(t,"nextCell",(function(){return R})),n.d(t,"pointsAtCell",(function(){return O})),n.d(t,"removeColSpan",(function(){return P})),n.d(t,"removeColumn",(function(){return be})),n.d(t,"removeRow",(function(){return _e})),n.d(t,"rowIsHeader",(function(){return xe})),n.d(t,"selectedRect",(function(){return me})),n.d(t,"selectionCell",(function(){return A})),n.d(t,"setAttr",(function(){return F})),n.d(t,"setCellAttr",(function(){return Ne})),n.d(t,"splitCell",(function(){return Oe})),n.d(t,"splitCellWithType",(function(){return Te})),n.d(t,"tableEditing",(function(){return ot})),n.d(t,"tableEditingKey",(function(){return S})),n.d(t,"tableNodeTypes",(function(){return C})),n.d(t,"tableNodes",(function(){return k})),n.d(t,"toggleHeader",(function(){return Re})),n.d(t,"toggleHeaderCell",(function(){return Be})),n.d(t,"toggleHeaderColumn",(function(){return Pe})),n.d(t,"toggleHeaderRow",(function(){return Fe})),n.d(t,"updateColumnsOnResize",(function(){return Ve}));var r,i,o=n("5313"),s=n("304a"),a=n("7f06"),l=n("576a"),c=n("0ac0");if("undefined"!=typeof WeakMap){var u=new WeakMap;r=function(e){return u.get(e)},i=function(e,t){return u.set(e,t),t}}else{var d=[],f=10,h=0;r=function(e){for(var t=0;t<d.length;t+=2)if(d[t]==e)return d[t+1]},i=function(e,t){return h==f&&(h=0),d[h++]=e,d[h++]=t}}var p=function(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r},m=function(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r};function g(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=v(e),n=e.childCount,r=[],i=0,o=null,s=[],a=0,l=t*n;a<l;a++)r[a]=0;for(var c=0,u=0;c<n;c++){var d=e.child(c);u++;for(var f=0;;f++){while(i<r.length&&0!=r[i])i++;if(f==d.childCount)break;for(var h=d.child(f),p=h.attrs,g=p.colspan,b=p.rowspan,w=p.colwidth,x=0;x<b;x++){if(x+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:b-x});break}for(var k=i+x*t,C=0;C<g;C++){0==r[k+C]?r[k+C]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:g-C});var S=w&&w[C];if(S){var _=(k+C)%t*2,M=s[_];null==M||M!=S&&1==s[_+1]?(s[_]=S,s[_+1]=1):M==S&&s[_+1]++}}}i+=g,u+=h.nodeSize}var D=(c+1)*t,A=0;while(i<D)0==r[i++]&&A++;A&&(o||(o=[])).push({type:"missing",row:c,n:A}),u++}for(var E=new m(t,n,r,o),O=!1,T=0;!O&&T<s.length;T+=2)null!=s[T]&&s[T+1]<n&&(O=!0);return O&&y(E,s,e),E}function v(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var i=e.child(r),o=0;if(n)for(var s=0;s<r;s++)for(var a=e.child(s),l=0;l<a.childCount;l++){var c=a.child(l);s+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}for(var u=0;u<i.childCount;u++){var d=i.child(u);o+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1==t?t=o:t!=o&&(t=Math.max(t,o))}return t}function y(e,t,n){e.problems||(e.problems=[]);for(var r=0,i={};r<e.map.length;r++){var o=e.map[r];if(!i[o]){i[o]=!0;for(var s=n.nodeAt(o),a=null,l=0;l<s.attrs.colspan;l++){var c=(r+l)%e.width,u=t[2*c];null==u||s.attrs.colwidth&&s.attrs.colwidth[l]==u||((a||(a=b(s.attrs)))[l]=u)}a&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}}function b(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function w(e,t){var n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,i=Number(e.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(var s in t){var a=t[s].getFromDOM,l=a&&a(e);null!=l&&(o[s]=l)}return o}function x(e,t){var n={};for(var r in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var i=t[r].setDOMAttr;i&&i(e.attrs[r],n)}return n}function k(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return w(e,t)}}],toDOM:function(e){return["td",x(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return w(e,t)}}],toDOM:function(e){return["th",x(e,t),0]}}}}function C(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}return t}m.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var r=t%this.width,i=t/this.width|0,o=r+1,s=i+1,a=1;o<this.width&&this.map[t+a]==n;a++)o++;for(var l=1;s<this.height&&this.map[t+this.width*l]==n;l++)s++;return new p(r,i,o,s)}}throw new RangeError("No cell with offset "+e+" found")},m.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},m.prototype.nextCell=function(e,t,n){var r=this.findCell(e),i=r.left,o=r.right,s=r.top,a=r.bottom;return"horiz"==t?(n<0?0==i:o==this.width)?null:this.map[s*this.width+(n<0?i-1:o)]:(n<0?0==s:a==this.height)?null:this.map[i+this.width*(n<0?s-1:a)]},m.prototype.rectBetween=function(e,t){var n=this.findCell(e),r=n.left,i=n.right,o=n.top,s=n.bottom,a=this.findCell(t),l=a.left,c=a.right,u=a.top,d=a.bottom;return new p(Math.min(r,l),Math.min(o,u),Math.max(i,c),Math.max(s,d))},m.prototype.cellsInRect=function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var i=e.left;i<e.right;i++){var o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,i==e.left&&i&&this.map[o-1]==s||r==e.top&&r&&this.map[o-this.width]==s||t.push(s))}return t},m.prototype.positionAt=function(e,t,n){for(var r=0,i=0;;r++){var o=i+n.child(r).nodeSize;if(r==e){var s=t+e*this.width,a=(e+1)*this.width;while(s<a&&this.map[s]<i)s++;return s==a?o-1:this.map[s]}i=o}},m.get=function(e){return r(e)||i(e,g(e))};var S=new o["PluginKey"]("selectingCells");function _(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function M(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}function D(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function A(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:_(t.$head)||E(t.$head)}function E(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(var i=e.nodeBefore,o=e.pos;i;i=i.lastChild,o--){var s=i.type.spec.tableRole;if("cell"==s||"header_cell"==s)return e.doc.resolve(o-i.nodeSize)}}function O(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function T(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function N(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function L(e){return m.get(e.node(-1)).findCell(e.pos-e.start(-1))}function I(e){return m.get(e.node(-1)).colCount(e.pos-e.start(-1))}function R(e,t,n){var r=e.start(-1),i=m.get(e.node(-1)),o=i.nextCell(e.pos-r,t,n);return null==o?null:e.node(0).resolve(r+o)}function F(e,t,n){var r={};for(var i in e)r[i]=e[i];return r[t]=n,r}function P(e,t,n){void 0===n&&(n=1);var r=F(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((function(e){return e>0}))||(r.colwidth=null)),r}function B(e,t,n){void 0===n&&(n=1);var r=F(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function j(e,t,n){for(var r=C(t.type.schema).header_cell,i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var z=function(e){function t(t,n){void 0===n&&(n=t);var r=t.node(-1),i=m.get(r),s=t.start(-1),a=i.rectBetween(t.pos-s,n.pos-s),l=t.node(0),c=i.cellsInRect(a).filter((function(e){return e!=n.pos-s}));c.unshift(n.pos-s);var u=c.map((function(e){var t=r.nodeAt(e),n=e+s+1;return new o["SelectionRange"](l.resolve(n),l.resolve(n+t.content.size))}));e.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(O(r)&&O(i)&&N(r,i)){var s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?t.rowSelection(r,i):s&&this.isColSelection()?t.colSelection(r,i):new t(r,i)}return o["TextSelection"].between(r,i)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=m.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},o=[],a=r.top;a<r.bottom;a++){for(var l=[],c=a*t.width+r.left,u=r.left;u<r.right;u++,c++){var d=t.map[c];if(!i[d]){i[d]=!0;var f=t.findCell(d),h=e.nodeAt(d),p=r.left-f.left,g=f.right-r.right;if(p>0||g>0){var v=h.attrs;p>0&&(v=P(v,0,p)),g>0&&(v=P(v,v.colspan-g,g)),h=f.left<r.left?h.type.createAndFill(v):h.type.create(v,h.content)}if(f.top<r.top||f.bottom>r.bottom){var y=F(h.attrs,"rowspan",Math.min(f.bottom,r.bottom)-Math.max(f.top,r.top));h=f.top<r.top?h.type.createAndFill(y):h.type.create(y,h.content)}l.push(h)}}o.push(e.child(a).copy(s["Fragment"].from(l)))}var b=this.isColSelection()&&this.isRowSelection()?e:o;return new s["Slice"](s["Fragment"].from(b),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=s["Slice"].empty);for(var r=t.steps.length,i=this.ranges,o=0;o<i.length;o++){var a=i[o],l=a.$from,c=a.$to,u=t.mapping.slice(r);t.replace(u.map(l.pos),u.map(c.pos),o?s["Slice"].empty:n)}var d=e.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);d&&t.setSelection(d)},t.prototype.replaceWith=function(e,t){this.replace(e,new s["Slice"](s["Fragment"].from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=m.get(t),r=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),o=0;o<i.length;o++)e(t.nodeAt(i[o]),r+i[o])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var r=m.get(e.node(-1)),i=e.start(-1),o=r.findCell(e.pos-i),s=r.findCell(n.pos-i),a=e.node(0);return o.top<=s.top?(o.top>0&&(e=a.resolve(i+r.map[o.left])),s.bottom<r.height&&(n=a.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(i+r.map[s.left])),o.bottom<r.height&&(e=a.resolve(i+r.map[r.width*(r.height-1)+o.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=m.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;var i=n+this.$anchorCell.nodeAfter.attrs.colspan,o=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,o)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var r=m.get(e.node(-1)),i=e.start(-1),o=r.findCell(e.pos-i),s=r.findCell(n.pos-i),a=e.node(0);return o.left<=s.left?(o.left>0&&(e=a.resolve(i+r.map[o.top*r.width])),s.right<r.width&&(n=a.resolve(i+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(i+r.map[s.top*r.width])),o.right<r.width&&(e=a.resolve(i+r.map[r.width*(o.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,r){return void 0===r&&(r=n),new t(e.resolve(n),e.resolve(r))},t.prototype.getBookmark=function(){return new H(this.$anchorCell.pos,this.$headCell.pos)},t}(o["Selection"]);z.prototype.visible=!1,o["Selection"].jsonID("cell",z);var H=function(e,t){this.anchor=e,this.head=t};function $(e){if(!(e.selection instanceof z))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(l["a"].node(n,n+e.nodeSize,{class:"selectedCell"}))})),l["b"].create(e.doc,t)}function V(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,i=n.pos,o=t.depth;o>=0;o--,r++)if(t.after(o+1)<t.end(o))break;for(var s=n.depth;s>=0;s--,i--)if(n.before(s+1)>n.start(s))break;return r==i&&/row|table/.test(t.node(o).type.spec.tableRole)}function W(e){for(var t,n,r=e.$from,i=e.$to,o=r.depth;o>0;o--){var s=r.node(o);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){t=s;break}}for(var a=i.depth;a>0;a--){var l=i.node(a);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return t!==n&&0===i.parentOffset}function U(e,t,n){var r,i,s=(t||e).selection,a=(t||e).doc;if(s instanceof o["NodeSelection"]&&(i=s.node.type.spec.tableRole)){if("cell"==i||"header_cell"==i)r=z.create(a,s.from);else if("row"==i){var l=a.resolve(s.from+1);r=z.rowSelection(l,l)}else if(!n){var c=m.get(s.node),u=s.from+1,d=u+c.map[c.width*c.height-1];r=z.create(a,u+1,d)}}else s instanceof o["TextSelection"]&&V(s)?r=o["TextSelection"].create(a,s.from):s instanceof o["TextSelection"]&&W(s)&&(r=o["TextSelection"].create(a,s.$from.start(),s.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}function q(e){if(!e.size)return null;var t=e.content,n=e.openStart,r=e.openEnd;while(1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole))n--,r--,t=t.firstChild.content;var i=t.firstChild,o=i.type.spec.tableRole,a=i.type.schema,l=[];if("row"==o)for(var c=0;c<t.childCount;c++){var u=t.child(c).content,d=c?0:Math.max(0,n-1),f=c<t.childCount-1?0:Math.max(0,r-1);(d||f)&&(u=K(C(a).row,new s["Slice"](u,d,f)).content),l.push(u)}else{if("cell"!=o&&"header_cell"!=o)return null;l.push(n||r?K(C(a).row,new s["Slice"](t,n,r)).content:t)}return G(a,l)}function G(e,t){for(var n=[],r=0;r<t.length;r++)for(var i=t[r],o=i.childCount-1;o>=0;o--)for(var a=i.child(o).attrs,l=a.rowspan,c=a.colspan,u=r;u<r+l;u++)n[u]=(n[u]||0)+c;for(var d=0,f=0;f<n.length;f++)d=Math.max(d,n[f]);for(var h=0;h<n.length;h++)if(h>=t.length&&t.push(s["Fragment"].empty),n[h]<d){for(var p=C(e).cell.createAndFill(),m=[],g=n[h];g<d;g++)m.push(p);t[h]=t[h].append(s["Fragment"].from(m))}return{height:t.length,width:d,rows:t}}function K(e,t){var n=e.createAndFill(),r=new c["e"](n).replace(0,n.content.size,t);return r.doc}function J(e,t,n){var r=e.width,i=e.height,o=e.rows;if(r!=t){for(var a=[],l=[],c=0;c<o.length;c++){for(var u=o[c],d=[],f=a[c]||0,h=0;f<t;h++){var p=u.child(h%u.childCount);f+p.attrs.colspan>t&&(p=p.type.create(P(p.attrs,p.attrs.colspan,f+p.attrs.colspan-t),p.content)),d.push(p),f+=p.attrs.colspan;for(var m=1;m<p.attrs.rowspan;m++)a[c+m]=(a[c+m]||0)+p.attrs.colspan}l.push(s["Fragment"].from(d))}o=l,r=t}if(i!=n){for(var g=[],v=0,y=0;v<n;v++,y++){for(var b=[],w=o[y%i],x=0;x<w.childCount;x++){var k=w.child(x);v+k.attrs.rowspan>n&&(k=k.type.create(F(k.attrs,"rowspan",Math.max(1,n-k.attrs.rowspan)),k.content)),b.push(k)}g.push(s["Fragment"].from(b))}o=g,i=n}return{width:r,height:i,rows:o}}function Z(e,t,n,r,i,o,a){var l,c,u=e.doc.type.schema,d=C(u);if(i>t.width)for(var f=0,h=0;f<t.height;f++){var p=n.child(f);h+=p.nodeSize;var m=[],g=void 0;g=null==p.lastChild||p.lastChild.type==d.cell?l||(l=d.cell.createAndFill()):c||(c=d.header_cell.createAndFill());for(var v=t.width;v<i;v++)m.push(g);e.insert(e.mapping.slice(a).map(h-1+r),m)}if(o>t.height){for(var y=[],b=0,w=(t.height-1)*t.width;b<Math.max(t.width,i);b++){var x=!(b>=t.width)&&n.nodeAt(t.map[w+b]).type==d.header_cell;y.push(x?c||(c=d.header_cell.createAndFill()):l||(l=d.cell.createAndFill()))}for(var k=d.row.create(null,s["Fragment"].from(y)),S=[],_=t.height;_<o;_++)S.push(k);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),S)}return!(!l&&!c)}function X(e,t,n,r,i,o,s,a){if(0==s||s==t.height)return!1;for(var l=!1,c=i;c<o;c++){var u=s*t.width+c,d=t.map[u];if(t.map[u-t.width]==d){l=!0;var f=n.nodeAt(d),h=t.findCell(d),p=h.top,m=h.left;e.setNodeMarkup(e.mapping.slice(a).map(d+r),null,F(f.attrs,"rowspan",s-p)),e.insert(e.mapping.slice(a).map(t.positionAt(s,m,n)),f.type.createAndFill(F(f.attrs,"rowspan",p+f.attrs.rowspan-s))),c+=f.attrs.colspan-1}}return l}function Y(e,t,n,r,i,o,s,a){if(0==s||s==t.width)return!1;for(var l=!1,c=i;c<o;c++){var u=c*t.width+s,d=t.map[u];if(t.map[u-1]==d){l=!0;var f=n.nodeAt(d),h=t.colCount(d),p=e.mapping.slice(a).map(d+r);e.setNodeMarkup(p,null,P(f.attrs,s-h,f.attrs.colspan-(s-h))),e.insert(p+f.nodeSize,f.type.createAndFill(P(f.attrs,0,s-h))),c+=f.attrs.rowspan-1}}return l}function Q(e,t,n,r,i){var o=n?e.doc.nodeAt(n-1):e.doc,a=m.get(o),l=r.top,c=r.left,u=c+i.width,d=l+i.height,f=e.tr,h=0;function p(){o=n?f.doc.nodeAt(n-1):f.doc,a=m.get(o),h=f.mapping.maps.length}Z(f,a,o,n,u,d,h)&&p(),X(f,a,o,n,c,u,l,h)&&p(),X(f,a,o,n,c,u,d,h)&&p(),Y(f,a,o,n,l,d,c,h)&&p(),Y(f,a,o,n,l,d,u,h)&&p();for(var g=l;g<d;g++){var v=a.positionAt(g,c,o),y=a.positionAt(g,u,o);f.replace(f.mapping.slice(h).map(v+n),f.mapping.slice(h).map(y+n),new s["Slice"](i.rows[g-l],0,0))}p(),f.setSelection(new z(f.doc.resolve(n+a.positionAt(l,c,o)),f.doc.resolve(n+a.positionAt(d-1,u-1,o)))),t(f)}H.prototype.map=function(e){return new H(e.map(this.anchor),e.map(this.head))},H.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&N(t,n)?new z(t,n):o["Selection"].near(n,1)};var ee=Object(a["a"])({ArrowLeft:ne("horiz",-1),ArrowRight:ne("horiz",1),ArrowUp:ne("vert",-1),ArrowDown:ne("vert",1),"Shift-ArrowLeft":re("horiz",-1),"Shift-ArrowRight":re("horiz",1),"Shift-ArrowUp":re("vert",-1),"Shift-ArrowDown":re("vert",1),Backspace:ie,"Mod-Backspace":ie,Delete:ie,"Mod-Delete":ie});function te(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function ne(e,t){return function(n,r,i){var s=n.selection;if(s instanceof z)return te(n,r,o["Selection"].near(s.$headCell,t));if("horiz"!=e&&!s.empty)return!1;var a=le(i,e,t);if(null==a)return!1;if("horiz"==e)return te(n,r,o["Selection"].near(n.doc.resolve(s.head+t),t));var l,c=n.doc.resolve(a),u=R(c,e,t);return l=u?o["Selection"].near(u,1):t<0?o["Selection"].near(n.doc.resolve(c.before(-1)),-1):o["Selection"].near(n.doc.resolve(c.after(-1)),1),te(n,r,l)}}function re(e,t){return function(n,r,i){var o=n.selection;if(!(o instanceof z)){var s=le(i,e,t);if(null==s)return!1;o=new z(n.doc.resolve(s))}var a=R(o.$headCell,e,t);return!!a&&te(n,r,new z(o.$anchorCell,a))}}function ie(e,t){var n=e.selection;if(!(n instanceof z))return!1;if(t){var r=e.tr,i=C(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(i)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new s["Slice"](i,0,0))})),r.docChanged&&t(r)}return!0}function oe(e,t){var n=e.state.doc,r=_(n.resolve(t));return!!r&&(e.dispatch(e.state.tr.setSelection(new z(r))),!0)}function se(e,t,n){if(!D(e.state))return!1;var r=q(n),i=e.state.selection;if(i instanceof z){r||(r={width:1,height:1,rows:[s["Fragment"].from(K(C(e.state.schema).cell,n))]});var o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),l=m.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=J(r,l.right-l.left,l.bottom-l.top),Q(e.state,e.dispatch,a,l,r),!0}if(r){var c=A(e.state),u=c.start(-1);return Q(e.state,e.dispatch,u,m.get(c.node(-1)).findCell(c.pos-u),r),!0}return!1}function ae(e,t){if(!t.ctrlKey&&!t.metaKey){var n,r=ce(e,t.target);if(t.shiftKey&&e.state.selection instanceof z)i(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(n=_(e.state.selection.$anchor))&&ue(e,t).pos!=n.pos)i(n,t),t.preventDefault();else if(!r)return;e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",s)}function i(t,n){var r=ue(e,n),i=null==S.getState(e.state);if(!r||!N(t,r)){if(!i)return;r=t}var o=new z(t,r);if(i||!e.state.selection.eq(o)){var s=e.state.tr.setSelection(o);i&&s.setMeta(S,t.pos),e.dispatch(s)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",s),null!=S.getState(e.state)&&e.dispatch(e.state.tr.setMeta(S,-1))}function s(n){var s,a=S.getState(e.state);if(null!=a)s=e.state.doc.resolve(a);else if(ce(e,n.target)!=r&&(s=ue(e,t),!s))return o();s&&i(s,n)}}function le(e,t,n){if(!(e.state.selection instanceof o["TextSelection"]))return null;for(var r=e.state.selection,i=r.$head,s=i.depth-1;s>=0;s--){var a=i.node(s),l=n<0?i.index(s):i.indexAfter(s);if(l!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var c=i.before(s),u="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(u)?c:null}}return null}function ce(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function ue(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?_(e.state.doc.resolve(n.pos)):null}var de=new o["PluginKey"]("fix-tables");function fe(e,t,n,r){var i=e.childCount,o=t.childCount;e:for(var s=0,a=0;s<o;s++){for(var l=t.child(s),c=a,u=Math.min(i,s+3);c<u;c++)if(e.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<i&&e.child(a).sameMarkup(l)?fe(e.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function he(e,t){var n,r=function(t,r){"table"==t.type.spec.tableRole&&(n=pe(e,t,r,n))};return t?t.doc!=e.doc&&fe(t.doc,e.doc,0,r):e.doc.descendants(r),n}function pe(e,t,n,r){var i=m.get(t);if(!i.problems)return r;r||(r=e.tr);for(var o,s,a=[],l=0;l<i.height;l++)a.push(0);for(var c=0;c<i.problems.length;c++){var u=i.problems[c];if("collision"==u.type){for(var d=t.nodeAt(u.pos),f=0;f<d.attrs.rowspan;f++)a[u.row+f]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,P(d.attrs,d.attrs.colspan-u.n,u.n))}else if("missing"==u.type)a[u.row]+=u.n;else if("overlong_rowspan"==u.type){var h=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,F(h.attrs,"rowspan",h.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var p=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,F(p.attrs,"colwidth",u.colwidth))}}for(var g=0;g<a.length;g++)a[g]&&(null==o&&(o=g),s=g);for(var v=0,y=n+1;v<i.height;v++){var b=t.child(v),w=y+b.nodeSize,x=a[v];if(x>0){var k="cell";b.firstChild&&(k=b.firstChild.type.spec.tableRole);for(var S=[],_=0;_<x;_++)S.push(C(e.schema)[k].createAndFill());var M=0!=v&&o!=v-1||s!=v?w-1:y+1;r.insert(r.mapping.map(M),S)}y=w}return r.setMeta(de,{fixTables:!0})}function me(e){var t,n=e.selection,r=A(e),i=r.node(-1),o=r.start(-1),s=m.get(i);return t=n instanceof z?s.rectBetween(n.$anchorCell.pos-o,n.$headCell.pos-o):s.findCell(r.pos-o),t.tableStart=o,t.map=s,t.table=i,t}function ge(e,t,n){var r=t.map,i=t.tableStart,o=t.table,s=n>0?-1:0;j(r,o,n+s)&&(s=0==n||n==r.width?null:0);for(var a=0;a<r.height;a++){var l=a*r.width+n;if(n>0&&n<r.width&&r.map[l-1]==r.map[l]){var c=r.map[l],u=o.nodeAt(c);e.setNodeMarkup(e.mapping.map(i+c),null,B(u.attrs,n-r.colCount(c))),a+=u.attrs.rowspan-1}else{var d=null==s?C(o.type.schema).cell:o.nodeAt(r.map[l+s]).type,f=r.positionAt(a,n,o);e.insert(e.mapping.map(i+f),d.createAndFill())}}return e}function ve(e,t){if(!D(e))return!1;if(t){var n=me(e);t(ge(e.tr,n,n.left))}return!0}function ye(e,t){if(!D(e))return!1;if(t){var n=me(e);t(ge(e.tr,n,n.right))}return!0}function be(e,t,n){for(var r=t.map,i=t.table,o=t.tableStart,s=e.mapping.maps.length,a=0;a<r.height;){var l=a*r.width+n,c=r.map[l],u=i.nodeAt(c);if(n>0&&r.map[l-1]==c||n<r.width-1&&r.map[l+1]==c)e.setNodeMarkup(e.mapping.slice(s).map(o+c),null,P(u.attrs,n-r.colCount(c)));else{var d=e.mapping.slice(s).map(o+c);e.delete(d,d+u.nodeSize)}a+=u.attrs.rowspan}}function we(e,t){if(!D(e))return!1;if(t){var n=me(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var i=n.right-1;;i--){if(be(r,n,i),i==n.left)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table)}t(r)}return!0}function xe(e,t,n){for(var r=C(t.type.schema).header_cell,i=0;i<e.width;i++)if(t.nodeAt(e.map[i+n*e.width]).type!=r)return!1;return!0}function ke(e,t,n){for(var r=t.map,i=t.tableStart,o=t.table,s=i,a=0;a<n;a++)s+=o.child(a).nodeSize;var l=[],c=n>0?-1:0;xe(r,o,n+c)&&(c=0==n||n==r.height?null:0);for(var u=0,d=r.width*n;u<r.width;u++,d++)if(n>0&&n<r.height&&r.map[d]==r.map[d-r.width]){var f=r.map[d],h=o.nodeAt(f).attrs;e.setNodeMarkup(i+f,null,F(h,"rowspan",h.rowspan+1)),u+=h.colspan-1}else{var p=null==c?C(o.type.schema).cell:o.nodeAt(r.map[d+c*r.width]).type;l.push(p.createAndFill())}return e.insert(s,C(o.type.schema).row.create(null,l)),e}function Ce(e,t){if(!D(e))return!1;if(t){var n=me(e);t(ke(e.tr,n,n.top))}return!0}function Se(e,t){if(!D(e))return!1;if(t){var n=me(e);t(ke(e.tr,n,n.bottom))}return!0}function _e(e,t,n){for(var r=t.map,i=t.table,o=t.tableStart,s=0,a=0;a<n;a++)s+=i.child(a).nodeSize;var l=s+i.child(n).nodeSize,c=e.mapping.maps.length;e.delete(s+o,l+o);for(var u=0,d=n*r.width;u<r.width;u++,d++){var f=r.map[d];if(n>0&&f==r.map[d-r.width]){var h=i.nodeAt(f).attrs;e.setNodeMarkup(e.mapping.slice(c).map(f+o),null,F(h,"rowspan",h.rowspan-1)),u+=h.colspan-1}else if(n<r.width&&f==r.map[d+r.width]){var p=i.nodeAt(f),m=p.type.create(F(p.attrs,"rowspan",p.attrs.rowspan-1),p.content),g=r.positionAt(n+1,u,i);e.insert(e.mapping.slice(c).map(o+g),m),u+=p.attrs.colspan-1}}}function Me(e,t){if(!D(e))return!1;if(t){var n=me(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var i=n.bottom-1;;i--){if(_e(r,n,i),i==n.top)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table)}t(r)}return!0}function De(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function Ae(e,t){for(var n=e.width,r=e.height,i=e.map,o=t.top*n+t.left,s=o,a=(t.bottom-1)*n+t.left,l=o+(t.right-t.left-1),c=t.top;c<t.bottom;c++){if(t.left>0&&i[s]==i[s-1]||t.right<n&&i[l]==i[l+1])return!0;s+=n,l+=n}for(var u=t.left;u<t.right;u++){if(t.top>0&&i[o]==i[o-n]||t.bottom<r&&i[a]==i[a+n])return!0;o++,a++}return!1}function Ee(e,t){var n=e.selection;if(!(n instanceof z)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=me(e),i=r.map;if(Ae(i,r))return!1;if(t){for(var o,a,l=e.tr,c={},u=s["Fragment"].empty,d=r.top;d<r.bottom;d++)for(var f=r.left;f<r.right;f++){var h=i.map[d*i.width+f],p=r.table.nodeAt(h);if(!c[h])if(c[h]=!0,null==o)o=h,a=p;else{De(p)||(u=u.append(p.content));var m=l.mapping.map(h+r.tableStart);l.delete(m,m+p.nodeSize)}}if(l.setNodeMarkup(o+r.tableStart,null,F(B(a.attrs,a.attrs.colspan,r.right-r.left-a.attrs.colspan),"rowspan",r.bottom-r.top)),u.size){var g=o+1+a.content.size,v=De(a)?o+1:g;l.replaceWith(v+r.tableStart,g+r.tableStart,u)}l.setSelection(new z(l.doc.resolve(o+r.tableStart))),t(l)}return!0}function Oe(e,t){var n=C(e.schema);return Te((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)}function Te(e){return function(t,n){var r,i,o=t.selection;if(o instanceof z){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;r=o.$anchorCell.nodeAfter,i=o.$anchorCell.pos}else{if(r=M(o.$from),!r)return!1;i=_(o.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var s=r.attrs,a=[],l=s.colwidth;s.rowspan>1&&(s=F(s,"rowspan",1)),s.colspan>1&&(s=F(s,"colspan",1));for(var c,u=me(t),d=t.tr,f=0;f<u.right-u.left;f++)a.push(l?F(s,"colwidth",l&&l[f]?[l[f]]:null):s);for(var h=u.top;h<u.bottom;h++){var p=u.map.positionAt(h,u.left,u.table);h==u.top&&(p+=r.nodeSize);for(var m=u.left,g=0;m<u.right;m++,g++)m==u.left&&h==u.top||d.insert(c=d.mapping.map(p+u.tableStart,1),e({node:r,row:h,col:m}).createAndFill(a[g]))}d.setNodeMarkup(i,e({node:r,row:u.top,col:u.left}),a[0]),o instanceof z&&d.setSelection(new z(d.doc.resolve(o.$anchorCell.pos),c&&d.doc.resolve(c))),n(d)}return!0}}function Ne(e,t){return function(n,r){if(!D(n))return!1;var i=A(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){var o=n.tr;n.selection instanceof z?n.selection.forEachCell((function(n,r){n.attrs[e]!==t&&o.setNodeMarkup(r,null,F(n.attrs,e,t))})):o.setNodeMarkup(i.pos,null,F(i.nodeAfter.attrs,e,t)),r(o)}return!0}}function Le(e){return function(t,n){if(!D(t))return!1;if(n){for(var r=C(t.schema),i=me(t),o=t.tr,s=i.map.cellsInRect("column"==e?new p(i.left,0,i.right,i.map.height):"row"==e?new p(0,i.top,i.map.width,i.bottom):i),a=s.map((function(e){return i.table.nodeAt(e)})),l=0;l<s.length;l++)a[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[l],r.cell,a[l].attrs);if(0==o.steps.length)for(var c=0;c<s.length;c++)o.setNodeMarkup(i.tableStart+s[c],r.header_cell,a[c].attrs);n(o)}return!0}}function Ie(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),i=0;i<r.length;i++){var o=t.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function Re(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?Le(e):function(t,n){if(!D(t))return!1;if(n){var r=C(t.schema),i=me(t),o=t.tr,s=Ie("row",i,r),a=Ie("column",i,r),l="column"===e?s:"row"===e&&a,c=l?1:0,u="column"==e?new p(0,c,1,i.map.height):"row"==e?new p(c,0,i.map.width,1):i,d="column"==e?a?r.cell:r.header_cell:"row"==e?s?r.cell:r.header_cell:r.cell;i.map.cellsInRect(u).forEach((function(e){var t=e+i.tableStart,n=o.doc.nodeAt(t);n&&o.setNodeMarkup(t,d,n.attrs)})),n(o)}return!0}}var Fe=Re("row",{useDeprecatedLogic:!0}),Pe=Re("column",{useDeprecatedLogic:!0}),Be=Re("cell",{useDeprecatedLogic:!0});function je(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,i=e.before();r>=0;r--){var o=e.node(-1).child(r);if(o.childCount)return i-1-o.lastChild.nodeSize;i-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var s=e.node(-1),a=e.indexAfter(-1),l=e.after();a<s.childCount;a++){var c=s.child(a);if(c.childCount)return l+1;l+=c.nodeSize}}}function ze(e){return function(t,n){if(!D(t))return!1;var r=je(A(t),e);if(null!=r){if(n){var i=t.doc.resolve(r);n(t.tr.setSelection(o["TextSelection"].between(i,T(i))).scrollIntoView())}return!0}}}function He(e,t){for(var n=e.selection.$anchor,r=n.depth;r>0;r--){var i=n.node(r);if("table"==i.type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}var $e=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ve(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function Ve(e,t,n,r,i,o){for(var s=0,a=!0,l=t.firstChild,c=e.firstChild,u=0,d=0;u<c.childCount;u++)for(var f=c.child(u).attrs,h=f.colspan,p=f.colwidth,m=0;m<h;m++,d++){var g=i==d?o:p&&p[m],v=g?g+"px":"";s+=g||r,g||(a=!1),l?(l.style.width!=v&&(l.style.width=v),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=v}while(l){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}$e.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,Ve(e,this.colgroup,this.table,this.cellMinWidth),!0)},$e.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var We=new o["PluginKey"]("tableColumnResizing");function Ue(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var r=e.View;void 0===r&&(r=$e);var i=e.lastColumnResizable;void 0===i&&(i=!0);var s=new o["Plugin"]({key:We,state:{init:function(e,t){return this.spec.props.nodeViews[C(t.schema).table.name]=function(e,t){return new r(e,n,t)},new qe(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){var t=We.getState(e);return t.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,r){Ge(e,r,t,n,i)},mouseleave:function(e){Ke(e)},mousedown:function(e,t){Je(e,t,n)}},decorations:function(e){var t=We.getState(e);if(t.activeHandle>-1)return it(e,t.activeHandle)},nodeViews:{}}});return s}var qe=function(e,t){this.activeHandle=e,this.dragging=t};function Ge(e,t,n,r,i){var o=We.getState(e.state);if(!o.dragging){var s=Xe(t.target),a=-1;if(s){var l=s.getBoundingClientRect(),c=l.left,u=l.right;t.clientX-c<=n?a=Ye(e,t,"left"):u-t.clientX<=n&&(a=Ye(e,t,"right"))}if(a!=o.activeHandle){if(!i&&-1!==a){var d=e.state.doc.resolve(a),f=d.node(-1),h=m.get(f),p=d.start(-1),g=h.colCount(d.pos-p)+d.nodeAfter.attrs.colspan-1;if(g==h.width-1)return}et(e,a)}}}function Ke(e){var t=We.getState(e.state);t.activeHandle>-1&&!t.dragging&&et(e,-1)}function Je(e,t,n){var r=We.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;var i=e.state.doc.nodeAt(r.activeHandle),o=Ze(e,r.activeHandle,i.attrs);function s(t){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);var r=We.getState(e.state);r.dragging&&(tt(e,r.activeHandle,Qe(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(We,{setDragging:null})))}function a(t){if(!t.which)return s(t);var r=We.getState(e.state),i=Qe(r.dragging,t,n);nt(e,r.activeHandle,i,n)}return e.dispatch(e.state.tr.setMeta(We,{setDragging:{startX:t.clientX,startWidth:o}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),t.preventDefault(),!0}function Ze(e,t,n){var r=n.colspan,i=n.colwidth,o=i&&i[i.length-1];if(o)return o;var s=e.domAtPos(t),a=s.node.childNodes[s.offset],l=a.offsetWidth,c=r;if(i)for(var u=0;u<r;u++)i[u]&&(l-=i[u],c--);return l/c}function Xe(e){while(e&&"TD"!=e.nodeName&&"TH"!=e.nodeName)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}function Ye(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;var i=r.pos,o=_(e.state.doc.resolve(i));if(!o)return-1;if("right"==n)return o.pos;var s=m.get(o.node(-1)),a=o.start(-1),l=s.map.indexOf(o.pos-a);return l%s.width==0?-1:a+s.map[l-1]}function Qe(e,t,n){var r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function et(e,t){e.dispatch(e.state.tr.setMeta(We,{setHandle:t}))}function tt(e,t,n){for(var r=e.state.doc.resolve(t),i=r.node(-1),o=m.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=e.state.tr,c=0;c<o.height;c++){var u=c*o.width+a;if(!c||o.map[u]!=o.map[u-o.width]){var d=o.map[u],f=i.nodeAt(d),h=f.attrs,p=1==h.colspan?0:a-o.colCount(d);if(!h.colwidth||h.colwidth[p]!=n){var g=h.colwidth?h.colwidth.slice():rt(h.colspan);g[p]=n,l.setNodeMarkup(s+d,null,F(h,"colwidth",g))}}}l.docChanged&&e.dispatch(l)}function nt(e,t,n,r){var i=e.state.doc.resolve(t),o=i.node(-1),s=i.start(-1),a=m.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,l=e.domAtPos(i.start(-1)).node;while("TABLE"!=l.nodeName)l=l.parentNode;Ve(o,l.firstChild,l,r,a,n)}function rt(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function it(e,t){for(var n=[],r=e.doc.resolve(t),i=r.node(-1),o=m.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan,c=0;c<o.height;c++){var u=a+c*o.width-1;if((a==o.width||o.map[u]!=o.map[u+1])&&(0==c||o.map[u-1]!=o.map[u-1-o.width])){var d=o.map[u],f=s+d+i.nodeAt(d).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",n.push(l["a"].widget(f,h))}}return l["b"].create(e.doc,n)}function ot(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new o["Plugin"]({key:S,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(S);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var r=e.mapping.mapResult(t),i=r.deleted,o=r.pos;return i?null:o}},props:{decorations:$,handleDOMEvents:{mousedown:ae},createSelectionBetween:function(e){if(null!=S.getState(e.state))return e.state.selection},handleTripleClick:oe,handleKeyDown:ee,handlePaste:se},appendTransaction:function(e,n,r){return U(r,he(r,n),t)}})}qe.prototype.apply=function(e){var t=this,n=e.getMeta(We);if(n&&null!=n.setHandle)return new qe(n.setHandle,null);if(n&&void 0!==n.setDragging)return new qe(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var r=e.mapping.map(t.activeHandle,-1);O(e.doc.resolve(r))||(r=null),t=new qe(r,t.dragging)}return t}},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.14.0",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56b3":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=r||i||o,a=s&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),m=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),x=d&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(d=!1,l=!0);var k=y&&(c||d&&(null==x||x<12.11)),C=n||s&&a>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var _,M=function(e,t){var n=e.className,r=S(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function D(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function A(e,t){return D(e).appendChild(t)}function E(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function O(e,t,n,r){var i=E(e,t,n,r);return i.setAttribute("role","presentation"),i}function T(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function N(){var e;try{e=document.activeElement}catch(t){e=document.body||null}while(e&&e.shadowRoot&&e.shadowRoot.activeElement)e=e.shadowRoot.activeElement;return e}function L(e,t){var n=e.className;S(t).test(n)||(e.className+=(n?" ":"")+t)}function I(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!S(n[r]).test(t)&&(t+=" "+n[r]);return t}_=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var R=function(e){e.select()};function F(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function P(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function B(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=r||0,s=i||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}}m?R=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(R=function(e){try{e.select()}catch(t){}});var j=function(){this.id=null,this.f=null,this.time=0,this.handler=F(this.onTimeout,this)};function z(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}j.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},j.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var H=50,$={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},W={origin:"*mouse"},U={origin:"+move"};function q(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var s=o-r;if(o==e.length||i+s>=t)return r+Math.min(s,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}var G=[""];function K(e){while(G.length<=e)G.push(J(G)+" ");return G[e]}function J(e){return e[e.length-1]}function Z(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function X(e,t,n){var r=0,i=n(t);while(r<e.length&&n(e[r])<=i)r++;e.splice(r,0,t)}function Y(){}function Q(e,t){var n;return Object.create?n=Object.create(e):(Y.prototype=e,n=new Y),t&&P(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ie.test(e)}function se(e,t,n){while((n<0?t>0:t<e.length)&&oe(e.charAt(t)))t+=n;return t}function ae(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function le(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}var ce=null;function ue(e,t,n){var r;ce=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ce=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ce=i)}return null!=r?r:ce}var de=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var u=e.length,d=[],f=0;f<u;++f)d.push(n(e.charCodeAt(f)));for(var h=0,p=c;h<u;++h){var m=d[h];"m"==m?d[h]=p:p=m}for(var g=0,v=c;g<u;++g){var y=d[g];"1"==y&&"r"==v?d[g]="n":o.test(y)&&(v=y,"r"==y&&(d[g]="R"))}for(var b=1,w=d[0];b<u-1;++b){var x=d[b];"+"==x&&"1"==w&&"1"==d[b+1]?d[b]="1":","!=x||w!=d[b+1]||"1"!=w&&"n"!=w||(d[b]=w),w=x}for(var k=0;k<u;++k){var C=d[k];if(","==C)d[k]="N";else if("%"==C){var S=void 0;for(S=k+1;S<u&&"%"==d[S];++S);for(var _=k&&"!"==d[k-1]||S<u&&"1"==d[S]?"1":"N",M=k;M<S;++M)d[M]=_;k=S-1}}for(var D=0,A=c;D<u;++D){var E=d[D];"L"==A&&"1"==E?d[D]="L":o.test(E)&&(A=E)}for(var O=0;O<u;++O)if(i.test(d[O])){var T=void 0;for(T=O+1;T<u&&i.test(d[T]);++T);for(var N="L"==(O?d[O-1]:c),L="L"==(T<u?d[T]:c),I=N==L?N?"L":"R":c,R=O;R<T;++R)d[R]=I;O=T-1}for(var F,P=[],B=0;B<u;)if(s.test(d[B])){var j=B;for(++B;B<u&&s.test(d[B]);++B);P.push(new l(0,j,B))}else{var z=B,H=P.length,$="rtl"==t?1:0;for(++B;B<u&&"L"!=d[B];++B);for(var V=z;V<B;)if(a.test(d[V])){z<V&&(P.splice(H,0,new l(1,z,V)),H+=$);var W=V;for(++V;V<B&&a.test(d[V]);++V);P.splice(H,0,new l(2,W,V)),H+=$,z=V}else++V;z<B&&P.splice(H,0,new l(1,z,B))}return"ltr"==t&&(1==P[0].level&&(F=e.match(/^\s+/))&&(P[0].from=F[0].length,P.unshift(new l(0,0,F[0].length))),1==J(P).level&&(F=e.match(/\s+$/))&&(J(P).to-=F[0].length,P.push(new l(0,u-F[0].length,u)))),"rtl"==t?P.reverse():P}}();function fe(e,t){var n=e.order;return null==n&&(n=e.order=de(e.text,t)),n}var he=[],pe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||he).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||he}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=z(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ve(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function ye(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ve(e,n||t.type,e,t),Se(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==z(n,t[r])&&n.push(t[r])}function we(e,t){return me(e,t).length>0}function xe(e){e.prototype.on=function(e,t){pe(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function ke(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ce(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Se(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function _e(e){ke(e),Ce(e)}function Me(e){return e.target||e.srcElement}function De(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Ae,Ee,Oe=function(){if(s&&a<9)return!1;var e=E("div");return"draggable"in e||"dragDrop"in e}();function Te(e){if(null==Ae){var t=E("span","​");A(e,E("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ae=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var n=Ae?E("span","​"):E("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ne(e){if(null!=Ee)return Ee;var t=A(e,document.createTextNode("AخA")),n=_(t,0,1).getBoundingClientRect(),r=_(t,1,2).getBoundingClientRect();return D(e),!(!n||n.left==n.right)&&(Ee=r.right-n.right<3)}var Le=3!="\n\nb".split(/\n/).length?function(e){var t=0,n=[],r=e.length;while(t<=r){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Ie=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Re=function(){var e=E("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Fe=null;function Pe(e){if(null!=Fe)return Fe;var t=A(e,E("span","x")),n=t.getBoundingClientRect(),r=_(t,0,1).getBoundingClientRect();return Fe=Math.abs(n.left-r.left)>1}var Be={},je={};function ze(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Be[e]=t}function He(e,t){je[e]=t}function $e(e){if("string"==typeof e&&je.hasOwnProperty(e))e=je[e];else if(e&&"string"==typeof e.name&&je.hasOwnProperty(e.name)){var t=je[e.name];"string"==typeof t&&(t={name:t}),e=Q(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return $e("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return $e("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=$e(t);var n=Be[t.name];if(!n)return Ve(e,"text/plain");var r=n(e,t);if(We.hasOwnProperty(t.name)){var i=We[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r}var We={};function Ue(e,t){var n=We.hasOwnProperty(e)?We[e]:We[e]={};P(t,n)}function qe(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ge(e,t){var n;while(e.innerMode){if(n=e.innerMode(t),!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}}function Ke(e,t,n){return!e.startState||e.startState(t,n)}var Je=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Ze(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");var n=e;while(!n.lines)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Xe(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Ye(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Qe(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function et(e){if(null==e.parent)return null;for(var t=e.parent,n=z(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}return n+t.first}function tt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s],l=a.height;if(t<l)break;t-=l}return n+s}function nt(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function it(e,t,n){if(void 0===n&&(n=null),!(this instanceof it))return new it(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ot(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&0==ot(e,t)}function at(e){return it(e.line,e.ch)}function lt(e,t){return ot(e,t)<0?t:e}function ct(e,t){return ot(e,t)<0?e:t}function ut(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function dt(e,t){if(t.line<e.first)return it(e.first,0);var n=e.first+e.size-1;return t.line>n?it(n,Ze(e,n).text.length):ft(t,Ze(e,t.line).text.length)}function ft(e,t){var n=e.ch;return null==n||n>t?it(e.line,t):n<0?it(e.line,0):e}function ht(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=dt(e,t[r]);return n}Je.prototype.eol=function(){return this.pos>=this.string.length},Je.prototype.sol=function(){return this.pos==this.lineStart},Je.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Je.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Je.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t)return++this.pos,n},Je.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e));return this.pos>t},Je.prototype.eatSpace=function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},Je.prototype.skipToEnd=function(){this.pos=this.string.length},Je.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Je.prototype.backUp=function(e){this.pos-=e},Je.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=B(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Je.prototype.indentation=function(){return B(this.string,null,this.tabSize)-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Je.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return!1!==t&&(this.pos+=e.length),!0},Je.prototype.current=function(){return this.string.slice(this.start,this.pos)},Je.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Je.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Je.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var pt=function(e,t){this.state=e,this.lookAhead=t},mt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function gt(e,t,n,r){var i=[e.state.modeGen],o={};_t(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var s=n.state,a=function(r){n.baseTokens=i;var a=e.state.overlays[r],l=1,c=0;n.state=!0,_t(e,t.text,a.mode,n,(function(e,t){var n=l;while(c<e){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(a.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function vt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=yt(e,et(t)),i=t.text.length>e.options.maxHighlightLength&&qe(e.doc.mode,r.state),o=gt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function yt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new mt(r,!0,t);var o=Mt(e,t,n),s=o>r.first&&Ze(r,o-1).stateAfter,a=s?mt.fromSaved(r,s,o):new mt(r,Ke(r.mode),o);return r.iter(o,t,(function(n){bt(e,n.text,a);var r=a.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine()})),n&&(r.modeFrontier=a.line),a}function bt(e,t,n,r){var i=e.doc.mode,o=new Je(t,e.options.tabSize,n);o.start=o.pos=r||0,""==t&&wt(i,n.state);while(!o.eol())xt(i,o,n.state),o.start=o.pos}function wt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ge(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function xt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ge(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}mt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},mt.prototype.baseToken=function(e){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=e)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},mt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},mt.fromSaved=function(e,t,n){return t instanceof pt?new mt(e,qe(e.mode,t.state),n,t.lookAhead):new mt(e,qe(e.mode,t),n)},mt.prototype.save=function(e){var t=!1!==e?qe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pt(t,this.maxLookAhead):t};var kt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ct(e,t,n,r){var i,o=e.doc,s=o.mode;t=dt(o,t);var a,l=Ze(o,t.line),c=yt(e,t.line,n),u=new Je(l.text,e.options.tabSize,c);r&&(a=[]);while((r||u.pos<t.ch)&&!u.eol())u.start=u.pos,i=xt(s,u,c.state),r&&a.push(new kt(u,i,qe(o.mode,c.state)));return r?a:new kt(u,i,c.state)}function St(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function _t(e,t,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new Je(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];""==t&&St(wt(n,r.state),o);while(!d.eol()){if(d.pos>e.options.maxHighlightLength?(a=!1,s&&bt(e,t,r,d.pos),d.pos=t.length,l=null):l=St(xt(n,d,r.state,f),o),f){var h=f[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!a||u!=l){while(c<d.start)c=Math.min(d.start,c+5e3),i(c,u);u=l}d.start=d.pos}while(c<d.pos){var p=Math.min(d.pos,c+5e3);i(p,u),c=p}}function Mt(e,t,n){for(var r,i,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Ze(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof pt?c.lookAhead:0)<=o.modeFrontier))return a;var u=B(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=a-1,r=u)}return i}function Dt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Ze(e,r).stateAfter;if(i&&(!(i instanceof pt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var At=!1,Et=!1;function Ot(){At=!0}function Tt(){Et=!0}function Nt(e,t,n){this.marker=e,this.from=t,this.to=n}function Lt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function It(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Rt(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Ft(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Nt(s,o.from,l?null:o.to))}}return r}function Pt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Nt(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Bt(e,t){if(t.full)return null;var n=nt(e,t.from.line)&&Ze(e,t.from.line).markedSpans,r=nt(e,t.to.line)&&Ze(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,s=0==ot(t.from,t.to),a=Ft(n,i,s),l=Pt(r,o,s),c=1==t.text.length,u=J(t.text).length+(c?i:0);if(a)for(var d=0;d<a.length;++d){var f=a[d];if(null==f.to){var h=Lt(l,f.marker);h?c&&(f.to=null==h.to?null:h.to+u):f.to=i}}if(l)for(var p=0;p<l.length;++p){var m=l[p];if(null!=m.to&&(m.to+=u),null==m.from){var g=Lt(a,m.marker);g||(m.from=u,c&&(a||(a=[])).push(m))}else m.from+=u,c&&(a||(a=[])).push(m)}a&&(a=jt(a)),l&&l!=a&&(l=jt(l));var v=[a];if(!c){var y,b=t.text.length-2;if(b>0&&a)for(var w=0;w<a.length;++w)null==a[w].to&&(y||(y=[])).push(new Nt(a[w].marker,null,null));for(var x=0;x<b;++x)v.push(y);v.push(l)}return v}function jt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function zt(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=z(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var c=i[l];if(!(ot(c.to,a.from)<0||ot(c.from,a.to)>0)){var u=[l,1],d=ot(c.from,a.from),f=ot(c.to,a.to);(d<0||!s.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(f>0||!s.inclusiveRight&&!f)&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}function Ht(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function $t(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Vt(e){return e.inclusiveLeft?-1:0}function Wt(e){return e.inclusiveRight?1:0}function Ut(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ot(r.from,i.from)||Vt(e)-Vt(t);if(o)return-o;var s=ot(r.to,i.to)||Wt(e)-Wt(t);return s||t.id-e.id}function qt(e,t){var n,r=Et&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||Ut(n,i.marker)<0)&&(n=i.marker);return n}function Gt(e){return qt(e,!0)}function Kt(e){return qt(e,!1)}function Jt(e,t){var n,r=Et&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Ut(n,o.marker)<0)&&(n=o.marker)}return n}function Zt(e,t,n,r,i){var o=Ze(e,t),s=Et&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=ot(c.from,n)||Vt(l.marker)-Vt(i),d=ot(c.to,r)||Wt(l.marker)-Wt(i);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ot(c.to,n)>=0:ot(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ot(c.from,r)<=0:ot(c.from,r)<0)))return!0}}}function Xt(e){var t;while(t=Gt(e))e=t.find(-1,!0).line;return e}function Yt(e){var t;while(t=Kt(e))e=t.find(1,!0).line;return e}function Qt(e){var t,n;while(t=Kt(e))e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function en(e,t){var n=Ze(e,t),r=Xt(n);return n==r?t:et(r)}function tn(e,t){if(t>e.lastLine())return t;var n,r=Ze(e,t);if(!nn(e,r))return t;while(n=Kt(r))r=n.find(1,!0).line;return et(r)+1}function nn(e,t){var n=Et&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&rn(e,t,r))return!0}}function rn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return rn(e,r.line,Lt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,i))return!0}function on(e){e=Xt(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;t+=a.height}return t}function sn(e){if(0==e.height)return 0;var t,n=e.text.length,r=e;while(t=Gt(r)){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}r=e;while(t=Kt(r)){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function an(e){var t=e.display,n=e.doc;t.maxLine=Ze(n,n.first),t.maxLineLength=sn(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=sn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var ln=function(e,t,n){this.text=e,$t(this,t),this.height=n?n(this):1};function cn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ht(e),$t(e,n);var i=r?r(e):1;i!=e.height&&Qe(e,i)}function un(e){e.parent=null,Ht(e)}ln.prototype.lineNo=function(){return et(this)},xe(ln);var dn={},fn={};function hn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?fn:dn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function pn(e,t){var n=O("span",null,null,l?"padding-right: .1px":null),r={pre:O("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,s=void 0;r.pos=0,r.addToken=gn,Ne(e.display.measure)&&(s=fe(o,e.doc.direction))&&(r.addToken=yn(r.addToken,s)),r.map=[];var a=t!=e.display.externalMeasured&&et(o);wn(o,r,vt(e,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=I(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=I(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Te(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ve(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=I(r.pre.className,r.textClass||"")),r}function mn(e){var t=E("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function gn(e,t,n,r,i,o,l){if(t){var c,u=e.splitSpaces?vn(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){c=document.createDocumentFragment();var h=0;while(1){d.lastIndex=h;var p=d.exec(t),m=p?p.index-h:t.length-h;if(m){var g=document.createTextNode(u.slice(h,h+m));s&&a<9?c.appendChild(E("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;h+=m+1;var v=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;v=c.appendChild(E("span",K(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?(v=c.appendChild(E("span","\r"==p[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",p[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(p[0]),v.setAttribute("cm-text",p[0]),s&&a<9?c.appendChild(E("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||f||o||l){var w=n||"";r&&(w+=r),i&&(w+=i);var x=E("span",[c],w,o);if(l)for(var k in l)l.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&x.setAttribute(k,l[k]);return e.content.appendChild(x)}e.content.appendChild(c)}}function vn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}function yn(e,t){return function(n,r,i,o,s,a,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=void 0,f=0;f<t.length;f++)if(d=t[f],d.to>c&&d.from<=c)break;if(d.to>=u)return e(n,r,i,o,s,a,l);e(n,r.slice(0,d.to-c),i,o,null,a,l),o=null,r=r.slice(d.to-c),c=d.to}}}function bn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function wn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var s,a,l,c,u,d,f,h=i.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=u=a="",f=null,d=null,v=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var x=r[w],k=x.marker;if("bookmark"==k.type&&x.from==p&&k.widgetNode)y.push(k);else if(x.from<=p&&(null==x.to||x.to>p||k.collapsed&&x.to==p&&x.from==p)){if(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,c=""),k.className&&(l+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&x.from==p&&(u+=" "+k.startStyle),k.endStyle&&x.to==v&&(b||(b=[])).push(k.endStyle,x.to),k.title&&((f||(f={})).title=k.title),k.attributes)for(var C in k.attributes)(f||(f={}))[C]=k.attributes[C];k.collapsed&&(!d||Ut(d.marker,k)<0)&&(d=x)}else x.from>p&&v>x.from&&(v=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(c+=" "+b[S]);if(!d||d.from==p)for(var _=0;_<y.length;++_)bn(t,0,y[_]);if(d&&(d.from||0)==p){if(bn(t,(null==d.to?h+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=h)break;var M=Math.min(h,v);while(1){if(g){var D=p+g.length;if(!d){var A=D>M?g.slice(0,M-p):g;t.addToken(t,A,s?s+l:l,u,p+A.length==v?c:"",a,f)}if(D>=M){g=g.slice(M-p),p=M;break}p=D,u=""}g=i.slice(o,o=n[m++]),s=hn(n[m++],t.cm.options)}}else for(var E=1;E<n.length;E+=2)t.addToken(t,i.slice(o,o=n[E]),hn(n[E+1],t.cm.options))}function xn(e,t,n){this.line=t,this.rest=Qt(t),this.size=this.rest?et(J(this.rest))-n+1:1,this.node=this.text=null,this.hidden=nn(e,t)}function kn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var s=new xn(e.doc,Ze(e.doc,o),o);r=o+s.size,i.push(s)}return i}var Cn=null;function Sn(e){Cn?Cn.ops.push(e):e.ownsGroup=Cn={ops:[e],delayedCallbacks:[]}}function _n(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)while(i.cursorActivityCalled<i.cursorActivityHandlers.length)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Mn(e,t){var n=e.ownsGroup;if(n)try{_n(n)}finally{Cn=null,t(n)}}var Dn=null;function An(e,t){var n=me(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);Cn?r=Cn.delayedCallbacks:Dn?r=Dn:(r=Dn=[],setTimeout(En,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},s=0;s<n.length;++s)o(s)}}function En(){var e=Dn;Dn=null;for(var t=0;t<e.length;++t)e[t]()}function On(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?In(e,t):"gutter"==o?Fn(e,t,n,r):"class"==o?Rn(e,t):"widget"==o&&Pn(e,t,r)}t.changes=null}function Tn(e){return e.node==e.text&&(e.node=E("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function Nn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Tn(t);t.background=r.insertBefore(E("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Ln(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):pn(e,t)}function In(e,t){var n=t.text.className,r=Ln(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Rn(e,t)):n&&(t.text.className=n)}function Rn(e,t){Nn(e,t),t.line.wrapClass?Tn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Fn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Tn(t);t.gutterBackground=E("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=Tn(t),a=t.gutter=E("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(E("div",rt(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild(E("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function Pn(e,t,n){t.alignable&&(t.alignable=null);for(var r=S("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);jn(e,t,n)}function Bn(e,t,n,r){var i=Ln(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Rn(e,t),Fn(e,t,n,r),jn(e,t,r),t.node}function jn(e,t,n){if(zn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)zn(e,t.rest[r],t,n,!1)}function zn(e,t,n,r,i){if(t.widgets)for(var o=Tn(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=E("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Hn(l,c,n,r),e.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),An(l,"redraw")}}function Hn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function $n(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!T(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),A(t.display.measure,E("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Vn(e,t){for(var n=Me(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Wn(e){return e.lineSpace.offsetTop}function Un(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function qn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=A(e.measure,E("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Gn(e){return H-e.display.nativeBarWidth}function Kn(e){return e.display.scroller.clientWidth-Gn(e)-e.display.barWidth}function Jn(e){return e.display.scroller.clientHeight-Gn(e)-e.display.barHeight}function Zn(e,t,n){var r=e.options.lineWrapping,i=r&&Kn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Xn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(et(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Yn(e,t){t=Xt(t);var n=et(t),r=e.display.externalMeasured=new xn(e.doc,t,n);r.lineN=n;var i=r.built=pn(e,r);return r.text=i.pre,A(e.display.lineMeasure,i.pre),r}function Qn(e,t,n,r){return nr(e,tr(e,t),n,r)}function er(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Rr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function tr(e,t){var n=et(t),r=er(e,n);r&&!r.text?r=null:r&&r.changes&&(On(e,r,n,Or(e)),e.curOp.forceUpdate=!0),r||(r=Yn(e,t));var i=Xn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function nr(e,t,n,r,i){t.before&&(n=-1);var o,s=n+(r||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Zn(e,t.view,t.rect),t.hasHeights=!0),o=ar(e,t,n,r),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var rr,ir={left:0,right:0,top:0,bottom:0};function or(e,t,n){for(var r,i,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(i=0,o=1,s="left"):t<l?(i=t-a,o=i+1):(c==e.length-3||t==l&&e[c+3]>t)&&(o=l-a,i=o-1,t>=l&&(s="right")),null!=i){if(r=e[c+2],a==l&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)while(c&&e[c-2]==e[c-3]&&e[c-1].insertLeft)r=e[2+(c-=3)],s="left";if("right"==n&&i==l-a)while(c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft)r=e[(c+=3)+2],s="right";break}return{node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:l}}function sr(e,t){var n=ir;if("left"==t){for(var r=0;r<e.length;r++)if((n=e[r]).left!=n.right)break}else for(var i=e.length-1;i>=0;i--)if((n=e[i]).left!=n.right)break;return n}function ar(e,t,n,r){var i,o=or(t.map,n,r),l=o.node,c=o.start,u=o.end,d=o.collapse;if(3==l.nodeType){for(var f=0;f<4;f++){while(c&&oe(t.line.text.charAt(o.coverStart+c)))--c;while(o.coverStart+u<o.coverEnd&&oe(t.line.text.charAt(o.coverStart+u)))++u;if(i=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():sr(_(l,c,u).getClientRects(),r),i.left||i.right||0==c)break;u=c,c-=1,d="right"}s&&a<11&&(i=lr(e.display.measure,i))}else{var h;c>0&&(d=r="right"),i=e.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==r?h.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+Er(e.display),top:p.top,bottom:p.bottom}:ir}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1;b++)if(v<y[b])break;var w=b?y[b-1]:0,x=y[b],k={left:("right"==d?i.right:i.left)-t.rect.left,right:("left"==d?i.left:i.right)-t.rect.left,top:w,bottom:x};return i.left||i.right||(k.bogus=!0),e.options.singleCursorHeightPerLine||(k.rtop=m,k.rbottom=g),k}function lr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Pe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function cr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ur(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)cr(e.display.view[t])}function dr(e){ur(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fr(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function hr(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function pr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=$n(e.widgets[n]));return t}function mr(e,t,n,r,i){if(!i){var o=pr(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=on(t);if("local"==r?s+=Wn(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:hr());var l=a.left+("window"==r?0:fr());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function gr(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=fr(),i-=hr();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function vr(e,t,n,r,i){return r||(r=Ze(e.doc,t.line)),mr(e,r,Qn(e,r,t.ch,i),n)}function yr(e,t,n,r,i,o){function s(t,s){var a=nr(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,mr(e,r,a,n)}r=r||Ze(e.doc,t.line),i||(i=tr(e,r));var a=fe(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(e,t,n){var r=a[t],i=1==r.level;return s(n?e-1:e,i!=n)}var d=ue(a,l,c),f=ce,h=u(l,d,"before"==c);return null!=f&&(h.other=u(l,f,"before"!=c)),h}function br(e,t){var n=0;t=dt(e.doc,t),e.options.lineWrapping||(n=Er(e.display)*t.ch);var r=Ze(e.doc,t.line),i=on(r)+Wn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function wr(e,t,n,r,i){var o=it(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function xr(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return wr(r.first,0,null,-1,-1);var i=tt(r,n),o=r.first+r.size-1;if(i>o)return wr(r.first+r.size-1,Ze(r,o).text.length,null,1,1);t<0&&(t=0);for(var s=Ze(r,i);;){var a=_r(e,s,i,t,n),l=Jt(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==i)return c;s=Ze(r,i=c.line)}}function kr(e,t,n,r){r-=pr(t);var i=t.text.length,o=ae((function(t){return nr(e,n,t-1).bottom<=r}),i,0);return i=ae((function(t){return nr(e,n,t).top>r}),o,i),{begin:o,end:i}}function Cr(e,t,n,r){n||(n=tr(e,t));var i=mr(e,t,nr(e,n,r),"line").top;return kr(e,t,n,i)}function Sr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function _r(e,t,n,r,i){i-=on(t);var o=tr(e,t),s=pr(t),a=0,l=t.text.length,c=!0,u=fe(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?Dr:Mr)(e,t,n,o,u,r,i);c=1!=d.level,a=c?d.from:d.to-1,l=c?d.to:d.from-1}var f,h,p=null,m=null,g=ae((function(t){var n=nr(e,o,t);return n.top+=s,n.bottom+=s,!!Sr(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,m=n),!0)}),a,l),v=!1;if(m){var y=r-m.left<m.right-r,b=y==c;g=p+(b?0:1),h=b?"after":"before",f=y?m.left:m.right}else{c||g!=l&&g!=a||g++,h=0==g?"after":g==t.text.length?"before":nr(e,o,g-(c?1:0)).bottom+s<=i==c?"after":"before";var w=yr(e,it(n,g,h),"line",t,o);f=w.left,v=i<w.top?-1:i>=w.bottom?1:0}return g=se(t.text,g,1),wr(n,g,h,v,r-f)}function Mr(e,t,n,r,i,o,s){var a=ae((function(a){var l=i[a],c=1!=l.level;return Sr(yr(e,it(n,c?l.to:l.from,c?"before":"after"),"line",t,r),o,s,!0)}),0,i.length-1),l=i[a];if(a>0){var c=1!=l.level,u=yr(e,it(n,c?l.from:l.to,c?"after":"before"),"line",t,r);Sr(u,o,s,!0)&&u.top>s&&(l=i[a-1])}return l}function Dr(e,t,n,r,i,o,s){var a=kr(e,t,r,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,f=0;f<i.length;f++){var h=i[f];if(!(h.from>=c||h.to<=l)){var p=1!=h.level,m=nr(e,r,p?Math.min(c,h.to)-1:Math.max(l,h.from)).right,g=m<o?o-m+1e9:m-o;(!u||d>g)&&(u=h,d=g)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function Ar(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==rr){rr=E("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)rr.appendChild(document.createTextNode("x")),rr.appendChild(E("br"));rr.appendChild(document.createTextNode("x"))}A(e.measure,rr);var n=rr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),D(e.measure),n||1}function Er(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=E("span","xxxxxxxxxx"),n=E("pre",[t],"CodeMirror-line-like");A(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Or(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=e.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+i,r[a]=o.clientWidth}return{fixedPos:Tr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Tr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Nr(e){var t=Ar(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Er(e.display)-3);return function(i){if(nn(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Lr(e){var t=e.doc,n=Nr(e);t.iter((function(e){var t=n(e);t!=e.height&&Qe(e,t)}))}function Ir(e,t,n,r){var i=e.display;if(!n&&"true"==Me(t).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(d){return null}var l,c=xr(e,o,s);if(r&&c.xRel>0&&(l=Ze(e.doc,c.line).text).length==c.ch){var u=B(l,l.length,e.options.tabSize)-l.length;c=it(c.line,Math.max(0,Math.round((o-qn(e.display).left)/Er(e.display))-u))}return c}function Rr(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function Fr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Et&&en(e.doc,t)<i.viewTo&&Br(e);else if(n<=i.viewFrom)Et&&tn(e.doc,n+r)>i.viewFrom?Br(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Br(e);else if(t<=i.viewFrom){var o=jr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Br(e)}else if(n>=i.viewTo){var s=jr(e,t,t,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):Br(e)}else{var a=jr(e,t,t,-1),l=jr(e,n,n+r,1);a&&l?(i.view=i.view.slice(0,a.index).concat(kn(e,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Br(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function Pr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Rr(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==z(s,n)&&s.push(n)}}}function Br(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function jr(e,t,n,r){var i,o=Rr(e,t),s=e.display.view;if(!Et||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(r>0){if(o==s.length-1)return null;i=a+s[o].size-t,o++}else i=a-t;t+=i,n+=i}while(en(e.doc,n)!=n){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function zr(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=kn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=kn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Rr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(kn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Rr(e,n)))),r.viewTo=n}function Hr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function $r(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Vr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&Wr(e,a.head,i),l||qr(e,a,o)}}return r}function Wr(e,t,n){var r=yr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(E("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(E("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Ur(e,t){return e.top-t.top||e.left-t.left}function qr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),s=qn(e.display),a=s.left,l=Math.max(r.sizerWidth,Kn(e)-r.sizer.offsetLeft)-s.right,c="ltr"==i.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(E("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var o,s,d=Ze(i,t),f=d.text.length;function h(n,r){return vr(e,it(t,n),"div",d,r)}function p(t,n,r){var i=Cr(e,d,null,t),o="ltr"==n==("after"==r)?"left":"right",s="after"==r?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1);return h(s,o)[o]}var m=fe(d,i.direction);return le(m,n||0,null==r?f:r,(function(e,t,i,d){var g="ltr"==i,v=h(e,g?"left":"right"),y=h(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==f,x=0==d,k=!m||d==m.length-1;if(y.top-v.top<=3){var C=(c?b:w)&&x,S=(c?w:b)&&k,_=C?a:(g?v:y).left,M=S?l:(g?y:v).right;u(_,v.top,M-_,v.bottom)}else{var D,A,E,O;g?(D=c&&b&&x?a:v.left,A=c?l:p(e,i,"before"),E=c?a:p(t,i,"after"),O=c&&w&&k?l:y.right):(D=c?p(e,i,"before"):a,A=!c&&b&&x?l:v.right,E=!c&&w&&k?a:y.left,O=c?p(t,i,"after"):l),u(D,v.top,A-D,v.bottom),v.bottom<y.top&&u(a,v.bottom,null,y.top),u(E,y.top,O-E,y.bottom)}(!o||Ur(v,o)<0)&&(o=v),Ur(y,o)<0&&(o=y),(!s||Ur(v,s)<0)&&(s=v),Ur(y,s)<0&&(s=y)})),{start:o,end:s}}var f=t.from(),h=t.to();if(f.line==h.line)d(f.line,f.ch,h.ch);else{var p=Ze(i,f.line),m=Ze(i,h.line),g=Xt(p)==Xt(m),v=d(f.line,f.ch,g?p.text.length+1:null).end,y=d(h.line,g?0:null,h.ch).start;g&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(a,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(a,v.bottom,null,y.top)}n.appendChild(o)}function Gr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Xr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Kr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Zr(e))}function Jr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Xr(e))}),100)}function Zr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ve(e,"focus",e,t),e.state.focused=!0,L(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Gr(e))}function Xr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ve(e,"blur",e,t),e.state.focused=!1,M(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Yr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,l=void 0,c=0;if(!i.hidden){if(s&&a<8){var u=i.node.offsetTop+i.node.offsetHeight;l=u-n,n=u}else{var d=i.node.getBoundingClientRect();l=d.bottom-d.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=i.line.height-l;if((f>.005||f<-.005)&&(Qe(i.line,l),Qr(i.line),i.rest))for(var h=0;h<i.rest.length;h++)Qr(i.rest[h]);if(c>e.display.sizerWidth){var p=Math.ceil(c/Er(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Qr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ei(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Wn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=tt(t,r),s=tt(t,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=tt(t,on(Ze(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=tt(t,on(Ze(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function ti(e,t){if(!ye(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=E("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Wn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Gn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ni(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?it(t.line,t.ch+1,"before"):t,t=t.ch?it(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var s=!1,a=yr(e,t),l=n&&n!=t?yr(e,n):a;i={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r};var c=ii(e,i),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(di(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(hi(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(s=!0)),!s)break}return i}function ri(e,t){var n=ii(e,t);null!=n.scrollTop&&di(e,n.scrollTop),null!=n.scrollLeft&&hi(e,n.scrollLeft)}function ii(e,t){var n=e.display,r=Ar(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Jn(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Un(n),l=t.top<r,c=t.bottom>a-r;if(t.top<i)s.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?a:t.bottom)-o);u!=i&&(s.scrollTop=u)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,h=Kn(e)-n.gutters.offsetWidth,p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?s.scrollLeft=0:t.left<f?s.scrollLeft=Math.max(0,t.left+d-(p?0:10)):t.right>h+f-3&&(s.scrollLeft=t.right+(p?0:10)-h),s}function oi(e,t){null!=t&&(ci(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function si(e){ci(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ai(e,t,n){null==t&&null==n||ci(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function li(e,t){ci(e),e.curOp.scrollToPos=t}function ci(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=br(e,t.from),r=br(e,t.to);ui(e,n,r,t.margin)}}function ui(e,t,n,r){var i=ii(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});ai(e,i.scrollLeft,i.scrollTop)}function di(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||$i(e,{top:t}),fi(e,t,!0),n&&$i(e),Ii(e,100))}function fi(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function hi(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,qi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function pi(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Un(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Gn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var mi=function(e,t,n){this.cm=n;var r=this.vert=E("div",[E("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=E("div",[E("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),pe(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),pe(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};mi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},mi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},mi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},mi.prototype.zeroWidthHack=function(){var e=y&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new j,this.disableVert=new j},mi.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},mi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var gi=function(){};function vi(e,t){t||(t=pi(e));var n=e.display.barWidth,r=e.display.barHeight;yi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Yr(e),yi(e,pi(e)),n=e.display.barWidth,r=e.display.barHeight}function yi(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}gi.prototype.update=function(){return{bottom:0,right:0}},gi.prototype.setScrollLeft=function(){},gi.prototype.setScrollTop=function(){},gi.prototype.clear=function(){};var bi={native:mi,null:gi};function wi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&M(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new bi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),pe(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?hi(e,t):di(e,t)}),e),e.display.scrollbars.addClass&&L(e.display.wrapper,e.display.scrollbars.addClass)}var xi=0;function ki(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++xi,markArrays:null},Sn(e.curOp)}function Ci(e){var t=e.curOp;t&&Mn(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Si(e)}))}function Si(e){for(var t=e.ops,n=0;n<t.length;n++)_i(t[n]);for(var r=0;r<t.length;r++)Mi(t[r]);for(var i=0;i<t.length;i++)Di(t[i]);for(var o=0;o<t.length;o++)Ai(t[o]);for(var s=0;s<t.length;s++)Ei(t[s])}function _i(e){var t=e.cm,n=t.display;Pi(t),e.updateMaxLine&&an(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Fi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Mi(e){e.updatedDisplay=e.mustUpdate&&zi(e.cm,e.update)}function Di(e){var t=e.cm,n=t.display;e.updatedDisplay&&Yr(t),e.barMeasure=pi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Gn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Kn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ai(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&hi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==N();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&vi(t,e.barMeasure),e.updatedDisplay&&Ui(t,e.barMeasure),e.selectionChanged&&Gr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Kr(e.cm)}function Ei(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Hi(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&fi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&hi(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=ni(t,dt(r,e.scrollToPos.from),dt(r,e.scrollToPos.to),e.scrollToPos.margin);ti(t,i)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||ve(o[a],"hide");if(s)for(var l=0;l<s.length;++l)s[l].lines.length&&ve(s[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ve(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Oi(e,t){if(e.curOp)return t();ki(e);try{return t()}finally{Ci(e)}}function Ti(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ki(e);try{return t.apply(e,arguments)}finally{Ci(e)}}}function Ni(e){return function(){if(this.curOp)return e.apply(this,arguments);ki(this);try{return e.apply(this,arguments)}finally{Ci(this)}}}function Li(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ki(t);try{return e.apply(this,arguments)}finally{Ci(t)}}}function Ii(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,F(Ri,e))}function Ri(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=yt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?qe(t.mode,r.state):null,l=gt(e,o,r,!0);a&&(r.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),f=0;!d&&f<s.length;++f)d=s[f]!=o.styles[f];d&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&bt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Ii(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Oi(e,(function(){for(var t=0;t<i.length;t++)Pr(e,i[t],"text")}))}}var Fi=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ei(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Kn(e),this.force=n,this.dims=Or(e),this.events=[]};function Pi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Gn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Gn(e)+"px",t.scrollbarsClipped=!0)}function Bi(e){if(e.hasFocus())return null;var t=N();if(!t||!T(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&T(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function ji(e){if(e&&e.activeElt&&e.activeElt!=N()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&T(document.body,e.anchorNode)&&T(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function zi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Br(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Hr(e))return!1;Gi(e)&&(Br(e),t.dims=Or(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),Et&&(o=en(e.doc,o),s=tn(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;zr(e,o,s),n.viewOffset=on(Ze(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Hr(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Bi(e);return l>4&&(n.lineDiv.style.display="none"),Vi(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,ji(c),D(n.cursorDiv),D(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Ii(e,400)),n.updateLineNumbers=null,!0}function Hi(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Kn(e))r&&(t.visible=ei(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Un(e.display)-Jn(e),n.top)}),t.visible=ei(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!zi(e,t))break;Yr(e);var i=pi(e);$r(e),vi(e,i),Ui(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function $i(e,t){var n=new Fi(e,t);if(zi(e,n)){Yr(e),Hi(e,n);var r=pi(e);$r(e),vi(e,r),Ui(e,r),n.finish()}}function Vi(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,s=o.firstChild;function a(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,d=0;d<c.length;d++){var f=c[d];if(f.hidden);else if(f.node&&f.node.parentNode==o){while(s!=f.node)s=a(s);var h=i&&null!=t&&t<=u&&f.lineNumber;f.changes&&(z(f.changes,"gutter")>-1&&(h=!1),On(e,f,u,n)),h&&(D(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(rt(e.options,u)))),s=f.node.nextSibling}else{var p=Bn(e,f,u,n);o.insertBefore(p,s)}u+=f.size}while(s)s=a(s)}function Wi(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",An(e,"gutterChanged",e)}function Ui(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Gn(e)+"px"}function qi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Tr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Gi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=rt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(E("div",[E("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Wi(e.display),!0}return!1}function Ki(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:s})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Ji(e){var t=e.gutters,n=e.gutterSpecs;D(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,s=i.style,a=t.appendChild(E("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(e.lineGutter=a,a.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Wi(e)}function Zi(e){Ji(e.display),Fr(e),qi(e)}function Xi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=E("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=E("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=O("div",null,"CodeMirror-code"),o.selectionDiv=E("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=E("div",null,"CodeMirror-cursors"),o.measure=E("div",null,"CodeMirror-measure"),o.lineMeasure=E("div",null,"CodeMirror-measure"),o.lineSpace=O("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=O("div",[o.lineSpace],"CodeMirror-lines");o.mover=E("div",[c],null,"position: relative"),o.sizer=E("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=E("div",null,null,"position: absolute; height: "+H+"px; width: 1px;"),o.gutters=E("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=E("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=E("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Ki(i.gutters,i.lineNumbers),Ji(o),r.init(o)}Fi.prototype.signal=function(e,t){we(e,t)&&this.events.push(arguments)},Fi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ve.apply(null,this.events[e])};var Yi=0,Qi=null;function eo(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function to(e){var t=eo(e);return t.x*=Qi,t.y*=Qi,t}function no(e,t){var r=eo(t),i=r.x,o=r.y,s=e.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(i&&c||o&&u){if(o&&y&&l)e:for(var f=t.target,h=s.view;f!=a;f=f.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==f){e.display.currentWheelTarget=f;break e}if(i&&!n&&!d&&null!=Qi)return o&&u&&di(e,Math.max(0,a.scrollTop+o*Qi)),hi(e,Math.max(0,a.scrollLeft+i*Qi)),(!o||o&&u)&&ke(t),void(s.wheelStartX=null);if(o&&null!=Qi){var m=o*Qi,g=e.doc.scrollTop,v=g+s.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),$i(e,{top:g,bottom:v})}Yi<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=i,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,n=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(Qi=(Qi*Yi+n)/(Yi+1),++Yi)}}),200)):(s.wheelDX+=i,s.wheelDY+=o))}}s?Qi=-.53:n?Qi=15:u?Qi=-.7:f&&(Qi=-1/3);var ro=function(e,t){this.ranges=e,this.primIndex=t};ro.prototype.primary=function(){return this.ranges[this.primIndex]},ro.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!st(n.anchor,r.anchor)||!st(n.head,r.head))return!1}return!0},ro.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new io(at(this.ranges[t].anchor),at(this.ranges[t].head));return new ro(e,this.primIndex)},ro.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ro.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ot(t,r.from())>=0&&ot(e,r.to())<=0)return n}return-1};var io=function(e,t){this.anchor=e,this.head=t};function oo(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return ot(e.from(),t.from())})),n=z(t,i);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1],l=ot(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var c=ct(a.from(),s.from()),u=lt(a.to(),s.to()),d=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,t.splice(--o,2,new io(d?u:c,d?c:u))}}return new ro(t,n)}function so(e,t){return new ro([new io(e,t||e)],0)}function ao(e){return e.text?it(e.from.line+e.text.length-1,J(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function lo(e,t){if(ot(e,t.from)<0)return e;if(ot(e,t.to)<=0)return ao(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=ao(t).ch-t.to.ch),it(n,r)}function co(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new io(lo(i.anchor,t),lo(i.head,t)))}return oo(e.cm,n,e.sel.primIndex)}function uo(e,t,n){return e.line==t.line?it(n.line,e.ch-t.ch+n.ch):it(n.line+(e.line-t.line),e.ch)}function fo(e,t,n){for(var r=[],i=it(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],l=uo(a.from,i,o),c=uo(ao(a),i,o);if(i=a.to,o=c,"around"==n){var u=e.sel.ranges[s],d=ot(u.head,u.anchor)<0;r[s]=new io(d?c:l,d?l:c)}else r[s]=new io(l,l)}return new ro(r,e.sel.primIndex)}function ho(e){e.doc.mode=Ve(e.options,e.doc.modeOption),po(e)}function po(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ii(e,100),e.state.modeGen++,e.curOp&&Fr(e)}function mo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==J(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function go(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){cn(e,n,i,r),An(e,"change",e,t)}function s(e,t){for(var n=[],o=e;o<t;++o)n.push(new ln(c[o],i(o),r));return n}var a=t.from,l=t.to,c=t.text,u=Ze(e,a.line),d=Ze(e,l.line),f=J(c),h=i(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(mo(e,t)){var m=s(0,c.length-1);o(d,d.text,h),p&&e.remove(a.line,p),m.length&&e.insert(a.line,m)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,a.ch)+f+u.text.slice(l.ch),h);else{var g=s(1,c.length-1);g.push(new ln(f+u.text.slice(l.ch),h,r)),o(u,u.text.slice(0,a.ch)+c[0],i(0)),e.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),i(0)),e.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],i(0)),o(d,f+d.text.slice(l.ch),h);var v=s(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,v)}An(e,"change",e,t)}function vo(e,t,n){function r(e,i,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),r(a.doc,e,l))}}}r(e,null,!0)}function yo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Lr(e),ho(e),bo(e),e.options.direction=t.direction,e.options.lineWrapping||an(e),e.options.mode=t.modeOption,Fr(e)}function bo(e){("rtl"==e.doc.direction?L:M)(e.display.lineDiv,"CodeMirror-rtl")}function wo(e){Oi(e,(function(){bo(e),Fr(e)}))}function xo(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function ko(e,t){var n={from:at(t.from),to:ao(t),text:Xe(e,t.from,t.to)};return Eo(e,n,t.from.line,t.to.line+1),vo(e,(function(e){return Eo(e,n,t.from.line,t.to.line+1)}),!0),n}function Co(e){while(e.length){var t=J(e);if(!t.ranges)break;e.pop()}}function So(e,t){return t?(Co(e.done),J(e.done)):e.done.length&&!J(e.done).ranges?J(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),J(e.done)):void 0}function _o(e,t,n,r){var i=e.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=So(i,i.lastOp==r)))s=J(o.changes),0==ot(t.from,t.to)&&0==ot(t.from,s.to)?s.to=ao(t):o.changes.push(ko(e,t));else{var l=J(i.done);l&&l.ranges||Ao(e.sel,i.done),o={changes:[ko(e,t)],generation:i.generation},i.done.push(o);while(i.done.length>i.undoDepth)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||ve(e,"historyAdded")}function Mo(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Do(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||Mo(e,o,J(i.done),t))?i.done[i.done.length-1]=t:Ao(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Co(i.undone)}function Ao(e,t){var n=J(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Eo(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Oo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function To(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Oo(n[i]));return r}function No(e,t){var n=To(e,t),r=Bt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[i]=s)}return n}function Lo(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?ro.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&z(t,Number(u[1]))>-1&&(J(a)[d]=c[d],delete c[d])}}}return r}function Io(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ot(t,i)<0;o!=ot(n,i)<0?(i=t,t=n):o!=ot(t,n)<0&&(t=n)}return new io(i,t)}return new io(n||t,t)}function Ro(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Ho(e,new ro([Io(e.sel.primary(),t,n,i)],0),r)}function Fo(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Io(e.sel.ranges[o],t[o],null,i);var s=oo(e.cm,r,e.sel.primIndex);Ho(e,s,n)}function Po(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Ho(e,oo(e.cm,i,e.sel.primIndex),r)}function Bo(e,t,n,r){Ho(e,so(t,n),r)}function jo(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new io(dt(e,t[n].anchor),dt(e,t[n].head))},origin:n&&n.origin};return ve(e,"beforeSelectionChange",e,r),e.cm&&ve(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?oo(e.cm,r.ranges,r.ranges.length-1):t}function zo(e,t,n){var r=e.history.done,i=J(r);i&&i.ranges?(r[r.length-1]=t,$o(e,t,n)):Ho(e,t,n)}function Ho(e,t,n){$o(e,t,n),Do(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function $o(e,t,n){(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange"))&&(t=jo(e,t,n));var r=n&&n.bias||(ot(t.primary().head,e.sel.primary().head)<0?-1:1);Vo(e,Uo(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||si(e.cm)}function Vo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),An(e,"cursorActivity",e))}function Wo(e){Vo(e,Uo(e,e.sel,null,!1))}function Uo(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Go(e,s.anchor,a&&a.anchor,n,r),c=Go(e,s.head,a&&a.head,n,r);(i||l!=s.anchor||c!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new io(l,c))}return i?oo(e.cm,i,t.primIndex):t}function qo(e,t,n,r,i){var o=Ze(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(u?a.to>=t.ch:a.to>t.ch))){if(i&&(ve(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var d=l.find(r<0?1:-1),f=void 0;if((r<0?u:c)&&(d=Ko(e,d,-r,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(f=ot(d,n))&&(r<0?f<0:f>0))return qo(e,d,t,r,i)}var h=l.find(r<0?-1:1);return(r<0?c:u)&&(h=Ko(e,h,r,h.line==t.line?o:null)),h?qo(e,h,t,r,i):null}}return t}function Go(e,t,n,r,i){var o=r||1,s=qo(e,t,n,o,i)||!i&&qo(e,t,n,o,!0)||qo(e,t,n,-o,i)||!i&&qo(e,t,n,-o,!0);return s||(e.cantEdit=!0,it(e.first,0))}function Ko(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?dt(e,it(t.line-1)):null:n>0&&t.ch==(r||Ze(e,t.line)).text.length?t.line<e.first+e.size-1?it(t.line+1,0):null:new it(t.line,t.ch+n)}function Jo(e){e.setSelection(it(e.firstLine(),0),it(e.lastLine()),V)}function Zo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=dt(e,t)),n&&(r.to=dt(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),ve(e,"beforeChange",e,r),e.cm&&ve(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Xo(e,t,n){if(e.cm){if(!e.cm.curOp)return Ti(e.cm,Xo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"))||(t=Zo(e,t,!0),t)){var r=At&&!n&&zt(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Yo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Yo(e,t)}}function Yo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ot(t.from,t.to)){var n=co(e,t);_o(e,t,n,e.cm?e.cm.curOp.id:NaN),ts(e,t,n,Bt(e,t));var r=[];vo(e,(function(e,n){n||-1!=z(r,e.history)||(ss(e.history,t),r.push(e.history)),ts(e,t,null,Bt(e,t))}))}}function Qo(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<a.length;c++)if(i=a[c],n?i.ranges&&!i.equals(e.sel):!i.ranges)break;if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(i=a.pop(),!i.ranges){if(r)return void a.push(i);break}if(Ao(i,l),n&&!i.equals(e.sel))return void Ho(e,i,{clearRedo:!1});s=i}var u=[];Ao(s,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var d=we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"),f=function(n){var r=i.changes[n];if(r.origin=t,d&&!Zo(e,r,!1))return a.length=0,{};u.push(ko(e,r));var o=n?co(e,r):J(a);ts(e,r,o,No(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:ao(r)});var s=[];vo(e,(function(e,t){t||-1!=z(s,e.history)||(ss(e.history,r),s.push(e.history)),ts(e,r,null,No(e,r))}))},h=i.changes.length-1;h>=0;--h){var p=f(h);if(p)return p.v}}}}function es(e,t){if(0!=t&&(e.first+=t,e.sel=new ro(Z(e.sel.ranges,(function(e){return new io(it(e.anchor.line+t,e.anchor.ch),it(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Fr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Pr(e.cm,r,"gutter")}}function ts(e,t,n,r){if(e.cm&&!e.cm.curOp)return Ti(e.cm,ts)(e,t,n,r);if(t.to.line<e.first)es(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);es(e,i),t={from:it(e.first,0),to:it(t.to.line+i,t.to.ch),text:[J(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:it(o,Ze(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Xe(e,t.from,t.to),n||(n=co(e,t)),e.cm?ns(e.cm,t,r):go(e,t,r),$o(e,n,V),e.cantEdit&&Go(e,it(e.firstLine(),0))&&(e.cantEdit=!1)}}function ns(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=et(Xt(Ze(r,o.line))),r.iter(l,s.line+1,(function(e){if(e==i.maxLine)return a=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&be(e),go(r,t,n,Nr(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,(function(e){var t=sn(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1)})),a&&(e.curOp.updateMaxLine=!0)),Dt(r,o.line),Ii(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?Fr(e):o.line!=s.line||1!=t.text.length||mo(e.doc,t)?Fr(e,o.line,s.line+1,c):Pr(e,o.line,"text");var u=we(e,"changes"),d=we(e,"change");if(d||u){var f={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&An(e,"change",e,f),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function rs(e,t,n,r,i){var o;r||(r=n),ot(r,n)<0&&(o=[r,n],n=o[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Xo(e,{from:n,to:r,text:t,origin:i})}function is(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function os(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)is(o.ranges[a].anchor,t,n,r),is(o.ranges[a].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=it(c.from.line+r,c.from.ch),c.to=it(c.to.line+r,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function ss(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;os(e.done,n,r,i),os(e.undone,n,r,i)}function as(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Ze(e,ut(e,t)):i=et(t),null==i?null:(r(o,i)&&e.cm&&Pr(e.cm,i,n),o)}function ls(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function cs(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}io.prototype.from=function(){return ct(this.anchor,this.head)},io.prototype.to=function(){return lt(this.anchor,this.head)},io.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ls.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,un(i),An(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},cs.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),s=r.height;if(r.removeInner(e,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ls))){var a=[];this.collapse(a),this.children=[new ls(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,a=s;a<i.lines.length;){var l=new ls(i.lines.slice(a,a+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new cs(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=z(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new cs(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var s=Math.min(t,o-e);if(i.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var us=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function ds(e,t,n){on(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&oi(e,n)}function fs(e,t,n,r){var i=new us(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),as(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!nn(e,t)){var r=on(t)<e.scrollTop;Qe(t,t.height+$n(i)),r&&oi(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&An(o,"lineWidgetAdded",o,i,"number"==typeof t?t:et(t)),i}us.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=et(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=$n(this);Qe(n,Math.max(0,n.height-o)),e&&(Oi(e,(function(){ds(e,n,-o),Pr(e,r,"widget")})),An(e,"lineWidgetCleared",e,this,r))}},us.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=$n(this)-t;i&&(nn(this.doc,r)||Qe(r,r.height+i),n&&Oi(n,(function(){n.curOp.forceUpdate=!0,ds(n,r,i),An(n,"lineWidgetChanged",n,e,et(r))})))},xe(us);var hs=0,ps=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++hs};function ms(e,t,n,r,i){if(r&&r.shared)return vs(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Ti(e.cm,ms)(e,t,n,r,i);var o=new ps(e,i),s=ot(t,n);if(r&&P(r,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=O("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Zt(e,t.line,t,n,o)||t.line!=n.line&&Zt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Tt()}o.addToHistory&&_o(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(r){c&&o.collapsed&&!c.options.lineWrapping&&Xt(r)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Qe(r,0),Rt(r,new Nt(o,l==t.line?t.ch:null,l==n.line?n.ch:null),e.cm&&e.cm.curOp),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){nn(e,t)&&Qe(t,0)})),o.clearOnEnter&&pe(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Ot(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++hs,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Fr(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)Pr(c,u,"text");o.atomic&&Wo(c.doc),An(c,"markerAdded",c,o)}return o}ps.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&ki(e),we(this,"clear")){var n=this.find();n&&An(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Lt(s.markedSpans,this);e&&!this.collapsed?Pr(e,et(s),"text"):e&&(null!=a.to&&(i=et(s)),null!=a.from&&(r=et(s))),s.markedSpans=It(s.markedSpans,a),null==a.from&&this.collapsed&&!nn(this.doc,s)&&e&&Qe(s,Ar(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Xt(this.lines[l]),u=sn(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Fr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Wo(e.doc)),e&&An(e,"markerCleared",e,this,r,i),t&&Ci(e),this.parent&&this.parent.clear()}},ps.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],s=Lt(o.markedSpans,this);if(null!=s.from&&(n=it(t?o:et(o),s.from),-1==e))return n;if(null!=s.to&&(r=it(t?o:et(o),s.to),1==e))return r}return n&&{from:n,to:r}},ps.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Oi(r,(function(){var i=t.line,o=et(t.line),s=er(r,o);if(s&&(cr(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!nn(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var l=$n(n)-a;l&&Qe(i,i.height+l)}An(r,"markerChanged",r,e)}))},ps.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=z(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ps.prototype.detachLine=function(e){if(this.lines.splice(z(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},xe(ps);var gs=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function vs(e,t,n,r,i){r=P(r),r.shared=!1;var o=[ms(e,t,n,r,i)],s=o[0],a=r.widgetNode;return vo(e,(function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push(ms(e,dt(e,t),dt(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=J(o)})),new gs(o,s)}function ys(e){return e.findMarks(it(e.first,0),e.clipPos(it(e.lastLine())),(function(e){return e.parent}))}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(ot(o,s)){var a=ms(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function ws(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];vo(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==z(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}gs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();An(this,"clear")}},gs.prototype.find=function(e,t){return this.primary.find(e,t)},xe(gs);var xs=0,ks=function(e,t,n,r,i){if(!(this instanceof ks))return new ks(e,t,n,r,i);null==n&&(n=0),cs.call(this,[new ls([new ln("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=it(n,0);this.sel=so(o),this.history=new xo(null),this.id=++xs,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),go(this,{from:o,to:o,text:e}),Ho(this,so(o),V)};ks.prototype=Q(cs.prototype,{constructor:ks,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ye(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Li((function(e){var t=it(this.first,0),n=this.first+this.size-1;Xo(this,{from:t,to:it(n,Ze(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ai(this.cm,0,0),Ho(this,so(t),V)})),replaceRange:function(e,t,n,r){t=dt(this,t),n=n?dt(this,n):t,rs(this,e,t,n,r)},getRange:function(e,t,n){var r=Xe(this,dt(this,e),dt(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e))return Ze(this,e)},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ze(this,e)),Xt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return dt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from(),t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Li((function(e,t,n){Bo(this,dt(this,"number"==typeof e?it(e,t||0):e),null,n)})),setSelection:Li((function(e,t,n){Bo(this,dt(this,e),dt(this,t||e),n)})),extendSelection:Li((function(e,t,n){Ro(this,dt(this,e),t&&dt(this,t),n)})),extendSelections:Li((function(e,t){Fo(this,ht(this,e),t)})),extendSelectionsBy:Li((function(e,t){var n=Z(this.sel.ranges,e);Fo(this,ht(this,n),t)})),setSelections:Li((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new io(dt(this,e[i].anchor),dt(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ho(this,oo(this.cm,r,t),n)}})),addSelection:Li((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new io(dt(this,e),dt(this,t||e))),Ho(this,oo(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Xe(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Xe(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Li((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];r[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}for(var a=t&&"end"!=t&&fo(this,r,t),l=r.length-1;l>=0;l--)Xo(this,r[l]);a?zo(this,a):this.cm&&si(this.cm)})),undo:Li((function(){Qo(this,"undo")})),redo:Li((function(){Qo(this,"redo")})),undoSelection:Li((function(){Qo(this,"undo",!0)})),redoSelection:Li((function(){Qo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new xo(this.history),vo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Lo(this.history.done),undone:Lo(this.history.undone)}},setHistory:function(e){var t=this.history=new xo(this.history);t.done=Lo(e.done.slice(0),null,!0),t.undone=Lo(e.undone.slice(0),null,!0)},setGutterMarker:Li((function(e,t,n){return as(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Li((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&as(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!nt(this,e))return null;if(t=e,e=Ze(this,e),!e)return null}else if(t=et(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Li((function(e,t,n){return as(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(S(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Li((function(e,t,n){return as(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(S(n));if(!o)return!1;var s=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0}))})),addLineWidget:Li((function(e,t,n){return fs(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ms(this,dt(this,e),dt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=dt(this,e),ms(this,e,e,n,"bookmark")},findMarksAt:function(e){e=dt(this,e);var t=[],n=Ze(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=dt(this,e),t=dt(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),dt(this,it(n,t))},indexFromPos:function(e){e=dt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new ks(Ye(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ks(Ye(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],bs(r,ys(this)),r},unlinkDoc:function(e){if(e instanceof Fa&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ws(ys(this));break}}if(e.history==this.history){var r=[e.id];vo(e,(function(e){return r.push(e.id)}),!0),e.history=new xo(null),e.history.done=Lo(this.history.done,r),e.history.undone=Lo(this.history.undone,r)}},iterLinkedDocs:function(e){vo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Le(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Li((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&wo(this.cm))}))}),ks.prototype.eachLine=ks.prototype.iter;var Cs=0;function Ss(e){var t=this;if(Ds(t),!ye(t,e)&&!Vn(t.display,e)){ke(e),s&&(Cs=+new Date);var n=Ir(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,l=function(){++a==i&&Ti(t,(function(){n=dt(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Xo(t.doc,e),zo(t.doc,so(dt(t.doc,n),dt(t.doc,ao(e))))}))()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==z(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),l()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),$o(t.doc,so(n,n)),f)for(var h=0;h<f.length;++h)rs(t.doc,"",f[h].anchor,f[h].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(p){}}}}function _s(e,t){if(s&&(!e.state.draggingText||+new Date-Cs<100))_e(t);else if(!ye(e,t)&&!Vn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=E("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Ms(e,t){var n=Ir(e,t);if(n){var r=document.createDocumentFragment();Wr(e,n,r),e.display.dragCursor||(e.display.dragCursor=E("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),A(e.display.dragCursor,r)}}function Ds(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function As(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Es=!1;function Os(){Es||(Ts(),Es=!0)}function Ts(){var e;pe(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,As(Ns)}),100))})),pe(window,"blur",(function(){return As(Xr)}))}function Ns(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ls={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Is=0;Is<10;Is++)Ls[Is+48]=Ls[Is+96]=String(Is);for(var Rs=65;Rs<=90;Rs++)Ls[Rs]=String.fromCharCode(Rs);for(var Fs=1;Fs<=12;Fs++)Ls[Fs+111]=Ls[Fs+63235]="F"+Fs;var Ps={};function Bs(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function js(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Z(n.split(" "),Bs),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e}function zs(e,t,n,r){t=Ws(t);var i=t.call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return zs(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var s=zs(e,t.fallthrough[o],n,r);if(s)return s}}}function Hs(e){var t="string"==typeof e?e:Ls[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function $s(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Vs(e,t){if(d&&34==e.keyCode&&e["char"])return!1;var n=Ls[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),$s(n,e,t))}function Ws(e){return"string"==typeof e?Ps[e]:e}function Us(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){var o=t(n[i]);while(r.length&&ot(o.from,J(r).to)<=0){var s=r.pop();if(ot(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}Oi(e,(function(){for(var t=r.length-1;t>=0;t--)rs(e.doc,"",r[t].from,r[t].to,"+delete");si(e)}))}function qs(e,t,n){var r=se(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Gs(e,t,n){var r=qs(e,t.ch,n);return null==r?null:new it(t.line,r,n<0?"after":"before")}function Ks(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=fe(n,t.doc.direction);if(o){var s,a=i<0?J(o):o[0],l=i<0==(1==a.level),c=l?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var u=tr(t,n);s=i<0?n.text.length-1:0;var d=nr(t,u,s).top;s=ae((function(e){return nr(t,u,e).top==d}),i<0==(1==a.level)?a.from:a.to-1,s),"before"==c&&(s=qs(n,s,1))}else s=i<0?a.to:a.from;return new it(r,s,c)}}return new it(r,i<0?n.text.length:0,i<0?"before":"after")}function Js(e,t,n,r){var i=fe(t,e.doc.direction);if(!i)return Gs(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ue(i,n.ch,n.sticky),s=i[o];if("ltr"==e.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return Gs(t,n,r);var a,l=function(e,n){return qs(t,e instanceof it?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(a=a||tr(e,t),Cr(e,t,a,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==s.level){var d=1==s.level==r<0,f=l(n,d?1:-1);if(null!=f&&(d?f<=s.to&&f<=u.end:f>=s.from&&f>=u.begin)){var h=d?"before":"after";return new it(n.line,f,h)}}var p=function(e,t,r){for(var o=function(e,t){return t?new it(n.line,l(e,1),"before"):new it(n.line,e,"after")};e>=0&&e<i.length;e+=t){var s=i[e],a=t>0==(1!=s.level),c=a?r.begin:l(r.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),r.begin<=c&&c<r.end)return o(c,a)}},m=p(o+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==t.text.length||(m=p(r>0?0:i.length-1,r,c(g)),!m)?null:m}Ps.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ps.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ps.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ps.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ps["default"]=y?Ps.macDefault:Ps.pcDefault;var Zs={selectAll:Jo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return Us(e,(function(t){if(t.empty()){var n=Ze(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:it(t.head.line+1,0)}:{from:t.head,to:it(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Us(e,(function(t){return{from:it(t.from().line,0),to:dt(e.doc,it(t.to().line+1,0))}}))},delLineLeft:function(e){return Us(e,(function(e){return{from:it(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Us(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}}))},delWrappedLineRight:function(e){return Us(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(it(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(it(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Xs(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return Qs(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Ys(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),U)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),U)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Qs(e,t.head):r}),U)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=B(e.getLine(o.line),o.ch,r);t.push(K(r-s%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Oi(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Ze(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new it(i.line,i.ch-1)),i.ch>0)i=new it(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),it(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=Ze(e.doc,i.line-1).text;s&&(i=new it(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),it(i.line-1,s.length-1),i,"+transpose"))}n.push(new io(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Oi(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);si(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Xs(e,t){var n=Ze(e.doc,t),r=Xt(n);return r!=n&&(t=et(r)),Ks(!0,e,r,t,1)}function Ys(e,t){var n=Ze(e.doc,t),r=Yt(n);return r!=n&&(t=et(r)),Ks(!0,e,n,t,-1)}function Qs(e,t){var n=Xs(e,t.line),r=Ze(e.doc,n.line),i=fe(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return it(n.line,s?0:o,n.sticky)}return n}function ea(e,t,n){if("string"==typeof t&&(t=Zs[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=$}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ta(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=zs(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&zs(t,e.options.extraKeys,n,e)||zs(t,e.options.keyMap,n,e)}var na=new j;function ra(e,t,n,r){var i=e.state.keySeq;if(i){if(Hs(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:na.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),ia(e,i+" "+t,n,r))return!0}return ia(e,t,n,r)}function ia(e,t,n,r){var i=ta(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&An(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(ke(n),Gr(e)),!!i}function oa(e,t){var n=Vs(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ra(e,"Shift-"+n,t,(function(t){return ea(e,t,!0)}))||ra(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ea(e,t)})):ra(e,n,t,(function(t){return ea(e,t)})))}function sa(e,t,n){return ra(e,"'"+n+"'",t,(function(t){return ea(e,t,!0)}))}var aa=null;function la(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=N(),!ye(t,e))){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=oa(t,e);d&&(aa=i?r:null,i||88!=r||Re||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!y&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||ca(t)}}function ca(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(M(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n))}L(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n)}function ua(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function da(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(Vn(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==aa)return aa=null,void ke(e);if(!d||e.which&&!(e.which<10)||!oa(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(sa(t,e,i)||t.display.input.onKeyPress(e))}}}var fa,ha,pa=400,ma=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ga(e,t){var n=+new Date;return ha&&ha.compare(n,e,t)?(fa=ha=null,"triple"):fa&&fa.compare(n,e,t)?(ha=new ma(n,e,t),fa=null,"double"):(fa=new ma(n,e,t),ha=null,"single")}function va(e){var t=this,n=t.display;if(!(ye(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Vn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Ma(t,e)){var r=Ir(t,e),i=De(e),o=r?ga(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&ya(t,i,r,o,e)||(1==i?r?wa(t,r,o,e):Me(e)==n.scroller&&ke(e):2==i?(r&&Ro(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(C?t.display.input.onContextMenu(e):Jr(t)))}}function ya(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,ra(e,$s(o,i),i,(function(t){if("string"==typeof t&&(t=Zs[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=$}finally{e.state.suppressEdits=!1}return r}))}function ba(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}function wa(e,t,n,r){s?setTimeout(F(Kr,e),0):e.curOp.focus=N();var i,o=ba(e,n,r),a=e.doc.sel;e.options.dragDrop&&Oe&&!e.isReadOnly()&&"single"==n&&(i=a.contains(t))>-1&&(ot((i=a.ranges[i]).from(),t)<0||t.xRel>0)&&(ot(i.to(),t)>0||t.xRel<0)?xa(e,r,t,o):Ca(e,r,t,o)}function xa(e,t,n,r){var i=e.display,o=!1,c=Ti(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Jr(e)),ge(i.wrapper.ownerDocument,"mouseup",c),ge(i.wrapper.ownerDocument,"mousemove",u),ge(i.scroller,"dragstart",d),ge(i.scroller,"drop",c),o||(ke(t),r.addNew||Ro(e.doc,n,null,null,r.extend),l&&!f||s&&9==a?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,pe(i.wrapper.ownerDocument,"mouseup",c),pe(i.wrapper.ownerDocument,"mousemove",u),pe(i.scroller,"dragstart",d),pe(i.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}function ka(e,t,n){if("char"==n)return new io(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new io(it(t.line,0),dt(e.doc,it(t.line+1,0)));var r=n(e,t);return new io(r.from,r.to)}function Ca(e,t,n,r){s&&Jr(e);var i=e.display,o=e.doc;ke(t);var a,l,c=o.sel,u=c.ranges;if(r.addNew&&!r.extend?(l=o.sel.contains(n),a=l>-1?u[l]:new io(n,n)):(a=o.sel.primary(),l=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new io(n,n)),n=Ir(e,t,!0,!0),l=-1;else{var d=ka(e,n,r.unit);a=r.extend?Io(a,d.anchor,d.head,r.extend):d}r.addNew?-1==l?(l=u.length,Ho(o,oo(e,u.concat([a]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==r.unit&&!r.extend?(Ho(o,oo(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):Po(o,l,a,W):(l=0,Ho(o,new ro([a],0),W),c=o.sel);var f=n;function h(t){if(0!=ot(f,t))if(f=t,"rectangle"==r.unit){for(var i=[],s=e.options.tabSize,u=B(Ze(o,n.line).text,n.ch,s),d=B(Ze(o,t.line).text,t.ch,s),h=Math.min(u,d),p=Math.max(u,d),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=Ze(o,m).text,y=q(v,h,s);h==p?i.push(new io(it(m,y),it(m,y))):v.length>y&&i.push(new io(it(m,y),it(m,q(v,p,s))))}i.length||i.push(new io(n,n)),Ho(o,oo(e,c.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=a,x=ka(e,t,r.unit),k=w.anchor;ot(x.anchor,k)>0?(b=x.head,k=ct(w.from(),x.anchor)):(b=x.anchor,k=lt(w.to(),x.head));var C=c.ranges.slice(0);C[l]=Sa(e,new io(dt(o,k),b)),Ho(o,oo(e,C,l),W)}}var p=i.wrapper.getBoundingClientRect(),m=0;function g(t){var n=++m,s=Ir(e,t,!0,"rectangle"==r.unit);if(s)if(0!=ot(s,f)){e.curOp.focus=N(),h(s);var a=ei(i,o);(s.line>=a.to||s.line<a.from)&&setTimeout(Ti(e,(function(){m==n&&g(t)})),150)}else{var l=t.clientY<p.top?-20:t.clientY>p.bottom?20:0;l&&setTimeout(Ti(e,(function(){m==n&&(i.scroller.scrollTop+=l,g(t))})),50)}}function v(t){e.state.selectingText=!1,m=1/0,t&&(ke(t),i.input.focus()),ge(i.wrapper.ownerDocument,"mousemove",y),ge(i.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var y=Ti(e,(function(e){0!==e.buttons&&De(e)?g(e):v(e)})),b=Ti(e,v);e.state.selectingText=b,pe(i.wrapper.ownerDocument,"mousemove",y),pe(i.wrapper.ownerDocument,"mouseup",b)}function Sa(e,t){var n=t.anchor,r=t.head,i=Ze(e.doc,n.line);if(0==ot(n,r)&&n.sticky==r.sticky)return t;var o=fe(i);if(!o)return t;var s=ue(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return t;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ue(o,r.ch,r.sticky),d=u-s||(r.ch-n.ch)*(1==a.level?-1:1);l=u==c-1||u==c?d<0:d>0}var f=o[c+(l?-1:0)],h=l==(1==f.level),p=h?f.from:f.to,m=h?"after":"before";return n.ch==p&&n.sticky==m?t:new io(new it(n.line,p,m),r)}function _a(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(f){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ke(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!we(e,n))return Se(t);o-=a.top-s.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i){var u=tt(e.doc,o),d=e.display.gutterSpecs[l];return ve(e,n,e,u,d.className,t),Se(t)}}}function Ma(e,t){return _a(e,t,"gutterClick",!0)}function Da(e,t){Vn(e.display,t)||Aa(e,t)||ye(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function Aa(e,t){return!!we(e,"gutterContextMenu")&&_a(e,t,"gutterContextMenu",!1)}function Ea(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),dr(e)}ma.prototype.compare=function(e,t,n){return this.time+pa>e&&0==ot(t,this.pos)&&n==this.button};var Oa={toString:function(){return"CodeMirror.Init"}},Ta={},Na={};function La(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Oa&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Oa,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,ho(e)}),!0),n("indentUnit",2,ho,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){po(e),dr(e),Fr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(it(r,o))}r++}));for(var i=n.length-1;i>=0;i--)rs(e.doc,t,n[i],it(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Oa&&e.refresh()})),n("specialCharPlaceholder",mn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){Ea(e),Zi(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Ws(t),i=n!=Oa&&Ws(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ra,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Ki(t,e.options.lineNumbers),Zi(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Tr(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return vi(e)}),!0),n("scrollbarStyle","native",(function(e){wi(e),vi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Ki(e.options.gutters,t),Zi(e)}),!0),n("firstLineNumber",1,Zi,!0),n("lineNumberFormatter",(function(e){return e}),Zi,!0),n("showCursorWhenSelecting",!1,$r,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Xr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,Ia),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,$r,!0),n("singleCursorHeightPerLine",!0,$r,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,po,!0),n("addModeClass",!1,po,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,po,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function Ia(e,t,n){var r=n&&n!=Oa;if(!t!=!r){var i=e.display.dragFunctions,o=t?pe:ge;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Ra(e){e.options.lineWrapping?(L(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(M(e.display.wrapper,"CodeMirror-wrap"),an(e)),Lr(e),Fr(e),dr(e),setTimeout((function(){return vi(e)}),100)}function Fa(e,t){var n=this;if(!(this instanceof Fa))return new Fa(e,t);this.options=t=t?P(t):{},P(Ta,t,!1);var r=t.value;"string"==typeof r?r=new ks(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Fa.inputStyles[t.inputStyle](this),o=this.display=new Xi(e,r,i,t);for(var c in o.wrapper.CodeMirror=this,Ea(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),wi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Pa(this),Os(),ki(this),this.curOp.forceUpdate=!0,yo(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Zr(n)}),20):Xr(this),Na)Na.hasOwnProperty(c)&&Na[c](this,t[c],Oa);Gi(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ba.length;++u)Ba[u](this);Ci(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Pa(e){var t=e.display;pe(t.scroller,"mousedown",Ti(e,va)),pe(t.scroller,"dblclick",s&&a<11?Ti(e,(function(t){if(!ye(e,t)){var n=Ir(e,t);if(n&&!Ma(e,t)&&!Vn(e.display,t)){ke(t);var r=e.findWordAt(n);Ro(e.doc,r.anchor,r.head)}}})):function(t){return ye(e,t)||ke(t)}),pe(t.scroller,"contextmenu",(function(t){return Da(e,t)})),pe(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||Da(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),r=t.activeTouch,r.end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}pe(t.scroller,"touchstart",(function(i){if(!ye(e,i)&&!o(i)&&!Ma(e,i)){t.input.ensurePolled(),clearTimeout(n);var s=+new Date;t.activeTouch={start:s,moved:!1,prev:s-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),pe(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),pe(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Vn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,s=e.coordsChar(t.activeTouch,"page");o=!r.prev||l(r,r.prev)?new io(s,s):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(s):new io(it(s.line,0),dt(e.doc,it(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),ke(n)}i()})),pe(t.scroller,"touchcancel",i),pe(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(di(e,t.scroller.scrollTop),hi(e,t.scroller.scrollLeft,!0),ve(e,"scroll",e))})),pe(t.scroller,"mousewheel",(function(t){return no(e,t)})),pe(t.scroller,"DOMMouseScroll",(function(t){return no(e,t)})),pe(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ye(e,t)||_e(t)},over:function(t){ye(e,t)||(Ms(e,t),_e(t))},start:function(t){return _s(e,t)},drop:Ti(e,Ss),leave:function(t){ye(e,t)||Ds(e)}};var c=t.input.getField();pe(c,"keyup",(function(t){return ua.call(e,t)})),pe(c,"keydown",Ti(e,la)),pe(c,"keypress",Ti(e,da)),pe(c,"focus",(function(t){return Zr(e,t)})),pe(c,"blur",(function(t){return Xr(e,t)}))}Fa.defaults=Ta,Fa.optionHandlers=Na;var Ba=[];function ja(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=yt(e,t).state:n="prev");var s=e.options.tabSize,a=Ze(o,t),l=B(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&(c=o.mode.indent(i,a.text.slice(u.length),a.text),c==$||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?B(Ze(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/s);h;--h)f+=s,d+="\t";if(f<c&&(d+=K(c-f)),d!=u)return rs(o,d,it(t,0),it(t,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<u.length){var g=it(t,u.length);Po(o,p,new io(g,g));break}}}Fa.defineInitHook=function(e){return Ba.push(e)};var za=null;function Ha(e){za=e}function $a(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var s=+new Date-200,a="paste"==i||e.state.pasteIncoming>s,l=Le(t),c=null;if(a&&r.ranges.length>1)if(za&&za.text.join("\n")==t){if(r.ranges.length%za.text.length==0){c=[];for(var u=0;u<za.text.length;u++)c.push(o.splitLines(za.text[u]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=Z(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var h=r.ranges[f],p=h.from(),m=h.to();h.empty()&&(n&&n>0?p=it(p.line,p.ch-n):e.state.overwrite&&!a?m=it(m.line,Math.min(Ze(o,m.line).text.length,m.ch+J(l).length)):a&&za&&za.lineWise&&za.text.join("\n")==l.join("\n")&&(p=m=it(p.line,0)));var g={from:p,to:m,text:c?c[f%c.length]:l,origin:i||(a?"paste":e.state.cutIncoming>s?"cut":"+input")};Xo(e.doc,g),An(e,"inputRead",e,g)}t&&!a&&Wa(e,t),si(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Va(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Oi(t,(function(){return $a(t,n,0,null,"paste")})),!0}function Wa(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=ja(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ze(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=ja(e,i.head.line,"smart"));s&&An(e,"electricInput",e,i.head.line)}}}function Ua(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:it(i,0),head:it(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function qa(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Ga(){var e=E("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=E("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),qa(e),t}function Ka(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Ti(this,t[e])(this,n,i),ve(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ws(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ni((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");X(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Fr(this)})),removeOverlay:Ni((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Fr(this)}})),indentLine:Ni((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),nt(this.doc,e)&&ja(this,e,t,n)})),indentSelection:Ni((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(ja(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&si(this));else{var o=i.from(),s=i.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)ja(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&Po(this.doc,r,new io(o,c[r].to()),V)}}})),getTokenAt:function(e,t){return Ct(this,e,t)},getLineTokens:function(e,t){return Ct(this,it(e),t,!0)},getTokenTypeAt:function(e){e=dt(this.doc,e);var t,n=vt(this,Ze(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}r=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=i[o[t][s]];a&&r.push(a)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==z(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=ut(n,null==e?n.first+n.size-1:e),yt(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?dt(this.doc,e):e?r.from():r.to(),yr(this,n,t||"page")},charCoords:function(e,t){return vr(this,dt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=gr(this,e,t||"page"),xr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=gr(this,{top:e,left:0},t||"page").top,tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=Ze(this.doc,e)}else r=e;return mr(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-on(r):0)},defaultTextHeight:function(){return Ar(this.display)},defaultCharWidth:function(){return Er(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=yr(this,dt(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&ri(this,{left:a,top:s,right:a+t.offsetWidth,bottom:s+t.offsetHeight})},triggerOnKeyDown:Ni(la),triggerOnKeyPress:Ni(da),triggerOnKeyUp:ua,triggerOnMouseDown:Ni(va),execCommand:function(e){if(Zs.hasOwnProperty(e))return Zs[e].call(null,this)},triggerElectric:Ni((function(e){Wa(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=dt(this.doc,e),s=0;s<t;++s)if(o=Ja(this.doc,o,i,n,r),o.hitSide)break;return o},moveH:Ni((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Ja(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),U)})),deleteH:Ni((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Us(this,(function(n){var i=Ja(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var s=dt(this.doc,e),a=0;a<t;++a){var l=yr(this,s,"div");if(null==o?o=l.left:l.left=o,s=Za(this,l,i,n),s.hitSide)break}return s},moveV:Ni((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(s){if(o)return e<0?s.from():s.to();var a=yr(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=Za(n,a,e,t);return"page"==t&&s==r.sel.primary()&&oi(n,vr(n,l,"div").top-a.top),l}),U),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]})),findWordAt:function(e){var t=this.doc,n=Ze(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;var s=n.charAt(r),a=ne(s,o)?function(e){return ne(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};while(r>0&&a(n.charAt(r-1)))--r;while(i<n.length&&a(n.charAt(i)))++i}return new io(it(e.line,r),it(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?L(this.display.cursorDiv,"CodeMirror-overwrite"):M(this.display.cursorDiv,"CodeMirror-overwrite"),ve(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ni((function(e,t){ai(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Gn(this)-this.display.barHeight,width:e.scrollWidth-Gn(this)-this.display.barWidth,clientHeight:Jn(this),clientWidth:Kn(this)}},scrollIntoView:Ni((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:it(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?li(this,e):ui(this,e.from,e.to,e.margin)})),setSize:Ni((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&ur(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,ve(this,"refresh",this)})),operation:function(e){return Oi(this,e)},startOperation:function(){return ki(this)},endOperation:function(){return Ci(this)},refresh:Ni((function(){var e=this.display.cachedTextHeight;Fr(this),this.curOp.forceUpdate=!0,dr(this),ai(this,this.doc.scrollLeft,this.doc.scrollTop),Wi(this.display),(null==e||Math.abs(e-Ar(this.display))>.5||this.options.lineWrapping)&&Lr(this),ve(this,"refresh",this)})),swapDoc:Ni((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),yo(this,e),dr(this),this.display.input.reset(),ai(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,An(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xe(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function Ja(e,t,n,r,i){var o=t,s=n,a=Ze(e,t.line),l=i&&"rtl"==e.direction?-n:n;function c(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new it(n,t.ch,t.sticky),a=Ze(e,n))}function u(o){var s;if("codepoint"==r){var u=a.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(u))s=null;else{var d=n>0?u>=55296&&u<56320:u>=56320&&u<57343;s=new it(t.line,Math.max(0,Math.min(a.text.length,t.ch+n*(d?2:1))),-n)}}else s=i?Js(e.cm,a,t,n):Gs(a,t,n);if(null==s){if(o||!c())return!1;t=Ks(i,e.cm,a,t.line,l)}else t=s;return!0}if("char"==r||"codepoint"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var d=null,f="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;;p=!1){if(n<0&&!u(!p))break;var m=a.text.charAt(t.ch)||"\n",g=ne(m,h)?"w":f&&"\n"==m?"n":!f||/\s/.test(m)?null:"p";if(!f||p||g||(g="s"),d&&d!=g){n<0&&(n=1,u(),t.sticky="after");break}if(g&&(d=g),n>0&&!u(!p))break}var v=Go(e,t,o,s,!0);return st(o,v)&&(v.hitSide=!0),v}function Za(e,t,n,r){var i,o,s=e.doc,a=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*Ar(e.display),3);i=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){if(o=xr(e,a,i),!o.outside)break;if(n<0?i<=0:i>=s.height){o.hitSide=!0;break}i+=5*n}return o}var Xa=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ya(e,t){var n=er(e,t.line);if(!n||n.hidden)return null;var r=Ze(e.doc,t.line),i=Xn(n,r,t.line),o=fe(r,e.doc.direction),s="left";if(o){var a=ue(o,t.ch);s=a%2?"right":"left"}var l=or(i.map,t.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function Qa(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function el(e,t){return t&&(e.bad=!0),e}function tl(e,t,n,r,i){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(e){return function(t){return t.id==e}}function u(){s&&(o+=a,l&&(o+=a),s=l=!1)}function d(e){e&&(u(),o+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void d(n);var o,h=t.getAttribute("cm-marker");if(h){var p=e.findMarks(it(r,0),it(i+1,0),c(+h));return void(p.length&&(o=p[0].find(0))&&d(Xe(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&u();for(var g=0;g<t.childNodes.length;g++)f(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(s=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(f(t),t==n)break;t=t.nextSibling,l=!1}return o}function nl(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return el(e.clipPos(it(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return rl(o,t,n)}}function rl(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!T(r,t))return el(it(et(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?J(e.rest):e.line;return el(it(et(o),o.text.length),i)}var s=3==t.nodeType?t:null,a=t;s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));while(a.parentNode!=r)a=a.parentNode;var l=e.measure,c=l.maps;function u(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var u=et(i<0?e.line:e.rest[i]),d=o[s]+r;return(r<0||a!=t)&&(d=o[s+(r?1:0)]),it(u,d)}}}var d=u(s,a,n);if(d)return el(d,i);for(var f=a.nextSibling,h=s?s.nodeValue.length-n:0;f;f=f.nextSibling){if(d=u(f,f.firstChild,0),d)return el(it(d.line,d.ch-h),i);h+=f.textContent.length}for(var p=a.previousSibling,m=n;p;p=p.previousSibling){if(d=u(p,p.firstChild,-1),d)return el(it(d.line,d.ch+m),i);m+=p.textContent.length}}Xa.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function s(e){if(o(e)&&!ye(r,e)){if(r.somethingSelected())Ha({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Ua(r);Ha({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,V),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var s=za.text.join("\n");if(e.clipboardData.setData("Text",s),e.clipboardData.getData("Text")==s)return void e.preventDefault()}var a=Ga(),l=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),l.value=za.text.join("\n");var c=N();R(l),setTimeout((function(){r.display.lineSpace.removeChild(a),c.focus(),c==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,qa(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),pe(i,"paste",(function(e){!o(e)||ye(r,e)||Va(e,r)||a<=11&&setTimeout(Ti(r,(function(){return t.updateFromDOM()})),20)})),pe(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),pe(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),pe(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),pe(i,"touchstart",(function(){return n.forceCompositionEnd()})),pe(i,"input",(function(){t.composing||t.readFromDOMSoon()})),pe(i,"copy",s),pe(i,"cut",s)},Xa.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Xa.prototype.prepareSelection=function(){var e=Vr(this.cm,!1);return e.focus=N()==this.div,e},Xa.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Xa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Xa.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=nl(t,e.anchorNode,e.anchorOffset),a=nl(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=ot(ct(s,a),i)||0!=ot(lt(s,a),o)){var l=t.display.view,c=i.line>=t.display.viewFrom&&Ya(t,i)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Ya(t,o);if(!u){var d=l[l.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(c&&u){var h,p=e.rangeCount&&e.getRangeAt(0);try{h=_(c.node,c.offset,u.offset,u.node)}catch(m){}h&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Xa.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Xa.prototype.showMultipleSelections=function(e){A(this.cm.display.cursorDiv,e.cursors),A(this.cm.display.selectionDiv,e.selection)},Xa.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Xa.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return T(this.div,t)},Xa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&N()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Xa.prototype.blur=function(){this.div.blur()},Xa.prototype.getField=function(){return this.div},Xa.prototype.supportsTouch=function(){return!0},Xa.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Oi(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Xa.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Xa.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&Qa(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=nl(t,e.anchorNode,e.anchorOffset),r=nl(t,e.focusNode,e.focusOffset);n&&r&&Oi(t,(function(){Ho(t.doc,so(n,r),V),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Xa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>r.firstLine()&&(s=it(s.line-1,Ze(r.doc,s.line-1).length)),a.ch==Ze(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=it(a.line+1,0)),s.line<i.viewFrom||a.line>i.viewTo-1)return!1;s.line==i.viewFrom||0==(e=Rr(r,s.line))?(t=et(i.view[0].line),n=i.view[0].node):(t=et(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,c,u=Rr(r,a.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=et(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;var d=r.doc.splitLines(tl(r,n,c,t,l)),f=Xe(r.doc,it(t,0),it(l,Ze(r.doc,l).text.length));while(d.length>1&&f.length>1)if(J(d)==J(f))d.pop(),f.pop(),l--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}var h=0,p=0,m=d[0],g=f[0],v=Math.min(m.length,g.length);while(h<v&&m.charCodeAt(h)==g.charCodeAt(h))++h;var y=J(d),b=J(f),w=Math.min(y.length-(1==d.length?h:0),b.length-(1==f.length?h:0));while(p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1))++p;if(1==d.length&&1==f.length&&t==s.line)while(h&&h>s.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1))h--,p++;d[d.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),d[0]=d[0].slice(h).replace(/\u200b+$/,"");var x=it(t,h),k=it(l,f.length?J(f).length-p:0);return d.length>1||d[0]||ot(x,k)?(rs(r.doc,d,x,k,"+input"),!0):void 0},Xa.prototype.ensurePolled=function(){this.forceCompositionEnd()},Xa.prototype.reset=function(){this.forceCompositionEnd()},Xa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Xa.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Xa.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Oi(this.cm,(function(){return Fr(e.cm)}))},Xa.prototype.setUneditable=function(e){e.contentEditable="false"},Xa.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ti(this.cm,$a)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Xa.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Xa.prototype.onContextMenu=function(){},Xa.prototype.resetPosition=function(){},Xa.prototype.needsContentAttribute=!0;var il=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null};function ol(e,t){if(t=t?P(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=N();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=a.getValue()}var i;if(e.form&&(pe(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(l){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var a=Fa((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return a}function sl(e){e.off=ge,e.on=pe,e.wheelEventPixels=to,e.Doc=ks,e.splitLines=Le,e.countColumn=B,e.findColumn=q,e.isWordChar=te,e.Pass=$,e.signal=ve,e.Line=ln,e.changeEnd=ao,e.scrollbarModel=bi,e.Pos=it,e.cmpPos=ot,e.modes=Be,e.mimeModes=je,e.resolveMode=$e,e.getMode=Ve,e.modeExtensions=We,e.extendMode=Ue,e.copyState=qe,e.startState=Ke,e.innerMode=Ge,e.commands=Zs,e.keyMap=Ps,e.keyName=Vs,e.isModifierKey=Hs,e.lookupKey=zs,e.normalizeKeyMap=js,e.StringStream=Je,e.SharedTextMarker=gs,e.TextMarker=ps,e.LineWidget=us,e.e_preventDefault=ke,e.e_stopPropagation=Ce,e.e_stop=_e,e.addClass=L,e.contains=T,e.rmClass=M,e.keyNames=Ls}il.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ye(r,e)){if(r.somethingSelected())Ha({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Ua(r);Ha({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,V):(n.prevInput="",i.value=t.text.join("\n"),R(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),pe(i,"input",(function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),pe(i,"paste",(function(e){ye(r,e)||Va(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),pe(i,"cut",o),pe(i,"copy",o),pe(e.scroller,"paste",(function(t){if(!Vn(e,t)&&!ye(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),pe(e.lineSpace,"selectstart",(function(t){Vn(e,t)||ke(t)})),pe(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),pe(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},il.prototype.createField=function(e){this.wrapper=Ga(),this.textarea=this.wrapper.firstChild},il.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},il.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Vr(e);if(e.options.moveInputWithCursor){var i=yr(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},il.prototype.showSelection=function(e){var t=this.cm,n=t.display;A(n.cursorDiv,e.cursors),A(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},il.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&R(this.textarea),s&&a>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},il.prototype.getField=function(){return this.textarea},il.prototype.supportsTouch=function(){return!1},il.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||N()!=this.textarea))try{this.textarea.focus()}catch(e){}},il.prototype.blur=function(){this.textarea.blur()},il.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},il.prototype.receivedFocus=function(){this.slowPoll()},il.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},il.prototype.fastPoll=function(){var e=!1,t=this;function n(){var r=t.poll();r||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},il.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ie(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}var l=0,c=Math.min(r.length,i.length);while(l<c&&r.charCodeAt(l)==i.charCodeAt(l))++l;return Oi(t,(function(){$a(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},il.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},il.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},il.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Ir(n,e),c=r.scroller.scrollTop;if(o&&!d){var u=n.options.resetSelectionOnContextMenu;u&&-1==n.doc.sel.contains(o)&&Ti(n,Ho)(n.doc,so(o),V);var f,h=i.style.cssText,p=t.wrapper.style.cssText,m=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-m.top-5)+"px; left: "+(e.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(f=window.scrollY),r.input.focus(),l&&window.scrollTo(null,f),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),s&&a>=9&&v(),C){_e(e);var g=function(){ge(window,"mouseup",g),setTimeout(y,20)};pe(window,"mouseup",g)}else setTimeout(y,50)}function v(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=h,s&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!s||s&&a<9)&&v();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?Ti(n,Jo)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},il.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},il.prototype.setUneditable=function(){},il.prototype.needsContentAttribute=!1,La(Fa),Ka(Fa);var al="iter insert remove copy getEditor constructor".split(" ");for(var ll in ks.prototype)ks.prototype.hasOwnProperty(ll)&&z(al,ll)<0&&(Fa.prototype[ll]=function(e){return function(){return e.apply(this.doc,arguments)}}(ks.prototype[ll]));return xe(ks),Fa.inputStyles={textarea:il,contenteditable:Xa},Fa.defineMode=function(e){Fa.defaults.mode||"null"==e||(Fa.defaults.mode=e),ze.apply(this,arguments)},Fa.defineMIME=He,Fa.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Fa.defineMIME("text/plain","null"),Fa.defineExtension=function(e,t){Fa.prototype[e]=t},Fa.defineDocExtension=function(e,t){ks.prototype[e]=t},Fa.fromTextArea=ol,sl(Fa),Fa.version="5.61.1",Fa}))},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},"576a":function(e,t,n){"use strict";n.d(t,"a",(function(){return kn})),n.d(t,"b",(function(){return Mn})),n.d(t,"c",(function(){return jn}));var r=n("5313"),i=n("304a"),o=n("0ac0"),s={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var a=/Edge\/(\d+)/.exec(navigator.userAgent),l=/MSIE \d/.test(navigator.userAgent),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);s.mac=/Mac/.test(navigator.platform);var u=s.ie=!!(l||c||a);s.ie_version=l?document.documentMode||6:c?+c[1]:a?+a[1]:null,s.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),s.gecko_version=s.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var d=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);s.chrome=!!d,s.chrome_version=d&&+d[1],s.safari=!u&&/Apple Computer/.test(navigator.vendor),s.ios=s.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),s.android=/Android \d/.test(navigator.userAgent),s.webkit="webkitFontSmoothing"in document.documentElement.style,s.webkit_version=s.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var f=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},h=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},p=null,m=function(e,t,n){var r=p||(p=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},g=function(e,t,n,r){return n&&(y(e,t,n,r,-1)||y(e,t,n,r,1))},v=/^(img|br|input|textarea|hr)$/i;function y(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:b(e))){var o=e.parentNode;if(1!=o.nodeType||x(e)||v.test(e.nodeName)||"false"==e.contentEditable)return!1;t=f(e)+(i<0?0:1),e=o}else{if(1!=e.nodeType)return!1;if(e=e.childNodes[t+(i<0?-1:0)],"false"==e.contentEditable)return!1;t=i<0?b(e):0}}}function b(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function w(e,t,n){for(var r=0==t,i=t==b(e);r||i;){if(e==n)return!0;var o=f(e);if(e=e.parentNode,!e)return!1;r=r&&0==o,i=i&&o==b(e)}}function x(e){for(var t,n=e;n;n=n.parentNode)if(t=n.pmViewDesc)break;return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var k=function(e){var t=e.isCollapsed;return t&&s.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function C(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function S(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function _(e,t){return"number"==typeof e?e:e[t]}function M(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function D(e,t,n){for(var r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument,s=n||e.dom;;s=h(s)){if(!s)break;if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,l=a?S(o):M(s),c=0,u=0;if(t.top<l.top+_(r,"top")?u=-(l.top-t.top+_(i,"top")):t.bottom>l.bottom-_(r,"bottom")&&(u=t.bottom-l.bottom+_(i,"bottom")),t.left<l.left+_(r,"left")?c=-(l.left-t.left+_(i,"left")):t.right>l.right-_(r,"right")&&(c=t.right-l.right+_(i,"right")),c||u)if(a)o.defaultView.scrollBy(c,u);else{var d=s.scrollLeft,f=s.scrollTop;u&&(s.scrollTop+=u),c&&(s.scrollLeft+=c);var p=s.scrollLeft-d,m=s.scrollTop-f;t={left:t.left-p,top:t.top-m,right:t.right-p,bottom:t.bottom-m}}if(a)break}}}function A(e){for(var t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top),o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=e.root.elementFromPoint(o,s);if(a!=e.dom&&e.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=i-20){t=a,n=l.top;break}}}return{refDOM:t,refTop:n,stack:E(e.dom)}}function E(e){for(var t=[],n=e.ownerDocument;e;e=h(e))if(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e==n)break;return t}function O(e){var t=e.refDOM,n=e.refTop,r=e.stack,i=t?t.getBoundingClientRect().top:0;T(r,0==i?0:i-n)}function T(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.dom,o=r.top,s=r.left;i.scrollTop!=o+t&&(i.scrollTop=o+t),i.scrollLeft!=s&&(i.scrollLeft=s)}}var N=null;function L(e){if(e.setActive)return e.setActive();if(N)return e.focus(N);var t=E(e);e.focus(null==N?{get preventScroll(){return N={preventScroll:!0},!0}}:void 0),N||(N=!1,T(t,0))}function I(e,t){for(var n,r,i=2e8,o=0,s=t.top,a=t.top,l=e.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=m(l).getClientRects()}for(var d=0;d<u.length;d++){var f=u[d];if(f.top<=s&&f.bottom>=a){s=Math.max(f.bottom,s),a=Math.min(f.top,a);var h=f.left>t.left?f.left-t.left:f.right<t.left?t.left-f.right:0;if(h<i){n=l,i=h,r=h&&3==n.nodeType?{left:f.right<t.left?f.right:f.left,top:t.top}:t,1==l.nodeType&&h&&(o=c+(t.left>=(f.left+f.right)/2?1:0));continue}}!n&&(t.left>=f.right&&t.top>=f.top||t.left>=f.left&&t.top>=f.bottom)&&(o=c+1)}}return n&&3==n.nodeType?R(n,r):!n||i&&1==n.nodeType?{node:e,offset:o}:I(n,r)}function R(e,t){for(var n=e.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);var o=$(r,1);if(o.top!=o.bottom&&F(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function F(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function P(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function B(e,t,n){var r=I(t,n),i=r.node,o=r.offset,s=-1;if(1==i.nodeType&&!i.firstChild){var a=i.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(i,o,s)}function j(e,t,n,r){for(var i=-1,o=t;;){if(o==e.dom)break;var s=e.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;i=s.posAfter}}o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n)}function z(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){var s=e.childNodes[o];if(1==s.nodeType)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if(F(t,c))return z(s,t,c)}if((o=(o+1)%r)==i)break}return e}function H(e,t){var n,r,i,o,a=e.root;if(a.caretPositionFromPoint)try{var l=a.caretPositionFromPoint(t.left,t.top);l&&(n=l,i=n.offsetNode,o=n.offset)}catch(y){}if(!i&&a.caretRangeFromPoint){var c=a.caretRangeFromPoint(t.left,t.top);c&&(r=c,i=r.startContainer,o=r.startOffset)}var u,d=a.elementFromPoint(t.left,t.top+1);if(!d||!e.dom.contains(1!=d.nodeType?d.parentNode:d)){var f=e.dom.getBoundingClientRect();if(!F(t,f))return null;if(d=z(e.dom,t,f),!d)return null}if(s.safari)for(var p=d;i&&p;p=h(p))p.draggable&&(i=o=null);if(d=P(d,t),i){if(s.gecko&&1==i.nodeType&&(o=Math.min(o,i.childNodes.length),o<i.childNodes.length)){var m,g=i.childNodes[o];"IMG"==g.nodeName&&(m=g.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&o++}i==e.dom&&o==i.childNodes.length-1&&1==i.lastChild.nodeType&&t.top>i.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:0!=o&&1==i.nodeType&&"BR"==i.childNodes[o-1].nodeName||(u=j(e,i,o,t))}null==u&&(u=B(e,d,t));var v=e.docView.nearestDesc(d,!0);return{pos:u,inside:v?v.posAtStart-v.border:-1}}function $(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var V=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function W(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),i=r.node,o=r.offset,a=s.webkit||s.gecko;if(3==i.nodeType){if(!a||!V.test(i.nodeValue)&&(n<0?o:o!=i.nodeValue.length)){var l=o,c=o,u=n<0?1:-1;return n<0&&!o?(c++,u=-1):n>=0&&o==i.nodeValue.length?(l--,u=1):n<0?l--:c++,U($(m(i,l,c),u),u<0)}var d=$(m(i,o,o),n);if(s.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var f=$(m(i,o-1,o-1),-1);if(f.top==d.top){var h=$(m(i,o,o+1),-1);if(h.top!=d.top)return U(h,h.left<f.left)}}return d}if(!e.state.doc.resolve(t).parent.inlineContent){if(o&&(n<0||o==b(i))){var p=i.childNodes[o-1];if(1==p.nodeType)return q(p.getBoundingClientRect(),!1)}if(o<b(i)){var g=i.childNodes[o];if(1==g.nodeType)return q(g.getBoundingClientRect(),!0)}return q(i.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==b(i))){var v=i.childNodes[o-1],y=3==v.nodeType?m(v,b(v)-(a?0:1)):1!=v.nodeType||"BR"==v.nodeName&&v.nextSibling?null:v;if(y)return U($(y,1),!1)}if(o<b(i)){var w=i.childNodes[o],x=3==w.nodeType?m(w,0,a?0:1):1==w.nodeType?w:null;if(x)return U($(x,-1),!0)}return U($(3==i.nodeType?m(i):i,-n),n>=0)}function U(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function q(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function G(e,t,n){var r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function K(e,t,n){var r=t.selection,i="up"==n?r.$from:r.$to;return G(e,t,(function(){for(var t=e.docView.domFromPos(i.pos,"up"==n?-1:1),r=t.node;;){var o=e.docView.nearestDesc(r,!0);if(!o)break;if(o.node.isBlock){r=o.dom;break}r=o.dom.parentNode}for(var s=W(e,i.pos,1),a=r.firstChild;a;a=a.nextSibling){var l=void 0;if(1==a.nodeType)l=a.getClientRects();else{if(3!=a.nodeType)continue;l=m(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<l.length;c++){var u=l[c];if(u.bottom>u.top&&("up"==n?u.bottom<s.top+1:u.top>s.bottom-1))return!1}}return!0}))}var J=/[\u0590-\u08ac]/;function Z(e,t,n){var r=t.selection,i=r.$head;if(!i.parent.isTextblock)return!1;var o=i.parentOffset,s=!o,a=o==i.parent.content.size,l=getSelection();return J.test(i.parent.textContent)&&l.modify?G(e,t,(function(){var t=l.getRangeAt(0),r=l.focusNode,o=l.focusOffset,s=l.caretBidiLevel;l.modify("move",n,"character");var a=i.depth?e.docView.domAfterPos(i.before()):e.dom,c=!a.contains(1==l.focusNode.nodeType?l.focusNode:l.focusNode.parentNode)||r==l.focusNode&&o==l.focusOffset;return l.removeAllRanges(),l.addRange(t),null!=s&&(l.caretBidiLevel=s),c})):"left"==n||"backward"==n?s:a}var X=null,Y=null,Q=!1;function ee(e,t,n){return X==t&&Y==n?Q:(X=t,Y=n,Q="up"==n||"down"==n?K(e,t,n):Z(e,t,n))}var te=0,ne=1,re=2,ie=3,oe=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=te},se={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};oe.prototype.matchesWidget=function(){return!1},oe.prototype.matchesMark=function(){return!1},oe.prototype.matchesNode=function(){return!1},oe.prototype.matchesHack=function(){return!1},se.beforePosition.get=function(){return!1},oe.prototype.parseRule=function(){return null},oe.prototype.stopEvent=function(){return!1},se.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},se.border.get=function(){return 0},oe.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},oe.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},se.posBefore.get=function(){return this.parent.posBeforeChild(this)},se.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},se.posAfter.get=function(){return this.posBefore+this.size},se.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},oe.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,i;if(e==this.contentDOM)r=e.childNodes[t-1];else{while(e.parentNode!=this.contentDOM)e=e.parentNode;r=e.previousSibling}while(r&&(!(i=r.pmViewDesc)||i.parent!=this))r=r.previousSibling;return r?this.posBeforeChild(i)+i.size:this.posAtStart}var o,s;if(e==this.contentDOM)o=e.childNodes[t];else{while(e.parentNode!=this.contentDOM)e=e.parentNode;o=e.nextSibling}while(o&&(!(s=o.pmViewDesc)||s.parent!=this))o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}var a;if(e==this.dom&&this.contentDOM)a=t>f(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.parentNode.firstChild!=l)break}if(null==a&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},oe.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(1==e.nodeType?e:e.parentNode):i.nodeDOM==e))return i;n=!1}}},oe.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},oe.prototype.posFromDOM=function(e,t,n){for(var r=e;r;r=r.parentNode){var i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return-1},oe.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],i=n+r.size;if(n==e&&i!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(e<i)return r.descAt(e-n-r.border);n=i}},oe.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,i=!0;;r++,i=!1){while(r<this.children.length&&(this.children[r].beforePosition||this.children[r].dom.parentNode!=this.contentDOM))n+=this.children[r++].size;var o=r==this.children.length?null:this.children[r];if(n==e&&(0==t||!o||!o.size||o.border||t<0&&i)||o&&o.domAtom&&e<n+o.size)return{node:this.contentDOM,offset:o?f(o.dom):this.contentDOM.childNodes.length};if(!o)throw new Error("Invalid position "+e);var s=n+o.size;if(!o.domAtom&&(t<0&&!o.border?s>=e:s>e)&&(s>e||r+1>=this.children.length||!this.children[r+1].beforePosition))return o.domFromPos(e-n-o.border,t);n=s}},oe.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,i=-1,o=n,s=0;;s++){var a=this.children[s],l=o+a.size;if(-1==r&&e<=l){var c=o+a.border;if(e>=c&&t<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,c);e=o;for(var u=s;u>0;u--){var d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=f(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&(l>t||s==this.children.length-1)){t=l;for(var h=s+1;h<this.children.length;h++){var p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){i=f(p.dom);break}t+=p.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}},oe.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},oe.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},oe.prototype.setSelection=function(e,t,n,r){for(var i=Math.min(e,t),o=Math.max(e,t),a=0,l=0;a<this.children.length;a++){var c=this.children[a],u=l+c.size;if(i>l&&o<u)return c.setSelection(e-l-c.border,t-l-c.border,n,r);l=u}var d=this.domFromPos(e,e?-1:1),h=t==e?d:this.domFromPos(t,t?-1:1),p=n.getSelection(),m=!1;if((s.gecko||s.safari)&&e==t){var v=d.node,y=d.offset;if(3==v.nodeType)m=y&&"\n"==v.nodeValue[y-1],m&&y==v.nodeValue.length&&v.nextSibling&&"BR"==v.nextSibling.nodeName&&(d=h={node:v.parentNode,offset:f(v)+1});else{var b=v.childNodes[y-1];m=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(s.gecko&&p.focusNode&&p.focusNode!=h.node&&1==p.focusNode.nodeType){var w=p.focusNode.childNodes[p.focusOffset];w&&"false"==w.contentEditable&&(r=!0)}if(r||m&&s.safari||!g(d.node,d.offset,p.anchorNode,p.anchorOffset)||!g(h.node,h.offset,p.focusNode,p.focusOffset)){var x=!1;if((p.extend||e==t)&&!m){p.collapse(d.node,d.offset);try{e!=t&&p.extend(h.node,h.offset),x=!0}catch(S){if(!(S instanceof DOMException))throw S}}if(!x){if(e>t){var k=d;d=h,h=k}var C=document.createRange();C.setEnd(h.node,h.offset),C.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(C)}}},oe.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},se.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},oe.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var i=this.children[r],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){var s=n+i.border,a=o-i.border;if(e>=s&&t<=a)return this.dirty=e==n||t==o?re:ne,void(e!=s||t!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-s,t-s):i.dirty=ie);i.dirty=ie}n=o}this.dirty=re},oe.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?re:ne;t.dirty<n&&(t.dirty=n)}},se.domAtom.get=function(){return!1},Object.defineProperties(oe.prototype,se);var ae=[],le=function(e){function t(t,n,r,i){var o,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:i}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}e.call(this,t,ae,s,null),this.widget=n,o=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return this.dirty==te&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(oe),ce=function(e){function t(t,n,r,i){e.call(this,t,ae,n,null),this.textDOM=r,this.text=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(oe),ue=function(e){function t(t,n,r,i){e.call(this,t,[],r,i),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,o){var s=o.nodeViews[n.type.name],a=s&&s(n,o,r);return a&&a.dom||(a=i["DOMSerializer"].renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return this.dirty!=ie&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),this.dirty!=te){var r=this.parent;while(!r.node)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=te}},t.prototype.slice=function(e,n,r){var i=t.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Ne(o,n,s,r)),e>0&&(o=Ne(o,0,e,r));for(var a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i},t}(oe),de=function(e){function t(t,n,r,i,o,s,a,l,c){e.call(this,t,n.isLeaf?ae:[],o,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=i,s&&this.updateChildren(l,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,r,o,s,a){var l,c,u=s.nodeViews[n.type.name],d=u&&u(n,s,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:a}),r,o),f=d&&d.dom,h=d&&d.contentDOM;if(n.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(n.text);else f||(l=i["DOMSerializer"].renderSpec(document,n.type.spec.toDOM(n)),f=l.dom,h=l.contentDOM);h||n.isText||"BR"==f.nodeName||(f.hasAttribute("contenteditable")||(f.contentEditable=!1),n.type.spec.draggable&&(f.draggable=!0));var p=f;return f=ke(f,r,n),d?c=new me(e,n,r,o,f,h,p,d,s,a+1):n.isText?new he(e,n,r,o,f,p,s):new t(e,n,r,o,f,h,p,s,a+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?i["Fragment"].empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return this.dirty==te&&e.eq(this.node)&&Ce(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,o=t,a=r&&e.composing&&this.localCompositionNode(e,t),l=new _e(this,a&&a.node);Ae(this.node,this.innerDeco,(function(t,s,a){t.spec.marks?l.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!a&&l.syncToMarks(s==n.node.childCount?i["Mark"].none:n.node.child(s).marks,r,e),l.placeWidget(t,e,o)}),(function(t,n,i,s){l.syncToMarks(t.marks,r,e),l.findNodeMatch(t,n,i,s)||l.updateNextNode(t,n,i,e,s)||l.addNode(t,n,i,e,o),o+=t.nodeSize})),l.syncToMarks(ae,r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==re)&&(a&&this.protectLocalComposition(e,a),ge(this.contentDOM,this.children,e),s.ios&&Ee(this.dom))},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,i=n.from,o=n.to;if(!(!(e.state.selection instanceof r["TextSelection"])||i<t||o>t+this.node.content.size)){var s=e.root.getSelection(),a=Oe(s.focusNode,s.focusOffset);if(a&&this.dom.contains(a.parentNode)){var l=a.nodeValue,c=Te(this.node.content,l,i-t,o-t);return c<0?null:{node:a,pos:c,text:l}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,i=t.text;if(!this.getDesc(n)){for(var o=n;;o=o.parentNode){if(o.parentNode==this.contentDOM)break;while(o.previousSibling)o.parentNode.removeChild(o.previousSibling);while(o.nextSibling)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var s=new ce(this,o,n,i);e.compositionNodes.push(s),this.children=Ne(this.children,r,r+i.length,e,s)}},t.prototype.update=function(e,t,n,r){return!(this.dirty==ie||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=te},t.prototype.updateOuterDeco=function(e){if(!Ce(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=we(this.dom,this.nodeDOM,be(this.outerDeco,this.node,t),be(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(oe);function fe(e,t,n,r,i){return ke(r,t,e),new de(null,e,t,n,r,r,r,i,0)}var he=function(e){function t(t,n,r,i,o,s,a){e.call(this,t,n,r,i,o,null,s,a)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){var e=this.nodeDOM.parentNode;while(e&&e!=this.dom&&!e.pmIsDeco)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,r){return!(this.dirty==ie||this.dirty!=te&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),this.dirty==te&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=te,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var i=this.node.cut(e,n),o=document.createTextNode(i.text);return new t(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(de),pe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return this.dirty==te},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(oe),me=function(e){function t(t,n,r,i,o,s,a,l,c,u){e.call(this,t,n,r,i,o,s,a,c,u),this.spec=l}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,i){if(this.dirty==ie)return!1;if(this.spec.update){var o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,i)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,i)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(de);function ge(e,t,n){for(var r=e.firstChild,i=!1,o=0;o<t.length;o++){var s=t[o],a=s.dom;if(a.parentNode==e){while(a!=r)r=Se(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(s instanceof ue){var l=r?r.previousSibling:e.lastChild;ge(s.contentDOM,s.children,n),r=l?l.nextSibling:e.firstChild}}while(r)r=Se(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}function ve(e){e&&(this.nodeName=e)}ve.prototype=Object.create(null);var ye=[new ve];function be(e,t,n){if(0==e.length)return ye;for(var r=n?ye[0]:new ve,i=[r],o=0;o<e.length;o++){var s=e[o].type.attrs;if(s)for(var a in s.nodeName&&i.push(r=new ve(s.nodeName)),s){var l=s[a];null!=l&&(n&&1==i.length&&i.push(r=new ve(t.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+l:"style"==a?r.style=(r.style?r.style+";":"")+l:"nodeName"!=a&&(r[a]=l))}}return i}function we(e,t,n,r){if(n==ye&&r==ye)return t;for(var i=t,o=0;o<r.length;o++){var s=r[o],a=n[o];if(o){var l=void 0;a&&a.nodeName==s.nodeName&&i!=e&&(l=i.parentNode)&&l.tagName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=ye[0]),i=l}xe(i,a||ye[0],s)}return i}function xe(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){for(var o=t.class?t.class.split(" ").filter(Boolean):ae,s=n.class?n.class.split(" ").filter(Boolean):ae,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&e.classList.remove(o[a]);for(var l=0;l<s.length;l++)-1==o.indexOf(s[l])&&e.classList.add(s[l])}if(t.style!=n.style){if(t.style){var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(c=u.exec(t.style))e.style.removeProperty(c[1])}n.style&&(e.style.cssText+=n.style)}}function ke(e,t,n){return we(e,e,ye,be(t,n,1!=e.nodeType))}function Ce(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Se(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var _e=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=Me(e.node.content,e.children)};function Me(e,t){for(var n=e.childCount,r=t.length,i=new Map;n>0&&r>0;r--){var o=t[r-1],s=o.node;if(s){if(s!=e.child(n-1))break;--n,i.set(o,n)}}return{index:n,matched:i}}function De(e,t){return e.type.side-t.type.side}function Ae(e,t,n,r){var i=t.locals(e),o=0;if(0!=i.length)for(var s=0,a=[],l=null,c=0;;){if(s<i.length&&i[s].to==o){var u=i[s++],d=void 0;while(s<i.length&&i[s].to==o)(d||(d=[u])).push(i[s++]);if(d){d.sort(De);for(var f=0;f<d.length;f++)n(d[f],c,!!l)}else n(u,c,!!l)}var h=void 0,p=void 0;if(l)p=-1,h=l,l=null;else{if(!(c<e.childCount))break;p=c,h=e.child(c++)}for(var m=0;m<a.length;m++)a[m].to<=o&&a.splice(m--,1);while(s<i.length&&i[s].from<=o&&i[s].to>o)a.push(i[s++]);var g=o+h.nodeSize;if(h.isText){var v=g;s<i.length&&i[s].from<v&&(v=i[s].from);for(var y=0;y<a.length;y++)a[y].to<v&&(v=a[y].to);v<g&&(l=h.cut(v-o),h=h.cut(0,v-o),g=v,p=-1)}var b=a.length?h.isInline&&!h.isLeaf?a.filter((function(e){return!e.inline})):a.slice():ae;r(h,b,t.forChild(o,h),p),o=g}else for(var w=0;w<e.childCount;w++){var x=e.child(w);r(x,i,t.forChild(o,x),w),o+=x.nodeSize}}function Ee(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Oe(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=b(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}function Te(e,t,n,r){for(var i=0,o=0;i<e.childCount&&o<=r;){var s=e.child(i++),a=o;if(o+=s.nodeSize,s.isText){var l=s.text;while(i<e.childCount){var c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){var u=l.lastIndexOf(t,r-a);if(u>=0&&u+t.length+a>=n)return a+u}}}return-1}function Ne(e,t,n,r,i){for(var o=[],s=0,a=0;s<e.length;s++){var l=e[s],c=a,u=a+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=null),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function Le(e,t){var n=e.root.getSelection(),i=e.state.doc;if(!n.focusNode)return null;var o=e.docView.nearestDesc(n.focusNode),s=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var l,c,u=i.resolve(a);if(k(n)){l=u;while(o&&!o.node)o=o.parent;if(o&&o.node.isAtom&&r["NodeSelection"].isSelectable(o.node)&&o.parent&&(!o.node.isInline||!w(n.focusNode,n.focusOffset,o.dom))){var d=o.posBefore;c=new r["NodeSelection"](a==d?u:i.resolve(d))}}else{var f=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(f<0)return null;l=i.resolve(f)}if(!c){var h="pointer"==t||e.state.selection.head<u.pos&&!s?1:-1;c=We(e,l,u,h)}return c}function Ie(e){return e.editable?e.hasFocus():qe(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Re(e,t){var n=e.state.selection;if($e(e,n),Ie(e)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)He(e);else{var i,o,s=n.anchor,a=n.head;!Fe||n instanceof r["TextSelection"]||(n.$from.parent.inlineContent||(i=Pe(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=Pe(e,n.to))),e.docView.setSelection(s,a,e.root,t),Fe&&(i&&je(i),o&&je(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&ze(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}_e.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},_e.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},_e.prototype.syncToMarks=function(e,t,n){var r=0,i=this.stack.length>>1,o=Math.min(i,e.length);while(r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning)r++;while(r<i)this.destroyRest(),this.top.dirty=te,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;while(i<e.length){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(e[i])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var l=ue.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}},_e.prototype.findNodeMatch=function(e,t,n,r){var i=this.top.children,o=-1;if(r>=this.preMatch.index){for(var s=this.index;s<i.length;s++)if(i[s].matchesNode(e,t,n)){o=s;break}}else for(var a=this.index,l=Math.min(i.length,a+1);a<l;a++){var c=i[a];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},_e.prototype.updateNextNode=function(e,t,n,r,i){for(var o=this.index;o<this.top.children.length;o++){var s=this.top.children[o];if(s instanceof de){var a=this.preMatch.matched.get(s);if(null!=a&&a!=i)return!1;var l=s.dom,c=this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=ie&&Ce(t,s.outerDeco));if(!c&&s.update(e,t,n,r))return this.destroyBetween(this.index,o),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},_e.prototype.addNode=function(e,t,n,r,i){this.top.children.splice(this.index++,0,de.create(this.top,e,t,n,r,i)),this.changed=!0},_e.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var i=new le(this.top,e,t,n);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++},_e.prototype.addTextblockHacks=function(){var e=this.top.children[this.index-1];while(e instanceof ue)e=e.children[e.children.length-1];if(!e||!(e instanceof he)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new pe(this.top,ae,t,null)),this.changed=!0}};var Fe=s.safari||s.chrome&&s.chrome_version<63;function Pe(e,t){var n=e.docView.domFromPos(t,0),r=n.node,i=n.offset,o=i<r.childNodes.length?r.childNodes[i]:null,a=i?r.childNodes[i-1]:null;if(s.safari&&o&&"false"==o.contentEditable)return Be(o);if((!o||"false"==o.contentEditable)&&(!a||"false"==a.contentEditable)){if(o)return Be(o);if(a)return Be(a)}}function Be(e){return e.contentEditable="true",s.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function je(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ze(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){Ie(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}function He(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,f(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&s.ie&&s.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function $e(e,t){if(t instanceof r["NodeSelection"]){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Ve(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Ve(e)}function Ve(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function We(e,t,n,i){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||r["TextSelection"].between(t,n,i)}function Ue(e){return(!e.editable||e.root.activeElement==e.dom)&&qe(e)}function qe(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Ge(e){var t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.root.getSelection();return g(t.node,t.offset,n.anchorNode,n.anchorOffset)}function Ke(e,t){var n=e.selection,i=n.$anchor,o=n.$head,s=t>0?i.max(o):i.min(o),a=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return a&&r["Selection"].findFrom(a,t)}function Je(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Ze(e,t,n){var i=e.state.selection;if(!(i instanceof r["TextSelection"])){if(i instanceof r["NodeSelection"]&&i.node.isInline)return Je(e,new r["TextSelection"](t>0?i.$to:i.$from));var o=Ke(e.state,t);return!!o&&Je(e,o)}if(!i.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var a=Ke(e.state,t);return!!(a&&a instanceof r["NodeSelection"])&&Je(e,a)}if(!(s.mac&&n.indexOf("m")>-1)){var l,c=i.$head,u=c.textOffset?null:t<0?c.nodeBefore:c.nodeAfter;if(!u||u.isText)return!1;var d=t<0?c.pos-u.nodeSize:c.pos;return!!(u.isAtom||(l=e.docView.descAt(d))&&!l.contentDOM)&&(r["NodeSelection"].isSelectable(u)?Je(e,new r["NodeSelection"](t<0?e.state.doc.resolve(c.pos-u.nodeSize):c)):!!s.webkit&&Je(e,new r["TextSelection"](e.state.doc.resolve(t<0?d:d+u.nodeSize))))}}function Xe(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ye(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Qe(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var i,o,a=!1;for(s.gecko&&1==n.nodeType&&r<Xe(n)&&Ye(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var l=n.childNodes[r-1];if(Ye(l))i=n,o=--r;else{if(3!=l.nodeType)break;n=l,r=n.nodeValue.length}}else{if(tt(n))break;var c=n.previousSibling;while(c&&Ye(c))i=n.parentNode,o=f(c),c=c.previousSibling;if(c)n=c,r=Xe(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}a?nt(e,t,n,r):i&&nt(e,t,i,o)}}function et(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var i,o,s=Xe(n);;)if(r<s){if(1!=n.nodeType)break;var a=n.childNodes[r];if(!Ye(a))break;i=n,o=++r}else{if(tt(n))break;var l=n.nextSibling;while(l&&Ye(l))i=l.parentNode,o=f(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=Xe(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}i&&nt(e,t,i,o)}}function tt(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function nt(e,t,n,r){if(k(t)){var i=document.createRange();i.setEnd(n,r),i.setStart(n,r),t.removeAllRanges(),t.addRange(i)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();var o=e.state;setTimeout((function(){e.state==o&&Re(e)}),50)}function rt(e,t,n){var i=e.state.selection;if(i instanceof r["TextSelection"]&&!i.empty||n.indexOf("s")>-1)return!1;if(s.mac&&n.indexOf("m")>-1)return!1;var o=i.$from,a=i.$to;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var l=Ke(e.state,t);if(l&&l instanceof r["NodeSelection"])return Je(e,l)}if(!o.parent.inlineContent){var c=t<0?o:a,u=i instanceof r["AllSelection"]?r["Selection"].near(c,t):r["Selection"].findFrom(c,t);return!!u&&Je(e,u)}return!1}function it(e,t){if(!(e.state.selection instanceof r["TextSelection"]))return!0;var n=e.state.selection,i=n.$head,o=n.$anchor,s=n.empty;if(!i.sameParent(o))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!i.textOffset&&(t<0?i.nodeBefore:i.nodeAfter);if(a&&!a.isText){var l=e.state.tr;return t<0?l.delete(i.pos-a.nodeSize,i.pos):l.delete(i.pos,i.pos+a.nodeSize),e.dispatch(l),!0}return!1}function ot(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function st(e){if(s.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var i=n.firstChild;ot(e,i,!0),setTimeout((function(){return ot(e,i,!1)}),20)}}}function at(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function lt(e,t){var n=t.keyCode,r=at(t);return 8==n||s.mac&&72==n&&"c"==r?it(e,-1)||Qe(e):46==n||s.mac&&68==n&&"c"==r?it(e,1)||et(e):13==n||27==n||(37==n?Ze(e,-1,r)||Qe(e):39==n?Ze(e,1,r)||et(e):38==n?rt(e,-1,r)||Qe(e):40==n?st(e)||rt(e,1,r)||et(e):r==(s.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function ct(e,t,n){var r=e.docView.parseRange(t,n),o=r.node,a=r.fromOffset,l=r.toOffset,c=r.from,u=r.to,d=e.root.getSelection(),f=null,h=d.anchorNode;if(h&&e.dom.contains(1==h.nodeType?h:h.parentNode)&&(f=[{node:h,offset:d.anchorOffset}],k(d)||f.push({node:d.focusNode,offset:d.focusOffset})),s.chrome&&8===e.lastKeyCode)for(var p=l;p>a;p--){var m=o.childNodes[p-1],g=m.pmViewDesc;if("BR"==m.nodeName&&!g){l=p;break}if(!g||g.size)break}var v=e.state.doc,y=e.someProp("domParser")||i["DOMParser"].fromSchema(e.state.schema),b=v.resolve(c),w=null,x=y.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:a,to:l,preserveWhitespace:!b.parent.type.spec.code||"full",editableContent:!0,findPositions:f,ruleFromNode:ut,context:b});if(f&&null!=f[0].pos){var C=f[0].pos,S=f[1]&&f[1].pos;null==S&&(S=C),w={anchor:C+c,head:S+c}}return{doc:x,sel:w,from:c,to:u}}function ut(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(s.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||s.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function dt(e,t,n,i,o){if(t<0){var a=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,l=Le(e,a);if(l&&!e.state.selection.eq(l)){var c=e.state.tr.setSelection(l);"pointer"==a?c.setMeta("pointer",!0):"key"==a&&c.scrollIntoView(),e.dispatch(c)}}else{var u=e.state.doc.resolve(t),d=u.sharedDepth(n);t=u.before(d+1),n=e.state.doc.resolve(n).after(d+1);var f=e.state.selection,h=ct(e,t,n);if(s.chrome&&e.cursorWrapper&&h.sel&&h.sel.anchor==e.cursorWrapper.deco.from){var p=e.cursorWrapper.deco.type.toDOM.nextSibling,m=p&&p.nodeValue?p.nodeValue.length:1;h.sel={anchor:h.sel.anchor+m,head:h.sel.anchor+m}}var g,v,y=e.state.doc,b=y.slice(h.from,h.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(g=e.state.selection.to,v="end"):(g=e.state.selection.from,v="start"),e.lastKeyCode=null;var w=gt(b.content,h.doc.content,h.from,g,v);if(!w){if(!(i&&f instanceof r["TextSelection"]&&!f.empty&&f.$head.sameParent(f.$anchor))||e.composing||h.sel&&h.sel.anchor!=h.sel.head){if((s.ios&&e.lastIOSEnter>Date.now()-225||s.android)&&o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,C(13,"Enter"))})))return void(e.lastIOSEnter=0);if(h.sel){var x=ft(e,e.state.doc,h.sel);x&&!x.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(x))}return}w={start:f.from,endA:f.to,endB:f.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&w.start==w.endB&&e.state.selection instanceof r["TextSelection"]&&(w.start>e.state.selection.from&&w.start<=e.state.selection.from+2?w.start=e.state.selection.from:w.endA<e.state.selection.to&&w.endA>=e.state.selection.to-2&&(w.endB+=e.state.selection.to-w.endA,w.endA=e.state.selection.to)),s.ie&&s.ie_version<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&"  "==h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)&&(w.start--,w.endA--,w.endB--);var k,S=h.doc.resolveNoCache(w.start-h.from),_=h.doc.resolveNoCache(w.endB-h.from),M=S.sameParent(_)&&S.parent.inlineContent;if((s.ios&&e.lastIOSEnter>Date.now()-225&&(!M||o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!M&&S.pos<h.doc.content.size&&(k=r["Selection"].findFrom(h.doc.resolve(S.pos+1),1,!0))&&k.head==_.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,C(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>w.start&&pt(y,w.start,w.endA,S,_)&&e.someProp("handleKeyDown",(function(t){return t(e,C(8,"Backspace"))})))s.android&&s.chrome&&e.domObserver.suppressSelectionUpdates();else{s.chrome&&s.android&&w.toB==w.from&&(e.lastAndroidDelete=Date.now()),s.android&&!M&&S.start()!=_.start()&&0==_.parentOffset&&S.depth==_.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,_=h.doc.resolveNoCache(w.endB-h.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,C(13,"Enter"))}))}),20));var D,A,E,O,T=w.start,N=w.endA;if(M)if(S.pos==_.pos)s.ie&&s.ie_version<=11&&0==S.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return Re(e)}),20)),D=e.state.tr.delete(T,N),A=y.resolve(w.start).marksAcross(y.resolve(w.endA));else if(w.endA==w.endB&&(O=y.resolve(w.start))&&(E=ht(S.parent.content.cut(S.parentOffset,_.parentOffset),O.parent.content.cut(O.parentOffset,w.endA-O.start()))))D=e.state.tr,"add"==E.type?D.addMark(T,N,E.mark):D.removeMark(T,N,E.mark);else if(S.parent.child(S.index()).isText&&S.index()==_.index()-(_.textOffset?0:1)){var L=S.parent.textBetween(S.parentOffset,_.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,T,N,L)})))return;D=e.state.tr.insertText(L,T,N)}if(D||(D=e.state.tr.replace(T,N,h.doc.slice(w.start-h.from,w.endB-h.from))),h.sel){var I=ft(e,D.doc,h.sel);I&&!(s.chrome&&s.android&&e.composing&&I.empty&&(w.start!=w.endB||e.lastAndroidDelete<Date.now()-100)&&(I.head==T||I.head==D.mapping.map(N)-1)||s.ie&&I.empty&&I.head==T)&&D.setSelection(I)}A&&D.ensureMarks(A),e.dispatch(D.scrollIntoView())}}}function ft(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:We(e,t.resolve(n.anchor),t.resolve(n.head))}function ht(e,t){for(var n,r,o,s=e.firstChild.marks,a=t.firstChild.marks,l=s,c=a,u=0;u<a.length;u++)l=a[u].removeFromSet(l);for(var d=0;d<s.length;d++)c=s[d].removeFromSet(c);if(1==l.length&&0==c.length)r=l[0],n="add",o=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=l.length||1!=c.length)return null;r=c[0],n="remove",o=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var f=[],h=0;h<t.childCount;h++)f.push(o(t.child(h)));if(i["Fragment"].from(f).eq(e))return{mark:r,type:n}}function pt(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||mt(r,!0,!1)<i.pos)return!1;var o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=e.resolve(mt(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||mt(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function mt(e,t,n){var r=e.depth,i=t?e.end():e.pos;while(r>0&&(t||e.indexAfter(r)==e.node(r).childCount))r--,i++,t=!1;if(n){var o=e.node(r).maybeChild(e.indexAfter(r));while(o&&!o.isLeaf)o=o.firstChild,i++}return i}function gt(e,t,n,r,i){var o=e.findDiffStart(t,n);if(null==o)return null;var s=e.findDiffEnd(t,n+e.size,n+t.size),a=s.a,l=s.b;if("end"==i){var c=Math.max(0,o-Math.min(a,l));r-=a+c-o}if(a<o&&e.size<t.size){var u=r<=o&&r>=a?o-r:0;o-=u,l=o+(l-a),a=o}else if(l<o){var d=r<=o&&r>=l?o-r:0;o-=d,a=o+(a-l),l=o}return{start:o,endA:a,endB:l}}function vt(e,t){var n=[],r=t.content,o=t.openStart,s=t.openEnd;while(o>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount){o--,s--;var a=r.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),r=a.content}var l=e.someProp("clipboardSerializer")||i["DOMSerializer"].fromSchema(e.state.schema),c=Dt(),u=c.createElement("div");u.appendChild(l.serializeFragment(r,{document:c}));var d,f=u.firstChild;while(f&&1==f.nodeType&&(d=_t[f.nodeName.toLowerCase()])){for(var h=d.length-1;h>=0;h--){var p=c.createElement(d[h]);while(u.firstChild)p.appendChild(u.firstChild);u.appendChild(p)}f=u.firstChild}f&&1==f.nodeType&&f.setAttribute("data-pm-slice",o+" "+s+" "+JSON.stringify(n));var m=e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:u,text:m}}function yt(e,t,n,r,o){var s,a,l=o.parent.type.spec.code;if(!n&&!t)return null;var c=t&&(r||l||!n);if(c){if(e.someProp("transformPastedText",(function(e){t=e(t,l||r)})),l)return new i["Slice"](i["Fragment"].from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0);var u=e.someProp("clipboardTextParser",(function(e){return e(t,o,r)}));u?a=u:(s=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){s.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),s=At(n);var d=s&&s.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!a){var h=e.someProp("clipboardParser")||e.someProp("domParser")||i["DOMParser"].fromSchema(e.state.schema);a=h.parseSlice(s,{preserveWhitespace:!(!c&&!f),context:o})}return a=f?Et(St(a,+f[1],+f[2]),f[3]):i["Slice"].maxOpen(bt(a.content,o),!1),e.someProp("transformPasted",(function(e){a=e(a)})),a}function bt(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n),o=r.contentMatchAt(t.index(n)),s=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=o.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&s.length&&xt(n,s,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=kt(a[a.length-1],s.length));var r=wt(e,n);a.push(r),o=o.matchType(r.type,r.attrs),s=n}}})),a)return{v:i["Fragment"].from(a)}},r=t.depth;r>=0;r--){var o=n(r);if(o)return o.v}return e}function wt(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,i["Fragment"].from(e));return e}function xt(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){var s=xt(e,t,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));var a=r.contentMatchAt(r.childCount);if(a.matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(i["Fragment"].from(wt(n,e,o+1))))}}function kt(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,kt(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(i["Fragment"].empty,!0);return e.copy(n.append(r))}function Ct(e,t,n,r,o,s){var a=t<0?e.firstChild:e.lastChild,l=a.content;return o<r-1&&(l=Ct(l,t,n,r,o+1,s)),o>=n&&(l=t<0?a.contentMatchAt(0).fillBefore(l,e.childCount>1||s<=o).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(i["Fragment"].empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(l))}function St(e,t,n){return t<e.openStart&&(e=new i["Slice"](Ct(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new i["Slice"](Ct(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var _t={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Mt=null;function Dt(){return Mt||(Mt=document.implementation.createHTMLDocument("title"))}function At(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=Dt().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);if((n=i&&_t[i[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join("")),r.innerHTML=e,n)for(var o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}function Et(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(u){return e}for(var o=e.content,s=e.openStart,a=e.openEnd,l=n.length-2;l>=0;l-=2){var c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;o=i["Fragment"].from(c.create(n[l+1],o)),s++,a++}return new i["Slice"](o,s,a)}var Ot={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Tt=s.ie&&s.ie_version<=11,Nt=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Nt.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Nt.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Lt=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);s.ie&&s.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Nt,Tt&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Lt.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Lt.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Lt.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Ot),Tt&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Lt.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Tt&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Lt.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Lt.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Lt.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Lt.prototype.onSelectionChange=function(){if(Ue(this.view)){if(this.suppressingSelectionUpdates)return Re(this.view);if(s.ie&&s.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&g(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Lt.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Lt.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Lt.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&qe(this.view)&&!this.ignoreSelectionChange(t),r=-1,i=-1,o=!1,a=[];if(this.view.editable)for(var l=0;l<e.length;l++){var c=this.registerMutation(e[l],a);c&&(r=r<0?c.from:Math.min(c.from,r),i=i<0?c.to:Math.max(c.to,i),c.typeOver&&(o=!0))}if(s.gecko&&a.length>1){var u=a.filter((function(e){return"BR"==e.nodeName}));if(2==u.length){var d=u[0],f=u[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,i),Rt(this.view)),this.handleDOMChange(r,i,o,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||Re(this.view),this.currentSelection.set(t))}},Lt.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var r=0;r<e.addedNodes.length;r++)t.push(e.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var i=e.previousSibling,o=e.nextSibling;if(s.ie&&s.ie_version<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var l=e.addedNodes[a],c=l.previousSibling,u=l.nextSibling;(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(i=c),(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(o=u)}var d=i&&i.parentNode==e.target?f(i)+1:0,h=n.localPosFromDOM(e.target,d,-1),p=o&&o.parentNode==e.target?f(o):e.target.childNodes.length,m=n.localPosFromDOM(e.target,p,1);return{from:h,to:m}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var It=!1;function Rt(e){It||(It=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var Ft={},Pt={};function Bt(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Lt(e,(function(t,n,r,i){return dt(e,t,n,r,i)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Ft[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!Vt(e,t)||$t(e,t)||!e.editable&&t.type in Pt||n(e,t)})};for(var n in Ft)t(n);s.safari&&e.dom.addEventListener("input",(function(){return null})),Ht(e)}function jt(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function zt(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}function Ht(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return $t(e,t)})}))}function $t(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Vt(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Wt(e,t){$t(e,t)||!Ft[t.type]||!e.editable&&t.type in Pt||Ft[t.type](e,t)}function Ut(e){return{left:e.clientX,top:e.clientY}}function qt(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Gt(e,t,n,r,i){if(-1==r)return!1;for(var o=e.state.doc.resolve(r),s=function(r){if(e.someProp(t,(function(t){return r>o.depth?t(e,n,o.nodeAfter,o.before(r),i,!0):t(e,n,o.node(r),o.before(r),i,!1)})))return{v:!0}},a=o.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function Kt(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Jt(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),i=n.nodeAfter;return!!(i&&i.isAtom&&r["NodeSelection"].isSelectable(i))&&(Kt(e,new r["NodeSelection"](n),"pointer"),!0)}function Zt(e,t){if(-1==t)return!1;var n,i,o=e.state.selection;o instanceof r["NodeSelection"]&&(n=o.node);for(var s=e.state.doc.resolve(t),a=s.depth+1;a>0;a--){var l=a>s.depth?s.nodeAfter:s.node(a);if(r["NodeSelection"].isSelectable(l)){i=n&&o.$from.depth>0&&a>=o.$from.depth&&s.before(o.$from.depth+1)==o.$from.pos?s.before(o.$from.depth):s.before(a);break}}return null!=i&&(Kt(e,r["NodeSelection"].create(e.state.doc,i),"pointer"),!0)}function Xt(e,t,n,r,i){return Gt(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(i?Zt(e,n):Jt(e,n))}function Yt(e,t,n,r){return Gt(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function Qt(e,t,n,r){return Gt(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||en(e,n)}function en(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&(Kt(e,r["TextSelection"].create(n,0,n.content.size),"pointer"),!0);for(var i=n.resolve(t),o=i.depth+1;o>0;o--){var s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Kt(e,r["TextSelection"].create(n,a+1,a+1+s.content.size),"pointer");else{if(!r["NodeSelection"].isSelectable(s))continue;Kt(e,r["NodeSelection"].create(n,a),"pointer")}return!0}}function tn(e){return cn(e)}Pt.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!on(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!s.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||lt(e,t)?t.preventDefault():jt(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,C(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},Pt.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Pt.keypress=function(e,t){if(!(on(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||s.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof r["TextSelection"])||!n.$from.sameParent(n.$to)){var i=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,i)}))||e.dispatch(e.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}}};var nn=s.mac?"metaKey":"ctrlKey";Ft.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=tn(e),r=Date.now(),i="singleClick";r-e.lastClick.time<500&&qt(t,e.lastClick)&&!t[nn]&&("singleClick"==e.lastClick.type?i="doubleClick":"doubleClick"==e.lastClick.type&&(i="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:i};var o=e.posAtCoords(Ut(t));o&&("singleClick"==i?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new rn(e,o,t,n)):("doubleClick"==i?Yt:Qt)(e,o.pos,o.inside,t)?t.preventDefault():jt(e,"pointer"))};var rn=function(e,t,n,i){var o,a,l=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=i,this.selectNode=n[nn],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),a=t.inside;else{var c=e.state.doc.resolve(t.pos);o=c.parent,a=c.depth?c.before():0}this.mightDrag=null;var u=i?null:n.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d?d.dom:null;var f=e.state,h=f.selection;(o.type.spec.draggable&&!1!==o.type.spec.selectable||h instanceof r["NodeSelection"]&&h.from<=a&&h.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&s.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){l.view.mouseDown==l&&l.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),jt(e,"pointer")};function on(e,t){return!!e.composing||!!(s.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}rn.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},rn.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ut(e))),this.allowDefault||!t?jt(this.view,"pointer"):Xt(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||s.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||s.chrome&&!(this.view.state.selection instanceof r["TextSelection"])&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2?(Kt(this.view,r["Selection"].near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):jt(this.view,"pointer")}},rn.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),jt(this.view,"pointer"),0==e.buttons&&this.done()},Ft.touchdown=function(e){tn(e),jt(e,"pointer")},Ft.contextmenu=function(e){return tn(e)};var sn=s.android?5e3:-1;function an(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return cn(e)}),t))}function ln(e){e.composing=!1;while(e.compositionNodes.length>0)e.compositionNodes.pop().markParentsDirty()}function cn(e,t){if(e.domObserver.forceFlush(),ln(e),t||e.docView.dirty){var n=Le(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}function un(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}Pt.compositionstart=Pt.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),cn(e,!0),e.markCursor=null;else if(cn(e),s.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){var a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(3==a.nodeType){r.collapse(a,a.nodeValue.length);break}i=a,o=-1}e.composing=!0}an(e,sn)},Pt.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,an(e,20))};var dn=s.ie&&s.ie_version<15||s.ios&&s.webkit_version<604;function fn(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function hn(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?pn(e,r.value,null,t):pn(e,r.textContent,r.innerHTML,t)}),50)}}function pn(e,t,n,r){var o=yt(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,r,o||i["Slice"].empty)})))return!0;if(!o)return!1;var s=fn(o),a=s?e.state.tr.replaceSelectionWith(s,e.shiftKey):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Ft.copy=Pt.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var i=dn?null:t.clipboardData,o=n.content(),s=vt(e,o),a=s.dom,l=s.text;i?(t.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):un(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Pt.paste=function(e,t){var n=dn?null:t.clipboardData;n&&pn(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():hn(e,t)};var mn=function(e,t){this.slice=e,this.move=t},gn=s.mac?"altKey":"ctrlKey";for(var vn in Ft.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var i=e.state.selection,o=i.empty?null:e.posAtCoords(Ut(t));if(o&&o.pos>=i.from&&o.pos<=(i instanceof r["NodeSelection"]?i.to-1:i.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(r["NodeSelection"].create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var s=e.docView.nearestDesc(t.target,!0);if(!s||!s.node.type.spec.draggable||s==e.docView)return;e.dispatch(e.state.tr.setSelection(r["NodeSelection"].create(e.state.doc,s.posBefore)))}var a=e.state.selection.content(),l=vt(e,a),c=l.dom,u=l.text;t.dataTransfer.clearData(),t.dataTransfer.setData(dn?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",dn||t.dataTransfer.setData("text/plain",u),e.dragging=new mn(a,!t[gn])}},Ft.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},Pt.dragover=Pt.dragenter=function(e,t){return t.preventDefault()},Pt.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var s=e.posAtCoords(Ut(t));if(s){var a=e.state.doc.resolve(s.pos);if(a){var l=n&&n.slice;l?e.someProp("transformPasted",(function(e){l=e(l)})):l=yt(e,t.dataTransfer.getData(dn?"Text":"text/plain"),dn?null:t.dataTransfer.getData("text/html"),!1,a);var c=n&&!t[gn];if(e.someProp("handleDrop",(function(n){return n(e,t,l||i["Slice"].empty,c)})))t.preventDefault();else if(l){t.preventDefault();var u=l?Object(o["h"])(e.state.doc,a.pos,l):a.pos;null==u&&(u=a.pos);var d=e.state.tr;c&&d.deleteSelection();var f=d.mapping.map(u),h=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,p=d.doc;if(h?d.replaceRangeWith(f,f,l.content.firstChild):d.replaceRange(f,f,l),!d.doc.eq(p)){var m=d.doc.resolve(f);if(h&&r["NodeSelection"].isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new r["NodeSelection"](m));else{var g=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((function(e,t,n,r){return g=r})),d.setSelection(We(e,m,d.doc.resolve(g)))}e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))}}}}}},Ft.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&Re(e)}),20))},Ft.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Ft.beforeinput=function(e,t){if(s.chrome&&s.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,C(8,"Backspace"))})))){var t=e.state.selection,r=t.$cursor;r&&r.pos>0&&e.dispatch(e.state.tr.delete(r.pos-1,r.pos).scrollIntoView())}}),50)}},Pt)Ft[vn]=Pt[vn];function yn(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var bn=function(e,t){this.spec=t||_n,this.side=this.spec.side||0,this.toDOM=e};bn.prototype.map=function(e,t,n,r){var i=e.mapResult(t.from+r,this.side<0?-1:1),o=i.pos,s=i.deleted;return s?null:new kn(o-n,o-n,this)},bn.prototype.valid=function(){return!0},bn.prototype.eq=function(e){return this==e||e instanceof bn&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&yn(this.spec,e.spec))};var wn=function(e,t){this.spec=t||_n,this.attrs=e};wn.prototype.map=function(e,t,n,r){var i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new kn(i,o,this)},wn.prototype.valid=function(e,t){return t.from<t.to},wn.prototype.eq=function(e){return this==e||e instanceof wn&&yn(this.attrs,e.attrs)&&yn(this.spec,e.spec)},wn.is=function(e){return e.type instanceof wn};var xn=function(e,t){this.spec=t||_n,this.attrs=e};xn.prototype.map=function(e,t,n,r){var i=e.mapResult(t.from+r,1);if(i.deleted)return null;var o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new kn(i.pos-n,o.pos-n,this)},xn.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),r=n.index,i=n.offset;return i==t.from&&i+e.child(r).nodeSize==t.to},xn.prototype.eq=function(e){return this==e||e instanceof xn&&yn(this.attrs,e.attrs)&&yn(this.spec,e.spec)};var kn=function(e,t,n){this.from=e,this.to=t,this.type=n},Cn={spec:{configurable:!0},inline:{configurable:!0}};kn.prototype.copy=function(e,t){return new kn(e,t,this.type)},kn.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},kn.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},kn.widget=function(e,t,n){return new kn(e,e,new bn(t,n))},kn.inline=function(e,t,n,r){return new kn(e,t,new wn(n,r))},kn.node=function(e,t,n,r){return new kn(e,t,new xn(n,r))},Cn.spec.get=function(){return this.type.spec},Cn.inline.get=function(){return this.type instanceof wn},Object.defineProperties(kn.prototype,Cn);var Sn=[],_n={},Mn=function(e,t){this.local=e&&e.length?e:Sn,this.children=t&&t.length?t:Sn};Mn.create=function(e,t){return t.length?In(t,e,0,_n):Dn},Mn.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},Mn.prototype.findInner=function(e,t,n,r,i){for(var o=0;o<this.local.length;o++){var s=this.local[o];s.from<=t&&s.to>=e&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){var l=this.children[a]+1;this.children[a+2].findInner(e-l,t-l,n,r+l,i)}},Mn.prototype.map=function(e,t,n){return this==Dn||0==e.maps.length?this:this.mapInner(e,t,0,0,n||_n)},Mn.prototype.mapInner=function(e,t,n,r,i){for(var o,s=0;s<this.local.length;s++){var a=this.local[s].map(e,n,r);a&&a.type.valid(t,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?En(this.children,o,e,t,n,r,i):o?new Mn(o.sort(Rn)):Dn},Mn.prototype.add=function(e,t){return t.length?this==Dn?Mn.create(e,t):this.addInner(e,t,0):this},Mn.prototype.addInner=function(e,t,n){var r,i=this,o=0;e.forEach((function(e,s){var a,l=s+n;if(a=Nn(t,e,l)){r||(r=i.children.slice());while(o<r.length&&r[o]<s)o+=3;r[o]==s?r[o+2]=r[o+2].addInner(e,a,l+1):r.splice(o,0,s,s+e.nodeSize,In(a,e,l+1,_n)),o+=3}}));for(var s=On(o?Ln(t):t,-n),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Mn(s.length?this.local.concat(s).sort(Rn):this.local,r||this.children)},Mn.prototype.remove=function(e){return 0==e.length||this==Dn?this:this.removeInner(e,0)},Mn.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,i=0;i<n.length;i+=3){for(var o=void 0,s=n[i]+t,a=n[i+1]+t,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>s&&c.to<a&&(e[l]=null,(o||(o=[])).push(c));if(o){n==this.children&&(n=this.children.slice());var u=n[i+2].removeInner(o,s+1);u!=Dn?n[i+2]=u:(n.splice(i,3),i-=3)}}if(r.length)for(var d=0,f=void 0;d<e.length;d++)if(f=e[d])for(var h=0;h<r.length;h++)r[h].eq(f,t)&&(r==this.local&&(r=this.local.slice()),r.splice(h--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Mn(r,n):Dn},Mn.prototype.forChild=function(e,t){if(this==Dn)return this;if(t.isLeaf)return Mn.empty;for(var n,r,i=0;i<this.children.length;i+=3)if(this.children[i]>=e){this.children[i]==e&&(n=this.children[i+2]);break}for(var o=e+1,s=o+t.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof wn){var c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){var d=new Mn(r.sort(Rn));return n?new An([d,n]):d}return n||Dn},Mn.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Mn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Mn.prototype.locals=function(e){return Fn(this.localsInner(e))},Mn.prototype.localsInner=function(e){if(this==Dn)return Sn;if(e.inlineContent||!this.local.some(wn.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof wn||t.push(this.local[n]);return t};var Dn=new Mn;Mn.empty=Dn,Mn.removeOverlap=Fn;var An=function(e){this.members=e};function En(e,t,n,r,i,o,s){for(var a=e.slice(),l=function(e,t,n,r){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;-1==l||e>l+o||(t>=a[s]+o?a[s+1]=-1:n>=i&&(c=r-n-(t-e))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,d=0;d<a.length;d+=3)if(-1==a[d+1]){var f=n.map(e[d]+o),h=f-i;if(h<0||h>=r.content.size){u=!0;continue}var p=n.map(e[d+1]+o,-1),m=p-i,g=r.content.findIndex(h),v=g.index,y=g.offset,b=r.maybeChild(v);if(b&&y==h&&y+b.nodeSize==m){var w=a[d+2].mapInner(n,b,f+1,e[d]+o+1,s);w!=Dn?(a[d]=h,a[d+1]=m,a[d+2]=w):(a[d+1]=-2,u=!0)}else u=!0}if(u){var x=Tn(a,e,t||[],n,i,o,s),k=In(x,r,0,s);t=k.local;for(var C=0;C<a.length;C+=3)a[C+1]<0&&(a.splice(C,3),C-=3);for(var S=0,_=0;S<k.children.length;S+=3){var M=k.children[S];while(_<a.length&&a[_]<M)_+=3;a.splice(_,0,k.children[S],k.children[S+1],k.children[S+2])}}return new Mn(t&&t.sort(Rn),a)}function On(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];n.push(new kn(i.from+t,i.to+t,i.type))}return n}function Tn(e,t,n,r,i,o,s){function a(e,t){for(var o=0;o<e.local.length;o++){var l=e.local[o].map(r,i,t);l?n.push(l):s.onRemove&&s.onRemove(e.local[o].spec)}for(var c=0;c<e.children.length;c+=3)a(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+o+1);return n}function Nn(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,i=null,o=0,s=void 0;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[o]=null);return i}function Ln(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function In(e,t,n,r){var i=[],o=!1;t.forEach((function(t,s){var a=Nn(e,t,s+n);if(a){o=!0;var l=In(a,t,n+s+1,r);l!=Dn&&i.push(s,s+t.nodeSize,l)}}));for(var s=On(o?Ln(e):e,-n).sort(Rn),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Mn(s,i):Dn}function Rn(e,t){return e.from-t.from||e.to-t.to}function Fn(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var i=n+1;i<t.length;i++){var o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),Pn(t,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),Pn(t,i+1,o.copy(r.to,o.to)))}}return t}function Pn(e,t,n){while(t<e.length&&Rn(n,e[t])>0)t++;e.splice(t,0,n)}function Bn(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=Dn&&t.push(r)})),e.cursorWrapper&&t.push(Mn.create(e.state.doc,[e.cursorWrapper.deco])),An.from(t)}An.prototype.forChild=function(e,t){if(t.isLeaf)return Mn.empty;for(var n=[],r=0;r<this.members.length;r++){var i=this.members[r].forChild(e,t);i!=Dn&&(i instanceof An?n=n.concat(i.members):n.push(i))}return An.from(n)},An.prototype.eq=function(e){if(!(e instanceof An)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},An.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(var o=0;o<i.length;o++)t.push(i[o])}else t=i}return t?Fn(n?t:t.sort(Rn)):Sn},An.from=function(e){switch(e.length){case 0:return Dn;case 1:return e[0];default:return new An(e)}};var jn=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Vn(this),this.markCursor=null,this.cursorWrapper=null,$n(this),this.nodeViews=Un(this),this.docView=fe(this.state.doc,Hn(this),Bn(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,Bt(this),this.pluginViews=[],this.updatePluginViews()},zn={props:{configurable:!0},root:{configurable:!0}};function Hn(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[kn.node(0,e.state.doc.content.size,t)]}function $n(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:kn.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Vn(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Wn(e,t){var n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Un(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function qn(e,t){var n=0,r=0;for(var i in e){if(e[i]!=t[i])return!0;n++}for(var o in t)r++;return n!=r}zn.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},jn.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ht(this),this._props=e,this.updateStateInner(e.state,!0)},jn.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},jn.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},jn.prototype.updateStateInner=function(e,t){var n=this,i=this.state,o=!1,a=!1;if(e.storedMarks&&this.composing&&(ln(this),a=!0),this.state=e,t){var l=Un(this);qn(l,this.nodeViews)&&(this.nodeViews=l,o=!0),Ht(this)}this.editable=Vn(this),$n(this);var c=Bn(this),u=Hn(this),d=t?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(e.doc,u,c);!f&&e.selection.eq(i.selection)||(a=!0);var h="preserve"==d&&a&&null==this.dom.style.overflowAnchor&&A(this);if(a){this.domObserver.stop();var p=f&&(s.ie||s.chrome)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Wn(i.selection,e.selection);if(f){var m=s.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(e.doc,u,c,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=fe(e.doc,u,c,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&Ge(this))?Re(this,p):($e(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),"reset"==d)this.dom.scrollTop=0;else if("to selection"==d){var g=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof r["NodeSelection"]?D(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),g):D(this,this.coordsAtPos(e.selection.head,1),g))}else h&&O(h)},jn.prototype.destroyPluginViews=function(){var e;while(e=this.pluginViews.pop())e.destroy&&e.destroy()},jn.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var i=this.state.plugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}},jn.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;var i=this.state.plugins;if(i)for(var o=0;o<i.length;o++){var s=i[o].props[e];if(null!=s&&(n=t?t(s):s))return n}},jn.prototype.hasFocus=function(){return this.root.activeElement==this.dom},jn.prototype.focus=function(){this.domObserver.stop(),this.editable&&L(this.dom),Re(this),this.domObserver.start()},zn.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},jn.prototype.posAtCoords=function(e){return H(this,e)},jn.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),W(this,e,t)},jn.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},jn.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},jn.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},jn.prototype.endOfTextblock=function(e,t){return ee(this,t||this.state,e)},jn.prototype.destroy=function(){this.docView&&(zt(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Bn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},jn.prototype.dispatchEvent=function(e){return Wt(this,e)},jn.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(jn.prototype,zn)},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),i=n("5899"),o="["+i+"]",s=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5a43":function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5d02":function(e,t,n){var r=n("fe86");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("94b335ea",r,!0,{sourceMap:!1,shadowMode:!1})},"5dbe":function(e,t,n){(function(){var t;function n(){console.log(i.apply(null,arguments))}function r(e,t){return i.apply(null,[e].concat(t))}function i(e){for(var t,n,r,i,o=1,s=[].slice.call(arguments),a=0,l=e.length,c="",u=!1,d=!1,f=function(){return s[o++]},h=function(){var n="";while(/\d/.test(e[a]))n+=e[a++],t=e[a];return n.length>0?parseInt(n):null};a<l;++a)if(t=e[a],u)switch(u=!1,"."==t?(d=!1,t=e[++a]):"0"==t&&"."==e[a+1]?(d=!0,a+=2,t=e[a]):d=!0,i=h(),t){case"b":c+=parseInt(f(),10).toString(2);break;case"c":n=f(),c+="string"===typeof n||n instanceof String?n:String.fromCharCode(parseInt(n,10));break;case"d":c+=parseInt(f(),10);break;case"f":r=String(parseFloat(f()).toFixed(i||6)),c+=d?r:r.replace(/^0/,"");break;case"j":c+=JSON.stringify(f());break;case"o":c+="0"+parseInt(f(),10).toString(8);break;case"s":c+=f();break;case"x":c+="0x"+parseInt(f(),10).toString(16);break;case"X":c+="0x"+parseInt(f(),10).toString(16).toUpperCase();break;default:c+=t;break}else"%"===t?u=!0:c+=t;return c}t=e.exports=i,t.format=i,t.vsprintf=r,"undefined"!==typeof console&&"function"===typeof console.log&&(t.printf=n)})()},"5ee4":function(e,t,n){(function(t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){var r=n(3)(n(2),n(4),null,null);e.exports=r.exports},function(e,n,r){"use strict";function i(e){e.component("vue-mathjax",s.a)}Object.defineProperty(n,"__esModule",{value:!0}),n.install=i;var o=r(0),s=r.n(o);r.d(n,"VueMathjax",(function(){return s.a}));var a={version:"0.0.11",install:i};n.default=a;var l=null;"undefined"!=typeof window?l=window.Vue:"undefined"!=typeof t&&(l=t.Vue),l&&l.use(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default={props:{formula:{type:String},safe:{type:Boolean,default:!0},options:{type:Object,default:function(){return{}}}},watch:{formula:function(){this.renderMathJax()}},mounted:function(){this.renderMathJax()},methods:{renderContent:function(){this.safe?this.$refs.mathJaxEl.textContent=this.formula:this.$refs.mathJaxEl.innerHTML=this.formula},renderMathJax:function(){this.renderContent(),window.MathJax&&(window.MathJax.Hub.Config(r({tex2jax:{inlineMath:[["$","$"],["(",")"]],displayMath:[["$$","$$"],["[","]"]],processEscapes:!0,processEnvironments:!0},displayAlign:"center","HTML-CSS":{styles:{".MathJax_Display":{margin:0}},linebreaks:{automatic:!0}}},this.options)),window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,this.$refs.mathJaxEl]))}}}},function(e,t){e.exports=function(e,t,n,r){var i,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,o=e.default);var a="function"==typeof o?o.options:o;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),n&&(a._scopeId=n),r){var l=a.computed||(a.computed={});Object.keys(r).forEach((function(e){var t=r[e];l[e]=function(){return t}}))}return{esModule:i,exports:o,options:a}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{ref:"mathJaxEl"},[e._v(e._s(e.formula))])},staticRenderFns:[]}}])}).call(this,n("c8ba"))},"5fa2":function(e,t,n){"use strict";n("7f24")},"5fb2":function(e,t,n){"use strict";var r=2147483647,i=36,o=1,s=26,a=38,l=700,c=72,u=128,d="-",f=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",m=i-o,g=Math.floor,v=String.fromCharCode,y=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},b=function(e){return e+22+75*(e<26)},w=function(e,t,n){var r=0;for(e=n?g(e/l):e>>1,e+=g(e/t);e>m*s>>1;r+=i)e=g(e/m);return g(r+(m+1)*e/(e+a))},x=function(e){var t=[];e=y(e);var n,a,l=e.length,f=u,h=0,m=c;for(n=0;n<e.length;n++)a=e[n],a<128&&t.push(v(a));var x=t.length,k=x;x&&t.push(d);while(k<l){var C=r;for(n=0;n<e.length;n++)a=e[n],a>=f&&a<C&&(C=a);var S=k+1;if(C-f>g((r-h)/S))throw RangeError(p);for(h+=(C-f)*S,f=C,n=0;n<e.length;n++){if(a=e[n],a<f&&++h>r)throw RangeError(p);if(a==f){for(var _=h,M=i;;M+=i){var D=M<=m?o:M>=m+s?s:M-m;if(_<D)break;var A=_-D,E=i-D;t.push(v(b(D+A%E))),_=g(A/E)}t.push(v(b(_))),m=w(h,S,k==x),h=0,++k}}++h,++f}return t.join("")};e.exports=function(e){var t,n,r=[],i=e.toLowerCase().replace(h,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(f.test(n)?"xn--"+x(n):n);return r.join(".")}},"605d":function(e,t,n){var r=n("c6b6"),i=n("da84");e.exports="process"==r(i.process)},6069:function(e,t){e.exports="object"==typeof window},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),a=n("d1e7"),l=n("7b0b"),c=n("44ad"),u=Object.assign,d=Object.defineProperty;e.exports=!u||i((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||o(u({},t)).join("")!=i}))?function(e,t){var n=l(e),i=arguments.length,u=1,d=s.f,f=a.f;while(i>u){var h,p=c(arguments[u++]),m=d?o(p).concat(d(p)):o(p),g=m.length,v=0;while(g>v)h=m[v++],r&&!f.call(p,h)||(n[h]=p[h])}return n}:u},"61ca":function(e,t,n){var r=n("89a3");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("193a0495",r,!0,{sourceMap:!1,shadowMode:!1})},6547:function(e,t,n){var r=n("a691"),i=n("1d80"),o=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},6573:function(e,t,n){var r={"./apl/apl":["e249",0],"./apl/apl.js":["e249",0],"./asciiarmor/asciiarmor":["26df",1],"./asciiarmor/asciiarmor.js":["26df",1],"./asn.1/asn.1":["d0e1",2],"./asn.1/asn.1.js":["d0e1",2],"./asterisk/asterisk":["c868",3],"./asterisk/asterisk.js":["c868",3],"./brainfuck/brainfuck":["a05e",4],"./brainfuck/brainfuck.js":["a05e",4],"./clike/clike":["4ba6",5],"./clike/clike.js":["4ba6",5],"./clojure/clojure":["2c0d",6],"./clojure/clojure.js":["2c0d",6],"./cmake/cmake":["a84f",7],"./cmake/cmake.js":["a84f",7],"./cobol/cobol":["24d2",8],"./cobol/cobol.js":["24d2",8],"./coffeescript/coffeescript":["a0bd",9],"./coffeescript/coffeescript.js":["a0bd",9],"./commonlisp/commonlisp":["9260",10],"./commonlisp/commonlisp.js":["9260",10],"./crystal/crystal":["2512",11],"./crystal/crystal.js":["2512",11],"./css/css":["7b00",12],"./css/css.js":["7b00",12],"./cypher/cypher":["bd6f",13],"./cypher/cypher.js":["bd6f",13],"./d/d":["cd1c",14],"./d/d.js":["cd1c",14],"./dart/dart":["eaaf",15],"./dart/dart.js":["eaaf",15],"./diff/diff":["ddf9",16],"./diff/diff.js":["ddf9",16],"./django/django":["4b34",17],"./django/django.js":["4b34",17],"./dockerfile/dockerfile":["47ac",18],"./dockerfile/dockerfile.js":["47ac",18],"./dtd/dtd":["fd82",19],"./dtd/dtd.js":["fd82",19],"./dylan/dylan":["3cb1",20],"./dylan/dylan.js":["3cb1",20],"./ebnf/ebnf":["02f2",21],"./ebnf/ebnf.js":["02f2",21],"./ecl/ecl":["ad2a",22],"./ecl/ecl.js":["ad2a",22],"./eiffel/eiffel":["b7ce",23],"./eiffel/eiffel.js":["b7ce",23],"./elm/elm":["45b6",24],"./elm/elm.js":["45b6",24],"./erlang/erlang":["f514",25],"./erlang/erlang.js":["f514",25],"./factor/factor":["cafe",26],"./factor/factor.js":["cafe",26],"./fcl/fcl":["c6fb",27],"./fcl/fcl.js":["c6fb",27],"./forth/forth":["0839",28],"./forth/forth.js":["0839",28],"./fortran/fortran":["518b",29],"./fortran/fortran.js":["518b",29],"./gas/gas":["529a",30],"./gas/gas.js":["529a",30],"./gfm/gfm":["44a0",31],"./gfm/gfm.js":["44a0",31],"./gherkin/gherkin":["b640",32],"./gherkin/gherkin.js":["b640",32],"./go/go":["4ff4",33],"./go/go.js":["4ff4",33],"./groovy/groovy":["5fb4",34],"./groovy/groovy.js":["5fb4",34],"./haml/haml":["73e6",35],"./haml/haml.js":["73e6",35],"./handlebars/handlebars":["e1de",36],"./handlebars/handlebars.js":["e1de",36],"./haskell-literate/haskell-literate":["20d7",38],"./haskell-literate/haskell-literate.js":["20d7",38],"./haskell/haskell":["d3e0",37],"./haskell/haskell.js":["d3e0",37],"./haxe/haxe":["59ef",39],"./haxe/haxe.js":["59ef",39],"./htmlembedded/htmlembedded":["74bb",40],"./htmlembedded/htmlembedded.js":["74bb",40],"./htmlmixed/htmlmixed":["d69f",41],"./htmlmixed/htmlmixed.js":["d69f",41],"./http/http":["b1c1",42],"./http/http.js":["b1c1",42],"./idl/idl":["1eaa",43],"./idl/idl.js":["1eaa",43],"./javascript/javascript":["f9d4",44],"./javascript/javascript.js":["f9d4",44],"./jinja2/jinja2":["4e80",45],"./jinja2/jinja2.js":["4e80",45],"./jsx/jsx":["a279",46],"./jsx/jsx.js":["a279",46],"./julia/julia":["346a",47],"./julia/julia.js":["346a",47],"./livescript/livescript":["e515",48],"./livescript/livescript.js":["e515",48],"./lua/lua":["8eb3",49],"./lua/lua.js":["8eb3",49],"./markdown/markdown":["959b",50],"./markdown/markdown.js":["959b",50],"./mathematica/mathematica":["ced6",51],"./mathematica/mathematica.js":["ced6",51],"./mbox/mbox":["ea60",52],"./mbox/mbox.js":["ea60",52],"./meta":["f040",53],"./meta.js":["f040",53],"./mirc/mirc":["a399",54],"./mirc/mirc.js":["a399",54],"./mllike/mllike":["354f",55],"./mllike/mllike.js":["354f",55],"./modelica/modelica":["9508",56],"./modelica/modelica.js":["9508",56],"./mscgen/mscgen":["ea04",57],"./mscgen/mscgen.js":["ea04",57],"./mumps/mumps":["43bb",58],"./mumps/mumps.js":["43bb",58],"./nginx/nginx":["b2b9",59],"./nginx/nginx.js":["b2b9",59],"./nsis/nsis":["6d82",60],"./nsis/nsis.js":["6d82",60],"./ntriples/ntriples":["3d60",61],"./ntriples/ntriples.js":["3d60",61],"./octave/octave":["9b26",62],"./octave/octave.js":["9b26",62],"./oz/oz":["ca19",63],"./oz/oz.js":["ca19",63],"./pascal/pascal":["941f",64],"./pascal/pascal.js":["941f",64],"./pegjs/pegjs":["6466",65],"./pegjs/pegjs.js":["6466",65],"./perl/perl":["906f",66],"./perl/perl.js":["906f",66],"./php/php":["44d5",67],"./php/php.js":["44d5",67],"./pig/pig":["f3ad",68],"./pig/pig.js":["f3ad",68],"./powershell/powershell":["9da3",69],"./powershell/powershell.js":["9da3",69],"./properties/properties":["dc5b",70],"./properties/properties.js":["dc5b",70],"./protobuf/protobuf":["707c",71],"./protobuf/protobuf.js":["707c",71],"./pug/pug":["5bef",72],"./pug/pug.js":["5bef",72],"./puppet/puppet":["730a",73],"./puppet/puppet.js":["730a",73],"./python/python":["db91",74],"./python/python.js":["db91",74],"./q/q":["322a",75],"./q/q.js":["322a",75],"./r/r":["903e",76],"./r/r.js":["903e",76],"./rpm/changes/index.html":["4b86",123],"./rpm/rpm":["42ce",77],"./rpm/rpm.js":["42ce",77],"./rst/rst":["8c84",78],"./rst/rst.js":["8c84",78],"./ruby/ruby":["8536",79],"./ruby/ruby.js":["8536",79],"./rust/rust":["b18e",80],"./rust/rust.js":["b18e",80],"./sas/sas":["4a1d",81],"./sas/sas.js":["4a1d",81],"./sass/sass":["1b63",82],"./sass/sass.js":["1b63",82],"./scheme/scheme":["f307",83],"./scheme/scheme.js":["f307",83],"./shell/shell":["02f0",84],"./shell/shell.js":["02f0",84],"./sieve/sieve":["d5d4",85],"./sieve/sieve.js":["d5d4",85],"./slim/slim":["548d",86],"./slim/slim.js":["548d",86],"./smalltalk/smalltalk":["9f83",87],"./smalltalk/smalltalk.js":["9f83",87],"./smarty/smarty":["4168",88],"./smarty/smarty.js":["4168",88],"./solr/solr":["c611",89],"./solr/solr.js":["c611",89],"./soy/soy":["bc7f",90],"./soy/soy.js":["bc7f",90],"./sparql/sparql":["fbe7",91],"./sparql/sparql.js":["fbe7",91],"./spreadsheet/spreadsheet":["6c45",92],"./spreadsheet/spreadsheet.js":["6c45",92],"./sql/sql":["ffda",93],"./sql/sql.js":["ffda",93],"./stex/stex":["f8d2",94],"./stex/stex.js":["f8d2",94],"./stylus/stylus":["76d2",95],"./stylus/stylus.js":["76d2",95],"./swift/swift":["c0e2",96],"./swift/swift.js":["c0e2",96],"./tcl/tcl":["0440",97],"./tcl/tcl.js":["0440",97],"./textile/textile":["4c3d",98],"./textile/textile.js":["4c3d",98],"./tiddlywiki/tiddlywiki":["f7e3",99],"./tiddlywiki/tiddlywiki.css":["dd95",124],"./tiddlywiki/tiddlywiki.js":["f7e3",99],"./tiki/tiki":["2a6e",100],"./tiki/tiki.css":["65af",125],"./tiki/tiki.js":["2a6e",100],"./toml/toml":["d2ca",101],"./toml/toml.js":["d2ca",101],"./tornado/tornado":["c5b3",102],"./tornado/tornado.js":["c5b3",102],"./troff/troff":["b35a",103],"./troff/troff.js":["b35a",103],"./ttcn-cfg/ttcn-cfg":["8664",104],"./ttcn-cfg/ttcn-cfg.js":["8664",104],"./ttcn/ttcn":["4d8a",105],"./ttcn/ttcn.js":["4d8a",105],"./turtle/turtle":["3f73",106],"./turtle/turtle.js":["3f73",106],"./twig/twig":["4882",107],"./twig/twig.js":["4882",107],"./vb/vb":["2abe",108],"./vb/vb.js":["2abe",108],"./vbscript/vbscript":["6b16",109],"./vbscript/vbscript.js":["6b16",109],"./velocity/velocity":["fe46",110],"./velocity/velocity.js":["fe46",110],"./verilog/verilog":["9b66",111],"./verilog/verilog.js":["9b66",111],"./vhdl/vhdl":["3cfe",112],"./vhdl/vhdl.js":["3cfe",112],"./vue/vue":["693d",113],"./vue/vue.js":["693d",113],"./wast/wast":["59ef2",114],"./wast/wast.js":["59ef2",114],"./webidl/webidl":["3d58",115],"./webidl/webidl.js":["3d58",115],"./xml/xml":["d5e0",116],"./xml/xml.js":["d5e0",116],"./xquery/xquery":["6c91",117],"./xquery/xquery.js":["6c91",117],"./yacas/yacas":["5938",118],"./yacas/yacas.js":["5938",118],"./yaml-frontmatter/yaml-frontmatter":["d202",119],"./yaml-frontmatter/yaml-frontmatter.js":["d202",119],"./yaml/yaml":["ced0",120],"./yaml/yaml.js":["ced0",120],"./z80/z80":["7511",121],"./z80/z80.js":["7511",121]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id="6573",e.exports=i},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},6613:function(e,t,n){n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");var r=n("5a43");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},"664f":function(e,t,n){"use strict";var r=n("23e7"),i=n("857a"),o=n("af03");r({target:"String",proto:!0,forced:o("sup")},{sup:function(){return i(this,"sup","","")}})},"68b4":function(e,t,n){"use strict";n("de01")},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),d=n("c6cd"),f=n("f772"),h=n("d012"),p="Object already initialized",m=a.WeakMap,g=function(e){return o(e)?i(e):r(e,{})},v=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var y=d.state||(d.state=new m),b=y.get,w=y.has,x=y.set;r=function(e,t){if(w.call(y,e))throw new TypeError(p);return t.facade=e,x.call(y,e,t),t},i=function(e){return b.call(y,e)||{}},o=function(e){return w.call(y,e)}}else{var k=f("state");h[k]=!0,r=function(e,t){if(u(e,k))throw new TypeError(p);return t.facade=e,c(e,k,t),t},i=function(e){return u(e,k)?e[k]:{}},o=function(e){return u(e,k)}}e.exports={set:r,get:i,has:o,enforce:g,getterFor:v}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,a){var l,c=!!a&&!!a.unsafe,f=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l=u(n),l.source||(l.source=d.join("string"==typeof t?t:""))),e!==r?(c?!h&&e[t]&&(f=!0):delete e[t],f?e[t]=n:i(e,t,n)):f?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},"6f53":function(e,t,n){var r=n("83ab"),i=n("df75"),o=n("fc6a"),s=n("d1e7").f,a=function(e){return function(t){var n,a=o(t),l=i(a),c=l.length,u=0,d=[];while(c>u)n=l[u++],r&&!s.call(a,n)||d.push(e?[n,a[n]]:a[n]);return d}};e.exports={entries:a(!0),values:a(!1)}},7037:function(e,t,n){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),r(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("e260"),n("3ca3"),n("ddb0"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},7156:function(e,t,n){var r=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var o,s;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(s=o.prototype)&&s!==n.prototype&&i(e,s),e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),o=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a1a":function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";function t(e,t,n,r){var i,o=!1,s=0;function a(){i&&clearTimeout(i)}function l(){a(),o=!0}function c(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=this,f=Date.now()-s;function h(){s=Date.now(),n.apply(d,c)}function p(){i=void 0}o||(r&&!i&&h(),a(),void 0===r&&f>e?h():!0!==t&&(i=setTimeout(r?p:h,void 0===r?e-f:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),c.cancel=l,c}function n(e,n,r){return void 0===r?t(e,n,!1):t(e,r,!1!==n)}e.debounce=n,e.throttle=t,Object.defineProperty(e,"__esModule",{value:!0})}))},"7a77":function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"7aac":function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7b93":function(e,t,n){"use strict";var r=n("5ee4");n.o(r,"VueMathjax")&&n.d(t,"VueMathjax",(function(){return r["VueMathjax"]}))},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),d=">",f="<",h="prototype",p="script",m=u("IE_PROTO"),g=function(){},v=function(e){return f+p+d+e+f+"/"+p+d},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},w=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}w=r?y(r):b();var e=s.length;while(e--)delete w[h][s[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[h]=i(e),n=new g,g[h]=null,n[m]=e):n=w(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),a=n("d44e"),l=n("9112"),c=n("6eeb"),u=n("b622"),d=n("c430"),f=n("3f8c"),h=n("ae93"),p=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v="keys",y="values",b="entries",w=function(){return this};e.exports=function(e,t,n,u,h,x,k){i(n,t,u);var C,S,_,M=function(e){if(e===h&&T)return T;if(!m&&e in E)return E[e];switch(e){case v:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",A=!1,E=e.prototype,O=E[g]||E["@@iterator"]||h&&E[h],T=!m&&O||M(h),N="Array"==t&&E.entries||O;if(N&&(C=o(N.call(new e)),p!==Object.prototype&&C.next&&(d||o(C)===p||(s?s(C,p):"function"!=typeof C[g]&&l(C,g,w)),a(C,D,!0,!0),d&&(f[D]=w))),h==y&&O&&O.name!==y&&(A=!0,T=function(){return O.call(this)}),d&&!k||E[g]===T||l(E,g,T),f[t]=T,h)if(S={values:M(y),keys:x?T:M(v),entries:M(b)},k)for(_ in S)(m||A||!(_ in E))&&c(E,_,S[_]);else r({target:t,proto:!0,forced:m||A},S);return S}},"7f06":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return b}));for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=o&&(l||+o[1]<57)||a&&l,d=0;d<10;d++)r[48+d]=r[96+d]=String(d);for(d=1;d<=24;d++)r[d+111]="F"+d;for(d=65;d<=90;d++)r[d]=String.fromCharCode(d+32),i[d]=String.fromCharCode(d);for(var f in r)i.hasOwnProperty(f)||(i[f]=r[f]);function h(e){var t=u&&(e.ctrlKey||e.altKey||e.metaKey)||(s||c)&&e.shiftKey&&e.key&&1==e.key.length,n=!t&&e.key||(e.shiftKey?i:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}var p=n("5313"),m="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function g(e){var t,n,r,i,o=e.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);m?i=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function v(e){var t=Object.create(null);for(var n in e)t[g(n)]=e[n];return t}function y(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function b(e){return new p["Plugin"]({props:{handleKeyDown:w(e)}})}function w(e){var t=v(e);return function(e,n){var i,o=h(n),s=1==o.length&&" "!=o,a=t[y(o,n,!s)];if(a&&a(e.state,e.dispatch,e))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(i=r[n.keyCode])&&i!=o){var l=t[y(i,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}else if(s&&n.shiftKey){var c=t[y(o,n,!0)];if(c&&c(e.state,e.dispatch,e))return!0}return!1}}},"7f24":function(e,t,n){var r=n("1544");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("3f5d9d55",r,!0,{sourceMap:!1,shadowMode:!1})},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(e,t,n){"use strict";var r=n("d925"),i=n("e683");e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},"841c":function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),o=n("1d80"),s=n("129f"),a=n("14c3");r("search",1,(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),l=String(this),c=o.lastIndex;s(c,0)||(o.lastIndex=0);var u=a(o,l);return s(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},"857a":function(e,t,n){var r=n("1d80"),i=/"/g;e.exports=function(e,t,n,o){var s=String(r(e)),a="<"+t;return""!==n&&(a+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),a+">"+s+"</"+t+">"}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8875:function(e,t,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(h){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(h.stack)||s.exec(h.stack),l=a&&a[1]||!1,c=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var f=0;f<d.length;f++){if("interactive"===d[f].readyState)return d[f];if(d[f].src===l)return d[f];if(l===u&&d[f].innerHTML&&d[f].innerHTML.trim()===i)return d[f]}return null}}return e}))},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"89a3":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'.editor{position:relative;max-width:900px;width:100%;margin:60px auto;padding:0 60px}.editor_mobile{padding:0;margin:0;transform:translateZ(0);-webkit-transform:translateZ(0);perspective:1000;-webkit-perspective:1000;padding-bottom:60px}.editor_mobile .node__drag-control{display:none}.editor__content{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}.editor__content:after{clear:both;content:" ";display:block}.editor__content *{-moz-user-select:text;-khtml-user-select:text;-webkit-user-select:text;-o-user-select:text;outline:none;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none}.editor__content *,.editor__content * :after,.editor__content * :before{-webkit-box-sizing:border-box;box-sizing:border-box}.editor__content .ProseMirror{-webkit-nbsp-mode:normal}.editor__content .ProseMirror>p{padding-left:0}.editor__content .MJXc-display,.editor__content p{margin:0}.editor__content .node_paragraph{line-height:24px;min-height:24px;margin-bottom:0}.editor__content .node_paragraph-persona{clear:none;font-size:13px;font-weight:400;line-height:20px;color:#909090}.editor__content .node+.node_paragraph{margin-top:32px}.editor__content .node_paragraph+.node_paragraph{margin-top:24px}.editor__content .node_heading+.node_paragraph{margin-top:12px}.editor__content .node_separator+.node_paragraph{margin-top:0}.editor__content *{caret-color:currentColor}.editor__content abbr[title]{text-decoration:none;border-bottom:2px dotted silver}.editor__content pre{padding:.7rem 1rem;border-radius:3px;background:#111;color:#fff;font-size:.8rem;overflow-x:auto}.editor__content pre code{display:block}.editor__content p code{padding:3px 6px;max-height:24px;border-radius:4px;background-color:#f8f8f8;white-space:break-spaces;max-width:100%;overflow:hidden;text-overflow:ellipsis;font-family:monospace,monospace;font-size:1em}.editor__content a{color:inherit;color:#548eaa;text-decoration:none}.editor__content img{max-width:100%}.editor__content table{border-collapse:collapse;table-layout:fixed;width:100%;margin:0}.editor__content table p{margin-top:0}.editor__content table td,.editor__content table th{min-width:1em;border:1px solid #ddd;padding:3px 5px;vertical-align:top;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;z-index:21}.editor__content table td>*,.editor__content table th>*{margin-bottom:0;margin-top:0}.editor__content table th{font-weight:700;text-align:left}.editor__content table .selectedCell:after{z-index:-1;position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:#edeeef;pointer-events:none}.editor__content table .column-resize-handle{position:absolute;right:-2px;top:0;bottom:0;width:4px;z-index:20;background-color:#adf;pointer-events:none}.editor__content .tableWrapper{overflow-x:auto;position:relative;clear:both;padding:0;margin:0;padding-top:40px}.editor__content .tableWrapper .node_paragraph .node__drag-control,.editor__content .tableWrapper .node_paragraph .right-menu__container{display:none}.editor__content .resize-cursor{cursor:ew-resize;cursor:col-resize}.editor__content hr.separator{width:280px;margin:56px auto;border:1px solid #000;border-bottom:0;height:0}.editor__content .ProseMirror>:nth-child(2)>*{margin-top:0}.editor__content p+p{margin-top:24px}.editor__content .node+p,.editor__content .tableWrapper+p{margin-top:32px}.editor__content .node-condensed+p{margin-top:12px}.editor__content .node__drag-control{position:absolute;left:0;cursor:-webkit-grab;cursor:grab;width:24px;height:24px;color:#c4c4c4}.editor__content .node__drag-control_padded{top:40px}.editor__content .node__drag-control:active,.editor__content .node__drag-control:hover{color:#909090}.editor__content .node__drag-control:active{cursor:-webkit-grabbing;cursor:grabbing}.editor__bottom{position:fixed;bottom:0;background:#fff;padding:10px 30px;width:100%;left:0;-webkit-box-shadow:0 9px 15px #000;box-shadow:0 9px 15px #000;font-size:12px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;z-index:999}.node_p-container .node_paragraph .node__drag-control,.node_p-container .node_paragraph .right-menu__container{display:none}.editor .ProseMirror .spoiler__text>.node_paragraph:last-child.is-empty p:before,.editor .ProseMirror>.node_paragraph:last-child.is-empty p:before,.editor .ProseMirror>.node_persona .node_paragraph.is-empty p:before,.editor .ProseMirror>h1.is-empty:before,.editor .ProseMirror>p:before{content:attr(data-empty-text);position:absolute;color:silver;pointer-events:none;height:0}.editor .heading.placeholder:before{content:attr(data-empty-heading);float:left;color:silver;pointer-events:none;height:0}.ProseMirror>h1{margin-bottom:12px;color:#343434;font-weight:500;font-size:32px;line-height:40px;margin-bottom:32px}.context-menu{top:30px;position:absolute;left:28px;padding:8px 0;width:220px;background:#fff;border-radius:3px;-webkit-box-shadow:0 0 8px rgba(0,0,0,.2);box-shadow:0 0 8px rgba(0,0,0,.2);z-index:30}.context-menu_above{bottom:30px;top:auto}.context-menu.right-menu{position:absolute;right:0;left:auto;top:30px;z-index:30}.context-menu.bubble-menu__context{position:absolute;left:auto;right:-228px;top:0;z-index:30;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.context-menu.bubble-menu__context.context-menu_above{top:auto;bottom:0}.editor_mobile .context-menu.bubble-menu__context{right:0;top:40px}.right-menu__container .node__dots{color:#c4c4c4;background:none}.node__drag-control,.right-menu__container{visibility:hidden}.node .node__drag-control:hover,.node .right-menu__container:hover,.node:hover .node__drag-control,.node:hover .right-menu__container,.node_focus .node__drag-control,.node_focus .right-menu__container,.node_menu-opened .right-menu__container,.node_selected .node__drag-control,.node_selected .right-menu__container,.table-menu_active .node__drag-control,.table-menu_active .right-menu__container{visibility:visible}.table-menu{right:32px;width:100%;position:absolute;z-index:30}.table-menu_active .right-menu__container{top:40px;right:42px;z-index:2}.table-menu_nested .right-menu__container{right:35px;z-index:2}.context-menu__separator{background:#eee;margin:8px 0;border:none;height:1px}.context-menu__item{border:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px;padding:12px 0 12px 20px;width:100%;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;background:#fff}.context-menu__item>.svg-icon{margin-right:16px}.context-menu__item:hover,.context-menu__item_active,.context-menu__item_hover{background:#eee}.node{padding-right:28px;margin-right:-28px;position:relative;clear:both;max-width:calc(100% + 18px)}.right-menu__container{position:absolute;right:0;padding-left:4px;height:27px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;top:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.button-icon{height:27px;vertical-align:middle;cursor:pointer;border:none}.button-icon:hover,.button-icon_active{color:#909090}.button-icon.block-menu__plus{background-color:#fff}.button-icon.button-icon_spoiler,.button-icon.button-icon_spoiler:hover,.button-icon.button-icon_spoiler_active{background-color:#f8f8f8}.heading{margin-bottom:0;-webkit-font-smoothing:antialiased;margin-top:32px}.heading-1{font-weight:500;font-size:24px;line-height:36px}.heading-2{font-weight:500;font-size:22px;line-height:32px}.heading-3{font-style:normal;font-weight:500;font-size:18px;line-height:26px}.heading-4{font-style:normal;font-weight:400;font-size:16px;line-height:24px}.blockquote{display:block;padding:12px 24px;background:0 0;border-left:4px solid #548eaa;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:32px}.blockquote p{margin:0}.epigraph{margin-bottom:12px}.epigraph_justify{text-align:justify}.epigraph_left{text-align:left}.epigraph_right{text-align:right}.epigraph_center{text-align:center}.mention{color:#548eaa;text-decoration:none;background:#ecf8ff;padding:0 2px;border-radius:3px;display:inline;margin-right:4px}.svg-icon__rotate90{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.node__content.spoiler{background:#f8f8f8;border-radius:3px;padding:16px 0 16px 36px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:visible}.node_heading.node_heading-1 .node__drag-control{top:7px}.node_heading.node_heading-2 .node__drag-control{top:4px}.node_heading.node_heading-3 .node__drag-control{top:0}.spoiler__heading{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:-20px}.spoiler__heading .svg-icon{width:11px;margin-right:6px;color:#548eaa;cursor:pointer;padding-top:9px}.spoiler__text{margin-top:24px}.spoiler__text>*{padding-left:32px;margin-left:-32px}.spoiler__title{border:0;line-height:24px;font-size:13px;background:none;color:#548eaa;-webkit-text-decoration:underline dashed;text-decoration:underline dashed;text-underline-position:under;font-size:16px;line-height:19px;width:100%}.spoiler__title::-webkit-input-placeholder{color:#ccc;-webkit-text-decoration:underline dashed;text-decoration:underline dashed}.spoiler__title::-moz-placeholder{color:#ccc;text-decoration:underline dashed}.spoiler__title:-ms-input-placeholder{color:#ccc;text-decoration:underline dashed}.spoiler__title::-ms-input-placeholder{color:#ccc;text-decoration:underline dashed}.spoiler__title::placeholder{color:#ccc;-webkit-text-decoration:underline dashed;text-decoration:underline dashed}.spolier__text_hidden{display:none}.list{margin-top:32px}.list ol,.list ol ol,.list ol ul,.list ul,.list ul ol,.list ul ul{margin:0;padding:0 0 0 32px}.list ol li,.list ol ol li,.list ol ul li,.list ul li,.list ul ol li,.list ul ul li{line-height:24px;position:relative}.list ol li+li,.list ul li+li{margin:12px 0 0}.node__padded{margin-top:32px}.node__input{background:#fff;border:0;padding:10px 20px;font-size:14px;line-height:14px;border-radius:3px}.node__input-container{text-align:left;margin-bottom:8px;position:absolute;width:300px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);display:-webkit-box;display:-ms-flexbox;display:flex;top:-45px;border-radius:3px;background:#fff;-webkit-box-shadow:0 0 8px rgba(0,0,0,.2);box-shadow:0 0 8px rgba(0,0,0,.2);z-index:3}.node__input-container_inline{width:200px}.node__input-container form,.node__input-container input{width:100%}.node__input-container select{width:100%;border-radius:3px;border:0;height:35px;font-size:13px;padding:0 42px 0 20px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTS4zMjcuMjZBLjk5OS45OTkgMCAwMTEuNzQuMzI5TDYgNS4wMjIgMTAuMjYuMzI4QS45OTkuOTk5IDAgMDExMS42NzMuMjZjLjQwOC4zNzIuNDM4IDEuMDA1LjA2NyAxLjQxNEw2IDggLjI2IDEuNjc1QTEuMDAzIDEuMDAzIDAgMDEuMzI3LjI2MXoiIGZpbGw9IiMxMTEiLz48L3N2Zz4=") no-repeat 100% #fff;background-position-x:372px}.node__input-button{border:0;background:none}.node__overlay{position:absolute;width:100%;height:100%;background:transparent;top:0;left:0}.node__content{min-height:60px;position:relative;border-radius:3px;overflow:hidden;border:2px solid transparent}.node__content_inline{min-height:0;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex}.node__content_inline .svg-icon{color:silver}.node__content_flex{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.node__content .embed{width:100%;height:300px;display:block}.node__content .embed__caption{width:100%;display:block;line-height:24px;font-size:14px;color:#111;padding:0 12px;white-space:normal;min-width:0}.node__content .embed_video{width:100%}.node__content .embed__caption-title{font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.node__content .embed__caption-link{color:#111}.node__content .embed__placeholder{color:#111;opacity:.4;text-align:center;font-size:14px;line-height:60px;white-space:nowrap;width:100%}.node__content .embed__content{width:100%;border:0;margin:0 auto}.node__content .embed__thumb{background-repeat:no-repeat;background-size:cover;background-position:50%;width:48px;height:48px;outline:1px solid #eee}.node__content .embed_link{border:1px solid #d4e4ef;border-radius:4px;overflow:hidden;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px}.node__content .embed__caption-description{color:#999;font-size:14px;line-height:20px;margin:8px 0}.node__content .embed_layout-right{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.node__content .embed_layout-right .embed__thumb{height:130px;width:244px;min-width:244px;margin:-12px -12px -12px 0}.node__content .image__caption{border:0;width:100%;line-height:18px;font-size:13px;text-align:center;visibility:hidden;background:none;color:#909090;margin-top:4px;resize:none;min-height:22px}.node__content .image__caption_visible{visibility:visible}.node__content .image{width:100%;margin:0}.node__content .image__tag{margin:0 auto;display:block}.node__content .image__tag_border{border:1px solid #eee}.node__content .image_full-width{margin:0}.node__content .image_full-width,.node__content .image_full-width .image__tag{width:100%}.inline-image__tag{max-width:26px;max-height:26px}.node_anchor{min-height:16px;line-height:16px;font-size:10px;color:#999;margin-bottom:8px;margin-top:8px;text-align:center}.node_inline{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;padding:0;margin:0;color:#111;white-space:normal;max-height:26px;border-radius:4px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;vertical-align:middle;border:2px solid transparent}.node_float{float:left;width:calc(50% - 8px);margin-right:40px;margin-top:32px;margin-bottom:0;padding:0;z-index:1;-webkit-box-sizing:content-box;box-sizing:content-box}.node_float .node__content{margin:0}.node_float .right-menu__container{right:4px;top:4px;width:32px;height:28px;z-index:9}.node_float .right-menu__container>button{width:100%;border-radius:4px;background:#fff}.node_float+.node_paragraph{margin-top:32px;display:inline;z-index:2}.node_float+.node_paragraph>.node__inner{position:relative;clear:none;max-width:calc(100% - 15px);padding-right:28px;margin-right:-28px}.node_float+.node_paragraph .node__drag-control{z-index:3}.node_float+.node_paragraph p{margin-top:0}.node_clear,.tableWrapper{clear:both}.node_inline_empty .node__content_inline{border:2px solid silver}.node_inline_selected .node__content_inline{border:2px solid #00a1ff}.node__error{white-space:normal;font-size:12px;margin-top:-15px;color:#ea4444;width:100%;text-align:center}.node__error_small{font-size:9px;margin-top:0}.node__content_empty{border:2px solid #eee}.node__content_active,.node_inline .node__content_active{border:2px solid #00a1ff}.node__content_error{border:2px solid #ea4444}.node__content_loading:before{content:"";position:absolute;background-color:rgba(0,0,0,.1);top:0;left:0;height:100%;width:0;z-index:0;opacity:1;-webkit-transform-origin:100% 0;transform-origin:100% 0;-webkit-animation:loader 2s ease-in-out infinite;animation:loader 2s ease-in-out infinite}.formula{margin:0 auto}.formula .MathJax_SVG_Display{margin:0}.vue-codemirror{width:100%}.code{font-size:14px;line-height:22px;overflow:auto;padding:16px 0;border:1px solid #eee;border-radius:4px;background:#fbfdff;white-space:pre-wrap;-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:32px}.code .CodeMirror{height:auto;background:none}.code .CodeMirror pre.CodeMirror-line,.code .CodeMirror pre.CodeMirror-line-like{z-index:0;padding-left:20px;font-family:Menlo,Monaco,Consolas,Courier New,Courier,monospace}.code .CodeMirror-linenumber{font-size:14px;text-align:center;font-family:monospace}.code .CodeMirror-gutters{background:#fbfdff;border:0;color:silver}.code .CodeMirror-selected{background:rgba(115,186,225,.36)}.bottom-panel{position:fixed;bottom:10px;right:10px}.editor__label{color:#444;font-size:14px;font-weight:600;margin:0 0 12px;line-height:16px}.editor__error{color:#ff8d85}.editor__description,.editor__error{font-size:12px;line-height:18px;margin:9px 0 0;padding:0}.editor__description{color:#777}.editor__label_required{color:#ff8d85}.ProseMirror>*{padding-left:32px;margin-left:-32px}@-webkit-keyframes loader{0%{width:0}70%{width:100%;opacity:1}90%{opacity:0;width:100%}to{opacity:0;width:0}}@keyframes loader{0%{width:0}70%{width:100%;opacity:1}90%{opacity:0;width:100%}to{opacity:0;width:0}}',""]),e.exports=t},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8bbf":function(t,n){t.exports=e},"8c33":function(e,t,n){(function(e){e(n("56b3"))})((function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(e){return e&&e.bracketRegex||/[(){}[\]]/}function o(e,t,o){var a=e.getLineHandle(t.line),l=t.ch-1,c=o&&o.afterCursor;null==c&&(c=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var u=i(o),d=!c&&l>=0&&u.test(a.text.charAt(l))&&r[a.text.charAt(l)]||u.test(a.text.charAt(l+1))&&r[a.text.charAt(++l)];if(!d)return null;var f=">"==d.charAt(1)?1:-1;if(o&&o.strict&&f>0!=(l==t.ch))return null;var h=e.getTokenTypeAt(n(t.line,l+1)),p=s(e,n(t.line,l+(f>0?1:0)),f,h,o);return null==p?null:{from:n(t.line,l),to:p&&p.pos,match:p&&p.ch==d.charAt(0),forward:f>0}}function s(e,t,o,s,a){for(var l=a&&a.maxScanLineLength||1e4,c=a&&a.maxScanLines||1e3,u=[],d=i(a),f=o>0?Math.min(t.line+c,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-c),h=t.line;h!=f;h+=o){var p=e.getLine(h);if(p){var m=o>0?0:p.length-1,g=o>0?p.length:-1;if(!(p.length>l))for(h==t.line&&(m=t.ch-(o<0?1:0));m!=g;m+=o){var v=p.charAt(m);if(d.test(v)&&(void 0===s||(e.getTokenTypeAt(n(h,m+1))||"")==(s||""))){var y=r[v];if(y&&">"==y.charAt(1)==o>0)u.push(v);else{if(!u.length)return{pos:n(h,m),ch:v};u.pop()}}}}}return h-o!=(o>0?e.lastLine():e.firstLine())&&null}function a(e,r,i){for(var s=e.state.matchBrackets.maxHighlightLineLength||1e3,a=i&&i.highlightNonMatching,l=[],c=e.listSelections(),u=0;u<c.length;u++){var d=c[u].empty()&&o(e,c[u].head,i);if(d&&(d.match||!1!==a)&&e.getLine(d.from.line).length<=s){var f=d.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";l.push(e.markText(d.from,n(d.from.line,d.from.ch+1),{className:f})),d.to&&e.getLine(d.to.line).length<=s&&l.push(e.markText(d.to,n(d.to.line,d.to.ch+1),{className:f}))}}if(l.length){t&&e.state.focused&&e.focus();var h=function(){e.operation((function(){for(var e=0;e<l.length;e++)l[e].clear()}))};if(!r)return h;setTimeout(h,800)}}function l(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=a(e,!1,e.state.matchBrackets)}))}function c(e){e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)}e.defineOption("matchBrackets",!1,(function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",l),t.off("focus",l),t.off("blur",c),c(t)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",l),t.on("focus",l),t.on("blur",c))})),e.defineExtension("matchBrackets",(function(){a(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),o(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,n,r){return s(this,e,t,n,r)}))}))},"8df4":function(e,t,n){"use strict";var r=n("7a77");function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e,t=new i((function(t){e=t}));return{token:t,cancel:e}},e.exports=i},"8f94":function(e,t,n){!function(t,r){e.exports=r(n("56b3"))}(0,(function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=window.CodeMirror||i.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0}),t.default={name:"codemirror",data:function(){return{content:"",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:"codemirror"},placeholder:{type:String,default:""},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(e){for(var t in e)this.cminstance.setOption(t,e[t])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(e){this.handerCodeChange(e)},value:function(e){this.handerCodeChange(e)}},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=o.MergeView(this.$refs.mergeview,t),this.cminstance=this.codemirror.edit):(this.codemirror=o.fromTextArea(this.$refs.textarea,t),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on("change",(function(t){e.content=t.getValue(),e.$emit&&e.$emit("input",e.content)}));var n={};["scroll","changes","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"].concat(this.events).concat(this.globalEvents).filter((function(e){return!n[e]&&(n[e]=!0)})).forEach((function(t){e.cminstance.on(t,(function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.$emit.apply(e,[t].concat(r));var o=t.replace(/([A-Z])/g,"-$1").toLowerCase();o!==t&&e.$emit.apply(e,[o].concat(r))}))})),this.$emit("ready",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var e=this;this.$nextTick((function(){e.cminstance.refresh()}))},destroy:function(){var e=this.cminstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove()},handerCodeChange:function(e){if(e!==this.cminstance.getValue()){var t=this.cminstance.getScrollInfo();this.cminstance.setValue(e),this.content=e,this.cminstance.scrollTo(t.left,t.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var e=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach((function(t){var n=e.cminstance.lineInfo(t);e.cminstance.setGutterMarker(t,"breakpoints",n.gutterMarkers?null:e.marker())}))},switchMerge:function(){var e=this.cminstance.doc.history,t=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=e,this.cminstance.doc.cleanGeneration=t}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n.n(r);for(var o in r)["default","default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(5),a=n(4),l=a(i.a,s.a,!1,null,null,null);t.default=l.exports},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.codemirror=t.CodeMirror=void 0;var i=n(0),o=r(i),s=n(2),a=r(s),l=window.CodeMirror||o.default,c=function(e,t){t&&(t.options&&(a.default.props.globalOptions.default=function(){return t.options}),t.events&&(a.default.props.globalEvents.default=function(){return t.events})),e.component(a.default.name,a.default)},u={CodeMirror:l,codemirror:a.default,install:c};t.default=u,t.CodeMirror=l,t.codemirror=a.default,t.install=c},function(e,t){e.exports=function(e,t,n,r,i,o){var s,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,a=e.default);var c,u="function"==typeof a?a.options:a;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId=i),o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):r&&(c=r),c){var d=u.functional,f=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(e,t){return c.call(t),f(e,t)}):u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:s,exports:a,options:u}}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-codemirror",class:{merge:e.merge}},[e.merge?n("div",{ref:"mergeview"}):n("textarea",{ref:"textarea",attrs:{name:e.name,placeholder:e.placeholder}})])},i=[],o={render:r,staticRenderFns:i};t.a=o}])}))},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=n("5692"),s=RegExp.prototype.exec,a=o("native-string-replace",String.prototype.replace),l=s,c=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],f=c||d||u;f&&(l=function(e){var t,n,i,o,l=this,f=u&&l.sticky,h=r.call(l),p=l.source,m=0,g=e;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),g=String(e).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),n=new RegExp("^(?:"+p+")",h)),d&&(n=new RegExp("^"+p+"$(?!\\s)",h)),c&&(t=l.lastIndex),i=s.call(f?n:l,g),f?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:c&&i&&(l.lastIndex=l.global?i.index+i[0].length:t),d&&i&&i.length>1&&a.call(i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),e.exports=l},"947f":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,.5)}.cm-animate-fat-cursor,.cm-fat-cursor-mark{-webkit-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;background-color:#7e7}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{-webkit-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}',""]),e.exports=t},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},9523:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},9861:function(e,t,n){"use strict";n("e260");var r=n("23e7"),i=n("d066"),o=n("0d3b"),s=n("6eeb"),a=n("e2cc"),l=n("d44e"),c=n("9ed3"),u=n("69f3"),d=n("19aa"),f=n("5135"),h=n("0366"),p=n("f5df"),m=n("825a"),g=n("861d"),v=n("7c73"),y=n("5c6c"),b=n("9a1f"),w=n("35a1"),x=n("b622"),k=i("fetch"),C=i("Headers"),S=x("iterator"),_="URLSearchParams",M=_+"Iterator",D=u.set,A=u.getterFor(_),E=u.getterFor(M),O=/\+/g,T=Array(4),N=function(e){return T[e-1]||(T[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},L=function(e){try{return decodeURIComponent(e)}catch(t){return e}},I=function(e){var t=e.replace(O," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(N(n--),L);return t}},R=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(e){return F[e]},B=function(e){return encodeURIComponent(e).replace(R,P)},j=function(e,t){if(t){var n,r,i=t.split("&"),o=0;while(o<i.length)n=i[o++],n.length&&(r=n.split("="),e.push({key:I(r.shift()),value:I(r.join("="))}))}},z=function(e){this.entries.length=0,j(this.entries,e)},H=function(e,t){if(e<t)throw TypeError("Not enough arguments")},$=c((function(e,t){D(this,{type:M,iterator:b(A(e).entries),kind:t})}),"Iterator",(function(){var e=E(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),V=function(){d(this,V,_);var e,t,n,r,i,o,s,a,l,c=arguments.length>0?arguments[0]:void 0,u=this,h=[];if(D(u,{type:_,entries:h,updateURL:function(){},updateSearchParams:z}),void 0!==c)if(g(c))if(e=w(c),"function"===typeof e){t=e.call(c),n=t.next;while(!(r=n.call(t)).done){if(i=b(m(r.value)),o=i.next,(s=o.call(i)).done||(a=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");h.push({key:s.value+"",value:a.value+""})}}else for(l in c)f(c,l)&&h.push({key:l,value:c[l]+""});else j(h,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},W=V.prototype;a(W,{append:function(e,t){H(arguments.length,2);var n=A(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){H(arguments.length,1);var t=A(this),n=t.entries,r=e+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){H(arguments.length,1);for(var t=A(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){H(arguments.length,1);for(var t=A(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){H(arguments.length,1);var t=A(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){H(arguments.length,1);for(var n,r=A(this),i=r.entries,o=!1,s=e+"",a=t+"",l=0;l<i.length;l++)n=i[l],n.key===s&&(o?i.splice(l--,1):(o=!0,n.value=a));o||i.push({key:s,value:a}),r.updateURL()},sort:function(){var e,t,n,r=A(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){var t,n=A(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new $(this,"keys")},values:function(){return new $(this,"values")},entries:function(){return new $(this,"entries")}},{enumerable:!0}),s(W,S,W.entries),s(W,"toString",(function(){var e,t=A(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(B(e.key)+"="+B(e.value));return n.join("&")}),{enumerable:!0}),l(V,_),r({global:!0,forced:!o},{URLSearchParams:V}),o||"function"!=typeof k||"function"!=typeof C||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],g(t)&&(n=t.body,p(n)===_&&(r=t.headers?new C(t.headers):new C,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:y(0,String(n)),headers:y(0,r)}))),i.push(t)),k.apply(this,i)}}),e.exports={URLSearchParams:V,getState:A}},"986d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("5313"),i=n("304a"),o=n("55be"),s=function(e){return function(t){var n=H(e)(t.selection);return n?C(n.pos)(t):t}},a=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r=0,i=e.length;r<i;r++){var o=H(e[r])(n.selection);if(o){var s=x(o.pos,t)(n);if(s!==n)return s}}return n}},l=function(e){if(y(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return w(e.delete(t,n))}return e},c=function(e){return function(t){if(y(t.selection)){var n=t.selection,o=n.$from,s=n.$to;if(e instanceof i.Fragment&&o.parent.canReplace(o.index(),o.indexAfter(),e)||o.parent.canReplaceWith(o.index(),o.indexAfter(),e.type))return w(t.replaceWith(o.pos,s.pos,e).setSelection(new r.NodeSelection(t.doc.resolve(o.pos))))}return t}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var i=r.Selection.findFrom(n.doc.resolve(e),t,!0);return i?n.setSelection(i):n}},d=function(e){return e.type&&e.type.spec.selectable},f=function(e){return d(e)&&e.type.isLeaf},h=function(e,t,n){return f(e)?n.setSelection(new r.NodeSelection(n.doc.resolve(t))):u(t)(n)},p=function(e,t,n){return function(r){var i="number"===typeof t,o=r.selection.$from,s=i?r.doc.resolve(t):y(r.selection)?r.doc.resolve(o.pos+1):o,l=s.parent;if(y(r.selection)&&n){var u=r;if(r=c(e)(r),u!==r)return r}if(M(l)){var f=r;if(r=a(l.type,e)(r),f!==r){var p=d(e)?s.before(s.depth):s.pos;return h(e,p,r)}}if(_(s,e)){r.insert(s.pos,e);var m=i?s.pos:d(e)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return w(h(e,m,r))}for(var g=s.depth;g>0;g--){var v=s.after(g),b=r.doc.resolve(v);if(_(b,e))return r.insert(v,e),w(h(e,v,r))}return r}},m=function(e,t,n,r){return function(i){var o=H(e)(i.selection);return o?w(i.setNodeMarkup(o.pos,t,Object.assign({},o.node.attrs,n),r)):i}},g=function(e){return function(t){if(!y(t.selection)){var n=H(e)(t.selection);if(n)return w(t.setSelection(r.NodeSelection.create(t.doc,n.pos)))}return t}},v=function(e){var t=q(e.selection);return"number"===typeof t?C(t)(e):e},y=function(e){return e instanceof r.NodeSelection},b=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},w=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},x=function(e,t){return function(n){var r=n.doc.nodeAt(e),i=n.doc.resolve(e);if(k(i,t)){n=n.replaceWith(e,e+r.nodeSize,t);var o=n.selection.$from.pos-1;return n=u(Math.max(o,0),-1)(n),n=u(n.selection.$from.start())(n),w(n)}return n}},k=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof i.Fragment?t:i.Fragment.from(t))},C=function(e){return function(t){var n=t.doc.nodeAt(e);return w(t.delete(e,e+n.nodeSize))}},S=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t={};return Object.keys(e.nodes).forEach((function(n){var r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t},_=function(e,t){var n=e.index();return t instanceof i.Fragment?e.parent.canReplace(n,n,t):t instanceof i.Node&&e.parent.canReplaceWith(n,n,t.type)},M=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},D=function(e){var t=function(e){return e.type.spec.tableRole&&/table/i.test(e.type.spec.tableRole)};return B(e,t)},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.createChecked(null,t):e.createAndFill()},E=function(e){return function(t){for(var n=o.TableMap.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),i=n.cellsInRect(e),s=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),a=0,l=i.length;a<l;a++)if(-1===s.indexOf(i[a]))return!1;return!0}},O=function(e){return e[0].map((function(t,n){return e.map((function(e){return e[n]}))}))},T=function(e){for(var t=o.TableMap.get(e),n=[],r=0;r<t.height;r++){for(var i=[],s={},a=0;a<t.width;a++){var l=t.map[r*t.width+a],c=e.nodeAt(l),u=t.findCell(l);s[l]||u.top!==r?i.push(null):(s[l]=!0,i.push(c))}n.push(i)}return n},N=function(e,t){for(var n=[],r=o.TableMap.get(e),i=0;i<r.height;i++){for(var s=e.child(i),a=[],l=0;l<r.width;l++)if(t[i][l]){var c=r.map[i*r.width+l],u=t[i][l],d=e.nodeAt(c),f=d.type.createChecked(Object.assign({},u.attrs),u.content,u.marks);a.push(f)}n.push(s.type.createChecked(s.attrs,a,s.marks))}var h=e.type.createChecked(e.attrs,n,e.marks);return h},L=function(e,t,n,r){var i=O(T(e.node));return i=R(i,t,n,r),i=O(i),N(e.node,i)},I=function(e,t,n,r){var i=T(e.node);return i=R(i,t,n,r),N(e.node,i)},R=function(e,t,n,r){var i=t[0]>n[0]?-1:1,o=e.splice(t[0],t.length),s=o.length%2===0?1:0,a=void 0;return a=-1===r&&1===i?n[0]-1:1===r&&-1===i?n[n.length-1]-s+1:-1===i?n[0]:n[n.length-1]-s,e.splice.apply(e,[a,0].concat(o)),e},F=function(e,t,n,r){var i=e>t?-1:1,o="Target position is invalid, you can't move the "+r+" "+e+" to "+t+", the target can't be split. You could use tryToFit option.";if(1===i){if(-1!==n.slice(0,n.length-1).indexOf(t))throw new Error(o)}else if(-1!==n.slice(1).indexOf(t))throw new Error(o);return!0},P=function(e){return function(t){var n=t.$from;return B(n,e)}},B=function(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},j=function(e,t){return function(n){var r=P(e)(n);if(r)return G(r.pos,t)}},z=function(e){return function(t){return!!P(e)(t)}},H=function(e){return function(t){return P((function(t){return b(e,t)}))(t)}},$=function(e,t){return B(e,(function(e){return b(t,e)}))},V=function(e){return function(t){return z((function(t){return b(e,t)}))(t)}},W=function(e,t){return function(n){return j((function(t){return b(e,t)}),t)(n)}},U=function(e){return function(t){if(y(t)){var n=t.node,r=t.$from;if(b(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},q=function(e){var t=e.$from.nodeBefore,n=r.Selection.findFrom(e.$from,-1);if(n&&t){var i=H(t.type)(n);return i?i.pos:n.$from.pos}},G=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},K=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,r){if(n.push({node:e,pos:r}),!t)return!1})),n},J=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return K(e,n).filter((function(e){return t(e.node)}))},Z=function(e,t){return J(e,(function(e){return e.isText}),t)},X=function(e,t){return J(e,(function(e){return e.isInline}),t)},Y=function(e,t){return J(e,(function(e){return e.isBlock}),t)},Q=function(e,t,n){return J(e,(function(e){return!!t(e.attrs)}),n)},ee=function(e,t,n){return J(e,(function(e){return e.type===t}),n)},te=function(e,t,n){return J(e,(function(e){return t.isInSet(e.marks)}),n)},ne=function(e,t){return!!ee(e,t).length};function re(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var ie=function(e){return P((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},oe=function(e){return e instanceof o.CellSelection},se=function(e){if(oe(e)){var t=e.$anchorCell.start(-1),n=o.TableMap.get(e.$anchorCell.node(-1));return n.rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},ae=function(e){return function(t){if(oe(t)){var n=o.TableMap.get(t.$anchorCell.node(-1));return E({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1}},le=function(e){return function(t){if(oe(t)){var n=o.TableMap.get(t.$anchorCell.node(-1));return E({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},ce=function(e){if(oe(e)){var t=o.TableMap.get(e.$anchorCell.node(-1));return E({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},ue=function(e){return function(t){var n=ie(t);if(n){var r=o.TableMap.get(n.node),i=Array.isArray(e)?e:Array.from([e]);return i.reduce((function(e,t){if(t>=0&&t<=r.width-1){var i=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(i.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},de=function(e){return function(t){var n=ie(t);if(n){var r=o.TableMap.get(n.node),i=Array.isArray(e)?e:Array.from([e]);return i.reduce((function(e,t){if(t>=0&&t<=r.height-1){var i=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(i.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},fe=function(e){var t=ie(e);if(t){var n=o.TableMap.get(t.node),r=n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height});return r.map((function(e){var n=t.node.nodeAt(e),r=e+t.start;return{pos:r,start:r+1,node:n}}))}},he=function(e){return function(t,n){return function(r){var i=ie(r.selection),s="row"===e;if(i){var a=o.TableMap.get(i.node);if(t>=0&&t<(s?a.height:a.width)){var l=s?0:t,c=s?t:0,u=s?a.width:t+1,d=s?t+1:a.height;if(n){var f=Ie(r.selection.$from);if(!f)return r;var h=a.findCell(f.pos-i.start);s?(c=Math.min(c,h.top),d=Math.max(d,h.bottom)):(l=Math.min(l,h.left),u=Math.max(u,h.right))}var p=a.cellsInRect({left:l,top:c,right:s?u:l+1,bottom:s?c+1:d}),m=d-c===1?p:a.cellsInRect({left:s?l:u-1,top:s?d-1:c,right:u,bottom:d}),g=i.start+p[0],v=i.start+m[m.length-1],y=r.doc.resolve(g),b=r.doc.resolve(v);return w(r.setSelection(new o.CellSelection(b,y)))}}return r}}},pe=he("column"),me=he("row"),ge=function(e){var t=ie(e.selection);if(t){var n=o.TableMap.get(t.node),r=n.map;if(r&&r.length){var i=t.start+r[0],s=t.start+r[r.length-1],a=e.doc.resolve(i),l=e.doc.resolve(s);return w(e.setSelection(new o.CellSelection(l,a)))}}return e},ve=function(e,t){return function(n){if(e){var r=S(t).cell.createAndFill(),i=r.content;if(!e.node.content.eq(i))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,i),w(n)}return n}},ye=function(e){return function(t){var n=ie(t.selection);if(n){var r=o.TableMap.get(n.node);if(e>=0&&e<=r.width)return w(o.addColumn(t,{map:r,tableStart:n.start,table:n.node},e))}return t}},be=function(e,t,n){return function(r){var i={tryToFit:!1,direction:0},o=Object.assign(i,n),s=ie(r.selection);if(!s)return r;var a=Be(e)(r),l=a.indexes,c=Be(t)(r),u=c.indexes;if(l.indexOf(t)>-1)return r;!o.tryToFit&&u.length>1&&F(e,t,u,"row");var d=I(s,l,u,o.direction);return w(r).replaceWith(s.pos,s.pos+s.node.nodeSize,d)}},we=function(e,t,n){return function(r){var i={tryToFit:!1,direction:0},o=Object.assign(i,n),s=ie(r.selection);if(!s)return r;var a=Pe(e)(r),l=a.indexes,c=Pe(t)(r),u=c.indexes;if(l.indexOf(t)>-1)return r;!o.tryToFit&&u.length>1&&F(e,t,u,"column");var d=L(s,l,u,o.direction);return w(r).replaceWith(s.pos,s.pos+s.node.nodeSize,d)}},xe=function(e,t){return function(n){var r=ie(n.selection);if(r){var i=o.TableMap.get(r.node),s=e-1;if(t&&s>=0)return w(ke(s)(n));if(e>=0&&e<=i.height)return w(o.addRow(n,{map:i,tableStart:r.start,table:r.node},e))}return n}},ke=function(e){return function(t){var n=ie(t.selection);if(n){var r=o.TableMap.get(n.node);if(e>=0&&e<=r.height){for(var i=n.node,s=S(i.type.schema),a=n.start,l=0;l<e+1;l++)a+=i.child(l).nodeSize;var c=i.child(e),u=[],d=0;if(c.forEach((function(e){1===e.attrs.rowspan&&(d+=e.attrs.colspan,u.push(s[e.type.spec.tableRole].createAndFill(e.attrs,e.marks)))})),d<r.width){for(var f=[],h=function(n){var r=Fe(n,(function(t,r){var i=t.node.attrs.rowspan,o=n+i;return i>1&&o>e}))(t);f.push.apply(f,re(r))},m=e;m>=0;m--)h(m);f.length&&f.forEach((function(e){t=Ne(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return p(s.row.create(c.attrs,u),a)(t)}}return t}},Ce=function(e){return function(t){var n=ie(t.selection);if(n){var r=o.TableMap.get(n.node);if(0===e&&1===r.width)return _e(t);if(e>=0&&e<=r.width)return o.removeColumn(t,{map:r,tableStart:n.start,table:n.node},e),w(t)}return t}},Se=function(e){return function(t){var n=ie(t.selection);if(n){var r=o.TableMap.get(n.node);if(0===e&&1===r.height)return _e(t);if(e>=0&&e<=r.height)return o.removeRow(t,{map:r,tableStart:n.start,table:n.node},e),w(t)}return t}},_e=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--){var r=t.node(n);if("table"===r.type.spec.tableRole)return w(e.delete(t.before(n),t.after(n)))}return e},Me=function(e){var t=e.selection;if(ce(t))return _e(e);if(oe(t)){var n=ie(t);if(n){var r=o.TableMap.get(n.node),i=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==i.left&&i.right==r.width)return!1;for(var s=Object.assign({},i,{map:r,table:n.node,tableStart:n.start}),a=s.right-1;;a--){if(o.removeColumn(e,s,a),a===s.left)break;s.table=s.tableStart?e.doc.nodeAt(s.tableStart-1):e.doc,s.map=o.TableMap.get(s.table)}return w(e)}}return e},De=function(e){var t=e.selection;if(ce(t))return _e(e);if(oe(t)){var n=ie(t);if(n){var r=o.TableMap.get(n.node),i=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==i.top&&i.bottom==r.height)return!1;for(var s=Object.assign({},i,{map:r,table:n.node,tableStart:n.start}),a=s.bottom-1;;a--){if(o.removeRow(e,s,a),a===s.top)break;s.table=s.tableStart?e.doc.nodeAt(s.tableStart-1):e.doc,s.map=o.TableMap.get(s.table)}return w(e)}}return e},Ae=function(e){return function(t){var n=Re(e);return n?Ce(n.left)(u(e.pos)(t)):t}},Ee=function(e){return function(t){var n=Re(e);return n?Se(n.top)(u(e.pos)(t)):t}},Oe=function(e,t,n){return function(i){var o=ue(e)(i.selection);if(o){for(var s=o.length-1;s>=0;s--)i=t(o[s],i);if(n){var a=i.doc.resolve(i.mapping.map(o[o.length-1].pos));i.setSelection(r.Selection.near(a))}return w(i)}return i}},Te=function(e,t,n){return function(i){var o=de(e)(i.selection);if(o){for(var s=o.length-1;s>=0;s--)i=t(o[s],i);if(n){var a=i.doc.resolve(i.mapping.map(o[o.length-1].pos));i.setSelection(r.Selection.near(a))}}return i}},Ne=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,null,Object.assign({},e.node.attrs,t)),w(n)):n}},Le=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=S(e),s=o.cell,a=o.header_cell,l=o.row,c=o.table,u=[],d=[],f=0;f<n;f++)u.push(A(s,i)),r&&d.push(A(a,i));for(var h=[],p=0;p<t;p++)h.push(l.createChecked(null,r&&0===p?d:u));return c.createChecked(null,h)},Ie=function(e){var t=function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)};return B(e,t)},Re=function(e){var t=Ie(e);if(t){var n=D(e),r=o.TableMap.get(n.node),i=t.pos-n.start;return r.rectBetween(i,i)}},Fe=function(e,t){return function(n){var r=[],i=de(e)(n.selection);if(i)for(var o=i.length-1;o>=0;o--)t(i[o],n)&&r.push(i[o]);return r}},Pe=function(e){return function(t){for(var n=e,r=e,i=function(e){var i=ue(e)(t.selection);i&&i.forEach((function(t){var i=t.node.attrs.colspan+e-1;i>=n&&(n=e),i>r&&(r=i)}))},o=e;o>=0;o--)i(o);var s=function(e){var n=ue(e)(t.selection);n&&n.forEach((function(t){var n=t.node.attrs.colspan+e-1;t.node.attrs.colspan>1&&n>r&&(r=n)}))};for(o=e;o<=r;o++)s(o);var a=[];for(o=n;o<=r;o++){var l=ue(o)(t.selection);l&&l.length&&a.push(o)}n=a[0],r=a[a.length-1];for(var c=ue(n)(t.selection),u=de(0)(t.selection),d=t.doc.resolve(c[c.length-1].pos),f=void 0,h=r;h>=n;h--){var p=ue(h)(t.selection);if(p&&p.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===p[0].pos){f=p[0];break}if(f)break}}var g=t.doc.resolve(f.pos);return{$anchor:d,$head:g,indexes:a}}},Be=function(e){return function(t){for(var n=e,r=e,i=function(e){var i=de(e)(t.selection);i.forEach((function(t){var i=t.node.attrs.rowspan+e-1;i>=n&&(n=e),i>r&&(r=i)}))},o=e;o>=0;o--)i(o);var s=function(e){var n=de(e)(t.selection);n.forEach((function(t){var n=t.node.attrs.rowspan+e-1;t.node.attrs.rowspan>1&&n>r&&(r=n)}))};for(o=e;o<=r;o++)s(o);var a=[];for(o=n;o<=r;o++){var l=de(o)(t.selection);l&&l.length&&a.push(o)}n=a[0],r=a[a.length-1];for(var c=de(n)(t.selection),u=ue(0)(t.selection),d=t.doc.resolve(c[c.length-1].pos),f=void 0,h=r;h>=n;h--){var p=de(h)(t.selection);if(p&&p.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===p[0].pos){f=p[0];break}if(f)break}}var g=t.doc.resolve(f.pos);return{$anchor:d,$head:g,indexes:a}}};t.isNodeSelection=y,t.canInsert=_,t.convertTableNodeToArrayOfRows=T,t.convertArrayOfRowsToTableNode=N,t.findParentNode=P,t.findParentNodeClosestToPos=B,t.findParentDomRef=j,t.hasParentNode=z,t.findParentNodeOfType=H,t.findParentNodeOfTypeClosestToPos=$,t.hasParentNodeOfType=V,t.findParentDomRefOfType=W,t.findSelectedNodeOfType=U,t.findPositionOfNodeBefore=q,t.findDomRefAtPos=G,t.flatten=K,t.findChildren=J,t.findTextNodes=Z,t.findInlineNodes=X,t.findBlockNodes=Y,t.findChildrenByAttr=Q,t.findChildrenByType=ee,t.findChildrenByMark=te,t.contains=ne,t.findTable=ie,t.isCellSelection=oe,t.getSelectionRect=se,t.isColumnSelected=ae,t.isRowSelected=le,t.isTableSelected=ce,t.getCellsInColumn=ue,t.getCellsInRow=de,t.getCellsInTable=fe,t.selectColumn=pe,t.selectRow=me,t.selectTable=ge,t.emptyCell=ve,t.addColumnAt=ye,t.moveRow=be,t.moveColumn=we,t.addRowAt=xe,t.cloneRowAt=ke,t.removeColumnAt=Ce,t.removeRowAt=Se,t.removeTable=_e,t.removeSelectedColumns=Me,t.removeSelectedRows=De,t.removeColumnClosestToPos=Ae,t.removeRowClosestToPos=Ee,t.forEachCellInColumn=Oe,t.forEachCellInRow=Te,t.setCellAttrs=Ne,t.createTable=Le,t.findCellClosestToPos=Ie,t.findCellRectClosestToPos=Re,t.getSelectionRangeInColumn=Pe,t.getSelectionRangeInRow=Be,t.removeParentNodeOfType=s,t.replaceParentNodeOfType=a,t.removeSelectedNode=l,t.replaceSelectedNode=c,t.setTextSelection=u,t.safeInsert=p,t.setParentNodeMarkup=m,t.selectParentNodeOfType=g,t.removeNodeBefore=v},9911:function(e,t,n){"use strict";var r=n("23e7"),i=n("857a"),o=n("af03");r({target:"String",proto:!0,forced:o("link")},{link:function(e){return i(this,"a","href",e)}})},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),s=n("861d"),a=n("7b0b"),l=n("50c4"),c=n("8418"),u=n("65f0"),d=n("1dde"),f=n("b622"),h=n("2d00"),p=f("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),y=d("concat"),b=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},w=!v||!y;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,r,i,o,s=a(this),d=u(s,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?s:arguments[t],b(o)){if(i=l(o.length),f+i>m)throw TypeError(g);for(n=0;n<i;n++,f++)n in o&&c(d,f,o[n])}else{if(f>=m)throw TypeError(g);c(d,f++,o)}return d.length=f,d}})},"9a1f":function(e,t,n){var r=n("825a"),i=n("35a1");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},"9bdd":function(e,t,n){var r=n("825a"),i=n("2a62");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(s){throw i(e),s}}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,c,!1,!0),a[c]=l,e}},"9f7f":function(e,t,n){"use strict";var r=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,n){"use strict";var r=n("23e7"),i=n("44ad"),o=n("fc6a"),s=n("a640"),a=[].join,l=i!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return a.call(o(this),void 0===e?",":e)}})},a48e:function(e,t){function n(){if(!window.viewPolyfill.iframeDummy){var e=document.createElement("iframe");e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.left="0px",e.style.top="0px",e.style.border="0",e.style.visibility="hidden",e.style.zIndex="-1",e.srcdoc="<!DOCTYPE html><html><body style='margin:0px; padding:0px'></body></html>",document.body.appendChild(e),window.viewPolyfill.iframeDummy=e}var t=window.viewPolyfill.iframeDummy,n=document.documentElement.getBoundingClientRect(),r=t.contentDocument.body;r.style.width="".concat(n.width,"px"),r.style.height="".concat(n.height,"px");var i=document.documentElement.style.overflow,o=document.scrollingElement.scrollTop;document.documentElement.style.overflow="hidden";var s=window.viewPolyfill.iframeDummy.contentWindow;window.viewPolyfill.unscaledInnerWidth=s.innerWidth,window.viewPolyfill.unscaledInnerHeight=s.innerHeight,document.documentElement.style.overflow=i,document.scrollingElement.scrollTop=o}function r(){for(var e=window.viewPolyfill.scrollEventListeners,t=0;t<e.length;t+=1)e[t]()}function i(){for(var e=window.viewPolyfill.resizeEventListeners,t=0;t<e.length;t+=1)e[t]()}function o(){var e=window.viewPolyfill.offsetLeftSinceLastChange!==window.visualViewport.offsetLeft||window.viewPolyfill.offsetTopSinceLastChange!==window.visualViewport.offsetTop,t=window.viewPolyfill.widthSinceLastChange!==window.visualViewport.width||window.viewPolyfill.heightSinceLastChange!==window.visualViewport.height||window.viewPolyfill.scaleSinceLastChange!==window.visualViewport.scale;window.viewPolyfill.offsetLeftSinceLastChange=window.visualViewport.offsetLeft,window.viewPolyfill.offsetTopSinceLastChange=window.visualViewport.offsetTop,window.viewPolyfill.widthSinceLastChange=window.visualViewport.width,window.viewPolyfill.heightSinceLastChange=window.visualViewport.height,window.viewPolyfill.scaleSinceLastChange=window.visualViewport.scale,e&&r(),t&&i(),setTimeout(o,500)}function s(){window.addEventListener("scroll",o,{passive:!0}),window.addEventListener("resize",o,{passive:!0}),window.addEventListener("resize",n,{passive:!0})}var a=navigator.userAgent.indexOf("Chrome")>-1,l=navigator.userAgent.indexOf("Safari")>-1,c=navigator.userAgent.indexOf("Edge")>-1;if(a&&l&&(l=!1),!window.visualViewport){var u=document.createElement("div");u.style.width="100%",u.style.height="100%",u.style.position=l?"fixed":"absolute",u.style.left="0px",u.style.top="0px",u.style.visibility="hidden",window.viewPolyfill={offsetLeftSinceLastChange:null,offsetTopSinceLastChange:null,widthSinceLastChange:null,heightSinceLastChange:null,scaleSinceLastChange:null,scrollEventListeners:[],resizeEventListeners:[],layoutDummy:u,iframeDummy:null,unscaledInnerWidth:0,unscaledInnerHeight:0},s(),n(),document.body.appendChild(u);var d={get offsetLeft(){return l?window.scrollX-(u.getBoundingClientRect().left*this.scale+window.scrollX*this.scale):window.scrollX+u.getBoundingClientRect().left},get offsetTop(){return l?window.scrollY-(u.getBoundingClientRect().top*this.scale+window.scrollY*this.scale):window.scrollY+u.getBoundingClientRect().top},get width(){var e=document.documentElement.clientWidth;if(c&&document.documentElement.clientWidth===window.viewPolyfill.unscaledInnerWidth&&this.scale>1){var t=document.documentElement.clientWidth,n=u.style.height;u.style.height="200%";var r=t-document.documentElement.clientWidth;u.style.width=n,e-=r}return e/this.scale},get height(){var e=document.documentElement.clientHeight;if(c&&document.documentElement.clientHeight===window.viewPolyfill.unscaledInnerHeight&&this.scale>1){var t=document.documentElement.clientHeight,n=u.style.width;u.style.width="200%";var r=t-document.documentElement.clientHeight;u.style.width=n,e-=r}return e/this.scale},get scale(){return window.viewPolyfill.unscaledInnerWidth/window.innerWidth},get pageLeft(){return window.scrollX},get pageTop(){return window.scrollY},addEventListener:function(e,t){"scroll"===e?window.viewPolyfill.scrollEventListeners.push(t):"resize"===e&&window.viewPolyfill.resizeEventListeners.push(t)}};window.visualViewport=d}},a4b4:function(e,t,n){var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),s=n("c430"),a=n("83ab"),l=n("4930"),c=n("fdbf"),u=n("d039"),d=n("5135"),f=n("e8b5"),h=n("861d"),p=n("825a"),m=n("7b0b"),g=n("fc6a"),v=n("c04e"),y=n("5c6c"),b=n("7c73"),w=n("df75"),x=n("241c"),k=n("057f"),C=n("7418"),S=n("06cf"),_=n("9bf2"),M=n("d1e7"),D=n("9112"),A=n("6eeb"),E=n("5692"),O=n("f772"),T=n("d012"),N=n("90e3"),L=n("b622"),I=n("e538"),R=n("746f"),F=n("d44e"),P=n("69f3"),B=n("b727").forEach,j=O("hidden"),z="Symbol",H="prototype",$=L("toPrimitive"),V=P.set,W=P.getterFor(z),U=Object[H],q=i.Symbol,G=o("JSON","stringify"),K=S.f,J=_.f,Z=k.f,X=M.f,Y=E("symbols"),Q=E("op-symbols"),ee=E("string-to-symbol-registry"),te=E("symbol-to-string-registry"),ne=E("wks"),re=i.QObject,ie=!re||!re[H]||!re[H].findChild,oe=a&&u((function(){return 7!=b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=K(U,t);r&&delete U[t],J(e,t,n),r&&e!==U&&J(U,t,r)}:J,se=function(e,t){var n=Y[e]=b(q[H]);return V(n,{type:z,tag:e,description:t}),a||(n.description=t),n},ae=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},le=function(e,t,n){e===U&&le(Q,t,n),p(e);var r=v(t,!0);return p(n),d(Y,r)?(n.enumerable?(d(e,j)&&e[j][r]&&(e[j][r]=!1),n=b(n,{enumerable:y(0,!1)})):(d(e,j)||J(e,j,y(1,{})),e[j][r]=!0),oe(e,r,n)):J(e,r,n)},ce=function(e,t){p(e);var n=g(t),r=w(n).concat(pe(n));return B(r,(function(t){a&&!de.call(n,t)||le(e,t,n[t])})),e},ue=function(e,t){return void 0===t?b(e):ce(b(e),t)},de=function(e){var t=v(e,!0),n=X.call(this,t);return!(this===U&&d(Y,t)&&!d(Q,t))&&(!(n||!d(this,t)||!d(Y,t)||d(this,j)&&this[j][t])||n)},fe=function(e,t){var n=g(e),r=v(t,!0);if(n!==U||!d(Y,r)||d(Q,r)){var i=K(n,r);return!i||!d(Y,r)||d(n,j)&&n[j][r]||(i.enumerable=!0),i}},he=function(e){var t=Z(g(e)),n=[];return B(t,(function(e){d(Y,e)||d(T,e)||n.push(e)})),n},pe=function(e){var t=e===U,n=Z(t?Q:g(e)),r=[];return B(n,(function(e){!d(Y,e)||t&&!d(U,e)||r.push(Y[e])})),r};if(l||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=N(e),n=function(e){this===U&&n.call(Q,e),d(this,j)&&d(this[j],t)&&(this[j][t]=!1),oe(this,t,y(1,e))};return a&&ie&&oe(U,t,{configurable:!0,set:n}),se(t,e)},A(q[H],"toString",(function(){return W(this).tag})),A(q,"withoutSetter",(function(e){return se(N(e),e)})),M.f=de,_.f=le,S.f=fe,x.f=k.f=he,C.f=pe,I.f=function(e){return se(L(e),e)},a&&(J(q[H],"description",{configurable:!0,get:function(){return W(this).description}}),s||A(U,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:q}),B(w(ne),(function(e){R(e)})),r({target:z,stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var n=q(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!a},{create:ue,defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:u((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(m(e))}}),G){var me=!l||u((function(){var e=q();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));r({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(h(t)||void 0!==e)&&!ae(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),i[1]=t,G.apply(null,i)}})}q[H][$]||D(q[H],$,q[H].valueOf),F(q,z),T[j]=!0},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),s=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:i})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a793:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".node_persona-image{position:relative;width:60px;height:60px;border:2px solid #eee;border-radius:30px;margin-right:16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;color:#929ca5;float:left}.persona-image__tag{width:60px;height:60px;-o-object-fit:cover;object-fit:cover}",""]),e.exports=t},a7be:function(e,t,n){var r=n("947f");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("7ec400c8",r,!0,{sourceMap:!1,shadowMode:!1})},a9e3:function(e,t,n){"use strict";var r=n("83ab"),i=n("da84"),o=n("94ca"),s=n("6eeb"),a=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),f=n("7c73"),h=n("241c").f,p=n("06cf").f,m=n("9bf2").f,g=n("58a8").trim,v="Number",y=i[v],b=y.prototype,w=l(f(b))==v,x=function(e){var t,n,r,i,o,s,a,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=g(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=c.slice(2),s=o.length,a=0;a<s;a++)if(l=o.charCodeAt(a),l<48||l>i)return NaN;return parseInt(o,r)}return+c};if(o(v,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var k,C=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof C&&(w?d((function(){b.valueOf.call(n)})):l(n)!=v)?c(new y(x(t)),n,C):x(t)},S=r?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),_=0;S.length>_;_++)a(y,k=S[_])&&!a(C,k)&&m(C,k,p(y,k));C.prototype=b,b.constructor=C,s(i,v,C)}},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("d039"),a=n("e163"),l=n("9112"),c=n("5135"),u=n("b622"),d=n("c430"),f=u("iterator"),h=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):h=!0);var m=void 0==r||s((function(){var e={};return r[f].call(e)!==e}));m&&(r={}),d&&!m||c(r,f)||l(r,f,p),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},af03:function(e,t,n){var r=n("d039");e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,l="name";r&&!(l in o)&&i(o,l,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},b50d:function(e,t,n){"use strict";var r=n("c532"),i=n("467f"),o=n("30b5"),s=n("83b9"),a=n("c345"),l=n("3934"),c=n("2d83");e.exports=function(e){return new Promise((function(t,u){var d=e.data,f=e.headers;r.isFormData(d)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+m)}var g=s(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?h.response:h.responseText,o={data:r,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};i(t,u,o),h=null}},h.onabort=function(){h&&(u(c("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){u(c("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(c(t,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var v=n("7aac"),y=(e.withCredentials||l(g))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in h&&r.forEach(f,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(b){if("json"!==e.responseType)throw b}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),u(e),h=null)})),void 0===d&&(d=null),h.send(d)}))}},b575:function(e,t,n){var r,i,o,s,a,l,c,u,d=n("da84"),f=n("06cf").f,h=n("2cf4").set,p=n("1cdc"),m=n("a4b4"),g=n("605d"),v=d.MutationObserver||d.WebKitMutationObserver,y=d.document,b=d.process,w=d.Promise,x=f(d,"queueMicrotask"),k=x&&x.value;k||(r=function(){var e,t;g&&(e=b.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},p||g||m||!v||!y?w&&w.resolve?(c=w.resolve(void 0),c.constructor=w,u=c.then,s=function(){u.call(c,r)}):s=g?function(){b.nextTick(r)}:function(){h.call(d,r)}:(a=!0,l=y.createTextNode(""),new v(r).observe(l,{characterData:!0}),s=function(){l.data=a=!a})),e.exports=k||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),l=n("fdbf"),c=i("wks"),u=r.Symbol,d=l?u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)&&(a||"string"==typeof c[e])||(a&&o(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),s=n("d039"),a=s((function(){o(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(e){return o(i(e))}})},b680:function(e,t,n){"use strict";var r=n("23e7"),i=n("a691"),o=n("408a"),s=n("1148"),a=n("d039"),l=1..toFixed,c=Math.floor,u=function(e,t,n){return 0===t?n:t%2===1?u(e,t-1,n*e):u(e*e,t/2,n)},d=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},f=function(e,t,n){var r=-1,i=n;while(++r<6)i+=t*e[r],e[r]=i%1e7,i=c(i/1e7)},h=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=c(r/t),r=r%t*1e7},p=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=String(e[t]);n=""===n?r:n+s.call("0",7-r.length)+r}return n},m=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){l.call({})}));r({target:"Number",proto:!0,forced:m},{toFixed:function(e){var t,n,r,a,l=o(this),c=i(e),m=[0,0,0,0,0,0],g="",v="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(t=d(l*u(2,69,1))-69,n=t<0?l*u(2,-t,1):l/u(2,t,1),n*=4503599627370496,t=52-t,t>0){f(m,0,n),r=c;while(r>=7)f(m,1e7,0),r-=7;f(m,u(10,r,1),0),r=t-1;while(r>=23)h(m,1<<23),r-=23;h(m,1<<r),f(m,1,1),h(m,2),v=p(m)}else f(m,0,n),f(m,1<<-t,0),v=p(m)+s.call("0",c);return c>0?(a=v.length,v=g+(a<=c?"0."+s.call("0",c-a)+v:v.slice(0,a-c)+"."+v.slice(a-c))):v=g+v,v}})},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,f=7==e,h=5==e||d;return function(p,m,g,v){for(var y,b,w=o(p),x=i(w),k=r(m,g,3),C=s(x.length),S=0,_=v||a,M=t?_(p,C):n||f?_(p,0):void 0;C>S;S++)if((h||S in x)&&(y=x[S],b=k(y,S,w),e))if(t)M[S]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:l.call(M,y)}else switch(e){case 4:return!1;case 7:l.call(M,y)}return d?-1:c||u?u:M}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},bc3a:function(e,t,n){e.exports=n("cee4")},bc8a:function(e,t,n){"use strict";n("5d02")},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c0c4:function(e,t,n){
/*! @license DOMPurify 2.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.0/LICENSE */
(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.hasOwnProperty,n=Object.setPrototypeOf,r=Object.isFrozen,i=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,s=Object.freeze,a=Object.seal,l=Object.create,c="undefined"!==typeof Reflect&&Reflect,u=c.apply,d=c.construct;u||(u=function(e,t,n){return e.apply(t,n)}),s||(s=function(e){return e}),a||(a=function(e){return e}),d||(d=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(e(n))))});var f=k(Array.prototype.forEach),h=k(Array.prototype.pop),p=k(Array.prototype.push),m=k(String.prototype.toLowerCase),g=k(String.prototype.match),v=k(String.prototype.replace),y=k(String.prototype.indexOf),b=k(String.prototype.trim),w=k(RegExp.prototype.test),x=C(TypeError);function k(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return u(e,t,r)}}function C(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(e,n)}}function S(e,t){n&&n(e,null);var i=t.length;while(i--){var o=t[i];if("string"===typeof o){var s=m(o);s!==o&&(r(t)||(t[i]=s),o=s)}e[o]=!0}return e}function _(e){var n=l(null),r=void 0;for(r in e)u(t,e,[r])&&(n[r]=e[r]);return n}function M(e,t){while(null!==e){var n=o(e,t);if(n){if(n.get)return k(n.get);if("function"===typeof n.value)return k(n.value)}e=i(e)}function r(e){return console.warn("fallback value for",e),null}return r}var D=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),E=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=s(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),T=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),N=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=s(["#text"]),I=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),R=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),j=a(/<%[\s\S]*|[\s\S]*%>/gm),z=a(/^data-[\-\w.\u00B7-\uFFFF]/),H=a(/^aria-[\-\w]+$/),$=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=a(/^(?:\w+script|data):/i),W=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function q(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var G=function(){return"undefined"===typeof window?null:window},K=function(e,t){if("object"!==("undefined"===typeof e?"undefined":U(e))||"function"!==typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(o){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G(),t=function(e){return J(e)};if(t.version="2.3.0",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,r=e.document,i=e.DocumentFragment,o=e.HTMLTemplateElement,a=e.Node,l=e.Element,c=e.NodeFilter,u=e.NamedNodeMap,d=void 0===u?e.NamedNodeMap||e.MozNamedAttrMap:u,k=e.Text,C=e.Comment,Z=e.DOMParser,X=e.trustedTypes,Y=l.prototype,Q=M(Y,"cloneNode"),ee=M(Y,"nextSibling"),te=M(Y,"childNodes"),ne=M(Y,"parentNode");if("function"===typeof o){var re=r.createElement("template");re.content&&re.content.ownerDocument&&(r=re.content.ownerDocument)}var ie=K(X,n),oe=ie&&Pe?ie.createHTML(""):"",se=r,ae=se.implementation,le=se.createNodeIterator,ce=se.createDocumentFragment,ue=se.getElementsByTagName,de=n.importNode,fe={};try{fe=_(r).documentMode?r.documentMode:{}}catch(vt){}var he={};t.isSupported="function"===typeof ne&&ae&&"undefined"!==typeof ae.createHTMLDocument&&9!==fe;var pe=B,me=j,ge=z,ve=H,ye=V,be=W,we=$,xe=null,ke=S({},[].concat(q(D),q(A),q(E),q(T),q(L))),Ce=null,Se=S({},[].concat(q(I),q(R),q(F),q(P))),_e=null,Me=null,De=!0,Ae=!0,Ee=!1,Oe=!1,Te=!1,Ne=!1,Le=!1,Ie=!1,Re=!1,Fe=!0,Pe=!1,Be=!0,je=!0,ze=!1,He={},$e=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,We=S({},["audio","video","img","source","image","track"]),Ue=null,qe=S({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml",Ze=Je,Xe=!1,Ye=null,Qe=r.createElement("form"),et=function(e){Ye&&Ye===e||(e&&"object"===("undefined"===typeof e?"undefined":U(e))||(e={}),e=_(e),xe="ALLOWED_TAGS"in e?S({},e.ALLOWED_TAGS):ke,Ce="ALLOWED_ATTR"in e?S({},e.ALLOWED_ATTR):Se,Ue="ADD_URI_SAFE_ATTR"in e?S(_(qe),e.ADD_URI_SAFE_ATTR):qe,Ve="ADD_DATA_URI_TAGS"in e?S(_(We),e.ADD_DATA_URI_TAGS):We,_e="FORBID_TAGS"in e?S({},e.FORBID_TAGS):{},Me="FORBID_ATTR"in e?S({},e.FORBID_ATTR):{},He="USE_PROFILES"in e&&e.USE_PROFILES,De=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,Ee=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=e.SAFE_FOR_TEMPLATES||!1,Te=e.WHOLE_DOCUMENT||!1,Ie=e.RETURN_DOM||!1,Re=e.RETURN_DOM_FRAGMENT||!1,Fe=!1!==e.RETURN_DOM_IMPORT,Pe=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,Be=!1!==e.SANITIZE_DOM,je=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,we=e.ALLOWED_URI_REGEXP||we,Ze=e.NAMESPACE||Je,Oe&&(Ae=!1),Re&&(Ie=!0),He&&(xe=S({},[].concat(q(L))),Ce=[],!0===He.html&&(S(xe,D),S(Ce,I)),!0===He.svg&&(S(xe,A),S(Ce,R),S(Ce,P)),!0===He.svgFilters&&(S(xe,E),S(Ce,R),S(Ce,P)),!0===He.mathMl&&(S(xe,T),S(Ce,F),S(Ce,P))),e.ADD_TAGS&&(xe===ke&&(xe=_(xe)),S(xe,e.ADD_TAGS)),e.ADD_ATTR&&(Ce===Se&&(Ce=_(Ce)),S(Ce,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&S(Ue,e.ADD_URI_SAFE_ATTR),je&&(xe["#text"]=!0),Te&&S(xe,["html","head","body"]),xe.table&&(S(xe,["tbody"]),delete _e.tbody),s&&s(e),Ye=e)},tt=S({},["mi","mo","mn","ms","mtext"]),nt=S({},["foreignobject","desc","title","annotation-xml"]),rt=S({},A);S(rt,E),S(rt,O);var it=S({},T);S(it,N);var ot=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Je,tagName:"template"});var n=m(e.tagName),r=m(t.tagName);if(e.namespaceURI===Ke)return t.namespaceURI===Je?"svg"===n:t.namespaceURI===Ge?"svg"===n&&("annotation-xml"===r||tt[r]):Boolean(rt[n]);if(e.namespaceURI===Ge)return t.namespaceURI===Je?"math"===n:t.namespaceURI===Ke?"math"===n&&nt[r]:Boolean(it[n]);if(e.namespaceURI===Je){if(t.namespaceURI===Ke&&!nt[r])return!1;if(t.namespaceURI===Ge&&!tt[r])return!1;var i=S({},["title","style","font","a","script"]);return!it[n]&&(i[n]||!rt[n])}return!1},st=function(e){p(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(vt){try{e.outerHTML=oe}catch(vt){e.remove()}}},at=function(e,n){try{p(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(vt){p(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),"is"===e&&!Ce[e])if(Ie||Re)try{st(n)}catch(vt){}else try{n.setAttribute(e,"")}catch(vt){}},lt=function(e){var t=void 0,n=void 0;if(Le)e="<remove></remove>"+e;else{var i=g(e,/^[\r\n\t ]+/);n=i&&i[0]}var o=ie?ie.createHTML(e):e;if(Ze===Je)try{t=(new Z).parseFromString(o,"text/html")}catch(vt){}if(!t||!t.documentElement){t=ae.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=Xe?"":o}catch(vt){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(r.createTextNode(n),s.childNodes[0]||null),Ze===Je?ue.call(t,Te?"html":"body")[0]:Te?t.documentElement:s},ct=function(e){return le.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},ut=function(e){return!(e instanceof k||e instanceof C)&&!("string"===typeof e.nodeName&&"string"===typeof e.textContent&&"function"===typeof e.removeChild&&e.attributes instanceof d&&"function"===typeof e.removeAttribute&&"function"===typeof e.setAttribute&&"string"===typeof e.namespaceURI&&"function"===typeof e.insertBefore)},dt=function(e){return"object"===("undefined"===typeof a?"undefined":U(a))?e instanceof a:e&&"object"===("undefined"===typeof e?"undefined":U(e))&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},ft=function(e,n,r){he[e]&&f(he[e],(function(e){e.call(t,n,r,Ye)}))},ht=function(e){var n=void 0;if(ft("beforeSanitizeElements",e,null),ut(e))return st(e),!0;if(g(e.nodeName,/[\u0080-\uFFFF]/))return st(e),!0;var r=m(e.nodeName);if(ft("uponSanitizeElement",e,{tagName:r,allowedTags:xe}),!dt(e.firstElementChild)&&(!dt(e.content)||!dt(e.content.firstElementChild))&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return st(e),!0;if(!xe[r]||_e[r]){if(je&&!$e[r]){var i=ne(e)||e.parentNode,o=te(e)||e.childNodes;if(o&&i)for(var s=o.length,a=s-1;a>=0;--a)i.insertBefore(Q(o[a],!0),ee(e))}return st(e),!0}return e instanceof l&&!ot(e)?(st(e),!0):"noscript"!==r&&"noembed"!==r||!w(/<\/no(script|embed)/i,e.innerHTML)?(Oe&&3===e.nodeType&&(n=e.textContent,n=v(n,pe," "),n=v(n,me," "),e.textContent!==n&&(p(t.removed,{element:e.cloneNode()}),e.textContent=n)),ft("afterSanitizeElements",e,null),!1):(st(e),!0)},pt=function(e,t,n){if(Be&&("id"===t||"name"===t)&&(n in r||n in Qe))return!1;if(Ae&&!Me[t]&&w(ge,t));else if(De&&w(ve,t));else{if(!Ce[t]||Me[t])return!1;if(Ue[t]);else if(w(we,v(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!Ve[e])if(Ee&&!w(ye,v(n,be,"")));else if(n)return!1}return!0},mt=function(e){var n=void 0,r=void 0,i=void 0,o=void 0;ft("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce};o=s.length;while(o--){n=s[o];var l=n,c=l.name,u=l.namespaceURI;if(r=b(n.value),i=m(c),a.attrName=i,a.attrValue=r,a.keepAttr=!0,a.forceKeepAttr=void 0,ft("uponSanitizeAttribute",e,a),r=a.attrValue,!a.forceKeepAttr&&(at(c,e),a.keepAttr))if(w(/\/>/i,r))at(c,e);else{Oe&&(r=v(r,pe," "),r=v(r,me," "));var d=e.nodeName.toLowerCase();if(pt(d,i,r))try{u?e.setAttributeNS(u,c,r):e.setAttribute(c,r),h(t.removed)}catch(vt){}}}ft("afterSanitizeAttributes",e,null)}},gt=function e(t){var n=void 0,r=ct(t);ft("beforeSanitizeShadowDOM",t,null);while(n=r.nextNode())ft("uponSanitizeShadowNode",n,null),ht(n)||(n.content instanceof i&&e(n.content),mt(n));ft("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(r,o){var s=void 0,l=void 0,c=void 0,u=void 0,d=void 0;if(Xe=!r,Xe&&(r="\x3c!--\x3e"),"string"!==typeof r&&!dt(r)){if("function"!==typeof r.toString)throw x("toString is not a function");if(r=r.toString(),"string"!==typeof r)throw x("dirty is not a string, aborting")}if(!t.isSupported){if("object"===U(e.toStaticHTML)||"function"===typeof e.toStaticHTML){if("string"===typeof r)return e.toStaticHTML(r);if(dt(r))return e.toStaticHTML(r.outerHTML)}return r}if(Ne||et(o),t.removed=[],"string"===typeof r&&(ze=!1),ze);else if(r instanceof a)s=lt("\x3c!----\x3e"),l=s.ownerDocument.importNode(r,!0),1===l.nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!Ie&&!Oe&&!Te&&-1===r.indexOf("<"))return ie&&Pe?ie.createHTML(r):r;if(s=lt(r),!s)return Ie?null:oe}s&&Le&&st(s.firstChild);var f=ct(ze?r:s);while(c=f.nextNode())3===c.nodeType&&c===u||ht(c)||(c.content instanceof i&&gt(c.content),mt(c),u=c);if(u=null,ze)return r;if(Ie){if(Re){d=ce.call(s.ownerDocument);while(s.firstChild)d.appendChild(s.firstChild)}else d=s;return Fe&&(d=de.call(n,d,!0)),d}var h=Te?s.outerHTML:s.innerHTML;return Oe&&(h=v(h,pe," "),h=v(h,me," ")),ie&&Pe?ie.createHTML(h):h},t.setConfig=function(e){et(e),Ne=!0},t.clearConfig=function(){Ye=null,Ne=!1},t.isValidAttribute=function(e,t,n){Ye||et({});var r=m(e),i=m(t);return pt(r,i,n)},t.addHook=function(e,t){"function"===typeof t&&(he[e]=he[e]||[],p(he[e],t))},t.removeHook=function(e){he[e]&&h(he[e])},t.removeHooks=function(e){he[e]&&(he[e]=[])},t.removeAllHooks=function(){he={}},t}var Z=J();return Z}))},c345:function(e,t,n){"use strict";var r=n("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},c401:function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},c430:function(e,t){e.exports=!1},c532:function(e,t,n){"use strict";var r=n("1d2b"),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return"undefined"===typeof e}function a(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function l(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return"undefined"!==typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function d(e){return"string"===typeof e}function f(e){return"number"===typeof e}function h(e){return null!==e&&"object"===typeof e}function p(e){return"[object Date]"===i.call(e)}function m(e){return"[object File]"===i.call(e)}function g(e){return"[object Blob]"===i.call(e)}function v(e){return"[object Function]"===i.call(e)}function y(e){return h(e)&&v(e.pipe)}function b(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function w(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document}function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function C(){var e={};function t(t,n){"object"===typeof e[n]&&"object"===typeof t?e[n]=C(e[n],t):e[n]=t}for(var n=0,r=arguments.length;n<r;n++)k(arguments[n],t);return e}function S(){var e={};function t(t,n){"object"===typeof e[n]&&"object"===typeof t?e[n]=S(e[n],t):e[n]="object"===typeof t?S({},t):t}for(var n=0,r=arguments.length;n<r;n++)k(arguments[n],t);return e}function _(e,t,n){return k(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e}e.exports={isArray:o,isArrayBuffer:l,isBuffer:a,isFormData:c,isArrayBufferView:u,isString:d,isNumber:f,isObject:h,isUndefined:s,isDate:p,isFile:m,isBlob:g,isFunction:v,isStream:y,isURLSearchParams:b,isStandardBrowserEnv:x,forEach:k,merge:C,deepMerge:S,extend:_,trim:w}},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c8af:function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c8d2:function(e,t,n){var r=n("d039"),i=n("5899"),o="​᠎";e.exports=function(e){return r((function(){return!!i[e]()||o[e]()!=o||i[e].name!==e}))}},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=i(e),l=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);while(t.length>l)r(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,o=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cc66:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"#bottombar{position:absolute;width:100%;left:0;bottom:0;top:0;height:48px;background-color:#f8f8f8;-webkit-transform-origin:left bottom;transform-origin:left bottom;z-index:30;will-change:transform;transform:translateZ(0);-webkit-transform:translateZ(0);perspective:1000;-webkit-perspective:1000;border-top:1px solid #ccc;border-bottom:1px solid #ccc}.mobile-menu{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:auto}.mobile-menu__item{background:none;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;background:transparent;border:0;color:#111;padding:6px;border-radius:4px;cursor:pointer;margin:8px 4px}.mobile-menu__item_active{background:#e4e4e4}.mobile-mark-menu{background-color:#f8f8f8;width:100%;position:relative;top:-72px;padding:8px 16px;-webkit-box-sizing:border-box;box-sizing:border-box;border-top:1px solid #ccc}.mobile-mark-menu__input-wrapper{position:relative}.mobile-mark-menu__input{background:none;border:none;width:100%;position:relative;line-height:16px;font-size:13px;padding:6px 28px 6px 12px;border-bottom:1px solid #ccc;color:#111;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0}.mobile-mark-menu__button{background-color:#548eaa;border:1px solid #75aeca;color:#fff;border-radius:3px;display:inline-block;font-size:13px;height:32px;line-height:32px;padding:0 16px}.mobile-mark-menu__button+.mobile-mark-menu__button{margin-left:16px}.mobile-mark-menu__button_transparent{background-color:transparent;border:1px solid #75aeca;color:#548eaa}.mobile-mark-menu__buttons{text-align:center;padding:8px}.mobile-mark-menu__input-button{position:absolute;right:0;top:4px;color:silver;background:none}.mobile-mark-menu__input-button:hover{color:#111}",""]),e.exports=t},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},cee4:function(e,t,n){"use strict";var r=n("c532"),i=n("1d2b"),o=n("0a06"),s=n("4a7b"),a=n("2444");function l(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=l(a);c.Axios=o,c.create=function(e){return l(s(c.defaults,e))},c.Cancel=n("7a77"),c.CancelToken=n("8df4"),c.isCancel=n("2e67"),c.all=function(e){return Promise.all(e)},c.spread=n("0df6"),e.exports=c,e.exports.default=c},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){var r=n("746f");r("iterator")},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d5c3:function(e,t,n){"use strict";n("155e")},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("9263"),o=n("d039"),s=n("b622"),a=n("9112"),l=s("species"),c=RegExp.prototype,u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),f=s("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var m=s(e),g=!o((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),v=g&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return t=!0,null},n[m](""),!t}));if(!g||!v||"replace"===e&&(!u||!d||h)||"split"===e&&!p){var y=/./[m],b=n(m,""[e],(function(e,t,n,r,o){var s=t.exec;return s===i||s===c.exec?g&&!o?{done:!0,value:y.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),w=b[0],x=b[1];r(String.prototype,e,w),r(c,m,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}f&&a(c[m],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=o("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d925:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},db62:function(e,t,n){"use strict";n("0c26")},dbb4:function(e,t,n){var r=n("23e7"),i=n("83ab"),o=n("56ef"),s=n("fc6a"),a=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=s(e),i=a.f,c=o(r),u={},d=0;while(c.length>d)n=i(r,t=c[d++]),void 0!==n&&l(u,t,n);return u}})},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("e260"),s=n("9112"),a=n("b622"),l=a("iterator"),c=a("toStringTag"),u=o.values;for(var d in i){var f=r[d],h=f&&f.prototype;if(h){if(h[l]!==u)try{s(h,l,u)}catch(m){h[l]=u}if(h[c]||s(h,c,d),i[d])for(var p in o)if(h[p]!==o[p])try{s(h,p,o[p])}catch(m){h[p]=o[p]}}}},de01:function(e,t,n){var r=n("a793");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("f4313cc0",r,!0,{sourceMap:!1,shadowMode:!1})},ded3:function(e,t,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=n("9523");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}e.exports=o,e.exports["default"]=e.exports,e.exports.__esModule=!0},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,l=0;l<s;l++)if(i[l]!==o[l]){a=l;break}var c=[];for(l=a;l<i.length;l++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),s=n("5135"),a=n("861d"),l=n("9bf2").f,c=n("e893"),u=o.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(f,u);var h=f.prototype=u.prototype;h.constructor=f;var p=h.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=p.call(e);if(s(d,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),a=o("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),l="Array Iterator",c=s.set,u=s.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e407:function(e,t,n){function r(e){var t=e.getAttribute("data-colwidth"),n=t&&/^\d+(,\d+)*$/.test(t)?t.split(",").map((function(e){return Number(e)})):null,r=Number(e.getAttribute("colspan")||1),i={colspan:r,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:n&&n.length===r?n:null};return i}function i(e){var t={};return 1!==e.attrs.colspan&&(t.colspan=e.attrs.colspan),1!==e.attrs.rowspan&&(t.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(t["data-colwidth"]=e.attrs.colwidth.join(","),t.width=e.attrs.colwidth[0]),t}function o(e){var t={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,toDOM:function(){return["div",{class:"table"},["table",["tbody",0]]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:t,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return r(e)}}],toDOM:function(e){return["td",i(e),0]}},table_header:{content:e.cellContent,attrs:t,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return r(e)}}],toDOM:function(e){return["th",i(e),0]}}}}function s(e){var t=e.cached.tableNodeTypes;return t||(t=e.cached.tableNodeTypes||{}),t}n("d81d"),n("ac1f"),n("1276"),n("a9e3"),n("a15b"),e.exports={tableNodeTypes:s,tableNodes:o}},e439:function(e,t,n){var r=n("23e7"),i=n("d039"),o=n("fc6a"),s=n("06cf").f,a=n("83ab"),l=i((function(){s(1)})),c=!a||l;r({target:"Object",stat:!0,forced:c,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e67d:function(e,t){function n(e){return"function"===typeof e.value||(console.warn("[Vue-click-outside:] provided expression",e.expression,"is not a function."),!1)}function r(e,t){if(!e||!t)return!1;for(var n=0,r=t.length;n<r;n++)try{if(e.contains(t[n]))return!0;if(t[n].contains(e))return!1}catch(i){return!1}return!1}function i(e){return"undefined"!==typeof e.componentInstance&&e.componentInstance.$isServer}e.exports={bind:function(e,t,o){if(!n(t))return;function s(t){if(o.context){var n=t.path||t.composedPath&&t.composedPath();n&&n.length>0&&n.unshift(t.target),e.contains(t.target)||r(o.context.popupItem,n)||e.__vueClickOutside__.callback(t)}}e.__vueClickOutside__={handler:s,callback:t.value};const a="ontouchstart"in document.documentElement?"touchstart":"click";!i(o)&&document.addEventListener(a,s)},update:function(e,t){n(t)&&(e.__vueClickOutside__.callback=t.value)},unbind:function(e,t,n){const r="ontouchstart"in document.documentElement?"touchstart":"click";!i(n)&&e.__vueClickOutside__&&document.removeEventListener(r,e.__vueClickOutside__.handler),delete e.__vueClickOutside__}}},e683:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e6cf:function(e,t,n){"use strict";var r,i,o,s,a=n("23e7"),l=n("c430"),c=n("da84"),u=n("d066"),d=n("fea9"),f=n("6eeb"),h=n("e2cc"),p=n("d2bb"),m=n("d44e"),g=n("2626"),v=n("861d"),y=n("1c0b"),b=n("19aa"),w=n("8925"),x=n("2266"),k=n("1c7e"),C=n("4840"),S=n("2cf4").set,_=n("b575"),M=n("cdf9"),D=n("44de"),A=n("f069"),E=n("e667"),O=n("69f3"),T=n("94ca"),N=n("b622"),L=n("6069"),I=n("605d"),R=n("2d00"),F=N("species"),P="Promise",B=O.get,j=O.set,z=O.getterFor(P),H=d&&d.prototype,$=d,V=H,W=c.TypeError,U=c.document,q=c.process,G=A.f,K=G,J=!!(U&&U.createEvent&&c.dispatchEvent),Z="function"==typeof PromiseRejectionEvent,X="unhandledrejection",Y="rejectionhandled",Q=0,ee=1,te=2,ne=1,re=2,ie=!1,oe=T(P,(function(){var e=w($)!==String($);if(!e&&66===R)return!0;if(l&&!V["finally"])return!0;if(R>=51&&/native code/.test($))return!1;var t=new $((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[F]=n,ie=t.then((function(){}))instanceof n,!ie||!e&&L&&!Z})),se=oe||!k((function(e){$.all(e)["catch"]((function(){}))})),ae=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},le=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;_((function(){var r=e.value,i=e.state==ee,o=0;while(n.length>o){var s,a,l,c=n[o++],u=i?c.ok:c.fail,d=c.resolve,f=c.reject,h=c.domain;try{u?(i||(e.rejection===re&&fe(e),e.rejection=ne),!0===u?s=r:(h&&h.enter(),s=u(r),h&&(h.exit(),l=!0)),s===c.promise?f(W("Promise-chain cycle")):(a=ae(s))?a.call(s,d,f):d(s)):f(r)}catch(p){h&&!l&&h.exit(),f(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ue(e)}))}},ce=function(e,t,n){var r,i;J?(r=U.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!Z&&(i=c["on"+e])?i(r):e===X&&D("Unhandled promise rejection",n)},ue=function(e){S.call(c,(function(){var t,n=e.facade,r=e.value,i=de(e);if(i&&(t=E((function(){I?q.emit("unhandledRejection",r,n):ce(X,n,r)})),e.rejection=I||de(e)?re:ne,t.error))throw t.value}))},de=function(e){return e.rejection!==ne&&!e.parent},fe=function(e){S.call(c,(function(){var t=e.facade;I?q.emit("rejectionHandled",t):ce(Y,t,e.value)}))},he=function(e,t,n){return function(r){e(t,r,n)}},pe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=te,le(e,!0))},me=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw W("Promise can't be resolved itself");var r=ae(t);r?_((function(){var n={done:!1};try{r.call(t,he(me,n,e),he(pe,n,e))}catch(i){pe(n,i,e)}})):(e.value=t,e.state=ee,le(e,!1))}catch(i){pe({done:!1},i,e)}}};if(oe&&($=function(e){b(this,$,P),y(e),r.call(this);var t=B(this);try{e(he(me,t),he(pe,t))}catch(n){pe(t,n)}},V=$.prototype,r=function(e){j(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Q,value:void 0})},r.prototype=h(V,{then:function(e,t){var n=z(this),r=G(C(this,$));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=I?q.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Q&&le(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=B(e);this.promise=e,this.resolve=he(me,t),this.reject=he(pe,t)},A.f=G=function(e){return e===$||e===o?new i(e):K(e)},!l&&"function"==typeof d&&H!==Object.prototype)){s=H.then,ie||(f(H,"then",(function(e,t){var n=this;return new $((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),f(H,"catch",V["catch"],{unsafe:!0}));try{delete H.constructor}catch(ge){}p&&p(H,V)}a({global:!0,wrap:!0,forced:oe},{Promise:$}),m($,P,!1,!0),g(P),o=u(P),a({target:P,stat:!0,forced:oe},{reject:function(e){var t=G(this);return t.reject.call(void 0,e),t.promise}}),a({target:P,stat:!0,forced:l||oe},{resolve:function(e){return M(l&&this===o?$:this,e)}}),a({target:P,stat:!0,forced:se},{all:function(e){var t=this,n=G(t),r=n.resolve,i=n.reject,o=E((function(){var n=y(t.resolve),o=[],s=0,a=1;x(e,(function(e){var l=s++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[l]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=G(t),r=n.reject,i=E((function(){var i=y(t.resolve);x(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),a=s.f,l=o.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||a(e,u,l(t,u))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=Object(e),s))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f6b4:function(e,t,n){"use strict";var r=n("c532");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.label?n("div",{staticClass:"editor__label"},[this.validation&&e.validation.required?n("span",{staticClass:"editor__label_required"},[e._v(" * ")]):e._e(),e._v(" "+e._s(e.label)+" ")]):e._e(),n("div",{ref:"editor",staticClass:"editor",class:{editor_errored:e.error,editor_mobile:e.isMobile}},[e.isMobile?e._e():n("block-menu",{attrs:{editor:e.editor,match:e.blockMenuMatch,json:e.json.content,extensions:e.config.extensions,lang:e.lang}}),e.isMobile?e._e():n("inline-menu",{directives:[{name:"show",rawName:"v-show",value:e.showInlineMenu,expression:"showInlineMenu"}],attrs:{editor:e.editor,match:e.inlineMenuMatch,json:e.json.content,extensions:e.config.extensions,lang:e.lang}}),n("mention-menu",{directives:[{name:"show",rawName:"v-show",value:e.showMentionMenu,expression:"showMentionMenu"}],attrs:{editor:e.editor,match:e.mentionMenuMatch,json:e.json.content,extensions:e.config.extensions,lang:e.lang}}),e.isMobile?e._e():n("bubble-menu",{attrs:{match:e.bubbleMenuMatch,lang:e.lang,editor:e.editor,extensions:e.config.extensions}}),e.isMobile&&e.editorReady?n("mobile-menu",{attrs:{"block-menu-match":e.blockMenuMatch,"bubble-menu-match":e.bubbleMenuMatch,"inline-menu-match":e.inlineMenuMatch,lang:e.lang,editor:e.editor,extensions:e.config.extensions,json:e.json.content}}):e._e(),e.showTableMenu?n("bubble-table-menu",{attrs:{lang:e.lang,editor:e.editor}}):e._e(),n("editor-content",{ref:"editorContent",staticClass:"editor__content",attrs:{editor:e.editor}}),e.config.JSONTextareaName?n("textarea",{staticStyle:{display:"none"},attrs:{name:e.config.JSONTextareaName,form:e.config.formName},domProps:{value:JSON.stringify(this.json)}}):e._e(),e.config.HTMLTextareaName?n("textarea",{staticStyle:{display:"none"},attrs:{name:e.config.HTMLTextareaName,form:e.config.formName},domProps:{value:this.html}}):e._e()],1),e.error?n("p",{staticClass:"editor__error"},[e._v(" "+e._s(e.error)+" ")]):e.description?n("p",{staticClass:"editor__description",domProps:{innerHTML:e._s(e.description)}}):e._e()])},a=[];function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){if(Array.isArray(e))return u(e)}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e){return d(e)||f(e)||h(e)||p()}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("e260"),n("3ca3"),n("ddb0"),n("a630"),n("fb6a"),n("b0c0"),n("b64b"),n("4de4"),n("e439"),n("159b"),n("dbb4"),n("cca6"),n("2ca0"),n("99af"),n("18a5");var y=n("bc3a"),b=n.n(y),w=n("5313"),x=n("576a"),k=n("304a"),C=n("0ac0");function S(e){return void 0===e&&(e={}),new w["Plugin"]({view:function(t){return new _(t,e)}})}var _=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(t){var r=function(e){return n[t](e)};return e.dom.addEventListener(t,r),{name:t,handler:r}}))};_.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var n=t.name,r=t.handler;return e.editorView.dom.removeEventListener(n,r)}))},_.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())},_.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},_.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,r=t.nodeAfter;if(n||r){var i=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),o=n?i.bottom:i.top;n&&r&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:i.left,right:i.right,top:o-this.width/2,bottom:o+this.width/2}}}if(!e){var s=this.editorView.coordsAtPos(this.cursorPos);e={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)a=-pageXOffset,l=-pageYOffset;else{var u=c.getBoundingClientRect();a=u.left-c.scrollLeft,l=u.top-c.scrollTop}this.element.style.left=e.left-a+"px",this.element.style.top=e.top-l+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"},_.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},_.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var n=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(n=Object(C["h"])(this.editorView.state.doc,n,this.editorView.dragging.slice),null==n))return this.setCursor(null);this.setCursor(n),this.scheduleRemoval(5e3)}}},_.prototype.dragend=function(){this.scheduleRemoval(20)},_.prototype.drop=function(){this.scheduleRemoval(20)},_.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)};var M=n("7f06"),D=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var i=n.resolve(r.map(this.head));return t.valid(i)?new t(i):e.near(i)},t.prototype.content=function(){return k["Slice"].empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new A(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!E(e)||!O(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock},t.findFrom=function(e,n,r){e:for(;;){if(!r&&t.valid(e))return e;for(var i=e.pos,o=null,s=e.depth;;s--){var a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}if(0==s)return null;i+=n;var l=e.doc.resolve(i);if(t.valid(l))return l}for(;;){var c=n>0?o.firstChild:o.lastChild;if(!c){if(o.isAtom&&!o.isText&&!w["NodeSelection"].isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=c,i+=n;var u=e.doc.resolve(i);if(t.valid(u))return u}return null}},t}(w["Selection"]);D.prototype.visible=!1,w["Selection"].jsonID("gapcursor",D);var A=function(e){this.pos=e};function E(e){for(var t=e.depth;t>=0;t--){var n=e.index(t);if(0!=n)for(var r=e.node(t).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function O(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var i=r.child(n);;i=i.firstChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}A.prototype.map=function(e){return new A(e.map(this.pos))},A.prototype.resolve=function(e){var t=e.resolve(this.pos);return D.valid(t)?new D(t):w["Selection"].near(t)};var T=function(){return new w["Plugin"]({props:{decorations:R,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&D.valid(n))return new D(n)},handleClick:I,handleKeyDown:N}})},N=Object(M["a"])({ArrowLeft:L("horiz",-1),ArrowRight:L("horiz",1),ArrowUp:L("vert",-1),ArrowDown:L("vert",1)});function L(e,t){var n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,i){var o=e.selection,s=t>0?o.$to:o.$from,a=o.empty;if(o instanceof w["TextSelection"]){if(!i.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}var l=D.findFrom(s,t,a);return!!l&&(r&&r(e.tr.setSelection(new D(l))),!0)}}function I(e,t,n){if(!e.editable)return!1;var r=e.state.doc.resolve(t);if(!D.valid(r))return!1;var i=e.posAtCoords({left:n.clientX,top:n.clientY}),o=i.inside;return!(o>-1&&w["NodeSelection"].isSelectable(e.state.doc.nodeAt(o)))&&(e.dispatch(e.state.tr.setSelection(new D(r))),!0)}function R(e){if(!(e.selection instanceof D))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",x["b"].create(e.doc,[x["a"].widget(e.selection.head,t,{key:"gapcursor"})])}function F(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function P(e,t,n){var r=e.selection,i=r.$cursor;if(!i||(n?!n.endOfTextblock("backward",e):i.parentOffset>0))return!1;var o=z(i);if(!o){var s=i.blockRange(),a=s&&Object(C["k"])(s);return null!=a&&(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)}var l=o.nodeBefore;if(!l.type.spec.isolating&&Q(e,o,t))return!0;if(0==i.parent.content.size&&(B(l,"end")||w["NodeSelection"].isSelectable(l))){if(t){var c=e.tr.deleteRange(i.before(),i.after());c.setSelection(B(l,"end")?w["Selection"].findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):w["NodeSelection"].create(c.doc,o.pos-l.nodeSize)),t(c.scrollIntoView())}return!0}return!(!l.isAtom||o.depth!=i.depth-1)&&(t&&t(e.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0)}function B(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function j(e,t,n){var r=e.selection,i=r.$head,o=r.empty,s=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):i.parentOffset>0)return!1;s=z(i)}var a=s&&s.nodeBefore;return!(!a||!w["NodeSelection"].isSelectable(a))&&(t&&t(e.tr.setSelection(w["NodeSelection"].create(e.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)}function z(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function H(e,t,n){var r=e.selection,i=r.$cursor;if(!i||(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size))return!1;var o=V(i);if(!o)return!1;var s=o.nodeAfter;if(Q(e,o,t))return!0;if(0==i.parent.content.size&&(B(s,"start")||w["NodeSelection"].isSelectable(s))){if(t){var a=e.tr.deleteRange(i.before(),i.after());a.setSelection(B(s,"start")?w["Selection"].findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):w["NodeSelection"].create(a.doc,a.mapping.map(o.pos))),t(a.scrollIntoView())}return!0}return!(!s.isAtom||o.depth!=i.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0)}function $(e,t,n){var r=e.selection,i=r.$head,o=r.empty,s=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return!1;s=V(i)}var a=s&&s.nodeAfter;return!(!a||!w["NodeSelection"].isSelectable(a))&&(t&&t(e.tr.setSelection(w["NodeSelection"].create(e.doc,s.pos)).scrollIntoView()),!0)}function V(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function W(e,t){var n=e.selection,r=n.$from,i=n.$to,o=r.blockRange(i),s=o&&Object(C["k"])(o);return null!=s&&(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)}function U(e,t){var n=e.selection,r=n.$head,i=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(i))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}function q(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function G(e,t){var n=e.selection,r=n.$head,i=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;var o=r.node(-1),s=r.indexAfter(-1),a=q(o.contentMatchAt(s));if(!o.canReplaceWith(s,s,a))return!1;if(t){var l=r.after(),c=e.tr.replaceWith(l,l,a.createAndFill());c.setSelection(w["Selection"].near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0}function K(e,t){var n=e.selection,r=n.$from,i=n.$to;if(n instanceof w["AllSelection"]||r.parent.inlineContent||i.parent.inlineContent)return!1;var o=q(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){var s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(s,o.createAndFill());a.setSelection(w["TextSelection"].create(a.doc,s+1)),t(a.scrollIntoView())}return!0}function J(e,t){var n=e.selection,r=n.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var i=r.before();if(Object(C["g"])(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}var o=r.blockRange(),s=o&&Object(C["k"])(o);return null!=s&&(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)}function Z(e,t){var n=e.selection,r=n.$from,i=n.$to;if(e.selection instanceof w["NodeSelection"]&&e.selection.node.isBlock)return!(!r.parentOffset||!Object(C["g"])(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof w["TextSelection"]||e.selection instanceof w["AllSelection"])&&s.deleteSelection();var a=0==r.depth?null:q(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=o&&a?[{type:a}]:null,c=Object(C["g"])(s.doc,s.mapping.map(r.pos),1,l);if(l||c||!Object(C["g"])(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(r.pos),1,l),!o&&!r.parentOffset&&r.parent.type!=a)){var u=s.mapping.map(r.before()),d=s.doc.resolve(u);r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}t(s.scrollIntoView())}return!0}function X(e,t){return t&&t(e.tr.setSelection(new w["AllSelection"](e.doc))),!0}function Y(e,t,n){var r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!!(r&&i&&r.type.compatibleContent(i.type))&&(!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(o,o+1)||!i.isTextblock&&!Object(C["f"])(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}function Q(e,t,n){var r,i,o=t.nodeBefore,s=t.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return!1;if(Y(e,t,n))return!0;var a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&i.matchType(r[0]||s.type).validEnd){if(n){for(var l=t.pos+s.nodeSize,c=k["Fragment"].empty,u=r.length-1;u>=0;u--)c=k["Fragment"].from(r[u].create(null,c));c=k["Fragment"].from(o.copy(c));var d=e.tr.step(new C["b"](t.pos-1,l,t.pos,l,new k["Slice"](c,1,0),r.length,!0)),f=l+2*r.length;Object(C["f"])(d.doc,f)&&d.join(f),n(d.scrollIntoView())}return!0}var h=w["Selection"].findFrom(t,1),p=h&&h.$from.blockRange(h.$to),m=p&&Object(C["k"])(p);if(null!=m&&m>=t.depth)return n&&n(e.tr.lift(p,m).scrollIntoView()),!0;if(a&&s.isTextblock&&B(o,"end")){for(var g=o,v=[];;){if(v.push(g),g.isTextblock)break;g=g.lastChild}if(g.canReplace(g.childCount,g.childCount,s.content)){if(n){for(var y=k["Fragment"].empty,b=v.length-1;b>=0;b--)y=k["Fragment"].from(v[b].copy(y));var x=e.tr.step(new C["b"](t.pos-v.length,t.pos+s.nodeSize,t.pos+1,t.pos+s.nodeSize-1,new k["Slice"](y,v.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function ee(e,t){return function(n,r){var i=n.selection,o=i.$from,s=i.$to,a=o.blockRange(s),l=a&&Object(C["i"])(a,e,t);return!!l&&(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0)}}function te(e,t){return function(n,r){var i=n.selection,o=i.from,s=i.to,a=!1;return n.doc.nodesBetween(o,s,(function(r,i){if(a)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)a=!0;else{var o=n.doc.resolve(i),s=o.index();a=o.parent.canReplaceWith(s,s+1,e)}})),!!a&&(r&&r(n.tr.setBlockType(o,s,e,t).scrollIntoView()),!0)}}function ne(e,t,n){for(var r=function(r){var i=t[r],o=i.$from,s=i.$to,a=0==o.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,s.pos,(function(e){if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return{v:!0}},i=0;i<t.length;i++){var o=r(i);if(o)return o.v}return!1}function re(e,t){return function(n,r){var i=n.selection,o=i.empty,s=i.$cursor,a=i.ranges;if(o&&!s||!ne(n.doc,a,e))return!1;if(r)if(s)e.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var l=!1,c=n.tr,u=0;!l&&u<a.length;u++){var d=a[u],f=d.$from,h=d.$to;l=n.doc.rangeHasMark(f.pos,h.pos,e)}for(var p=0;p<a.length;p++){var m=a[p],g=m.$from,v=m.$to;if(l)c.removeMark(g.pos,v.pos,e);else{var y=g.pos,b=v.pos,w=g.nodeAfter,x=v.nodeBefore,k=w&&w.isText?/^\s*/.exec(w.text)[0].length:0,C=x&&x.isText?/\s*$/.exec(x.text)[0].length:0;y+k<b&&(y+=k,b-=C),c.addMark(y,b,e.create(t))}}r(c.scrollIntoView())}return!0}}function ie(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];return function(t,n,r){for(var i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}var oe=ie(F,P,j),se=ie(F,H,$),ae={Enter:ie(U,K,J,Z),"Mod-Enter":G,Backspace:oe,"Mod-Backspace":oe,Delete:se,"Mod-Delete":se,"Mod-a":X},le={"Ctrl-h":ae["Backspace"],"Alt-Backspace":ae["Mod-Backspace"],"Ctrl-d":ae["Delete"],"Ctrl-Alt-Backspace":ae["Mod-Delete"],"Alt-Delete":ae["Mod-Delete"],"Alt-d":ae["Mod-Delete"]};for(var ce in ae)le[ce]=ae[ce];var ue="undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform(),de=ue?le:ae,fe=function(e,t){this.match=e,this.handler="string"==typeof t?he(t):t};function he(e){return function(t,n,r,i){var o=e;if(n[1]){var s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length),r+=s;var a=r-i;a>0&&(o=n[0].slice(s-a,s)+o,r=i)}return t.tr.insertText(o,r,i)}}var pe=500;function me(e){var t=e.rules,n=new w["Plugin"]({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,i,o){return ge(e,r,i,o,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var r=e.state.selection,i=r.$cursor;i&&ge(e,i.pos,i.pos,"",t,n)}))}}},isInputRules:!0});return n}function ge(e,t,n,r,i,o){if(e.composing)return!1;var s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;for(var l=a.parent.textBetween(Math.max(0,a.parentOffset-pe),a.parentOffset,null,"￼")+r,c=0;c<i.length;c++){var u=i[c].match.exec(l),d=u&&i[c].handler(s,u,t-(u[0].length-r.length),n);if(d)return e.dispatch(d.setMeta(o,{transform:d,from:t,to:n,text:r})),!0}return!1}function ve(e,t){for(var n=e.plugins,r=0;r<n.length;r++){var i=n[r],o=void 0;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){for(var s=e.tr,a=o.transform,l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(o.text){var c=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,c))}else s.delete(o.from,o.to);t(s)}return!0}}return!1}function ye(e,t,n,r){return new fe(e,(function(e,i,o,s){var a=n instanceof Function?n(i):n,l=e.tr.delete(o,s),c=l.doc.resolve(o),u=c.blockRange(),d=u&&Object(C["i"])(u,t,a);if(!d)return null;l.wrap(u,d);var f=l.doc.resolve(o-1).nodeBefore;return f&&f.type==t&&Object(C["f"])(l.doc,o-1)&&(!r||r(i,f))&&l.join(o-1),l}))}function be(e,t,n){return new fe(e,(function(e,r,i,o){var s=e.doc.resolve(i),a=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(i,o).setBlockType(i,i,t,a):null}))}
/*!
    * tiptap-utils v1.13.0
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */function we(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e}function xe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function ke(e){return t=>xe(t.$from,e)}function Ce(e){return e instanceof w["NodeSelection"]}function Se(e){return function(t){if(Ce(t)){const{node:n}=t,{$from:r}=t;if(we(e,n))return{node:n,pos:r.pos,depth:r.depth}}}}function _e(e,t){const{from:n,to:r}=e.selection;let i=[];e.doc.nodesBetween(n,r,e=>{i=[...i,...e.marks]});const o=i.find(e=>e.type.name===t.name);return o?o.attrs:{}}function Me(e=null,t=null){if(!e||!t)return!1;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;const r=n.node.marks.find(e=>e.type===t);if(!r)return!1;let i=e.index(),o=e.start()+n.offset,s=i+1,a=o+n.node.nodeSize;while(i>0&&r.isInSet(e.parent.child(i-1).marks))i-=1,o-=e.parent.child(i).nodeSize;while(s<e.parent.childCount&&r.isInSet(e.parent.child(s).marks))a+=e.parent.child(s).nodeSize,s+=1;return{from:o,to:a}}function De(e,t){const{from:n,to:r}=e.selection;let i=[];e.doc.nodesBetween(n,r,e=>{i=[...i,e]});const o=i.reverse().find(e=>e.type.name===t.name);return o?o.attrs:{}}function Ae(e,t){const{from:n,$from:r,to:i,empty:o}=e.selection;return o?!!t.isInSet(e.storedMarks||r.marks()):!!e.doc.rangeHasMark(n,i,t)}function Ee({types:e,node:t}){return Array.isArray(e)&&e.includes(t.type)||t.type===e}function Oe(e,t,n={}){const r=e=>e.type===t,i=Se(t)(e.selection)||ke(r)(e.selection);return Object.keys(n).length&&i?i.node.hasMarkup(t,{...i.node.attrs,...n}):!!i}new fe(/--$/,"—"),new fe(/\.\.\.$/,"…"),new fe(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new fe(/"$/,"”"),new fe(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new fe(/'$/,"’");var Te=n("8bbf"),Ne=n.n(Te);function Le(e,t){return function(n,r){var i=n.selection,o=i.$from,s=i.$to,a=o.blockRange(s),l=!1,c=a;if(!a)return!1;if(a.depth>=2&&o.node(a.depth-1).type.compatibleContent(e)&&0==a.startIndex){if(0==o.index(a.depth-1))return!1;var u=n.doc.resolve(a.start-2);c=new k["NodeRange"](u,u,a.depth),a.endIndex<a.parent.childCount&&(a=new k["NodeRange"](o,n.doc.resolve(s.end(a.depth)),a.depth)),l=!0}var d=Object(C["i"])(c,e,t,a);return!!d&&(r&&r(Ie(n.tr,a,d,l,e).scrollIntoView()),!0)}}function Ie(e,t,n,r,i){for(var o=k["Fragment"].empty,s=n.length-1;s>=0;s--)o=k["Fragment"].from(n[s].type.create(n[s].attrs,o));e.step(new C["b"](t.start-(r?2:0),t.end,t.start,t.end,new k["Slice"](o,0,0),n.length,!0));for(var a=0,l=0;l<n.length;l++)n[l].type==i&&(a=l+1);for(var c=n.length-a,u=t.start+n.length-(r?2:0),d=t.parent,f=t.startIndex,h=t.endIndex,p=!0;f<h;f++,p=!1)!p&&Object(C["g"])(e.doc,u,c)&&(e.split(u,c),u+=2*c),u+=d.child(f).nodeSize;return e}function Re(e){return function(t,n){var r=t.selection,i=r.$from,o=r.$to,s=r.node;if(s&&s.isBlock||i.depth<2||!i.sameParent(o))return!1;var a=i.node(-1);if(a.type!=e)return!1;if(0==i.parent.content.size&&i.node(-1).childCount==i.indexAfter(-1)){if(2==i.depth||i.node(-3).type!=e||i.index(-2)!=i.node(-2).childCount-1)return!1;if(n){for(var l=k["Fragment"].empty,c=i.index(-1)>0,u=i.depth-(c?1:2);u>=i.depth-3;u--)l=k["Fragment"].from(i.node(u).copy(l));l=l.append(k["Fragment"].from(e.createAndFill()));var d=t.tr.replace(i.before(c?null:-1),i.after(-3),new k["Slice"](l,c?3:2,2));d.setSelection(t.selection.constructor.near(d.doc.resolve(i.pos+(c?3:2)))),n(d.scrollIntoView())}return!0}var f=o.pos==i.end()?a.contentMatchAt(0).defaultType:null,h=t.tr.delete(i.pos,o.pos),p=f&&[null,{type:f}];return!!Object(C["g"])(h.doc,i.pos,2,p)&&(n&&n(h.split(i.pos,2,p).scrollIntoView()),!0)}}function Fe(e){return function(t,n){var r=t.selection,i=r.$from,o=r.$to,s=i.blockRange(o,(function(t){return t.childCount&&t.firstChild.type==e}));return!!s&&(!n||(i.node(s.depth-1).type==e?Pe(t,n,e,s):Be(t,n,s)))}}function Pe(e,t,n,r){var i=e.tr,o=r.end,s=r.$to.end(r.depth);return o<s&&(i.step(new C["b"](o-1,s,o,s,new k["Slice"](k["Fragment"].from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new k["NodeRange"](i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth)),t(i.lift(r,Object(C["k"])(r)).scrollIntoView()),!0}function Be(e,t,n){for(var r=e.tr,i=n.parent,o=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)o-=i.child(s).nodeSize,r.delete(o-1,o+1);var l=r.doc.resolve(n.start),c=l.nodeAfter,u=0==n.startIndex,d=n.endIndex==i.childCount,f=l.node(-1),h=l.index(-1);if(!f.canReplace(h+(u?0:1),h+1,c.content.append(d?k["Fragment"].empty:k["Fragment"].from(i))))return!1;var p=l.pos,m=p+c.nodeSize;return r.step(new C["b"](p-(u?1:0),m+(d?1:0),p+1,m-1,new k["Slice"]((u?k["Fragment"].empty:k["Fragment"].from(i.copy(k["Fragment"].empty))).append(d?k["Fragment"].empty:k["Fragment"].from(i.copy(k["Fragment"].empty))),u?0:1,d?0:1),u?0:1)),t(r.scrollIntoView()),!0}function je(e,t,n){let r=[];return n.doc.nodesBetween(e,t,(e,t)=>{r=[...r,...e.marks.map(n=>({start:t,end:t+e.nodeSize,mark:n}))]}),r}function ze(e,t,n){return new fe(e,(e,r,i,o)=>{const s=n instanceof Function?n(r):n,{tr:a}=e,l=r.length-1;let c=o,u=i;if(r[l]){const n=i+r[0].indexOf(r[l-1]),s=n+r[l-1].length-1,d=n+r[l-1].lastIndexOf(r[l]),f=d+r[l].length,h=je(i,o,e).filter(e=>{const{excluded:n}=e.mark.type;return n.find(e=>e.name===t.name)}).filter(e=>e.end>n);if(h.length)return!1;f<s&&a.delete(f,s),d>n&&a.delete(n,d),u=n,c=u+r[l].length}return a.addMark(u,c,t.create(s)),a.removeStoredMark(t),a})}function He(e,t,n){return new fe(e,(e,r,i,o)=>{const s=n instanceof Function?n(r):n,{tr:a}=e;return r[0]&&a.replaceWith(i-1,o,t.create(s)),a})}function $e(e,t,n){const r=i=>{const o=[];return i.forEach(i=>{if(i.isText){const{text:r}=i;let s,a=0;do{if(s=e.exec(r),s){const e=s.index,r=e+s[0].length,l=n instanceof Function?n(s[0]):n;e>0&&o.push(i.cut(a,e)),o.push(i.cut(e,r).mark(t.create(l).addToSet(i.marks))),a=r}}while(s);a<r.length&&o.push(i.cut(a))}else o.push(i.copy(r(i.content)))}),k["Fragment"].fromArray(o)};return new w["Plugin"]({props:{transformPasted:e=>new k["Slice"](r(e.content),e.openStart,e.openEnd)}})}function Ve(e,t,n){const r=(i,o)=>{const s=[];return i.forEach(i=>{if(i.isText){const{text:r,marks:a}=i;let l,c=0;const u=!!a.filter(e=>"link"===e.type.name)[0];while(!u&&null!==(l=e.exec(r)))if(o&&o.type.allowsMarkType(t)&&l[1]){const e=l.index,r=e+l[0].length,o=e+l[0].indexOf(l[1]),a=o+l[1].length,u=n instanceof Function?n(l):n;e>0&&s.push(i.cut(c,e)),s.push(i.cut(o,a).mark(t.create(u).addToSet(i.marks))),c=r}c<r.length&&s.push(i.cut(c))}else s.push(i.copy(r(i.content,i)))}),k["Fragment"].fromArray(s)};return new w["Plugin"]({props:{transformPasted:e=>new k["Slice"](r(e.content),e.openStart,e.openEnd)}})}function We(e){return(t,n)=>{const{tr:r,selection:i}=t;let{from:o,to:s}=i;const{$from:a,empty:l}=i;if(l){const t=Me(a,e);o=t.from,s=t.to}return r.removeMark(o,s,e),n(r)}}function Ue(e,t,n={}){return(r,i,o)=>{const s=Oe(r,e,n);return s?te(t)(r,i,o):te(e,n)(r,i,o)}}function qe(e,t={}){return(n,r,i)=>{const o=Oe(n,e,t);return o?W(n,r):ee(e,t)(n,r,i)}}function Ge(e,t){return(n,r)=>{const{tr:i,selection:o,doc:s}=n,{ranges:a,empty:l}=o;if(l){const{from:n,to:r}=Me(o.$from,e);s.rangeHasMark(n,r,e)&&i.removeMark(n,r,e),i.addMark(n,r,e.create(t))}else a.forEach(n=>{const{$to:r,$from:o}=n;s.rangeHasMark(o.pos,r.pos,e)&&i.removeMark(o.pos,r.pos,e),i.addMark(o.pos,r.pos,e.create(t))});return r(i)}}
/*!
    * tiptap v1.32.1
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */function Ke(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>0===t?e.toLowerCase():e.toUpperCase()).replace(/\s+/g,"")}class Je{constructor(e,{editor:t,extension:n,parent:r,node:i,view:o,decorations:s,getPos:a}){this.component=e,this.editor=t,this.extension=n,this.parent=r,this.node=i,this.view=o,this.decorations=s,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:a,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}createDOM(){const e=Ne.a.extend(this.component),t={editor:this.editor,node:this.node,view:this.view,getPos:()=>this.getPos(),decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:e=>this.updateAttrs(e)};return"function"===typeof this.extension.setSelection&&(this.setSelection=this.extension.setSelection),"function"===typeof this.extension.update&&(this.update=this.extension.update),this.vm=new e({parent:this.parent,propsData:t}).$mount(),this.vm.$el}update(e,t){return e.type===this.node.type&&(e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,this.updateComponentProps({node:e,decorations:t})),!0)}updateComponentProps(e){if(!this.vm._props)return;const t=Ne.a.config.silent;Ne.a.config.silent=!0,Object.entries(e).forEach(([e,t])=>{this.vm._props[e]=t}),Ne.a.config.silent=t}updateAttrs(e){if(!this.view.editable)return;const{state:t}=this.view,{type:n}=this.node,r=this.getPos(),i={...this.node.attrs,...e},o=this.isMark?t.tr.removeMark(r.from,r.to,n).addMark(r.from,r.to,n.create(i)):t.tr.setNodeMarkup(r,null,i);this.view.dispatch(o)}ignoreMutation(e){return"selection"!==e.type&&(!this.contentDOM||!this.contentDOM.contains(e.target))}stopEvent(e){if("function"===typeof this.extension.stopEvent)return this.extension.stopEvent(e);const t=!!this.extension.schema.draggable;if(t&&"mousedown"===e.type){const t=e.target.closest&&e.target.closest("[data-drag-handle]"),n=t&&(this.dom===t||this.dom.contains(t));n&&(this.captureEvents=!1,document.addEventListener("dragend",()=>{this.captureEvents=!0},{once:!0}))}const n="copy"===e.type,r="paste"===e.type,i="cut"===e.type,o=e.type.startsWith("drag")||"drop"===e.type;return!(t&&o||n||r||i)&&this.captureEvents}selectNode(){this.updateComponentProps({selected:!0})}deselectNode(){this.updateComponentProps({selected:!1})}getMarkPos(){const e=this.view.posAtDOM(this.dom),t=this.view.state.doc.resolve(e),n=Me(t,this.node.type);return n}destroy(){this.vm.$destroy()}}class Ze{on(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}emit(e,...t){this._callbacks=this._callbacks||{};const n=this._callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){if(arguments.length){const n=this._callbacks?this._callbacks[e]:null;n&&(t?this._callbacks[e]=n.filter(e=>e!==t):delete this._callbacks[e])}else this._callbacks={};return this}}class Xe{constructor(e={}){this.options={...this.defaultOptions,...e}}init(){return null}bindEditor(e=null){this.editor=e}get name(){return null}get type(){return"extension"}get defaultOptions(){return{}}get plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class Ye{constructor(e=[],t){e.forEach(e=>{e.bindEditor(t),e.init()}),this.extensions=e}get nodes(){return this.extensions.filter(e=>"node"===e.type).reduce((e,{name:t,schema:n})=>({...e,[t]:n}),{})}get options(){const{view:e}=this;return this.extensions.reduce((t,n)=>({...t,[n.name]:new Proxy(n.options,{set(t,n,r){const i=t[n]!==r;return Object.assign(t,{[n]:r}),i&&e.updateState(e.state),!0}})}),{})}get marks(){return this.extensions.filter(e=>"mark"===e.type).reduce((e,{name:t,schema:n})=>({...e,[t]:n}),{})}get plugins(){return this.extensions.filter(e=>e.plugins).reduce((e,{plugins:t})=>[...e,...t],[])}keymaps({schema:e}){const t=this.extensions.filter(e=>["extension"].includes(e.type)).filter(e=>e.keys).map(t=>t.keys({schema:e})),n=this.extensions.filter(e=>["node","mark"].includes(e.type)).filter(e=>e.keys).map(t=>t.keys({type:e[t.type+"s"][t.name],schema:e}));return[...t,...n].map(e=>Object(M["b"])(e))}inputRules({schema:e,excludedExtensions:t}){if(!(t instanceof Array)&&t)return[];const n=t instanceof Array?this.extensions.filter(e=>!t.includes(e.name)):this.extensions,r=n.filter(e=>["extension"].includes(e.type)).filter(e=>e.inputRules).map(t=>t.inputRules({schema:e})),i=n.filter(e=>["node","mark"].includes(e.type)).filter(e=>e.inputRules).map(t=>t.inputRules({type:e[t.type+"s"][t.name],schema:e}));return[...r,...i].reduce((e,t)=>[...e,...t],[])}pasteRules({schema:e,excludedExtensions:t}){if(!(t instanceof Array)&&t)return[];const n=t instanceof Array?this.extensions.filter(e=>!t.includes(e.name)):this.extensions,r=n.filter(e=>["extension"].includes(e.type)).filter(e=>e.pasteRules).map(t=>t.pasteRules({schema:e})),i=n.filter(e=>["node","mark"].includes(e.type)).filter(e=>e.pasteRules).map(t=>t.pasteRules({type:e[t.type+"s"][t.name],schema:e}));return[...r,...i].reduce((e,t)=>[...e,...t],[])}commands({schema:e,view:t}){return this.extensions.filter(e=>e.commands).reduce((n,r)=>{const{name:i,type:o}=r,s={},a=r.commands({schema:e,...["node","mark"].includes(o)?{type:e[o+"s"][i]}:{}}),l=(e,n)=>!!t.editable&&(t.focus(),e(n)(t.state,t.dispatch,t)),c=(e,t)=>{Array.isArray(t)?s[e]=e=>t.forEach(t=>l(t,e)):"function"===typeof t&&(s[e]=e=>l(t,e))};return"object"===typeof a?Object.entries(a).forEach(([e,t])=>{c(e,t)}):c(i,a),{...n,...s}},{})}}function Qe(e){{const t=document.createElement("style");t.type="text/css",t.textContent=e;const{head:n}=document,{firstChild:r}=n;r?n.insertBefore(t,r):n.appendChild(t)}}class et extends Xe{constructor(e={}){super(e)}get type(){return"mark"}get view(){return null}get schema(){return null}command(){return()=>{}}}function tt(e=0,t=0,n=0){return Math.min(Math.max(parseInt(e,10),t),n)}class nt extends Xe{constructor(e={}){super(e)}get type(){return"node"}get view(){return null}get schema(){return null}command(){return()=>{}}}class rt extends nt{get name(){return"doc"}get schema(){return{content:"block+"}}}class it extends nt{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}commands({type:e}){return()=>te(e)}}class ot extends nt{get name(){return"text"}get schema(){return{group:"inline"}}}var st='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n';class at extends Ze{constructor(e={}){super(),this.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:()=>{},onTransaction:()=>{},onUpdate:()=>{},onFocus:()=>{},onBlur:()=>{},onPaste:()=>{},onDrop:()=>{}},this.events=["init","transaction","update","focus","blur","paste","drop"],this.init(e)}init(e={}){this.setOptions({...this.defaultOptions,...e}),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&Qe(st),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach(e=>{this.on(e,this.options[Ke("on "+e)]||(()=>{}))}),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}setOptions(e){this.options={...this.options,...e},this.view&&this.state&&this.view.updateState(this.state)}get builtInExtensions(){return this.options.useBuiltInExtensions?[new rt,new ot,new it]:[]}get state(){return this.view?this.view.state:null}createExtensions(){return new Ye([...this.builtInExtensions,...this.options.extensions],this)}createPlugins(){return this.extensions.plugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}createPasteRules(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new k["Schema"]({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}createState(){return w["EditorState"].create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[...this.plugins,me({rules:this.inputRules}),...this.pasteRules,...this.keymaps,Object(M["b"])({Backspace:ve}),Object(M["b"])(de),...this.options.enableDropCursor?[S(this.options.dropCursor)]:[],...this.options.enableGapCursor?[T()]:[],new w["Plugin"]({key:new w["PluginKey"]("editable"),props:{editable:()=>this.options.editable}}),new w["Plugin"]({props:{attributes:{tabindex:0},handleDOMEvents:{focus:(e,t)=>{this.focused=!0,this.emit("focus",{event:t,state:e.state,view:e});const n=this.state.tr.setMeta("focused",!0);this.view.dispatch(n)},blur:(e,t)=>{this.focused=!1,this.emit("blur",{event:t,state:e.state,view:e});const n=this.state.tr.setMeta("focused",!1);this.view.dispatch(n)}}}}),new w["Plugin"]({props:this.options.editorProps})]})}createDocument(e,t=this.options.parseOptions){if(null===e)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"===typeof e)try{return this.schema.nodeFromJSON(e)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",n),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"===typeof e){const n=`<div>${e}</div>`,r=new window.DOMParser,i=r.parseFromString(n,"text/html").body.firstElementChild;return k["DOMParser"].fromSchema(this.schema).parse(i,t)}return!1}createView(){return new x["c"](this.element,{state:this.createState(),handlePaste:(...e)=>{this.emit("paste",...e)},handleDrop:(...e)=>{this.emit("drop",...e)},dispatchTransaction:this.dispatchTransaction.bind(this)})}setParentComponent(e=null){e&&this.view.setProps({nodeViews:this.initNodeViews({parent:e,extensions:[...this.builtInExtensions,...this.options.extensions]})})}initNodeViews({parent:e,extensions:t}){return t.filter(e=>["node","mark"].includes(e.type)).filter(e=>e.view).reduce((t,n)=>{const r=(t,r,i,o)=>{const s=n.view;return new Je(s,{editor:this,extension:n,parent:e,node:t,view:r,getPos:i,decorations:o})};return{...t,[n.name]:r}},{})}dispatchTransaction(e){const t=this.state.apply(e);this.view.updateState(t),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emitUpdate(e)}emitUpdate(e){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e})}resolveSelection(e=null){if(this.selection&&null===e)return this.selection;if("start"===e||!0===e)return{from:0,to:0};if("end"===e){const{doc:e}=this.state;return{from:e.content.size,to:e.content.size}}return{from:e,to:e}}focus(e=null){if(this.view.focused&&null===e||!1===e)return;const{from:t,to:n}=this.resolveSelection(e);this.setSelection(t,n),setTimeout(()=>this.view.focus(),10)}setSelection(e=0,t=0){const{doc:n,tr:r}=this.state,i=tt(e,0,n.content.size),o=tt(t,0,n.content.size),s=w["TextSelection"].create(n,i,o),a=r.setSelection(s);this.view.dispatch(a)}blur(){this.view.dom.blur()}getSchemaJSON(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}getHTML(){const e=document.createElement("div"),t=k["DOMSerializer"].fromSchema(this.schema).serializeFragment(this.state.doc.content);return e.appendChild(t),e.innerHTML}getJSON(){return this.state.doc.toJSON()}setContent(e={},t=!1,n){const{doc:r,tr:i}=this.state,o=this.createDocument(e,n),s=w["TextSelection"].create(r,0,r.content.size),a=i.setSelection(s).replaceSelectionWith(o,!1).setMeta("preventUpdate",!t);this.view.dispatch(a)}clearContent(e=!1){this.setContent(this.options.emptyDocument,e)}setActiveNodesAndMarks(){this.activeMarks=Object.entries(this.schema.marks).reduce((e,[t,n])=>({...e,[t]:(e={})=>Ae(this.state,n,e)}),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce((e,[t,n])=>({...e,[t]:_e(this.state,n)}),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce((e,[t,n])=>({...e,[t]:(e={})=>Oe(this.state,n,e)}),{})}getMarkAttrs(e=null){return this.activeMarkAttrs[e]}getNodeAttrs(e=null){return{...De(this.state,this.schema.nodes[e])}}get isActive(){return Object.entries({...this.activeMarks,...this.activeNodes}).reduce((e,[t,n])=>({...e,[t]:(e={})=>n(e)}),{})}registerPlugin(e=null,t){const n="function"===typeof t?t(e,this.state.plugins):[e,...this.state.plugins],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(e=null){if(!e||!this.view.docView)return;const t=this.state.reconfigure({plugins:this.state.plugins.filter(t=>!t.key.startsWith(e+"$"))});this.view.updateState(t)}destroy(){this.view&&this.view.destroy()}}var lt={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(e){e&&e.element&&this.$nextTick(()=>{this.$el.appendChild(e.element.firstChild),e.setParentComponent(this)})}}},render(e){return e("div")},beforeDestroy(){this.editor.element=this.$el}};class ct{constructor({options:e}){this.options=e,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=()=>{this.preventHide?this.preventHide=!1:this.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}function ut(e){return new w["Plugin"]({key:new w["PluginKey"]("menu_bar"),view(t){return new ct({editorView:t,options:e})}})}var dt={props:{editor:{default:null,type:Object}},data(){return{focused:!1}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.registerPlugin(ut({editor:e,element:this.$el})),this.focused=e.focused,e.on("focus",()=>{this.focused=!0}),e.on("menubar:focusUpdate",e=>{this.focused=e})})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};function ft(e,t,n){const r=document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,Math.max(t,0)),r}function ht(e,t){const n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function pt(e,t,n=!1){const{node:r,offset:i}=e.docView.domFromPos(t);let o,s;if(3===r.nodeType)n&&i<r.nodeValue.length?(s=ht(ft(r,i-1,i),-1),o="right"):i<r.nodeValue.length&&(s=ht(ft(r,i,i+1),-1),o="left");else if(r.firstChild){if(i<r.childNodes.length){const e=r.childNodes[i];s=ht(3===e.nodeType?ft(e):e,-1),o="left"}if((!s||s.top===s.bottom)&&i){const e=r.childNodes[i-1];s=ht(3===e.nodeType?ft(e):e,1),o="right"}}else s=r.getBoundingClientRect(),o="left";const a=s[o];return{top:s.top,bottom:s.bottom,left:a,right:a}}class mt{constructor({options:e,editorView:t}){this.options={element:null,keepInBounds:!0,onUpdate:()=>!1,...e},this.editorView=t,this.isActive=!1,this.left=0,this.bottom=0,this.top=0,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=({view:e})=>{this.update(e)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=({event:e})=>{this.preventHide?this.preventHide=!1:this.hide(e)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}update(e,t){const{state:n}=e;if(e.composing)return;if(t&&t.doc.eq(n.doc)&&t.selection.eq(n.selection))return;if(n.selection.empty)return void this.hide();const{from:r,to:i}=n.selection,o=pt(e,r),s=pt(e,i,!0),a=this.options.element.offsetParent;if(!a)return void this.hide();const l=a.getBoundingClientRect(),c=this.options.element.getBoundingClientRect(),u=(o.left+s.left)/2-l.left;this.left=Math.round(this.options.keepInBounds?Math.min(l.width-c.width/2,Math.max(u,c.width/2)):u),this.bottom=Math.round(l.bottom-o.top),this.top=Math.round(s.bottom-l.top),this.isActive=!0,this.sendUpdate()}sendUpdate(){this.options.onUpdate({isActive:this.isActive,left:this.left,bottom:this.bottom,top:this.top})}hide(e){e&&e.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(e.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}function gt(e){return new w["Plugin"]({key:new w["PluginKey"]("menu_bubble"),view(t){return new mt({editorView:t,options:e})}})}var vt={props:{editor:{default:null,type:Object},keepInBounds:{default:!0,type:Boolean}},data(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.registerPlugin(gt({editor:e,element:this.$el,keepInBounds:this.keepInBounds,onUpdate:e=>{e.isActive&&!1===this.menu.isActive?this.$emit("show",e):e.isActive||!0!==this.menu.isActive||this.$emit("hide",e),this.menu=e}}))})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy(){this.editor.unregisterPlugin("menu_bubble")}};class yt{constructor({options:e,editorView:t}){this.options={resizeObserver:!0,element:null,onUpdate:()=>!1,...e},this.preventHide=!1,this.editorView=t,this.isActive=!1,this.top=0,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=({view:e})=>{this.update(e)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=({event:e})=>{this.preventHide?this.preventHide=!1:this.hide(e)},this.options.editor.on("blur",this.blurHandler),this.options.resizeObserver&&window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{this.isActive&&this.update(this.editorView)}),this.resizeObserver.observe(this.editorView.dom))}handleClick(){this.preventHide=!0}update(e,t){const{state:n}=e;if(t&&t.doc.eq(n.doc)&&t.selection.eq(n.selection))return;if(!n.selection.empty)return void this.hide();const r=e.domAtPos(n.selection.anchor),i="<br>"===r.node.innerHTML&&"P"===r.node.tagName&&r.node.parentNode===e.dom;if(!i)return void this.hide();const o=this.options.element.offsetParent;if(!o)return void this.hide();const s=o.getBoundingClientRect(),a=e.coordsAtPos(n.selection.anchor),l=a.top-s.top;this.isActive=!0,this.top=l,this.sendUpdate()}sendUpdate(){this.options.onUpdate({isActive:this.isActive,top:this.top})}hide(e){e&&e.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(e.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.resizeObserver&&this.resizeObserver.unobserve(this.editorView.dom),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}function bt(e){return new w["Plugin"]({key:new w["PluginKey"]("floating_menu"),view(t){return new yt({editorView:t,options:e})}})}var wt={props:{editor:{default:null,type:Object}},data(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.registerPlugin(bt({editor:e,element:this.$el,onUpdate:e=>{e.isActive&&!1===this.menu.isActive?this.$emit("show",e):e.isActive||!0!==this.menu.isActive||this.$emit("hide",e),this.menu=e}}))})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy(){this.editor.unregisterPlugin("floating_menu")}},xt=(n("3ce4"),n("55be"));new w["PluginKey"]("collab");var kt=200,Ct=function(){};Ct.prototype.append=function(e){return e.length?(e=Ct.from(e),!this.length&&e||e.length<kt&&this.leafAppend(e)||this.length<kt&&e.leafPrepend(this)||this.appendInner(e)):this},Ct.prototype.prepend=function(e){return e.length?Ct.from(e).append(this):this},Ct.prototype.appendInner=function(e){return new _t(this,e)},Ct.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Ct.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Ct.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Ct.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Ct.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},Ct.from=function(e){return e instanceof Ct?e:e&&e.length?new St(e):Ct.empty};var St=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=kt)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=kt)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Ct);Ct.empty=new St([]);var _t=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Ct),Mt=Ct,Dt=Mt,At=500,Et=function(e,t){this.items=e,this.eventCount=t};function Ot(e,t){var n;return e.forEach((function(e,r){if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}Et.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,i,o=this.items.length;;o--){var s=this.items.get(o-1);if(s.selection){--o;break}}t&&(r=this.remapping(o,this.items.length),i=r.maps.length);var a,l,c=e.tr,u=[],d=[];return this.items.forEach((function(e,t){if(!e.step)return r||(r=n.remapping(o,t+1),i=r.maps.length),i--,void d.push(e);if(r){d.push(new Tt(e.map));var s,f=e.step.map(r.slice(i));f&&c.maybeStep(f).doc&&(s=c.mapping.maps[c.mapping.maps.length-1],u.push(new Tt(s,null,null,u.length+d.length))),i--,s&&r.appendMap(s,i)}else c.maybeStep(e.step);return e.selection?(a=r?e.selection.map(r.slice(i)):e.selection,l=new Et(n.items.slice(0,o).append(d.reverse().concat(u)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:l,transform:c,selection:a}},Et.prototype.addTransform=function(e,t,n,r){for(var i=[],o=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,l=0;l<e.steps.length;l++){var c=e.steps[l].invert(e.docs[l]),u=new Tt(e.mapping.maps[l],c,t),d=void 0;(d=a&&a.merge(u))&&(u=d,l?i.pop():s=s.slice(0,s.length-1)),i.push(u),t&&(o++,t=null),r||(a=u)}var f=o-n.depth;return f>Lt&&(s=Ot(s,f),o-=f),new Et(s.append(i),o)},Et.prototype.remapping=function(e,t){var n=new C["a"];return this.items.forEach((function(t,r){var i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,i)}),e,t),n},Et.prototype.addMaps=function(e){return 0==this.eventCount?this:new Et(this.items.append(e.map((function(e){return new Tt(e)}))),this.eventCount)},Et.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach((function(e){e.selection&&s--}),r);var a=t;this.items.forEach((function(t){var r=i.getMirror(--a);if(null!=r){o=Math.min(o,r);var l=i.maps[r];if(t.step){var c=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(i.slice(a+1,r));u&&s++,n.push(new Tt(l,c,u))}else n.push(new Tt(l))}}),r);for(var l=[],c=t;c<o;c++)l.push(new Tt(i.maps[c]));var u=this.items.slice(0,r).append(l).append(n),d=new Et(u,s);return d.emptyItemCount()>At&&(d=d.compress(this.items.length-n.length)),d},Et.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},Et.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach((function(o,s){if(s>=e)r.push(o),o.selection&&i++;else if(o.step){var a=o.step.map(t.slice(n)),l=a&&a.getMap();if(n--,l&&t.appendMap(l,n),a){var c=o.selection&&o.selection.map(t.slice(n));c&&i++;var u,d=new Tt(l.invert(),a,c),f=r.length-1;(u=r.length&&r[f].merge(d))?r[f]=u:r.push(d)}}else o.map&&n--}),this.items.length,0),new Et(Dt.from(r.reverse()),i)},Et.empty=new Et(Dt.empty,0);var Tt=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};Tt.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new Tt(t.getMap().invert(),t,this.selection)}};var Nt=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r},Lt=20;function It(e,t,n,r){var i,o=n.getMeta($t);if(o)return o.historyState;n.getMeta(Vt)&&(e=new Nt(e.done,e.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta($t))return s.getMeta($t).redo?new Nt(e.done.addTransform(n,null,r,Ht(t)),e.undone,Ft(n.mapping.maps[n.steps.length-1]),e.prevTime):new Nt(e.done,e.undone.addTransform(n,null,r,Ht(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new Nt(e.done.rebased(n,i),e.undone.rebased(n,i),Pt(e.prevRanges,n.mapping),e.prevTime):new Nt(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Pt(e.prevRanges,n.mapping),e.prevTime);var a=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Rt(n,e.prevRanges)),l=s?Pt(e.prevRanges,n.mapping):Ft(n.mapping.maps[n.steps.length-1]);return new Nt(e.done.addTransform(n,a?t.selection.getBookmark():null,r,Ht(t)),Et.empty,l,n.time)}function Rt(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)})),n}function Ft(e){var t=[];return e.forEach((function(e,n,r,i){return t.push(r,i)})),t}function Pt(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function Bt(e,t,n,r){var i=Ht(t),o=$t.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,i);if(s){var a=s.selection.resolve(s.transform.doc),l=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,i),c=new Nt(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta($t,{redo:r,historyState:c}).scrollIntoView())}}var jt=!1,zt=null;function Ht(e){var t=e.plugins;if(zt!=t){jt=!1,zt=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){jt=!0;break}}return jt}var $t=new w["PluginKey"]("history"),Vt=new w["PluginKey"]("closeHistory");function Wt(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new w["Plugin"]({key:$t,state:{init:function(){return new Nt(Et.empty,Et.empty,null,0)},apply:function(t,n,r){return It(n,r,t,e)}},config:e})}function Ut(e,t){var n=$t.getState(e);return!(!n||0==n.done.eventCount)&&(t&&Bt(n,e,t,!1),!0)}function qt(e,t){var n=$t.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&Bt(n,e,t,!0),!0)}function Gt(e){var t=$t.getState(e);return t?t.done.eventCount:0}function Kt(e){var t=$t.getState(e);return t?t.undone.eventCount:0}
/*!
    * tiptap-extensions v1.35.1
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */class Jt extends nt{get name(){return"hard_break"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}commands({type:e}){return()=>ie(G,(t,n)=>(n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0))}keys({type:e}){const t=ie(G,(t,n)=>(n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0));return{"Mod-Enter":t,"Shift-Enter":t}}}var Zt=Object(xt["tableNodes"])({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM(e){return e.style.backgroundColor||null},setDOMAttr(e,t){if(e){const n={style:`${t.style||""}background-color: ${e};`};Object.assign(t,n)}}}}});class Xt extends nt{get name(){return"table_header"}get schema(){return Zt.table_header}}class Yt extends nt{get name(){return"table_row"}get schema(){return Zt.table_row}}class Qt extends Xe{get name(){return"placeholder"}get defaultOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",emptyNodeText:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0}}get plugins(){return[new w["Plugin"]({props:{decorations:({doc:e,plugins:t,selection:n})=>{const r=t.find(e=>e.key.startsWith("editable$")),i=r.props.editable(),o=i||!this.options.showOnlyWhenEditable,{anchor:s}=n,a=[],l=0===e.textContent.length;return!!o&&(e.descendants((e,t)=>{const n=s>=t&&s<=t+e.nodeSize,r=0===e.content.size;if((n||!this.options.showOnlyCurrent)&&r){const n=[this.options.emptyNodeClass];l&&n.push(this.options.emptyEditorClass);const r=x["a"].node(t,t+e.nodeSize,{class:n.join(" "),"data-empty-text":"function"===typeof this.options.emptyNodeText?this.options.emptyNodeText(e):this.options.emptyNodeText});a.push(r)}return!1}),x["b"].create(e,a))}}})]}}class en extends Xe{get name(){return"trailing_node"}get defaultOptions(){return{node:"paragraph",notAfter:["paragraph"]}}get plugins(){const e=new w["PluginKey"](this.name),t=Object.entries(this.editor.schema.nodes).map(([,e])=>e).filter(e=>this.options.notAfter.includes(e.name));return[new w["Plugin"]({key:e,view:()=>({update:t=>{const{state:n}=t,r=e.getState(n);if(!r)return;const{doc:i,schema:o,tr:s}=n,a=o.nodes[this.options.node],l=s.insert(i.content.size,a.create());t.dispatch(l)}}),state:{init:(e,n)=>{const r=n.tr.doc.lastChild;return!Ee({node:r,types:t})},apply:(e,n)=>{if(!e.docChanged)return n;const r=e.doc.lastChild;return!Ee({node:r,types:t})}}})]}}var tn=n("0e54"),nn=n.n(tn);function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e,t,n){return t&&on(e.prototype,t),n&&on(e,n),e}function an(e,t){return an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},an(e,t)}function ln(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}function cn(e){return cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cn(e)}function un(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n("131a"),n("4ae1"),n("3410");var dn=n("7037"),fn=n.n(dn);function hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pn(e,t){return!t||"object"!==fn()(t)&&"function"!==typeof t?hn(e):t}function mn(e){var t=un();return function(){var n,r=cn(e);if(t){var i=cn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}var gn=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"history"}},{key:"defaultOptions",get:function(){return{depth:"",newGroupDelay:""}}},{key:"keys",value:function(){var e={"Mod-z":Ut,"Mod-y":qt,"Shift-Mod-z":qt,"Mod-я":Ut,"Shift-Mod-я":qt};return e}},{key:"plugins",get:function(){return[Wt({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}},{key:"commands",value:function(){return{undo:function(){return Ut},redo:function(){return qt},undoDepth:function(){return Gt},redoDepth:function(){return Kt}}}}]),n}(Xe),vn=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"test-id"}},{key:"plugins",get:function(){return[new w["Plugin"]({props:{decorations:function(e){var t=e.doc,n=[];return t.descendants((function(e,t){var r=x["a"].node(t,t+e.nodeSize,{"data-test-id":"wysiwyg-".concat(e.type.name)});n.push(r)})),x["b"].create(t,n)}}})]}}]),n}(Xe),yn=(n("d81d"),n("4d63"),n("ac1f"),n("25f0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node node_heading node-condensed",class:e.node.attrs.class+" "+e.headingNodeClass},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),n("div",{ref:"content",class:e.headingClass,attrs:{"data-empty-heading":e.i18n("HEADING"),contenteditable:"true"}}),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)}),bn=[],wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],staticClass:"right-menu__container",attrs:{contenteditable:"false"}},[n("button",{staticClass:"node__dots button-icon",class:{"button-icon_active":e.menuState},on:{click:e.toggleMenuState}},[n("icon",{attrs:{name:"dots"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuState,expression:"menuState"}],staticClass:"context-menu right-menu",attrs:{contenteditable:"false"}},e._l(e.menuItems,(function(t,r){return n("div",{key:r,staticClass:"context-menu__wrapper"},["separator"===t.type?n("hr",{staticClass:"context-menu__separator"}):n("button",{staticClass:"context-menu__item right-menu__item",class:{"context-menu__item_active":t.active},on:{click:function(){t.action(),e.hideMenu()}}},[e._v(" "+e._s(t.text)+" ")])])})),0)])},xn=[],kn=n("e67d"),Cn=n.n(kn),Sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"svg-icon",class:e.className,attrs:{fill:"currentColor",height:e.size,width:e.size},domProps:{innerHTML:e._s(e.getIconPath(e.name))}})},_n=[],Mn=(n("5319"),{name:"SvgIcon",data:function(){return{icons:{plus:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7 9V16H9V9H16V7H9V0H7V7H0V9H7Z" />',heading:'<path fill-rule="evenodd" clip-rule="evenodd" d="M13 4V8.999H7V4H5V8.999V10.999V16H7V10.999H13V16H15V4H13Z" />',dots:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5 10C5 11.1046 4.10457 12 3 12C1.89543 12 1 11.1046 1 10C1 8.89543 1.89543 8 3 8C4.10457 8 5 8.89543 5 10ZM12 10C12 11.1046 11.1046 12 10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10ZM17 12C18.1046 12 19 11.1046 19 10C19 8.89543 18.1046 8 17 8C15.8954 8 15 8.89543 15 10C15 11.1046 15.8954 12 17 12Z" />',blockquote:'<path fill-rule="evenodd" clip-rule="evenodd" d="M14.024 4.00149C14.796 3.97849 15.561 4.22148 16.144 4.78045C16.715 5.32743 17 6.0104 17 6.83136C17 7.25434 16.926 7.70232 16.777 8.1743C16.628 8.64628 16.38 9.25525 16.033 10.0012L13.613 15H12.072L13.527 9.10326C13.5616 8.96326 12.7741 8.54925 12.4153 8.3606C12.3384 8.32019 12.2812 8.29012 12.256 8.2753C11.81 8.01331 11.389 7.58333 11.197 7.09635C10.992 6.57837 11.151 5.8944 11.417 5.43142C11.715 4.91145 12.207 4.51546 12.758 4.28247C13.162 4.11148 13.594 4.01549 14.024 4.00149ZM5.65494 4.2819C6.05894 4.11091 6.49095 4.01491 6.92095 4.00191C7.69295 3.97791 8.45796 4.2219 9.04096 4.78088C9.61197 5.32785 9.89697 6.01082 9.89697 6.83179C9.89697 7.25477 9.82297 7.70175 9.67397 8.17473C9.52497 8.64671 9.27596 9.25568 8.92996 10.0016L6.50995 14.9994H4.96794L6.42395 9.10369C6.45857 8.96355 5.66953 8.54819 5.31119 8.35956C5.23485 8.31937 5.17805 8.28948 5.15294 8.27472C4.70694 8.01273 4.28593 7.58375 4.09293 7.09678C3.88893 6.5778 4.04693 5.89483 4.31393 5.43085C4.61194 4.91087 5.10394 4.51489 5.65494 4.2819Z" />',bullet_list:'<path fill-rule="evenodd" clip-rule="evenodd" d="M4.5 6.5C5.32843 6.5 6 5.82843 6 5C6 4.17157 5.32843 3.5 4.5 3.5C3.67157 3.5 3 4.17157 3 5C3 5.82843 3.67157 6.5 4.5 6.5ZM7.99951 6H18.0001V4H7.99951V6ZM18.0001 11H8.00014V9H18.0001V11ZM8.00014 16H18.0001V14H8.00014V16ZM6 10C6 10.8284 5.32843 11.5 4.5 11.5C3.67157 11.5 3 10.8284 3 10C3 9.17157 3.67157 8.5 4.5 8.5C5.32843 8.5 6 9.17157 6 10ZM4.5 16.5C5.32843 16.5 6 15.8284 6 15C6 14.1716 5.32843 13.5 4.5 13.5C3.67157 13.5 3 14.1716 3 15C3 15.8284 3.67157 16.5 4.5 16.5Z" />',ordered_list:'<path fill-rule="evenodd" clip-rule="evenodd" d="M4.96289 6.52295H3.92773V3.90576H3.87891L3.04395 4.45752V3.59082L3.92773 3H4.96289V6.52295ZM8 6H18V4H8V6ZM18.0001 11H8V9H18.0001V11ZM8 16H18V14H8V16ZM3.00488 9.14502H3.94727C3.94727 8.87402 4.11572 8.66895 4.41113 8.66895C4.68701 8.66895 4.83105 8.84717 4.83105 9.0498C4.83105 9.22803 4.77734 9.36963 4.34521 9.73828L3.06592 10.8345V11.5229H5.86621V10.7319H4.44287V10.6831L5.10449 10.1167C5.64404 9.65527 5.82959 9.38428 5.82959 8.96436C5.82959 8.34912 5.34131 7.90234 4.4624 7.90234C3.59326 7.90234 3.00488 8.40039 3.00488 9.14502ZM4.47949 15.0581H4.02295V14.3843H4.48438C4.75049 14.3843 4.91406 14.2354 4.91406 14.0156C4.91406 13.8057 4.75293 13.6592 4.48682 13.6592C4.20117 13.6592 4.03516 13.813 4.02539 14.0645H3.09033C3.09521 13.354 3.65918 12.9023 4.5332 12.9023C5.39746 12.9023 5.86621 13.3296 5.86621 13.8643C5.86621 14.2915 5.59033 14.5698 5.19482 14.6577V14.7065C5.71973 14.7773 6.01025 15.0923 6.01025 15.5488C6.01025 16.1885 5.39014 16.6206 4.49902 16.6206C3.62256 16.6206 3.03174 16.1519 3 15.4292H3.98633C3.99121 15.6685 4.1792 15.8174 4.48193 15.8174C4.76758 15.8174 4.95801 15.666 4.95801 15.439C4.95801 15.1997 4.77734 15.0581 4.47949 15.0581Z" />',bold:'<path fill-rule="evenodd" clip-rule="evenodd" d="M13.695 9.641L13.6732 9.6251C13.6217 9.58744 13.5705 9.55007 13.517 9.515C14.055 8.954 14.338 8.249 14.338 7.456C14.338 6.315 13.829 5.392 12.868 4.788C12.03 4.258 10.906 4 9.434 4H6V8.7V10.7V16H9.919C11.345 16 12.519 15.733 13.409 15.206C14.45 14.587 15 13.585 15 12.31C15 11.204 14.549 10.281 13.695 9.641ZM12.39 13.49C12.182 13.623 11.944 13.711 11.708 13.777C11.123 13.941 10.525 14 9.919 14H8V10.7H9.618C9.72543 10.7 9.83375 10.699 9.94262 10.6979H9.94263C10.6667 10.6908 11.4146 10.6835 12.084 10.986C12.393 11.126 12.675 11.345 12.841 11.64C13.192 12.262 12.991 13.106 12.39 13.49ZM8.58114 5.99435C8.38743 5.99717 8.19371 5.99999 8 5.99999V8.69999H8.058H9.724C9.81394 8.69999 9.9042 8.70118 9.99461 8.70236C10.3817 8.70743 10.7714 8.71254 11.15 8.62499C11.529 8.53699 11.899 8.34599 12.126 8.02899C12.309 7.77399 12.384 7.42599 12.286 7.12199C12.185 6.80799 11.914 6.56199 11.635 6.40299C11.052 6.07299 10.349 6.02199 9.695 5.99799C9.32371 5.98354 8.95243 5.98894 8.58114 5.99435Z" />',italic:'<path d="M9.70245 4L8 16H10.2986L12 4H9.70245Z" />',code:'<path d="M3.41187 8.50014L2 9.99984L3.41187 11.5006L7.64847 15.9997L9.06034 14.4989L4.82474 9.99984L9.06034 5.49969L7.64847 4L3.41187 8.50014ZM15.1763 10.0002L10.9397 5.50002L12.3515 4.00032L16.5871 8.50047L18 10.0002L16.5871 11.4999L12.3515 16L10.9397 14.4992L15.1763 10.0002Z" />',link:'<path fill-rule="evenodd" clip-rule="evenodd" d="M12.757 3L11.343 4.41501L8.518 7.24004L9.932 8.65405L12.757 5.82902L14.172 7.24304L11.34 10.0741L12.754 11.4891L15.586 8.65705L17 7.24304L14.172 4.41501L12.757 3ZM4.414 11.344L3 12.758L5.829 15.587L7.243 17L8.657 15.587L11.483 12.761L10.068 11.347L7.243 14.172L5.829 12.758L8.66 9.92594L7.245 8.51293L4.414 11.344ZM10.9978 8.30357L11.7048 9.01058L8.87679 11.8386L8.16879 11.1316L10.9978 8.30357Z" />',abbr:'<path fill-rule="evenodd" clip-rule="evenodd" d="M10 17C13.866 17 17 13.866 17 10C17 6.13403 13.866 3 10 3C6.13403 3 3 6.13403 3 10C3 13.866 6.13403 17 10 17ZM10 19C14.9706 19 19 14.9706 19 10C19 5.02942 14.9706 1 10 1C5.02942 1 1 5.02942 1 10C1 14.9706 5.02942 19 10 19ZM11 8V15H9V8H11ZM11 7V5H9V7H11Z" />',remove:'<path fill-rule="evenodd" clip-rule="evenodd" d="M10 11.4118L5.41176 16L4 14.5882L8.58823 10L4 5.41177L5.41176 4L10 8.58824L14.5882 4L16 5.41176L11.4118 10L16 14.5882L14.5882 16L10 11.4118Z" />',image:'<path fill-rule="evenodd" clip-rule="evenodd" d="M2.498 3H17.502C18.329 3 19 3.671 19 4.498V15.501C19 16.329 18.329 17 17.502 17H2.498C1.671 17 1 16.329 1 15.501V4.498C1 3.671 1.671 3 2.498 3ZM11.635 9.879L17 13.284V5H3V11.83L6.593 8.237L6.594 8.238L6.595 8.236L10.139 10.964L11.634 9.88L11.635 9.879ZM3 15V14.491L6.771 10.72L10.211 13.369L10.214 13.365L10.215 13.366L11.763 12.244L16.106 15H3ZM15.4855 7.2868C15.4855 7.8388 15.0375 8.2868 14.4855 8.2868C13.9335 8.2868 13.4855 7.8388 13.4855 7.2868C13.4855 6.7348 13.9335 6.2868 14.4855 6.2868C15.0375 6.2868 15.4855 6.7348 15.4855 7.2868Z" />',embed:'<path fill-rule="evenodd" clip-rule="evenodd" d="M15.505 17H4.495C3.669 17 3 16.331 3 15.505V4.495C3 3.669 3.669 3 4.495 3H15.505C16.331 3 17 3.669 17 4.495V15.505C17 16.331 16.331 17 15.505 17ZM5 15H15V5H5V15ZM9.06299 13.5H11.063V11H13.563V9H11.063V6.5H9.06299V9H6.56299V11H9.06299V13.5Z" />',hr:'<rect x="2" y="9" width="16" height="2" />',add_col_before:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5 2C4.44772 2 4 2.44772 4 3V5C4 5.55228 4.44772 6 5 6C5.55228 6 6 5.55228 6 5V3C6 2.44772 5.55228 2 5 2ZM5 8C4.44772 8 4 8.44772 4 9V11C4 11.5523 4.44772 12 5 12C5.55228 12 6 11.5523 6 11V9C6 8.44772 5.55228 8 5 8ZM4 15C4 14.4477 4.44772 14 5 14C5.55228 14 6 14.4477 6 15V17C6 17.5523 5.55228 18 5 18C4.44772 18 4 17.5523 4 17V15ZM10 16V4H14V16H10ZM8 3C8 2.44772 8.44772 2 9 2H15C15.5523 2 16 2.44772 16 3V17C16 17.5523 15.5523 18 15 18H9C8.44772 18 8 17.5523 8 17V3Z" />',add_col_after:'<path fill-rule="evenodd" clip-rule="evenodd" d="M6 16V4H10V16H6ZM4 3C4 2.44772 4.44772 2 5 2H11C11.5523 2 12 2.44772 12 3V17C12 17.5523 11.5523 18 11 18H5C4.44772 18 4 17.5523 4 17V3ZM15 2C14.4477 2 14 2.44772 14 3V5C14 5.55228 14.4477 6 15 6C15.5523 6 16 5.55228 16 5V3C16 2.44772 15.5523 2 15 2ZM15 8C14.4477 8 14 8.44772 14 9V11C14 11.5523 14.4477 12 15 12C15.5523 12 16 11.5523 16 11V9C16 8.44772 15.5523 8 15 8ZM14 15C14 14.4477 14.4477 14 15 14C15.5523 14 16 14.4477 16 15V17C16 17.5523 15.5523 18 15 18C14.4477 18 14 17.5523 14 17V15Z" />',delete_col:'<path fill-rule="evenodd" clip-rule="evenodd" d="M6.99414 4V16H10.9824V14H12.9765V17C12.9765 17.5523 12.5301 18 11.9795 18H5.99707C5.4464 18 5 17.5523 5 17V3C5 2.44772 5.4464 2 5.99707 2H11.9795C12.5301 2 12.9765 2.44772 12.9765 3V6H10.9824V4H6.99414ZM8.95711 8.03033L10.921 10L8.95711 11.9697L10.0147 13.0303L11.9786 11.0607L13.9424 13.0303L15 11.9697L13.0361 10L15 8.03033L13.9424 6.96967L11.9786 8.93934L10.0147 6.96967L8.95711 8.03033Z" />',add_row_before:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5 4C5.55229 4 6 4.44772 6 5C6 5.55228 5.55229 6 5 6L3 6C2.44772 6 2 5.55228 2 5C2 4.44772 2.44772 4 3 4H5ZM12 5C12 4.44772 11.5523 4 11 4H9C8.44772 4 8 4.44772 8 5C8 5.55228 8.44772 6 9 6L11 6C11.5523 6 12 5.55228 12 5ZM18 5C18 4.44772 17.5523 4 17 4H15C14.4477 4 14 4.44772 14 5C14 5.55228 14.4477 6 15 6L17 6C17.5523 6 18 5.55228 18 5ZM4 10L16 10V14L4 14L4 10ZM17 8C17.5523 8 18 8.44772 18 9V15C18 15.5523 17.5523 16 17 16L3 16C2.44771 16 2 15.5523 2 15V9C2 8.44771 2.44771 8 3 8L17 8Z" />',add_row_after:' <path fill-rule="evenodd" clip-rule="evenodd" d="M16 10L4 10L4 6L16 6V10ZM3 12C2.44772 12 2 11.5523 2 11V5C2 4.44772 2.44772 4 3 4H17C17.5523 4 18 4.44772 18 5V11C18 11.5523 17.5523 12 17 12L3 12ZM2 15C2 15.5523 2.44772 16 3 16H5C5.55229 16 6 15.5523 6 15C6 14.4477 5.55228 14 5 14H3C2.44772 14 2 14.4477 2 15ZM8 15C8 15.5523 8.44772 16 9 16H11C11.5523 16 12 15.5523 12 15C12 14.4477 11.5523 14 11 14H9C8.44772 14 8 14.4477 8 15ZM15 16C14.4477 16 14 15.5523 14 15C14 14.4477 14.4477 14 15 14H17C17.5523 14 18 14.4477 18 15C18 15.5523 17.5523 16 17 16H15Z" />',delete_row:'<path fill-rule="evenodd" clip-rule="evenodd" d="M4 13.0059L16 13.0059L16 9.01759L14 9.01759L14 7.02346L17 7.02346C17.5523 7.02346 18 7.46986 18 8.02053L18 14.0029C18 14.5536 17.5523 15 17 15L3 15C2.44772 15 2 14.5536 2 14.0029L2 8.02053C2 7.46986 2.44771 7.02346 3 7.02346L6 7.02346L6 9.01759L4 9.01759L4 13.0059ZM8.03033 11.0429L10 9.07899L11.9697 11.0429L13.0303 9.98534L11.0607 8.02144L13.0303 6.05755L11.9697 5L10 6.96389L8.03033 5L6.96967 6.05755L8.93934 8.02144L6.96967 9.98534L8.03033 11.0429Z" />',combine_cells:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5 16V4H9V5C9 5.55228 9.44772 6 10 6C10.5523 6 11 5.55228 11 5V4H15V16H11V15C11 14.4477 10.5523 14 10 14C9.44772 14 9 14.4477 9 15V16H5ZM10 18H4C3.44772 18 3 17.5523 3 17V3C3 2.44772 3.44772 2 4 2H10H16C16.5523 2 17 2.44772 17 3V17C17 17.5523 16.5523 18 16 18H10ZM10 8C9.44772 8 9 8.44772 9 9V11C9 11.5523 9.44772 12 10 12C10.5523 12 11 11.5523 11 11V9C11 8.44772 10.5523 8 10 8Z" />',table:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3 11V15H9V11H3ZM3 9H9V5H3V9ZM11 11V15H17V11H11ZM17 9H11V5H17V9ZM2 3C1.44772 3 1 3.44772 1 4V16C1 16.5523 1.44772 17 2 17H18C18.5523 17 19 16.5523 19 16V4C19 3.44772 18.5523 3 18 3H2Z" />',float_image:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7 1C6.44772 1 6 1.44772 6 2C6 2.55228 6.44772 3 7 3H18C18.5523 3 19 2.55228 19 2C19 1.44772 18.5523 1 18 1H7ZM15 5C14.4477 5 14 5.44772 14 6C14 6.55228 14.4477 7 15 7H18C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5H15ZM14 10C14 9.44771 14.4477 9 15 9H18C18.5523 9 19 9.44771 19 10C19 10.5523 18.5523 11 18 11H15C14.4477 11 14 10.5523 14 10ZM15 13C14.4477 13 14 13.4477 14 14C14 14.5523 14.4477 15 15 15H18C18.5523 15 19 14.5523 19 14C19 13.4477 18.5523 13 18 13H15ZM6 18C6 17.4477 6.44772 17 7 17H18C18.5523 17 19 17.4477 19 18C19 18.5523 18.5523 19 18 19H7C6.44772 19 6 18.5523 6 18ZM4 13V7H10V13H4ZM2 6C2 5.44772 2.44772 5 3 5H11C11.5523 5 12 5.44772 12 6V14C12 14.5523 11.5523 15 11 15H3C2.44772 15 2 14.5523 2 14V6Z" />',border_image:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3 17V3H17V17H3ZM1 2C1 1.44772 1.44772 1 2 1H18C18.5523 1 19 1.44772 19 2V18C19 18.5523 18.5523 19 18 19H2C1.44772 19 1 18.5523 1 18V2ZM7 13V7H13V13H7ZM5 6C5 5.44772 5.44772 5 6 5H14C14.5523 5 15 5.44772 15 6V14C15 14.5523 14.5523 15 14 15H6C5.44772 15 5 14.5523 5 14V6Z" />',formula:'<path fill-rule="evenodd" clip-rule="evenodd" d="M4 3V5.001L9 10L4 15.001V17H16V12.987H14V15.001H6.829L11.83 9.998L10.414 8.586L6.829 5.001H14V7.001H16V3H4Z" />',caret_down:'<path fill-rule="evenodd" clip-rule="evenodd" d="M8 0L4 4L0 -3.49691e-07L8 0Z" />',spoiler:'<path fill-rule="evenodd" clip-rule="evenodd" d="M15.6714 14.7077L17 12.5101L12.0623 10.0284L17 7.52774L15.6714 5.29229L11.0312 8.38024L11.3484 3H8.65156L8.96884 8.38024L4.32861 5.29229L3 7.52774L7.95751 10.0284L3 12.5101L4.32861 14.7077L8.96884 11.6955L8.65156 17H11.3484L11.0312 11.7145L15.6714 14.7077Z" />',epigraph:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3 11L3 13L17 13L17 11L3 11ZM6 15L6 17L17 17L17 15L6 15ZM8 9L8 7L17 7L17 9L8 9ZM5 3L5 5L17 5L17 3L5 3Z" />',anchor:'<path fill-rule="evenodd" clip-rule="evenodd" d="M10 5C10.5523 5 11 4.55228 11 4C11 3.44772 10.5523 3 10 3C9.44772 3 9 3.44772 9 4C9 4.55228 9.44772 5 10 5ZM13 4C13 5.30622 12.1652 6.41746 11 6.82929V9H13V11H11V16.4397C12.8686 16.1612 14.7284 14.9095 16.1362 12.4961L17.8638 13.5039C15.9758 16.7404 13.1806 18.5 10.1875 18.5C7.20855 18.5 4.30272 16.7568 2.16797 13.5547L3.83207 12.4453C5.35779 14.7339 7.20395 15.9914 9 16.3734V11H7V9H9V6.82929C7.83481 6.41746 7 5.30622 7 4C7 2.34315 8.34315 1 10 1C11.6569 1 13 2.34315 13 4Z" />',drag:'<circle cx="8.5" cy="6.5" r="1.5"/><circle cx="8.5" cy="12.5" r="1.5"/><circle cx="8.5" cy="18.5" r="1.5"/><circle cx="14.5" cy="6.5" r="1.5"/><circle cx="14.5" cy="12.5" r="1.5"/><circle cx="14.5" cy="18.5" r="1.5"/>',underline:'<path d="M12 15C13.405 15 14.44 14.702 15.164 14.089L15.177 14.078L15.185 14.071C15.922 13.444 16.312 12.556 16.312 11.504V6H14.312V11.507C14.312 11.717 14.283 11.887 14.238 12.027C14.17 12.235 14.053 12.406 13.882 12.554C13.547 12.833 12.844 13 12 13C10.771 13 10.28 12.697 10.123 12.565L10.052 12.5C9.811 12.258 9.688 11.924 9.688 11.504V6H7.688V11.504C7.688 12.561 8.082 13.454 8.825 14.086C9.543 14.701 10.581 15 12 15ZM7 16H17V18H7V16Z" />',strike:'<path d="M13.343 13.281C13.401 13.344 13.459 13.409 13.496 13.474L13.555 13.607C13.605 13.758 13.65 13.988 13.65 14.28V14.283C13.65 14.617 13.57 14.946 13.428 15.19L13.362 15.294C13.285 15.404 13.191 15.507 13.086 15.594C13.008 15.66 12.921 15.718 12.825 15.77C12.694 15.838 12.538 15.89 12.375 15.929C12.253 15.958 12.127 15.968 12 15.978L11.809 16H11.8C11.52 15.999 11.257 15.971 11.032 15.917C10.905 15.887 10.788 15.848 10.682 15.8C10.367 15.655 10.028 15.416 9.752 15.145L8.35 16.571C8.814 17.028 9.321 17.382 9.857 17.622C10.047 17.709 10.254 17.781 10.474 17.839C10.881 17.946 11.328 18 11.809 18L12 17.989C12.126 17.984 12.253 17.979 12.375 17.964C12.875 17.903 13.339 17.762 13.76 17.537C13.952 17.436 14.136 17.316 14.307 17.18C14.565 16.977 14.789 16.741 14.98 16.473C15.044 16.383 15.104 16.29 15.16 16.195L15.171 16.175C15.489 15.617 15.65 14.98 15.65 14.283C15.65 13.919 15.599 13.591 15.524 13.281H13.343ZM8.859 10.642L8.95 10.781H12.959C12.779 10.712 12.581 10.643 12.375 10.574L12.29 10.544L12 10.443C11.546 10.282 11.223 10.143 10.991 10.006C10.802 9.893 10.667 9.772 10.6 9.658L10.578 9.615C10.542 9.534 10.499 9.38 10.499 9.11C10.499 8.899 10.546 8.722 10.645 8.557L10.732 8.434C10.799 8.354 10.881 8.286 10.98 8.225L11.084 8.167C11.338 8.039 11.676 8 12 8.008C12.132 8.011 12.255 8.022 12.375 8.041L12.556 8.07C12.65 8.094 12.738 8.123 12.824 8.158C12.957 8.216 13.088 8.29 13.216 8.377C13.332 8.459 13.453 8.557 13.583 8.676L14.945 7.211C14.751 7.028 14.548 6.864 14.338 6.721C14.099 6.555 13.858 6.423 13.607 6.317C13.49 6.268 13.368 6.224 13.242 6.186C12.973 6.103 12.681 6.059 12.375 6.031C12.253 6.02 12.13 6.01 12 6.008L11.878 6C11.233 6 10.694 6.122 10.182 6.382C10.061 6.443 9.946 6.509 9.836 6.582C9.6 6.738 9.396 6.918 9.218 7.127C9.117 7.246 9.024 7.373 8.942 7.508C8.639 7.995 8.499 8.504 8.499 9.11C8.499 9.619 8.58 10.044 8.75 10.426C8.783 10.501 8.819 10.573 8.859 10.642ZM13.802 11.625H6V12.625H18V11.625H13.802Z" />',sub:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7 6H5L9 11.5L5 17H7L10 12.875L13 17H15L11 11.5L15 6H13L10 10.125L7 6Z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M16 12H18C18.5523 12 19 12.4477 19 13V14C19 14.5523 18.5523 15 18 15H17V16H19V17H17H16V16V15C16 14.4477 16.4477 14 17 14H18V13H16V12Z" />',sup:' <path fill-rule="evenodd" clip-rule="evenodd" d="M7 6H5L9 11.5L5 17H7L10 12.875L13 17H15L11 11.5L15 6H13L10 10.125L7 6Z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M16 6H18C18.5523 6 19 6.44772 19 7V8C19 8.55228 18.5523 9 18 9H17V10H19V11H17H16V10V9C16 8.44772 16.4477 8 17 8H18V7H16V6Z" />',persona:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7 15C9.20914 15 11 13.2091 11 11C11 8.79086 9.20914 7 7 7C4.79086 7 3 8.79086 3 11C3 13.2091 4.79086 15 7 15ZM21 7H13V9H21V7ZM21 11H13V13H21V11ZM13 15H21V17H13V15Z" />'}}},props:{name:{required:!0,type:String},size:{default:"20",type:String},className:{type:String}},methods:{getIconPath:function(e){var t=e.replace("-","_");return this.icons[t]}}}),Dn=Mn;function An(e,t,n,r,i,o,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):i&&(l=a?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}var En=An(Dn,Sn,_n,!1,null,null,null),On=En.exports,Tn={components:{Icon:On},props:{menuItems:Array},data:function(){return{menuState:!1}},methods:{keyDownHandler:function(e){27===e.keyCode&&(e.preventDefault(),this.hideMenu())},hideMenu:function(){this.menuState&&(this.$parent.$el.classList.remove("node_menu-opened"),this.menuState=!1,document.removeEventListener("keydown",this.keyDownHandler,!0))},toggleMenuState:function(){this.$parent.$el.classList.add("node_menu-opened"),this.menuState=!this.menuState,this.menuState?document.addEventListener("keydown",this.keyDownHandler,!0):document.removeEventListener("keydown",this.keyDownHandler,!0)}},directives:{ClickOutside:Cn.a}},Nn=Tn,Ln=An(Nn,wn,xn,!1,null,null,null),In=Ln.exports,Rn={ru:{TITLE:"Заголовок",ANCHOR:"Якорь",CANCEL:"Отменить",SAVE:"Сохранить",NEW_LINE:'Нажмите "/" для вызова меню',NEW_LINE_INLINE:"Введите текст",DELETE:"Удалить",UPLOAD_NEW:"Загрузить новую",HEADING:"Заголовок",BLOCKQUOTE:"Цитата",LIST:"Список",OLIST:"Нумерованный список",EMBED:"Медиаэлемент",IMAGE:"Изображение",HR:"Разделитель",TABLE:"Таблица",BLOCK_CODE:"Код",EPIGRAPH:"Эпиграф",PERSONA:"Персона",FORMULA:"Формула",SPOILER:"Спойлер",BOLD:"Жирный",ITALIC:"Курсив",CODE:"Код",LINK:"Ссылка",ABBR:"Аббревиатура",ABBR_PLACEHOLDER:"Расшифровка",TEXT_PLACEHOLDER:"Текст",REMOVE_LINK:"Удалить ссылку",REMOVE_ABBR:"Удалить аббревиатуру",UNDERLINE:"Подчеркивание",STRIKE:"Зачеркнутый",SUB:"Подстрочный",SUP:"Надстрочный",ALIGN_LEFT:"Выровнять влево",ALIGN_RIGHT:"Выровнять вправо",ALIGN_CENTER:"Выровнять по центру",ALIGN_JUSTIFY:"По всей ширине",ADD_COLUMN_BEFORE:"Добавить колонку слева",ADD_COLUMN_AFTER:"Добавить колонку справа",DELETE_COLUMN:"Удалить колонку",ADD_ROW_BEFORE:"Добавить строку выше",ADD_ROW_AFTER:"Добавить строку ниже",DELETE_ROW:"Удалить строку",MERGE_CELLS:"Объединить ячейки",COMPANY:"Компания",NO_RESULTS:"Ничего не найдено",LOADING:"...",LANGUAGE:"Язык",ADD_LINK_AND_PRESS_ENTER:"Добавьте ссылку и нажмите Enter",ADD_ID_AND_PRESS_ENTER:"Укажите id якоря и нажмите Enter",MEDIA_ELEMENT_PLACHOLDER:"Медиа элемент (Youtube, Twitter, Vimeo, Soundcloud, Яндекс.Музыка...)",EMBED_ERROR:"Не удалось загрузить медиаэлемент. Попробуйте еще раз",ADD_FORMULA:"Добавить формулу",ADD_FORMULA_PLACEHOLDER:"Введите формулу формата Tex",HEADING_1:"Заголовок 1",HEADING_2:"Заголовок 2",HEADING_3:"Заголовок 3",IMAGE_TEXT_PLACEHOLDER:"Подпись к изображению",ADD_IMAGE:"Добавить картинку",IMAGE_ERROR:"Не удалось загрузить изображение",IMAGE_ERROR_PASTED:"Картинку не удалось скопировать напрямую, сохраните ее и загрузите вручную",IMAGE_ERROR_SIZE:"Размер изображения слишком большой. Максимальный размер изображения не должен превышать 8 Мб. Рекомендуемый размер — 1560 пикселей по ширине",SPOILER_TITLE:"Скрытый текст",CHANGE_LIST_TYPE:"Изменить тип списка",PERSONA_TEXT:"Должность или описание",PERSONA_TITlE:"Имя или название"},en:{TITLE:"Title",ANCHOR:"Anchor",NEW_LINE:'Press "/" to access menu',CANCEL:"Cancel",SAVE:"Save",NEW_LINE_INLINE:"Type something",DELETE:"Remove",UPLOAD_NEW:"Upload new one",HEADING:"Heading",BLOCKQUOTE:"Quote",LIST:"List",OLIST:"Ordered List",EMBED:"Embed",IMAGE:"Image",TABLE:"Table",HR:"Horizontal rule",BLOCK_CODE:"Code",EPIGRAPH:"Epigraph",PERSONA:"Person",FORMULA:"Formula",SPOILER:"Spoiler",BOLD:"Bold",ITALIC:"Italic",CODE:"Code",LINK:"Link",ABBR:"Abbreviation",ABBR_PLACEHOLDER:"Meaning",TEXT_PLACEHOLDER:"Text",REMOVE_LINK:"Remove link",REMOVE_ABBR:"Remove abbreviation",UNDERLINE:"Underline",STRIKE:"Strikethrough",SUB:"Subscript",SUP:"Superscript",ALIGN_LEFT:"Align left",ALIGN_RIGHT:"Align right",ALIGN_CENTER:"Align center",ALIGN_JUSTIFY:"Justify",ADD_COLUMN_BEFORE:"Add column left",ADD_COLUMN_AFTER:"Add column right",DELETE_COLUMN:"Delete column",ADD_ROW_BEFORE:"Add row up",ADD_ROW_AFTER:"Add row down",DELETE_ROW:"Delete row",MERGE_CELLS:"Merge cells",COMPANY:"Company",NO_RESULTS:"No results",LOADING:"...",LANGUAGE:"Language",ADD_LINK_AND_PRESS_ENTER:"Add link and press Enter",ADD_ID_AND_PRESS_ENTER:"Enter anchor id and press Enter",MEDIA_ELEMENT_PLACHOLDER:"Embed (Youtube, Twitter, Vimeo, Soundcloud, Yandex.Music...)",EMBED_ERROR:"Can't load link. Please, try again",ADD_FORMULA:"Add formula",ADD_FORMULA_PLACEHOLDER:"Enter formula in Tex format",HEADING_1:"Heading 1",HEADING_2:"Heading 2",HEADING_3:"Heading 3",IMAGE_TEXT_PLACEHOLDER:"Image tile",ADD_IMAGE:"Add image",IMAGE_ERROR:"Error, can't upload the image",IMAGE_ERROR_PASTED:"The picture could not be copied directly, save it and upload manually",IMAGE_ERROR_SIZE:"The image size is too large. The maximum image size should not exceed 8 MB. The recommended width is 1560 px.",SPOILER_TITLE:"Hidden text",CHANGE_LIST_TYPE:"Toggle list type",PERSONA_TEXT:"Position or description",PERSONA_TITlE:"Name or title"}},Fn={methods:{i18n:function(e){var t=this.options.lang||"ru";return Rn[t][e]||e}}},Pn={mixins:[Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","options"],data:function(){return{showPlaceholder:!1}},computed:{level:{get:function(){return this.node.attrs.level},set:function(e){this.updateAttrs({level:e})}},headingNodeClass:function(){return"node_heading-".concat(this.level)},headingClass:function(){var e=this.node.textContent.length>0;return"heading heading-".concat(this.level," ").concat(e?"":"placeholder")},menuItems:function(){var e=this;return[{type:"action",action:this.deleteNode,text:this.i18n("DELETE")},{type:"separator"},{type:"action",action:function(){return e.setLevel(1)},text:this.i18n("HEADING_1"),active:1===this.level},{type:"action",action:function(){return e.setLevel(2)},text:this.i18n("HEADING_2"),active:2===this.level},{type:"action",action:function(){return e.setLevel(3)},text:this.i18n("HEADING_3"),active:3===this.level}]}},methods:{setLevel:function(e){this.updateAttrs({level:e})},deleteNode:function(){var e=this.view.state.tr,t=this.getPos();e.delete(t,t+this.node.nodeSize),this.view.dispatch(e)}}},Bn=Pn,jn=An(Bn,yn,bn,!1,null,null,null),zn=jn.exports,Hn=n("0cea"),$n=Hn.nodes,Vn=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"heading"}},{key:"defaultOptions",get:function(){return{levels:[1,2,3]}}},{key:"schema",get:function(){return $n.heading}},{key:"view",get:function(){return zn}},{key:"commands",value:function(e){var t=e.type;return function(){return te(t)}}},{key:"keys",value:function(e){var t=e.type;return this.options.levels.reduce((function(e,n){var r;return v(v({},e),(r={},c(r,"Shift-Ctrl-".concat(n),te(t,{level:n})),c(r,"Shift-Cmd-".concat(n),te(t,{level:n})),r))}),{})}},{key:"inputRules",value:function(e){var t=e.type;return this.options.levels.map((function(e){return be(new RegExp("^(#{1,".concat(e,"})\\s$")),t,(function(){return{level:e}}))}))}}]),n}(nt),Wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node node_clear node_p-container"},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),n("div",{ref:"content",staticClass:"blockquote"}),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},Un=[],qn={mixins:[Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","options"],computed:{menuItems:function(){return[{type:"action",action:this.deleteNode,text:this.i18n("DELETE")}]}},methods:{deleteNode:function(){var e=this.view.state.tr,t=this.getPos();e.delete(t,t+this.node.nodeSize),this.view.dispatch(e)}}},Gn=qn,Kn=An(Gn,Wn,Un,!1,null,null,null),Jn=Kn.exports,Zn=n("0cea"),Xn=Zn.nodes,Yn=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"blockquote"}},{key:"schema",get:function(){return Xn.blockquote}},{key:"view",get:function(){return Jn}},{key:"commands",value:function(e){var t=e.type;return function(){return qe(t)}}},{key:"keys",value:function(e){var t=e.type;return{"Ctrl->":qe(t),"Cmd->":qe(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[ye(/^\s*>\s$/,t)]}}]),n}(nt),Qn=n("986d");function er(e,t){return e.type===t.nodes.list}function tr(e,t,n){return function(r,i,o){var s=r.schema,a=r.selection,l=a.$from,c=a.$to,u=l.blockRange(c);if(!u)return!1;var d=Object(Qn["findParentNode"])((function(e){return er(e,s)}))(a);if(u.depth>=1&&d&&u.depth-d.depth<=1){if(d.node.type===e)return Fe(t)(r,i,o);if(er(d.node,s)&&e.validContent(d.node.content)){var f=r.tr;return f.setNodeMarkup(d.pos,e),i&&i(f),!1}}return Le(e,n)(r,i,o)}}var nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"outer"===e.node.attrs.type?n("div",{staticClass:"node node_p-container"},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),n("div",{staticClass:"list"},[n(e.tag,{ref:"content",tag:"component",attrs:{contenteditable:"true"}})],1),n("right-menu",{attrs:{menuItems:e.menuItems}})],1):n(e.tag,{ref:"content",tag:"component",attrs:{contenteditable:"true"}})},rr=[],ir={mixins:[Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","options"],computed:{tag:{get:function(){return this.node.attrs.tag},set:function(e){this.updateAttrs({tag:e})}},menuItems:function(){return[{type:"action",action:this.deleteNode,text:this.i18n("DELETE")}]}},methods:{deleteNode:function(){var e=this.view.state.tr,t=this.getPos();e.delete(t,t+this.node.nodeSize),this.view.dispatch(e)}}},or=ir,sr=An(or,nr,rr,!1,null,null,null),ar=sr.exports,lr=function(e,t,n){var r=t.domAtPos(e.selection.anchor),i="#text"===r.node.nodeName?r.node.parentNode:r.node,o=i.closest(n);return o},cr=n("0cea"),ur=cr.nodes,dr=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"list"}},{key:"defaultOptions",get:function(){return{tags:["ol","ul"]}}},{key:"schema",get:function(){return ur.list}},{key:"view",get:function(){return ar}},{key:"commands",value:function(e){var t=e.type,n=e.schema;return function(e){return tr(t,n.nodes.listItem,e)}}},{key:"keys",value:function(e){var t=e.type,n=e.schema;return{"Shift-Ctrl-7":tr(t,n.nodes.listItem,{tag:"ol"}),"Shift-Ctrl-8":tr(t,n.nodes.listItem,{tag:"ul"}),"Shift-Cmd-7":tr(t,n.nodes.listItem,{tag:"ol"}),"Shift-Cmd-8":tr(t,n.nodes.listItem,{tag:"ul"})}}},{key:"inputRules",value:function(e){var t=this,n=e.type;return[ye(/^(\d+)\.\s$/,n,(function(e){return{order:+e[1],tag:"ol",type:lr(t.editor.state,t.editor.view,"table")?"inner":"outer"}}),(function(e,t){return t.childCount+t.attrs.order===+e[1]})),ye(/^\s*([-+*])\s$/,n,(function(){return{order:1,tag:"ul",type:lr(t.editor.state,t.editor.view,"table")?"inner":"outer"}}))]}}]),n}(nt);function fr(e){return function(t,n){var r=t.selection,i=r.$from,o=r.$to,s=i.blockRange(o,(function(t){return t.childCount&&t.firstChild.type===e}));if(!s)return!1;var a=s.startIndex;if(0===a)return!1;var l=s.parent,c=l.child(a-1);if(c.type!==e)return!1;if(n){var u=c.lastChild&&c.lastChild.type===l.type,d=k["Fragment"].from(u?e.create():null),f=k["Fragment"].from(l.type.create({type:"inner",tag:l.attrs.tag},d)),h=new k["Slice"](k["Fragment"].from(e.create(null,f)),u?3:1,0),p=s.start,m=s.end;n(t.tr.step(new C["b"](p-(u?3:1),m,p,m,h,1,!0)).scrollIntoView())}return!0}}var hr=n("0cea"),pr=hr.nodes,mr=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"listitem"}},{key:"schema",get:function(){return pr.listitem}},{key:"keys",value:function(e){var t=e.type;return{Enter:Re(t),Tab:fr(t),"Shift-Tab":Fe(t)}}}]),n}(nt),gr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){return e.deselectNode(0)},expression:"() => deselectNode(0)"}],staticClass:"node node__padded",class:{node_selected:e.isActive}},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"node__input-container"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.setSrc.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.srcLink,expression:"srcLink"}],ref:"inputSource",staticClass:"node__input",attrs:{placeholder:e.i18n("ADD_LINK_AND_PRESS_ENTER"),type:"text"},domProps:{value:e.srcLink},on:{keydown:e.handleKeydown,keypress:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()},paste:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.srcLink=t.target.value)}}})])]),n("div",{ref:"embedHTML",staticClass:"node__content node__content_flex",class:{node__content_active:e.isActive,node__content_empty:!e.data.title,node__content_loading:e.loading,node__content_error:e.embedError},attrs:{contenteditable:"false"},on:{click:e.selectNode}},[e.embedError?n("div",{staticClass:"node__error"},[e._v(" "+e._s(e.embedError)+" ")]):[!e.loading&&e.data.habrUrl?n("iframe",{key:"iframe-"+this.srcLink,ref:"richIframe",class:"embed_"+e.data.type+" embed__content",attrs:{id:e.data.id,src:e.data.habrUrl}}):e.loading?e._e():n("div",{class:"embed_"+e.data.type+" "+(e.isHabr?"embed_layout-right":"")},[e.data.thumb?n("div",{staticClass:"embed__thumb",style:"background-image:url('"+e.data.thumb+"');"}):e._e(),n("div",{staticClass:"embed__caption"},[n("div",{staticClass:"embed__caption-title"},[e.data.author?n("span",[e._v(e._s(e.data.author)+" / ")]):e._e(),n("span",[e._v(e._s(e.data.title))])]),e.isHabr&&e.data.description?n("div",{staticClass:"embed__caption-description"},[e._v(" "+e._s(e.data.description)+"... ")]):e._e(),n("a",{staticClass:"embed__caption-link",attrs:{href:e.data.url,target:"_blank"}},[e._v(" "+e._s(e.data.host)+" ")])])]),null===e.srcLink||e.loading?n("div",{staticClass:"embed__placeholder"},[e._v(" "+e._s(e.i18n("MEDIA_ELEMENT_PLACHOLDER"))+" ")]):e._e(),n("div",{staticClass:"node__overlay"})]],2),n("div",{ref:"content",staticStyle:{display:"none"}}),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},vr=[],yr=(n("caad"),n("2532"),n("e6cf"),n("2b3d"),n("1276"),{data:function(){return{isActive:!1}},mounted:function(){var e=this;this.inserted&&(this.selectNode(),this.$nextTick((function(){e.inserted=!1})))},computed:{inserted:{get:function(){return this.node.attrs.inserted},set:function(e){this.updateAttrs({inserted:e})}}},methods:{selectNode:function(){var e=this;this.isActive=!0,setTimeout((function(){e.$refs.inputSource&&e.$refs.inputSource.focus()}))},deselectNode:function(e){if(this.isActive&&(this.isActive=!1,"undefined"!==typeof e)){var t=this.getPos()+(e<0?0:this.node.nodeSize),n=w["TextSelection"].near(this.view.state.doc.resolve(t),e);this.view.dispatch(this.view.state.tr.setSelection(n)),this.view.focus()}}},watch:{selected:function(){this.selected?this.selectNode():this.deselectNode()}}}),br={mixins:[Fn],computed:{menuItems:function(){return[{type:"action",action:this.deleteNode,text:this.i18n("DELETE")}]}},methods:{deleteNode:function(){var e=this.view.state.tr,t=this.getPos();e.delete(t,t+this.node.nodeSize),this.view.dispatch(e);var n=this.$root.$el;n.querySelector(".ProseMirror").contentEditable=!0}}},wr={embedHost:"https://embedd.srv.habr.com",imagesHost:"/upload/",imagesByUrlHost:"https://rc.habr.habratest.net/api/v2/upload/hstor_by_url?apikey=b35e689b64dedff62faeaf1b3b5144f350ebf4ac",mentionHost:"/json/mentions/"},xr=function(e){var t=e.embedHost,n=void 0===t?null:t,r=e.imagesHost,i=void 0===r?null:r,o=e.imagesByUrlHost,s=void 0===o?null:o,a=e.mentionHost,l=void 0===a?null:a;l&&(wr.mentionHost=l),i&&(wr.imagesHost=i),s&&(wr.imagesByUrlHost=s),n&&(wr.embedHost=n)},kr=function(e){return e.replace(/[\u200B-\u200D\uFEFF]/g,"")},Cr={mixins:[yr,br,Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","selected","options"],data:function(){return{srcLink:null,embedError:null,loading:!1}},computed:{src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:kr(e)})}},habrUrl:{get:function(){return this.node.attrs.habrUrl},set:function(e){this.updateAttrs({habrUrl:e})}},isHabr:{get:function(){return this.node.attrs.isHabr},set:function(e){this.updateAttrs({isHabr:e})}},data:{get:function(){return this.node.attrs.data},set:function(e){this.updateAttrs({data:e})}}},created:function(){var e=this;this.src&&(this.srcLink=this.src,this.data.title||this.$nextTick((function(){e.setSrc()})))},methods:{handleKeydown:function(e){if(e.stopPropagation(),38===e.keyCode||40===e.keyCode){e.preventDefault();var t=38===e.keyCode?-1:1;this.deselectNode(t),this.setSrc()}13===e.keyCode&&(e.preventDefault(),this.setSrc())},setSrc:function(){var e=this;this.src!==this.srcLink&&(this.embedError=null,this.loading=!0,this.isIframe=null,this.dispatchLoadingEvent(),this.src=this.srcLink,this.isHabr=this.srcLink.includes("habr.com"),fetch("".concat(wr.embedHost,"/geturl?v=v1&q=").concat(this.srcLink)).then((function(e){return e.json()})).then((function(t){if(t.error)return e.loading=!1,e.dispatchLoadingEvent(),void(e.embedError=e.i18n("EMBED_ERROR"));var n=new URL(t.url);if(e.data=v(v({},t),{},{thumb:t.thumbnail_url,link:t.url,description:t.description&&t.description.substring(0,100),host:n.hostname,url:t.url}),e.data.habrUrl){var r=e.data.habrUrl.split("/")[2];e.data.habrUrl="".concat(wr.embedHost).concat(e.data.habrUrl),e.data.id=r,e.habrUrl=e.data.habrUrl}e.loading=!1,e.dispatchLoadingEvent(),e.deselectNode(1)})).catch((function(){e.loading=!1,e.dispatchLoadingEvent(),e.embedError=e.i18n("EMBED_ERROR")})))},dispatchLoadingEvent:function(){window.dispatchEvent(new CustomEvent("wysiwyg-block-submit",{detail:this.loading}))}},directives:{ClickOutside:Cn.a}},Sr=Cr,_r=An(Sr,gr,vr,!1,null,null,null),Mr=_r.exports,Dr=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.tr,o=n.create(v({inserted:!0},r)),s=i;s.replaceSelectionWith(o),t(s)},Ar=n("0cea"),Er=Ar.nodes,Or=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"embed"}},{key:"view",get:function(){return Mr}},{key:"schema",get:function(){return Er.embed}},{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){Dr(e,n,t)}}}}]),n}(nt);function Tr(e){if(Array.isArray(e))return e}function Nr(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){a=!0,i=l}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}return o}}function Lr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ir(e,t){return Tr(e)||Nr(e,t)||h(e,t)||Lr()}var Rr=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.deselectNode,expression:"deselectNode"}],ref:"parentNode",staticClass:"node node_clear",class:{node_selected:t.isActive,node_float:t.float,node__padded:!t.float}},[r("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[r("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),r("div",{staticClass:"image-menu",class:{"image-menu_active":t.isActive},style:"top: -40px; width: 100%; position: absolute;"},[r("div",{staticClass:"bubble-menu",class:{"bubble-menu_active":t.isActive},style:"top: 0px; left: 50%;"},[r("button",{staticClass:"button-icon bubble-menu__button",class:{"bubble-menu__button_active":t.float},on:{click:t.toggleImageInline}},[r("icon",{attrs:{name:"float-image"}})],1),r("button",{staticClass:"button-icon bubble-menu__button",class:{"bubble-menu__button_active":t.border},on:{click:t.toggleBorder}},[r("icon",{attrs:{name:"border-image"}})],1)])]),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".jpg, .jpeg, .png, .gif"},on:{change:t.processInputFile}}),r("div",{staticClass:"node__content node__content_flex",class:{node__content_active:t.isActive,node__content_empty:!t.srcIsString,node__content_loading:t.loading},on:{click:function(){e.selectNode(),e.uploadImage()}}},[r("figure",{directives:[{name:"show",rawName:"v-show",value:t.srcIsString&&!t.loading,expression:"srcIsString && !loading"}],staticClass:"image",class:{"image_full-width":t.fullWidth},attrs:{contenteditable:"false"}},[r("img",{ref:"imgTag",staticClass:"image__tag",class:{image__tag_border:t.border},attrs:{src:t.srcIsString&&t.src}}),r("textarea",{directives:[{name:"autogrow",rawName:"v-autogrow"},{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"inputSource",staticClass:"image__caption",class:{image__caption_visible:t.title||t.isActive},attrs:{rows:"1",placeholder:t.i18n("IMAGE_TEXT_PLACEHOLDER")},domProps:{value:t.title},on:{keydown:t.handleKeydown,keypress:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()},paste:function(e){e.stopPropagation()},input:function(e){e.target.composing||(t.title=e.target.value)}}})]),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.srcIsString&&!t.imgError,expression:"!srcIsString && !imgError"}],staticClass:"embed__placeholder"},[t._v(" "+t._s(t.i18n("ADD_IMAGE"))+" ")]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.imgError,expression:"imgError"}],staticClass:"node__error",attrs:{contenteditable:"false"}},[t._v(" "+t._s(t.imgError)+" ")])]),r("div",{ref:"content",staticStyle:{display:"none"}}),r("right-menu",{attrs:{menuItems:t.menuItems}})],1)},Fr=[],Pr={name:"autogrow",inserted:function(e){var t,n;e="textarea"===e.tagName.toLowerCase()?e:e.querySelector("textarea"),n=parseFloat(getComputedStyle(e).getPropertyValue("min-height")),t=window.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:function(e,t,n){e.addEventListener(t,n,!1)};var r=function(){e.style.height="auto";var t=2*e.style.borderTopWidth;e.style.height=(e.scrollHeight<n?n:e.scrollHeight)+t+"px"},i=function(){window.setTimeout(r,0)},o=function(e,t){var n=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&t()}))}),{root:document.documentElement});n.observe(e)};o(e,r),t(e,"change",r),t(e,"cut",i),t(e,"paste",i),t(e,"drop",i),t(e,"input",r),r()}},Br={install:function(e){e.directive(Pr.name,Pr)}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(Br);var jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v(v({},e),{withCredentials:!0})},zr=function(e){var t="; ".concat(document.cookie),n=t.split("; ".concat(e,"="));return 2===n.length?n.pop().split(";").shift():null};function Hr(e,t){var n=document.querySelector('meta[name="csrf-token"]'),r=n&&n.getAttribute("content"),i={"Content-Type":"multipart/form-data",accept:"application/json"},o=r?{headers:v({"csrf-token":r},i)}:{headers:i},s=jr(o),a=zr("csrftoken");return r&&a&&t.append("_csrf",a),b.a.post(e,t,s)}var $r=8e6,Vr={mixins:[yr,br,Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","selected","options"],data:function(){return{imgError:null,loading:!1}},computed:{src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:e})}},title:{get:function(){return this.node.attrs.title},set:function(e){this.updateAttrs({title:e})}},float:{get:function(){return this.node.attrs.float},set:function(e){this.updateAttrs({float:e})}},border:{get:function(){return this.node.attrs.border},set:function(e){this.updateAttrs({border:e})}},fullWidth:{get:function(){return this.node.attrs.fullWidth},set:function(e){this.updateAttrs({fullWidth:e})}},inserted:{get:function(){return this.node.attrs.inserted},set:function(e){this.updateAttrs({inserted:e})}},width:{get:function(){return this.node.attrs.width},set:function(e){this.updateAttrs({width:e})}},height:{get:function(){return this.node.attrs.height},set:function(e){this.updateAttrs({height:e})}},menuItems:function(){var e=this;return[{type:"action",action:this.deleteNode,text:this.i18n("DELETE")},{type:"separator"},{type:"action",action:function(){return e.$refs.fileInput.click()},text:this.i18n("UPLOAD_NEW")}]},srcIsString:function(){return"string"===typeof this.src}},created:function(){var e=this;this.src||this.$nextTick((function(){return e.$refs.fileInput.click()})),this.inserted&&!this.src&&this.$nextTick((function(){e.$refs.inputSource.focus(),e.inserted=!1}))},mounted:function(){var e=this,t=this.srcIsString&&(-1!==this.src.indexOf("habrastorage.org")||-1!==this.src.indexOf("hsto.org"));if(this.src&&!t)if(this.loading=!0,this.dispatchLoadingEvent(),this.srcIsString){var n=new FormData;n.append("file",this.src),n.append("t","direct_url"),Hr(wr.imagesByUrlHost,n).then((function(t){e.setImageSrc(t.data.url),e.loading=!1,e.dispatchLoadingEvent()})).catch((function(){e.setExternalImageError()}))}else this.processFile(this.src);this.$nextTick((function(){t&&e.srcIsString&&!e.width&&e.getImageSize(),e.$refs.inputSource.dispatchEvent(new Event("change"))}))},methods:{dispatchLoadingEvent:function(){window.dispatchEvent(new CustomEvent("wysiwyg-block-submit",{detail:this.loading}))},setImageSrc:function(e){this.src=e,this.getImageSize()},handleKeydown:function(e){e.stopPropagation(),38!==e.keyCode&&40!==e.keyCode||this.deselectNode(0)},getImageSize:function(){var e=this,t=new Image;t.src=this.src,t.onload=function(){e.width=t.width,e.height=t.height,e.calcFullWidth()},t.onerror=function(){e.loading=!1,e.dispatchLoadingEvent(),e.imgError=e.i18n("IMAGE_ERROR")}},calcFullWidth:function(){var e=740;100*this.width/e>70?this.fullWidth=!0:this.fullWidth=!1},setExternalImageError:function(){this.src=null,this.loading=!1,this.dispatchLoadingEvent(),this.imgError=this.i18n("IMAGE_ERROR_PASTED")},processInputFile:function(e){var t=e.target.files[0];t&&(t.size>$r?this.imgError=this.i18n("IMAGE_ERROR_SIZE"):(this.loading=!0,this.dispatchLoadingEvent(),this.processFile(t)))},processFile:function(e){var t=this;this.imgError=null;var n=new FormData;n.append("file",e,e.filename||e.name),n.append("t","direct"),Hr(wr.imagesHost,n).then((function(e){if(200===e.status){var n=new Image;n.src=e.data.url,n.onload=function(){t.loading=!1,t.dispatchLoadingEvent(),t.src=e.data.url,t.getImageSize()}}else t.loading=!1,t.dispatchLoadingEvent(),t.imgError=413===e.status?t.i18n("IMAGE_ERROR_SIZE"):t.i18n("IMAGE_ERROR")})).catch((function(){t.loading=!1,t.dispatchLoadingEvent(),t.imgError=t.i18n("IMAGE_ERROR")}))},toggleImageInline:function(){this.float=!this.float},toggleBorder:function(){this.border=!this.border},uploadImage:function(){var e=this;this.src||this.$nextTick((function(){return e.$refs.fileInput.click()}))}},directives:{ClickOutside:Cn.a,autogrow:Pr},watch:{isActive:function(){var e=this;this.$nextTick((function(){e.$refs.parentNode.setAttribute("draggable",!1)}))}}},Wr=Vr,Ur=An(Wr,Rr,Fr,!1,null,null,null),qr=Ur.exports,Gr=n("0cea"),Kr=Gr.nodes,Jr=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,Zr=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"image"}},{key:"schema",get:function(){return Kr.image}},{key:"view",get:function(){return qr}},{key:"stopEvent",value:function(e){var t=this,n=e.target.closest(".node__drag-control");return-1===["mousedown"].indexOf(e.type)||n?("mousedown"===e.type&&n&&(this.captureEvents=!1,document.addEventListener("dragend",(function(){t.captureEvents=!0}),{once:!0})),this.captureEvents):(e.preventDefault(),!1)}},{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){Dr(e,n,t)}}}},{key:"inputRules",value:function(e){var t=e.type;return[He(Jr,t,(function(e){var t=Ir(e,4),n=t[1],r=t[2],i=t[3];return{src:r,title:i||n,customClass:"",border:!1,float:!1,fullWidth:!1,inserted:!0}}))]}},{key:"plugins",get:function(){return[new w["Plugin"]({props:{handleDOMEvents:{drop:function(e,t){var n=t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length;if(n){var r=Array.from(t.dataTransfer.files).filter((function(e){return/image/i.test(e.type)}));if(0!==r.length){t.preventDefault();var i=e.state.schema,o=e.posAtCoords({left:t.clientX,top:t.clientY});r.forEach((function(t){var n=i.nodes.image.create({src:t,title:null,customClass:"",border:!1,float:!1,fullWidth:!0,inserted:!0}),r=e.state.tr.insert(o.pos,n);e.dispatch(r)}))}}}}}})]}}]),n}(nt),Xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.deselectNode,expression:"deselectNode"}],staticClass:"node node_clear node_separator",class:{node_selected:e.selected},attrs:{contenteditable:"false"}},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),n("div",{ref:"content",staticStyle:{display:"none"}}),n("div",{staticClass:"node__content node__content_flex",class:{node__content_active:e.selected},attrs:{contenteditable:"false"}},[n("hr",{staticClass:"separator",attrs:{contenteditable:"false"}}),n("div",{staticClass:"node__overlay",attrs:{contenteditable:"false"},on:{click:e.selectNode}})]),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},Yr=[],Qr={mixins:[Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","options"],data:function(){return{selected:!1}},computed:{menuItems:function(){return[{type:"action",action:this.deleteNode,text:this.i18n("DELETE")}]}},methods:{selectNode:function(e){this.selected=!0;var t=this.view.posAtCoords({left:e.clientX,top:e.clientY});this.view.dispatch(Object(Qn["setTextSelection"])(t.pos)(this.view.state.tr))},deselectNode:function(){this.selected=!1},deleteNode:function(){var e=this.view.state.tr,t=this.getPos();e.delete(t,t+this.node.nodeSize),this.view.dispatch(e)}},directives:{ClickOutside:Cn.a}},ei=Qr,ti=An(ei,Xr,Yr,!1,null,null,null),ni=ti.exports,ri=n("0cea"),ii=ri.nodes,oi=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"hr"}},{key:"view",get:function(){return ni}},{key:"schema",get:function(){return ii.hr}},{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){Dr(e,n,t)}}}}]),n}(nt),si=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node node_paragraph",class:{"is-empty":0===e.node.content.size}},[e.node.content.size&&!e.node.attrs.simple?n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1):e._e(),n("div",{staticClass:"node__inner"},[n("p",{ref:"content",attrs:{align:e.node.attrs.align,"data-empty-text":e.placeholder}})]),e.node.attrs.simple?e._e():n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},ai=[],li=(n("07ac"),{mixins:[Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","options"],computed:{menuItems:function(){return[{type:"action",action:this.deleteNode,text:this.i18n("DELETE")}]},placeholder:function(){var e=!1;return this.node.attrs.persona?this.i18n("PERSONA_TEXT"):(Object.values(this.view.state.config.schema.nodes).forEach((function(t){"paragraph"!==t.name&&-1!==t.groups.indexOf("block")&&(e=!0)})),e&&!this.options.isMobile?this.i18n("NEW_LINE"):this.i18n("NEW_LINE_INLINE"))}},methods:{deleteNode:function(){var e=this.view.state.tr,t=this.getPos();e.delete(t,t+this.node.nodeSize),this.view.dispatch(e),this.view.focus()}}}),ci=li,ui=An(ci,si,ai,!1,null,null,null),di=ui.exports,fi=n("0cea"),hi=fi.nodes,pi=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"paragraph"}},{key:"schema",get:function(){return hi.paragraph}},{key:"view",get:function(){return di}},{key:"commands",value:function(e){var t=e.type,n=e.schema;return{setParagraphAlign:function(e){return Ue(t,n.nodes.paragraph,e)}}}}]),n}(nt),mi=n("0cea"),gi=mi.nodes,vi=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"table_paragraph"}},{key:"schema",get:function(){return gi.table_paragraph}},{key:"commands",value:function(e){var t=e.type,n=e.schema;return{setParagraphAlign:function(e){return Ue(t,n.nodes.paragraph,e)}}}}]),n}(nt),yi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node node_clear node_p-container"},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),n("div",{ref:"content",staticClass:"epigraph",class:"epigraph_"+e.align,attrs:{contenteditable:"true"}}),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},bi=[],wi={mixins:[Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","options"],computed:{align:{get:function(){return this.node.attrs.align},set:function(e){this.updateAttrs({align:e})}},menuItems:function(){var e=this;return[{type:"action",action:this.deleteNode,text:this.i18n("DELETE")},{type:"action",action:function(){return e.alignNode("left")},text:this.i18n("ALIGN_LEFT")},{type:"action",action:function(){return e.alignNode("right")},text:this.i18n("ALIGN_RIGHT")},{type:"action",action:function(){return e.alignNode("center")},text:this.i18n("ALIGN_CENTER")},{type:"action",action:function(){return e.alignNode("justify")},text:this.i18n("ALIGN_JUSTIFY")}]}},methods:{deleteNode:function(){var e=this.view.state.tr,t=this.getPos();e.delete(t,t+this.node.nodeSize),this.view.dispatch(e)},alignNode:function(e){this.updateAttrs({align:e})}}},xi=wi,ki=An(xi,yi,bi,!1,null,null,null),Ci=ki.exports,Si=n("0cea"),_i=Si.nodes,Mi=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"epigraph"}},{key:"view",get:function(){return Ci}},{key:"schema",get:function(){return _i.epigraph}},{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){Dr(e,n,t)}}}}]),n}(nt),Di=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){return e.deselectNode(0)},expression:"() => deselectNode(0)"}],staticClass:"node",class:{node_selected:e.isActive}},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"node__input-container"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.setAnchorId.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.anchorId,expression:"anchorId"}],ref:"inputSource",staticClass:"node__input",attrs:{placeholder:e.i18n("ADD_ID_AND_PRESS_ENTER"),type:"text"},domProps:{value:e.anchorId},on:{paste:function(e){e.stopPropagation()},keydown:e.handleKeydown,input:[function(t){t.target.composing||(e.anchorId=t.target.value)},e.setAnchorId]}})])]),n("div",{staticClass:"node__content node_anchor node__content_empty",class:{node__content_active:e.isActive},attrs:{id:e.id,contenteditable:"false"},on:{click:e.selectNode}},[e.id?n("span",[e._v(" #"+e._s(e.id)+" ")]):n("span",[e._v(" #"+e._s(e.i18n("ANCHOR"))+" ")])]),n("div",{ref:"content",staticStyle:{display:"none"}}),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},Ai=[],Ei={mixins:[yr,br,Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","selected","options"],data:function(){return{anchorId:null}},computed:{id:{get:function(){return this.node.attrs.id},set:function(e){this.updateAttrs({id:e})}}},mounted:function(){this.anchorId=this.id,this.id||this.selectNode()},methods:{handleKeydown:function(e){e.stopPropagation(),13===e.keyCode&&(e.preventDefault(),this.deselectNode(1))},setAnchorId:function(){this.updateAttrs({id:this.anchorId})}},directives:{ClickOutside:Cn.a}},Oi=Ei,Ti=An(Oi,Di,Ai,!1,null,null,null),Ni=Ti.exports,Li=n("0cea"),Ii=Li.nodes,Ri=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"anchor"}},{key:"schema",get:function(){return Ii.anchor}},{key:"view",get:function(){return Ni}},{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){Dr(e,n,t)}}}}]),n}(nt),Fi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node node_inline",class:{node_inline_empty:!e.src},on:{click:e.uploadFileIfNoSrc}},[n("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".jpg, .jpeg, .png, .gif"},on:{change:e.processFile}}),n("div",{staticClass:"node__content node__content_inline",class:{node__content_loading:e.loading}},[e.src?n("img",{ref:"imgTag",staticClass:"inline-image__tag",attrs:{src:e.src}}):n("icon",{attrs:{name:"image"}})],1)])},Pi=[],Bi={mixins:[Fn],props:["node","updateAttrs","view","getPos","options"],components:{Icon:On},data:function(){return{imgError:null,loading:!1}},computed:{src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:e})}},width:{get:function(){return this.node.attrs.width},set:function(e){this.updateAttrs({width:e})}},height:{get:function(){return this.node.attrs.height},set:function(e){this.updateAttrs({height:e})}}},mounted:function(){var e=this;if(this.uploadFileIfNoSrc(),this.src&&-1===this.src.indexOf("habrastorage.org")&&-1===this.src.indexOf("hsto.org")){this.loading=!0;var t=new FormData;t.append("file",this.src),t.append("t","direct_url"),Hr(wr.imagesByUrlHost,t).then((function(t){e.src=t.url,e.getImageSize(),e.loading=!1,e.dispatchLoadingEvent()})).catch((function(){e.setExternalImageError()}))}this.src&&this.getImageSize()},methods:{getImageSize:function(){var e=this,t=new Image;t.src=this.src,t.onload=function(){e.width=t.width,e.height=t.height},t.onerror=function(){e.loading=!1,e.dispatchLoadingEvent(),e.imgError=e.i18n("IMAGE_ERROR")}},setExternalImageError:function(){this.loading=!1,this.dispatchLoadingEvent(),this.imgError=this.i18n("IMAGE_ERROR_PASTED")},uploadFileIfNoSrc:function(){this.src||this.$refs.fileInput.click()},processFile:function(e){var t=this;this.loading=!0,this.dispatchLoadingEvent();var n=e.target.files[0];if(n){var r=new FormData;r.append("file",n,n.filename),r.append("t","direct"),Hr(wr.imagesHost,r).then((function(e){if(t.imgError=null,200===e.status){var n=new Image;n.src=e.data.url,n.onload=function(){var r=t.$root.$el;100*n.width/r.clientWidth>70?t.fullWidth=!0:t.fullWidth=!1,t.loading=!1,t.dispatchLoadingEvent(),t.src=e.data.url,t.getImageSize()}}else t.loading=!1,t.dispatchLoadingEvent(),t.imgError=413===e.status?t.i18n("IMAGE_ERROR_SIZE"):t.i18n("IMAGE_ERROR")})).catch((function(){t.loading=!1,t.dispatchLoadingEvent(),t.imgError=t.i18n("IMAGE_ERROR")}))}},dispatchLoadingEvent:function(){window.dispatchEvent(new CustomEvent("wysiwyg-block-submit",{detail:this.loading}))}}},ji=Bi,zi=An(ji,Fi,Pi,!1,null,null,null),Hi=zi.exports,$i=n("0cea"),Vi=$i.nodes,Wi=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"inline_image"}},{key:"schema",get:function(){return Vi.inline_image}},{key:"view",get:function(){return Hi}},{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){Dr(e,n,t)}}}}]),n}(nt),Ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.deselectNode,expression:"deselectNode"}],staticClass:"node",class:{node_selected:e.isActive}},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),e.isActive?n("div",{staticClass:"node__input-container",attrs:{contenteditable:"false"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.lang=t.target.multiple?n:n[0]},e.setLang]}},[n("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(" "+e._s(e.i18n("LANGUAGE"))+" ")]),e._l(e.languages,(function(t,r){return n("option",{key:r,domProps:{value:t.alias}},[e._v(" "+e._s(t.title)+" ")])}))],2)]):e._e(),n("div",{staticClass:"code node__content_flex",class:{node__content_active:e.isActive},on:{click:function(t){return t.stopPropagation(),e.selectNode.apply(null,arguments)}}},[n("codemirror",{ref:"editor",attrs:{options:e.codemirrorOptions},on:{paste:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()},focus:e.selectNode,click:function(t){return t.stopPropagation(),e.selectNode.apply(null,arguments)},input:e.setCodeContent},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),n("div",{ref:"content",staticStyle:{display:"none"}})],1),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},qi=[],Gi=n("8f94"),Ki=n("4b6d"),Ji=(n("a7be"),n("8c33"),["1c"]),Zi=function(e){return n("25d3")("./".concat(e,".js"))},Xi=function(e){return n("6573")("./".concat(e,"/").concat(e))},Yi=/Mac/.test(navigator.platform)?"Cmd":"Ctrl",Qi={mixins:[br,Fn],components:{RightMenu:In,codemirror:Gi["codemirror"],Icon:On},props:["node","updateAttrs","view","getPos","selected","options"],data:function(){return{content:"",mode:null,languages:Ki["languages"],isActive:!1}},computed:{lang:{get:function(){return this.node.attrs.lang},set:function(e){this.updateAttrs({lang:e})}},code:{get:function(){return this.node.attrs.code||""},set:function(e){this.updateAttrs({code:e})}},inserted:{get:function(){return this.node.attrs.inserted||""},set:function(e){this.updateAttrs({inserted:e})}},codemirrorOptions:function(){var e,t=this;return{tabSize:2,mode:{name:this.mode,json:!0},lineNumbers:!this.options.isMobile,line:!0,matchBrackets:!0,autofocus:this.node.attrs.inserted,inputStyle:"textarea",extraKeys:(e={Up:function(){return t.maybeEscape("line",-1)},Down:function(){return t.maybeEscape("line",1)},Left:function(){return t.maybeEscape("char",-1)},Right:function(){return t.maybeEscape("char",1)}},c(e,"".concat(Yi,"-Z"),(function(){Ut(t.view.state,t.view.dispatch),t.view.focus()})),c(e,"Shift-".concat(Yi,"-Z"),(function(){qt(t.view.state,t.view.dispatch)})),e)}},codemirror:function(){return this.$refs.editor&&this.$refs.editor.codemirror}},created:function(){this.node.attrs.lang&&this.setLang({target:{value:this.node.attrs.lang}})},mounted:function(){var e=this;this.node.attrs.inserted&&!this.code&&this.$nextTick((function(){e.$refs.editor.codemirror.focus(),e.$nextTick((function(){e.inserted=!1}))}))},methods:{setCodeContent:function(e){this.code=e},setLang:function(e){var t=this,n=Ki["languages"].filter((function(t){return t.alias===e.target.value})),r=-1!==Ji.indexOf(n[0].code)?Zi:Xi;r(n[0].code).then((function(){t.lang=e.target.value,t.mode=n[0].mode||n[0].code}))},selectNode:function(){var e=this,t=this.$root.$el;t.querySelector(".ProseMirror").contentEditable=!1,this.isActive=!0,this.$nextTick((function(){e.$refs.editor.codemirror.focus()}))},deselectNode:function(){if(!this.selected){var e=this.$root.$el;e.querySelector(".ProseMirror").contentEditable=!0,this.isActive=!1}},maybeEscape:function(e,t){var n=this.codemirror.getCursor();if(this.codemirror.somethingSelected()||n.line!==(t<0?this.codemirror.firstLine():this.codemirror.lastLine())||"char"===e&&n.ch!==(t<0?0:this.codemirror.getLine(n.line).length)){var r="";return"char"===e&&(r=t<0?"goCharLeft":"goCharRight"),"line"===e&&(r=t<0?"goLineUp":"goLineDown"),void this.codemirror.execCommand(r)}this.view.focus(),this.deselectNode();var i=this.getPos()+(t<0?0:this.node.nodeSize),o=w["TextSelection"].near(this.view.state.doc.resolve(i),t);this.view.dispatch(this.view.state.tr.setSelection(o).scrollIntoView()),this.view.focus()}},directives:{ClickOutside:Cn.a},watch:{selected:function(){this.selected?this.selectNode():this.deselectNode()}},beforeDestroy:function(){var e=this.$root.$el;e.querySelector(".ProseMirror").contentEditable=!0,this.isActive=!1}},eo=Qi,to=An(eo,Ui,qi,!1,null,null,null),no=to.exports,ro=n("0cea"),io=ro.nodes,oo=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"code_block"}},{key:"schema",get:function(){return io.code_block}},{key:"view",get:function(){return no}},{key:"commands",value:function(e){var t=e.type,n=e.attrs;return function(){return function(e,r){Dr(e,r,t,n)}}}},{key:"keys",value:function(e){var t=e.type;return{"Shift-Ctrl-\\":te(t),"Shift-Cmd-\\":te(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[be(/^```(.+)```$/,t,(function(e){return{lang:null,code:e[1],inserted:!0}}))]}}]),n}(nt),so=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){e.deselectNode(),e.uploadImage()},expression:"() => { deselectNode(); uploadImage(); }"}],staticClass:"node node__padded",class:{node_selected:e.isActive}},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),e.isActive?n("div",{staticClass:"node__input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputSource,expression:"inputSource"}],ref:"inputSource",staticClass:"node__input",attrs:{placeholder:e.i18n("ADD_FORMULA_PLACEHOLDER"),autofocus:"",type:"text"},domProps:{value:e.inputSource},on:{keydown:e.handleKeydown,keypress:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()},paste:function(e){e.stopPropagation()},input:[function(t){t.target.composing||(e.inputSource=t.target.value)},e.setFormulaSource]}})]):e._e(),e.mathJaxLoaded?n("div",{staticClass:"node__content node__content_flex",class:{node__content_active:e.isActive,node__content_empty:!e.inputSource||!e.inputSource.length,node__content_loading:e.loading},on:{click:e.selectNode}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.inputSource,expression:"inputSource"}],ref:"formula",staticClass:"formula",attrs:{contenteditable:"false"}},[n("vue-mathjax",{attrs:{formula:e.wrappedSource}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.inputSource,expression:"!inputSource"}],staticClass:"embed__placeholder",attrs:{contenteditable:"false"}},[e._v(" "+e._s(e.i18n("ADD_FORMULA"))+" ")])]):e._e(),n("div",{ref:"content",staticStyle:{display:"none"}}),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},ao=[],lo=n("7b93"),co=n("32e6"),uo=n.n(co),fo="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS_SVG",ho={mixins:[yr,br,Fn],components:{RightMenu:In,Icon:On,"vue-mathjax":lo["VueMathjax"]},props:["node","updateAttrs","view","getPos","selected","options"],data:function(){return{inputSource:null,formulaOutput:null,svgEl:null,isUploaded:!1,loading:!1,hook:null,mathJaxLoaded:!1}},computed:{source:{get:function(){return this.node.attrs.source},set:function(e){this.updateAttrs({source:e})}},src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:e})}},width:{get:function(){return this.node.attrs.width},set:function(e){this.updateAttrs({width:e})}},height:{get:function(){return this.node.attrs.height},set:function(e){this.updateAttrs({height:e})}},wrappedSource:function(){return"$$".concat(this.source,"$$")}},mounted:function(){var e=this;window.MathJax?this.mathJaxLoaded=!0:uo()(fo,(function(){window.MathJax.Hub.processSectionDelay=0,window.MathJax.Hub.Config({showProcessingMessages:!1,skipStartupTypeset:!0,SVG:{useFontCache:!1,useGlobalCache:!1}}),e.mathJaxLoaded=!0})),this.source?this.inputSource=this.node.attrs.source:this.selectNode(),this.src&&(this.isUploaded=!0)},methods:{handleKeydown:function(e){if(e.stopPropagation(),38===e.keyCode||40===e.keyCode){e.preventDefault();var t=38===e.keyCode?-1:1;this.deselectNode(t),this.uploadImage()}13===e.keyCode&&(e.preventDefault(),this.deselectNode(1),this.uploadImage())},uploadImage:function(){var e=this;if(!this.isUploaded){var t=this.$el.querySelector(".MathJax_SVG > svg");if(t){this.loading=!0,this.isUploaded=!0,this.dispatchLoadingEvent(),this.width=t?t.scrollWidth:0,this.height=t?t.scrollHeight:0,t.setAttribute("xmlns","http://www.w3.org/2000/svg");var n='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'.concat(t.outerHTML),r=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),i=new FormData;i.append("file",r,"blob.svg"),i.append("t","direct"),Hr(wr.imagesHost,i).then((function(t){200===t.status&&(e.loading=!1,e.dispatchLoadingEvent(),e.src=t.data.url)})).catch((function(t){e.loading=!1,e.dispatchLoadingEvent(),console.log(t)}))}}},dispatchLoadingEvent:function(){window.dispatchEvent(new CustomEvent("wysiwyg-block-submit",{detail:this.loading}))},setFormulaSource:function(){this.isUploaded=!1,this.source=this.inputSource}},directives:{ClickOutside:Cn.a}},po=ho,mo=An(po,so,ao,!1,null,null,null),go=mo.exports,vo=n("0cea"),yo=vo.nodes,bo=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"formula"}},{key:"view",get:function(){return go}},{key:"schema",get:function(){return yo.formula}},{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){Dr(e,n,t)}}}},{key:"inputRules",value:function(e){var t=e.type;return[He(/^\$\$(.+)\$\$\s$/,t,(function(e){return{source:e[1],inserted:!0}}))]}}]),n}(nt),wo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){e.deselectNode(),e.uploadImage()},expression:"() => { deselectNode(); uploadImage(); }"}],staticClass:"node node_inline",class:{node_inline_empty:!e.inputSource,node_selected:e.isActive}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],ref:"inputContainer",staticClass:"node__input-container node__input-container_inline",style:{left:e.offsetX}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputSource,expression:"inputSource"}],ref:"inputSource",staticClass:"node__input",attrs:{placeholder:e.i18n("ADD_FORMULA_PLACEHOLDER"),type:"text"},domProps:{value:e.inputSource},on:{keydown:e.handleKeydown,keypress:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()},paste:function(e){e.stopPropagation()},input:[function(t){t.target.composing||(e.inputSource=t.target.value)},function(){e.setFormulaSource(),e.calculateOffsetX()}]}})]),e.mathJaxLoaded?n("div",{ref:"formulaWrapper",staticClass:"node__content node__content_inline",class:{node__content_active:e.isActive,node__content_loading:e.loading},on:{click:e.selectNode}},[e.inputSource?n("div",{ref:"formula",staticClass:"formula"},[n("vue-mathjax",{attrs:{formula:"$$"+e.inputSource+"$$"}})],1):n("icon",{attrs:{name:"formula"}})],1):e._e()])},xo=[],ko="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS_SVG",Co={mixins:[yr,Fn],props:["node","updateAttrs","view","getPos","options"],components:{Icon:On,"vue-mathjax":lo["VueMathjax"]},data:function(){return{inputSource:null,svgEl:null,isUploaded:!1,hook:null,loading:!1,offsetX:null,mathJaxLoaded:!1}},computed:{source:{get:function(){return this.node.attrs.source},set:function(e){this.updateAttrs({source:e})}},src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:e})}},width:{get:function(){return this.node.attrs.width},set:function(e){this.updateAttrs({width:e})}},height:{get:function(){return this.node.attrs.height},set:function(e){this.updateAttrs({height:e})}}},mounted:function(){var e=this;window.MathJax?this.mathJaxLoaded=!0:uo()(ko,(function(){window.MathJax.Hub.processSectionDelay=0,window.MathJax.Hub.Config({showProcessingMessages:!1,skipStartupTypeset:!0,SVG:{useFontCache:!1,useGlobalCache:!1}}),e.mathJaxLoaded=!0})),this.source?this.inputSource=this.node.attrs.source:this.selectNode(),this.src&&(this.isUploaded=!0)},methods:{handleKeydown:function(e){e.stopPropagation(),13===e.keyCode&&(e.preventDefault(),this.deselectNode(0),this.uploadImage())},uploadImage:function(){var e=this;if(!this.isUploaded){var t=this.$el.querySelector(".MathJax_SVG > svg");if(t){this.loading=!0,this.isUploaded=!0,this.dispatchLoadingEvent(),this.width=t?t.scrollWidth:0,this.height=t?t.scrollHeight:0,t.setAttribute("xmlns","http://www.w3.org/2000/svg");var n='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'.concat(t.outerHTML),r=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),i=new FormData;i.append("file",r,"blob.svg"),i.append("t","direct"),Hr(wr.imagesHost,i).then((function(t){200===t.status&&(e.loading=!1,e.dispatchLoadingEvent(),e.src=t.data.url)})).catch((function(t){e.loading=!1,e.dispatchLoadingEvent(),console.log(t)}))}}},setFormulaSource:function(){this.isUploaded=!1,this.source=this.inputSource},calculateOffsetX:function(){var e=this,t="50%",n=this.$parent.$el.getBoundingClientRect(),r=this.$refs.inputContainer.getBoundingClientRect(),i=this.$refs.formulaWrapper.getBoundingClientRect(),o=i.x+i.width-n.x,s=r.width;if(o<s){var a=i.x-n.x;t="".concat(s/2-a,"px")}this.$nextTick((function(){e.offsetX=t}))},dispatchLoadingEvent:function(){window.dispatchEvent(new CustomEvent("wysiwyg-block-submit",{detail:this.loading}))}},directives:{ClickOutside:Cn.a}},So=Co,_o=An(So,wo,xo,!1,null,null,null),Mo=_o.exports,Do=n("0cea"),Ao=Do.nodes,Eo=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"inline_formula"}},{key:"view",get:function(){return Mo}},{key:"schema",get:function(){return Ao.inline_formula}},{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){Dr(e,n,t)}}}},{key:"inputRules",value:function(e){var t=e.type;return[He(/\s\$([^$.]+)\$\s$/,t,(function(e){return{source:e[1],inserted:!0}}))]}}]),n}(nt),Oo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.deselectNode,expression:"deselectNode"}],staticClass:"node node__padded",class:{node_selected:e.isActive}},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),n("div",{staticClass:"spoiler node__content"},[n("div",{staticClass:"spoiler__heading",attrs:{contenteditable:"false"}},[n("button",{staticClass:"node__input-button",on:{click:e.toggleSpoiler}},[n("icon",{class:{"svg-icon__rotate90":!e.showSpoiler},attrs:{name:"caret-down"}})],1),n("input",{ref:"captionTitle",staticClass:"spoiler__title",attrs:{placeholder:e.i18n("SPOILER_TITLE")},domProps:{value:e.title},on:{input:e.setSpoilerTitle,keypress:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()},paste:function(e){e.stopPropagation()}}})]),n("div",{ref:"content",staticClass:"spoiler__text",class:{spolier__text_hidden:!e.showSpoiler}},[n("div",{ref:"content",attrs:{contenteditable:"true"}})])]),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},To=[],No={mixins:[yr,br,Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","options"],data:function(){return{showSpoiler:!0}},computed:{title:{get:function(){return this.node.attrs.title},set:function(e){this.updateAttrs({title:e})}}},methods:{toggleSpoiler:function(){this.showSpoiler=!this.showSpoiler},setSpoilerTitle:function(e){this.title=e.target.value}},watch:{node:{handler:function(e){if("paragraph"!==e.content.lastChild.type.name){var t=this.view.state.schema.nodes.paragraph,n=this.getPos()+e.content.size,r=t.create(),i=this.view.state.tr.insert(n+1,r);this.view.dispatch(i)}},deep:!0}},directives:{ClickOutside:Cn.a}},Lo=No,Io=An(Lo,Oo,To,!1,null,null,null),Ro=Io.exports,Fo=n("0cea"),Po=Fo.nodes,Bo=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"spoiler"}},{key:"schema",get:function(){return Po.spoiler}},{key:"view",get:function(){return Ro}},{key:"commands",value:function(e){var t=e.type,n=e.schema;return function(){return qe(t,n.nodes.paragraph)}}}]),n}(nt),jo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"mention"},[e._v(e._s(this.display))])},zo=[],Ho={props:["node","updateAttrs","view","getPos","options"],data:function(){return{selected:!1}},computed:{display:{get:function(){return this.node.attrs.display},set:function(e){this.updateAttrs({display:e})}}}},$o=Ho,Vo=An($o,jo,zo,!1,null,null,null),Wo=Vo.exports,Uo=n("0cea"),qo=Uo.nodes,Go=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"mention"}},{key:"schema",get:function(){return qo.mention}},{key:"view",get:function(){return Wo}},{key:"commands",value:function(e){var t=e.type;return function(e){return function(n,r){Dr(n,r,t,e)}}}}]),n}(nt),Ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{ref:"content",staticClass:"title"})},Jo=[],Zo=120,Xo={props:["node","updateAttrs","view","getPos","options"],watch:{"node.textContent":function(e){if(e.length>Zo){var t=this.view.state.tr.delete(Zo,this.node.content.size);this.view.dispatch(t)}}}},Yo=Xo,Qo=An(Yo,Ko,Jo,!1,null,null,null),es=Qo.exports,ts=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"title"}},{key:"schema",get:function(){return{content:"inline*",toDOM:function(){return["h1",0]}}}},{key:"view",get:function(){return es}}]),n}(nt),ns=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"schema",get:function(){return{content:"title block+"}}}]),n}(rt),rs=n("0cea"),is=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"table_cell"}},{key:"schema",get:function(){return rs["tableNodesObject"].table_cell}}]),n}(nt),ss=n("0cea"),as=ss.nodes,ls=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"table"}},{key:"defaultOptions",get:function(){return{resizable:!1}}},{key:"schema",get:function(){return as.table}},{key:"commands",value:function(e){var t=e.schema;return{createTable:function(e){var n=e.rowsCount,r=e.colsCount,i=e.withHeaderRow;return function(e,o){var s=e.tr.selection.anchor+1,a=Object(Qn["createTable"])(t,n,r,i),l=t.nodes.table_wrapper.create({},a),c=e.tr.replaceSelectionWith(l).scrollIntoView(),u=c.doc.resolve(s);c.setSelection(w["TextSelection"].near(u)),o(c)}},addColumnBefore:function(){return xt["addColumnBefore"]},addColumnAfter:function(){return xt["addColumnAfter"]},deleteColumn:function(){return xt["deleteColumn"]},addRowBefore:function(){return xt["addRowBefore"]},addRowAfter:function(){return xt["addRowAfter"]},deleteRow:function(){return xt["deleteRow"]},deleteTable:function(){return xt["deleteTable"]},toggleCellMerge:function(){return function(e,t){Object(xt["mergeCells"])(e,t)||Object(xt["splitCell"])(e,t)}},mergeCells:function(){return xt["mergeCells"]},splitCell:function(){return xt["splitCell"]},toggleHeaderColumn:function(){return xt["toggleHeaderColumn"]},toggleHeaderRow:function(){return xt["toggleHeaderRow"]},toggleHeaderCell:function(){return xt["toggleHeaderCell"]},setCellAttr:function(){return xt["setCellAttr"]},fixTables:function(){return xt["fixTables"]}}}},{key:"keys",value:function(){return{Tab:Object(xt["goToNextCell"])(1),"Shift-Tab":Object(xt["goToNextCell"])(-1)}}},{key:"plugins",get:function(){return[].concat(m(this.options.resizable?[Object(xt["columnResizing"])({handleWidth:16,cellMinWidth:50,lastColumnResizable:!1})]:[]),[Object(xt["tableEditing"])({allowTableNodeSelection:!0})])}}]),n}(nt),cs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node node_clear node_p-container"},[n("div",{staticClass:"node__drag-control node__drag-control_padded",attrs:{"data-drag-handle":""}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),n("div",{ref:"content",attrs:{contenteditable:"true"}}),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},us=[],ds={mixins:[Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","options"],computed:{menuItems:function(){return[{type:"action",action:this.deleteNode,text:this.i18n("DELETE")}]}},methods:{deleteNode:function(){var e=this.view.state.tr,t=this.getPos();e.delete(t,t+this.node.nodeSize),this.view.dispatch(e)}}},fs=ds,hs=An(fs,cs,us,!1,null,null,null),ps=hs.exports,ms=n("0cea"),gs=ms.nodes,vs=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"table_wrapper"}},{key:"stopEvent",value:function(e){var t=this,n=e.target.closest(".node__drag-control");return"mousedown"===e.type&&n&&(this.captureEvents=!1,document.addEventListener("dragend",(function(){t.captureEvents=!0}),{once:!0})),this.captureEvents}},{key:"schema",get:function(){return gs.table_wrapper}},{key:"view",get:function(){return ps}},{key:"commands",value:function(e){var t=e.type;return function(){return qe(t)}}}]),n}(nt),ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node node__padded node_persona"},[n("div",{staticClass:"node__drag-control",attrs:{"data-drag-handle":"",contenteditable:"false"}},[n("icon",{attrs:{name:"drag",width:"24",height:"24"}})],1),n("div",{ref:"content",staticClass:"node_persona-content",class:{node_selected:e.isActive}}),n("right-menu",{attrs:{menuItems:e.menuItems}})],1)},bs=[],ws={mixins:[yr,br,Fn],components:{RightMenu:In,Icon:On},props:["node","updateAttrs","view","getPos","options"],directives:{ClickOutside:Cn.a}},xs=ws,ks=(n("db62"),An(xs,ys,bs,!1,null,null,null)),Cs=ks.exports,Ss=n("0cea"),_s=Ss.nodes,Ms=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"persona"}},{key:"schema",get:function(){return _s.persona}},{key:"view",get:function(){return Cs}},{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){var r={simple:!0,persona:!0},i=e.schema.nodes.persona_image.create(),o=e.schema.nodes.persona_heading.create(),s=e.schema.nodes.paragraph.create(r),a=[i,o,s];n(e.tr.replaceSelectionWith(t.create({},a)))}}}}]),n}(nt),Ds=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node_persona-image",class:{node_empty:!e.src,node__content_loading:e.loading},on:{click:e.uploadFile}},[n("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".jpg, .jpeg, .png, .gif"},on:{change:e.processFile}}),e.imgError?e._e():[e.src?n("img",{ref:"imgTag",staticClass:"persona-image__tag",attrs:{src:e.src}}):n("icon",{attrs:{name:"plus",size:"16"}})],n("div",{directives:[{name:"show",rawName:"v-show",value:e.imgError,expression:"imgError"}],staticClass:"node__error node__error_small",attrs:{contenteditable:"false"}},[e._v(" "+e._s(e.imgError)+" ")])],2)},As=[],Es={mixins:[Fn],props:["node","updateAttrs","view","getPos","options"],components:{Icon:On},data:function(){return{imgError:null,loading:!1}},computed:{src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:e})}}},methods:{setExternalImageError:function(){this.loading=!1,this.dispatchLoadingEvent(),this.imgError=this.i18n("IMAGE_ERROR_PASTED")},uploadFile:function(){this.$refs.fileInput.click()},processFile:function(e){var t=this;this.loading=!0,this.dispatchLoadingEvent();var n=e.target.files[0];if(n){var r=new FormData;r.append("file",n,n.filename),r.append("t","direct"),Hr(wr.imagesHost,r).then((function(e){if(t.imgError=null,200===e.status){var n=new Image;n.src=e.data.url,n.onload=function(){t.loading=!1,t.dispatchLoadingEvent(),t.src=e.data.url}}else t.loading=!1,t.dispatchLoadingEvent(),t.imgError=413===e.status?t.i18n("IMAGE_ERROR_SIZE"):t.i18n("IMAGE_ERROR")})).catch((function(){t.loading=!1,t.dispatchLoadingEvent(),t.imgError=t.i18n("IMAGE_ERROR")}))}},dispatchLoadingEvent:function(){window.dispatchEvent(new CustomEvent("wysiwyg-block-submit",{detail:this.loading}))}}},Os=Es,Ts=(n("68b4"),An(Os,Ds,As,!1,null,null,null)),Ns=Ts.exports,Ls=n("0cea"),Is=Ls.nodes,Rs=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"persona_image"}},{key:"schema",get:function(){return Is.persona_image}},{key:"view",get:function(){return Ns}},{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){Dr(e,n,t)}}}}]),n}(nt),Fs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node_persona-heading"},[n("div",{ref:"content",class:e.headingClass,attrs:{"data-empty-heading":e.i18n("PERSONA_TITlE"),contenteditable:"true"}})])},Ps=[],Bs={mixins:[Fn],props:["node","updateAttrs","view","getPos","options"],computed:{headingClass:function(){var e=this.node.textContent.length>0;return"heading heading-4 ".concat(e?"":"placeholder")}}},js=Bs,zs=An(js,Fs,Ps,!1,null,null,null),Hs=zs.exports,$s=n("0cea"),Vs=$s.nodes,Ws=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"persona_heading"}},{key:"view",get:function(){return Hs}},{key:"schema",get:function(){return Vs.persona_heading}},{key:"commands",value:function(e){var t=e.type;return function(){return Ue(t,Vs.persona_heading)}}}]),n}(nt),Us=(n("4c53"),n("0cea")),qs=Us.marks,Gs=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"sub"}},{key:"schema",get:function(){return qs.sub}},{key:"keys",value:function(e){var t=e.type;return{"Mod-,":re(t),"Mod-б":re(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return re(t)}}}]),n}(et),Ks=(n("664f"),n("0cea")),Js=Ks.marks,Zs=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"sup"}},{key:"schema",get:function(){return Js.sup}},{key:"keys",value:function(e){var t=e.type;return{"Mod-.":re(t),"Mod-ю":re(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return re(t)}}}]),n}(et),Xs=(n("9911"),n("466d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:e.href},on:{click:e.selectMark}},[n("span",{ref:"content"})])}),Ys=[],Qs={name:"LinkView",props:["node","updateAttrs","view","getPos","selected","options"],computed:{href:{get:function(){return this.node.attrs.href},set:function(e){this.updateAttrs({href:kr(e)})}}},methods:{selectMark:function(e){e.preventDefault();var t=this.view.state,n=t.doc,r=t.tr,i=this.getPos(),o=n.resolve(i.from),s=n.resolve(i.to),a=r.setSelection(new w["TextSelection"](o,s));this.view.dispatch(a)}}},ea=Qs,ta=An(ea,Xs,Ys,!1,null,null,null),na=ta.exports,ra=n("0cea"),ia=ra.marks,oa=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"link"}},{key:"schema",get:function(){return ia.link}},{key:"commands",value:function(e){var t=e.type;return function(e){return e&&e.href?e&&e.href?Ge(t,e):We(t):function(){}}}},{key:"keys",value:function(e){var t=e.type;return{"Mod-k":re(t),"Mod-л":re(t)}}},{key:"pasteRules",value:function(e){var t=e.type;return[$e(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g,t,(function(e){return{href:e}}))]}},{key:"inputRules",value:function(e){var t=e.type;return[ze(/\[([^\[\]]*)\]\(.*?\)$/,t,(function(e){var t=e[0].match(/\((.*?)\)/);return{href:t[1]}}))]}},{key:"view",get:function(){return na}}]),n}(et),sa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("abbr",{ref:"content",attrs:{title:e.title},on:{click:e.selectMark}})},aa=[],la={name:"AbbrView",props:["node","updateAttrs","view","getPos","selected","options"],computed:{title:{get:function(){return this.node.attrs.title},set:function(e){this.updateAttrs({title:e})}}},methods:{selectMark:function(e){e.preventDefault();var t=this.view.state,n=t.doc,r=t.tr,i=this.getPos(),o=n.resolve(i.from),s=n.resolve(i.to),a=r.setSelection(new w["TextSelection"](o,s));this.view.dispatch(a)}}},ca=la,ua=An(ca,sa,aa,!1,null,null,null),da=ua.exports,fa=n("0cea"),ha=fa.marks,pa=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"abbr"}},{key:"schema",get:function(){return ha.abbr}},{key:"commands",value:function(e){var t=e.type;return function(e){return e&&e.title?e.title?Ge(t,e):We(t):function(){}}}},{key:"view",get:function(){return da}}]),n}(et),ma=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"bold"}},{key:"schema",get:function(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong",0]}}}},{key:"keys",value:function(e){var t=e.type;return{"Mod-b":re(t),"Mod-и":re(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return re(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[ze(/(?:^|[^\S_])(__([^\s_]+)__)$/,t),ze(/(?:^|[^\S*])(\*\*([^\s*]+)\*\*)$/,t)]}},{key:"pasteRules",value:function(e){var t=e.type;return[Ve(/__([^\S_]+)__/g,t),Ve(/\*\*([^\S*]+)\*\*/g,t)]}}]),n}(et),ga=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"italic"}},{key:"schema",get:function(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}}}},{key:"keys",value:function(e){var t=e.type;return{"Mod-i":re(t),"Mod-ш":re(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return re(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[ze(/(?:^|[^\S_])(_([^\s_]+)_)$/,t),ze(/(?:^|[^\S*])(\*([^\s*]+)\*)$/,t)]}},{key:"pasteRules",value:function(e){var t=e.type;return[Ve(/_([^\S_]+)_/g,t),Ve(/\*([^\S*]+)\*/g,t)]}}]),n}(et),va=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"code"}},{key:"schema",get:function(){return{excludes:"_",parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}}}},{key:"commands",value:function(e){var t=e.type;return function(){return re(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[ze(/(?:^|[^\S`])(`([^\s`]+)`)$/,t)]}},{key:"pasteRules",value:function(e){var t=e.type;return[Ve(/`([^`]+)`/g,t)]}}]),n}(et),ya=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"strike"}},{key:"schema",get:function(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e}}],toDOM:function(){return["s",0]}}}},{key:"keys",value:function(e){var t=e.type;return{"Mod-d":re(t),"Mod-в":re(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return re(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[ze(/(?:^|[^\S~])(~([^\s~]+)~)$/,t)]}},{key:"pasteRules",value:function(e){var t=e.type;return[Ve(/~([^\S~]+)~/g,t)]}}]),n}(et),ba=function(e){ln(n,e);var t=mn(n);function n(){return rn(this,n),t.apply(this,arguments)}return sn(n,[{key:"name",get:function(){return"underline"}},{key:"schema",get:function(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(e){return"underline"===e}}],toDOM:function(){return["u",0]}}}},{key:"keys",value:function(e){var t=e.type;return{"Mod-u":re(t),"Mod-г":re(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return re(t)}}}]),n}(et),wa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.allMenuItems.length?n("editor-floating-menu",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){t.commands,t.isActive;var r=t.menu;return[n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],staticClass:"block-menu",class:{"block-menu_active":r.isActive||e.menuState||e.showPlus},style:"\n      top: "+e.getTopPosition+"px;\n      left: "+e.getLeftPosition+"px;\n    "},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.showPlus,expression:"showPlus"}],staticClass:"block-menu__plus button-icon",class:{"button-icon_active":e.menuState,"button-icon_spoiler":e.isInSpoiler},on:{click:e.showMenu}},[n("icon",{attrs:{name:"plus"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuState,expression:"menuState"}],ref:"context",staticClass:"context-menu block-menu__context",class:{"context-menu_above":e.hasNoSpaceBottom}},e._l(e.menuItems,(function(t,r){return n("button",{key:r,staticClass:"context-menu__item block-menu__item",class:{"context-menu__item_hover":e.selectedItem===r},on:{mouseover:function(t){return e.setSelectedItem(r)},click:function(t){return e.execCommand(r)}}},[n("icon",{attrs:{name:t.icon}}),e._v(" "+e._s(t.text)+" ")],1)})),0)])]}}],null,!1,2769340390)}):e._e()},xa=[],ka=(n("841c"),n("ffe7")),Ca=n.n(ka),Sa=function(e,t){var n=e.doc,r=e.tr,i=r.selection.$from,o=n.resolve(i.before()+1),s=n.resolve(i.end());r.setSelection(new w["TextSelection"](o,s)),t.dispatch(r.deleteSelection())},_a=function(e,t){return!t||!t.length||t&&-1!==t.indexOf(e)},Ma=function(e){return{Heading:{type:"heading",icon:"heading",text:e("HEADING"),attrs:{level:1}},Blockquote:{type:"blockquote",icon:"blockquote",text:e("BLOCKQUOTE"),attrs:{}},List:[{type:"list",icon:"bullet-list",text:e("LIST"),attrs:{tag:"ul"}},{type:"list",icon:"ordered-list",text:e("OLIST"),attrs:{tag:"ol"}}],Embed:{type:"embed",icon:"embed",text:e("EMBED"),newNode:!0,attrs:{}},Image:{type:"image",icon:"image",text:e("IMAGE"),newNode:!0,attrs:{}},Hr:{type:"hr",icon:"hr",text:e("HR"),newNode:!0,attrs:{}},Table:{type:"createTable",icon:"table",text:e("TABLE"),newNode:!0,attrs:{rowsCount:3,colsCount:3,withHeaderRow:!1}},CodeBlock:{type:"code_block",icon:"code",text:e("BLOCK_CODE"),newNode:!0,attrs:{}},Formula:{type:"formula",icon:"formula",text:e("FORMULA"),newNode:!0,attrs:{}},Spoiler:{type:"spoiler",icon:"spoiler",text:e("SPOILER"),newNode:!0,attrs:{}},Epigraph:{type:"epigraph",icon:"epigraph",text:e("EPIGRAPH"),newNode:!0,attrs:{}},Persona:{type:"persona",icon:"persona",text:e("PERSONA"),newNode:!0,attrs:{persona:!0,inserted:!0}},Anchor:{type:"anchor",icon:"anchor",text:e("ANCHOR"),newNode:!0,attrs:{}},Bold:{type:"bold",icon:"bold",text:e("BOLD")},Italic:{type:"italic",icon:"italic",text:e("ITALIC")},Code:{type:"code",icon:"code",text:e("CODE")},Link:{type:"link",icon:"link",text:e("LINK")},Abbr:{type:"abbr",icon:"abbr",text:e("ABBR")},Underline:{type:"underline",icon:"underline",text:e("UNDERLINE")},Strike:{type:"strike",icon:"strike",text:e("STRIKE")},Sub:{type:"sub",icon:"sub",text:e("SUB")},Sup:{type:"sup",icon:"sup",text:e("SUP")},InlineImage:{type:"inline_image",icon:"image",text:e("IMAGE"),attrs:{}},InlineFormula:{type:"inline_formula",icon:"formula",text:e("FORMULA")}}},Da=function(e,t,n){var r=Ma(n),i=[];return e.forEach((function(e){var n=r[e];n&&_a(e,t)&&(Array.isArray(n)?i=[].concat(m(i),m(n)):i.push(n))})),i},Aa=["Heading","Blockquote","List","Embed","Image","Hr","Table","CodeBlock","Formula","Spoiler","Epigraph","Anchor","Persona"],Ea={name:"BlockMenu",components:{EditorFloatingMenu:wt,Icon:On},props:{editor:Object,match:[Object,Boolean],json:Array,extensions:Array,lang:String},data:function(){return{menuState:!1,selectedItem:-1,filterMenuItems:[],allMenuItems:Da(Aa,this.extensions,this.i18n)}},computed:{menuItems:function(){return this.filterMenuItems.length?this.filterMenuItems:this.allMenuItems},isInSpoiler:function(){var e=this.editor.state.tr.selection,t=this.editor.view.domAtPos(e.anchor),n=t.node.parentElement.closest('[contenteditable="true"]'),r=n&&n.parentNode&&n.parentNode.classList.contains("spoiler__text");return!!r},showPlus:function(){var e=null===this.match;return!(this.getLeftPosition>24&&!this.isInSpoiler||e)},rangeCoordinates:function(){var e=this.editor,t=e.view,n=e.state;if(n.selection.anchor){var r=t.domAtPos(n.selection.anchor),i=r&&"#text"===r.node.nodeName,o=document.createRange();if(r){o.selectNode(i?r.node.parentNode:r.node);var s=o.getBoundingClientRect();return s}}return null},getLeftPosition:function(){var e=this.rangeCoordinates,t=this.$parent.$el,n=t.getBoundingClientRect();return e?e.left-n.left-37:-37},getTopPosition:function(){var e=this.rangeCoordinates;if(e){var t=this.$parent.$el,n=t.getBoundingClientRect();return e.top-n.top}return 0},hasNoSpaceBottom:function(){var e=this.rangeCoordinates,t=250;return!!e&&window.innerHeight-e.y<t}},methods:{i18n:function(e){var t=this.lang||"ru";return Rn[t][e]||e},showMenu:function(){this.menuState=!0,this.selectedItem=0,document.addEventListener("keydown",this.keyDownHandler,!0)},setSelectedItem:function(e){this.menuState&&(this.selectedItem=e)},keyDownHandler:function(e){if(40===e.keyCode){e.preventDefault();var t=this.selectedItem<this.menuItems.length-1;t?this.selectedItem+=1:this.selectedItem=0,this.scrollIntoView()}else if(38===e.keyCode){e.preventDefault();var n=this.selectedItem>0;n?this.selectedItem-=1:this.selectedItem=this.menuItems.length-1,this.scrollIntoView()}else 13===e.keyCode&&-1!==this.selectedItem?(e.preventDefault(),this.execCommand(this.selectedItem)):27===e.keyCode&&(e.preventDefault(),this.hideMenu())},scrollIntoView:function(){var e=this;this.$nextTick((function(){e.$el.querySelector(".context-menu__item_hover").scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}))},execCommand:function(e){var t=this.menuItems[e];this.hideMenu(),Sa(this.editor.state,this.editor.view),this.editor.commands[t.type](t.attrs)},hideMenu:function(){this.menuState&&(this.selectedItem=-1,this.menuState=!1,document.removeEventListener("keydown",this.keyDownHandler,!0))}},watch:{json:function(){if(this.match){var e={keys:["type","text"]},t=new Ca.a(this.allMenuItems,e);this.filterMenuItems=t.search(this.match.query),this.showMenu()}else this.hideMenu(),this.filterMenuItems=[]}},directives:{ClickOutside:Cn.a}},Oa=Ea,Ta=(n("5fa2"),An(Oa,wa,xa,!1,null,null,null)),Na=Ta.exports,La=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuState,expression:"menuState"},{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],staticClass:"inline-menu",class:{"inline-menu_active":e.menuState},style:"top: "+e.coordinates.y+"px; left: "+e.coordinates.x+"px;"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuState,expression:"menuState"}],ref:"context",staticClass:"context-menu block-menu__context"},e._l(e.menuItems,(function(t,r){return n("button",{key:r,staticClass:"context-menu__item block-menu__item",class:{"context-menu__item_hover":e.selectedItem===r},on:{mouseover:function(t){return e.setSelectedItem(r)},click:function(t){return e.execCommand(r)}}},[n("icon",{attrs:{name:t.icon}}),e._v(" "+e._s(t.text)+" ")],1)})),0)])])},Ia=[],Ra=["InlineImage","InlineFormula"],Fa={name:"InlineMenu",components:{Icon:On},props:{editor:Object,match:[Object,Boolean],json:Array,extensions:Array,lang:String},data:function(){return{menuState:!1,selectedItem:-1,allMenuItems:Da(Ra,this.extensions,this.i18n),filterMenuItems:[]}},computed:{menuItems:function(){return this.filterMenuItems.length?this.filterMenuItems:this.allMenuItems},coordinates:function(){if(!this.editor)return{};var e=this.$parent.$el,t=e.getBoundingClientRect(),n=this.editor.view.coordsAtPos(this.editor.state.selection.anchor),r=n.left-t.left,i=n.top-t.top;return{x:r,y:i}}},methods:{i18n:function(e){var t=this.lang||"ru";return Rn[t][e]||e},showMenu:function(){this.menuState=!0,this.selectedItem=0,document.addEventListener("keydown",this.keyDownHandler,!0)},setSelectedItem:function(e){this.menuState&&(this.selectedItem=e)},keyDownHandler:function(e){if(40===e.keyCode){e.preventDefault();var t=this.selectedItem<this.menuItems.length-1;t?this.selectedItem+=1:this.selectedItem=0}else if(38===e.keyCode){e.preventDefault();var n=this.selectedItem>0;n?this.selectedItem-=1:this.selectedItem=this.menuItems.length-1}else 13===e.keyCode&&-1!==this.selectedItem?(e.preventDefault(),this.execCommand(this.selectedItem)):27===e.keyCode&&(e.preventDefault(),this.hideMenu())},execCommand:function(e){var t=this,n=this.editor,r=n.view,i=n.state,o=i.tr,s=i.doc,a=s.resolve(this.match.range.from),l=s.resolve(this.match.range.to+1);r.dispatch(o.setSelection(new w["TextSelection"](a,l)));var c=this.menuItems[e];this.editor.commands[c.type](c.attrs),this.$nextTick((function(){return t.hideMenu()}))},hideMenu:function(){this.menuState&&(this.selectedItem=-1,this.menuState=!1,document.removeEventListener("keydown",this.keyDownHandler,!0))}},watch:{json:function(){if(this.match){var e={keys:["type","text"]},t=new Ca.a(this.allMenuItems,e);this.filterMenuItems=t.search(this.match.query),this.showMenu()}else this.hideMenu()}},directives:{ClickOutside:Cn.a}},Pa=Fa,Ba=(n("bc8a"),An(Pa,La,Ia,!1,null,null,null)),ja=Ba.exports,za=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuState,expression:"menuState"},{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],staticClass:"inline-menu inline-menu_mention",class:{"inline-menu_active":e.menuState},style:"top: "+e.coordinates.y+"px; left: "+e.coordinates.x+"px;"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuState,expression:"menuState"}],ref:"context",staticClass:"context-menu block-menu__context"},[e.isLoading?[n("div",{staticClass:"mention-menu__info"},[e._v(e._s(e.i18n("LOADING")))])]:e.menuItems.length?e._l(e.menuItems,(function(t,r){return n("button",{key:r,staticClass:"context-menu__item block-menu__item mention-menu__item",class:{"context-menu__item_hover":e.selectedItem===r},on:{mouseover:function(t){return e.setSelectedItem(r)},click:function(n){return e.insertMention(t)}}},[n("img",{staticClass:"mention-menu__avatar",attrs:{src:t.avatar}}),n("div",{staticClass:"mention-menu__info"},[n("div",{staticClass:"mention-menu__name",domProps:{innerHTML:e._s(t.name)}}),"company"===t.type?n("div",{staticClass:"mention-menu__alias"},[e._v(" "+e._s(e.i18n("COMPANY"))+" ")]):n("div",{staticClass:"mention-menu__alias"},[e._v("@"+e._s(t.alias))])])])})):[n("div",{staticClass:"mention-menu__info"},[e._v(e._s(e.i18n("NO_RESULTS")))])]],2)])])},Ha=[],$a=n("7a1a"),Va={name:"MentionMenu",props:{editor:Object,match:[Object,Boolean],json:Array,lang:String},data:function(){return{menuState:!1,selectedItem:-1,menuItems:[],isLoading:!1,axiosSource:null}},computed:{coordinates:function(){if(!this.editor)return{};var e=this.$parent.$el,t=e.getBoundingClientRect(),n=this.editor.view.coordsAtPos(this.editor.state.selection.anchor),r=n.left-t.left,i=n.top-t.top;return{x:r,y:i}}},methods:{i18n:function(e){var t=this.lang||"ru";return Rn[t][e]||e},showMenu:function(){this.menuState=!0,this.selectedItem=0,document.addEventListener("keydown",this.keyDownHandler,!0)},setSelectedItem:function(e){this.menuState&&(this.selectedItem=e)},keyDownHandler:function(e){if(40===e.keyCode){e.preventDefault();var t=this.selectedItem<this.menuItems.length-1;t?this.selectedItem+=1:this.selectedItem=0}else if(38===e.keyCode){e.preventDefault();var n=this.selectedItem>0;n?this.selectedItem-=1:this.selectedItem=this.menuItems.length-1}else 13===e.keyCode&&-1!==this.selectedItem&&this.menuItems[this.selectedItem]?(e.preventDefault(),this.insertMention(this.menuItems[this.selectedItem])):32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),this.insertMention({alias:null,type:"user",name:null}))},insertMention:function(e){var t=this,n=e.alias,r=e.type,i=e.name,o=this.editor,s=o.view,a=o.state,l=a.tr,c=a.doc,u=c.resolve(this.match.range.from),d=c.resolve(this.match.range.to),f=new w["TextSelection"](u,d),h=n||this.match.text.substring(1),p="company"===r?i:"@".concat(h);s.dispatch(l.setSelection(f)),s.dispatch(l.deleteSelection()),this.$nextTick((function(){return t.editor.commands.mention({display:p,link:"".concat("company"===r?"/company/":"/users/").concat(h.toLowerCase()),identity:h,identityType:r})}),0),this.$nextTick((function(){return t.hideMenu()}))},hideMenu:function(){this.menuState&&(this.selectedItem=-1,this.menuState=!1,document.removeEventListener("keydown",this.keyDownHandler,!0))},getMentionItems:Object($a["debounce"])(300,(function(){var e=this;this.axiosSource&&(this.axiosSource.cancel(),this.axiosSource=null);var t=b.a.CancelToken,n=t.source();return this.axiosSource=n,this.match&&b.a.get(wr.mentionHost,{params:{q:this.match.query},cancelToken:n.token}).then((function(t){if(200!==t.status)throw new Error;e.menuItems=t.data.data,e.isLoading=!1})).catch((function(t){b.a.isCancel(t)||(e.isLoading=!1,e.menuItems=[],console.log(t))}))}))},watch:{json:function(){!this.match||this.match.query.length<3?this.hideMenu():(this.isLoading=!0,this.menuItems=[],this.selectedItem=-1,this.getMentionItems(),this.showMenu())}},directives:{ClickOutside:Cn.a}},Wa=Va,Ua=An(Wa,za,Ha,!1,null,null,null),qa=Ua.exports,Ga=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.allMenuItems.length||e.dotsMenuItems.length?n("editor-menu-bubble",{attrs:{editor:e.editor,"keep-in-bounds":!0},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.commands,i=t.isActive,o=(t.menu,t.getMarkAttrs);return[n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){e.hideMenu(),e.hideLinkMenu(),e.hideAbbrMenu()},expression:"() => { hideMenu(); hideLinkMenu(); hideAbbrMenu(); }"}],ref:"menuWrapper",staticClass:"bubble-menu",class:{"bubble-menu_active":e.match&&e.menuAllowed},style:"left: "+e.coordinates.x+"px; top: "+e.coordinates.y+"px;"},[e.abbrMenuIsActive?n("form",{staticClass:"bubble-menu__wrapper",attrs:{id:"abbrForm"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.setAbbrTitle(r.link,e.abbrTitle))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.hideAbbrMenu.apply(null,arguments))}]}},[n("div",{staticClass:"bubble-menu__input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.abbrTitle,expression:"abbrTitle"}],ref:"abbrInput",staticClass:"input bubble-menu__input",attrs:{form:"abbrForm",type:"text",placeholder:e.i18n("ABBR_PLACEHOLDER")},domProps:{value:e.abbrTitle},on:{input:function(t){t.target.composing||(e.abbrTitle=t.target.value)}}}),n("button",{staticClass:"button-icon bubble-menu__input-button",attrs:{type:"button"},on:{click:function(t){return e.setAbbrTitle(r.abbr,null)}}},[n("icon",{attrs:{name:"remove"}})],1)]),n("div",{staticClass:"bubble-menu__input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.abbrText,expression:"abbrText"}],ref:"abbrTextInput",staticClass:"input bubble-menu__input",attrs:{form:"abbrForm",type:"text",placeholder:e.i18n("TEXT_PLACEHOLDER")},domProps:{value:e.abbrText},on:{input:function(t){t.target.composing||(e.abbrText=t.target.value)}}})])]):e._e(),e.linkMenuIsActive?n("form",{staticClass:"bubble-menu__wrapper",attrs:{id:"linkForm"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.setLinkUrl(r.link,e.linkUrl))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.hideLinkMenu.apply(null,arguments))}]}},[n("div",{staticClass:"bubble-menu__input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.linkUrl,expression:"linkUrl"}],ref:"linkInput",staticClass:"input bubble-menu__input",attrs:{form:"linkForm",type:"text",placeholder:"https://"},domProps:{value:e.linkUrl},on:{input:function(t){t.target.composing||(e.linkUrl=t.target.value)}}}),n("button",{staticClass:"button-icon bubble-menu__input-button",attrs:{type:"button",title:e.i18n("REMOVE_LINK")},on:{click:function(t){return e.setLinkUrl(r.link,null)}}},[n("icon",{attrs:{name:"remove"}})],1)]),n("div",{staticClass:"bubble-menu__input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.linkText,expression:"linkText"}],ref:"linkTextInput",staticClass:"input bubble-menu__input",attrs:{form:"linkForm",type:"text",placeholder:e.i18n("TEXT_PLACEHOLDER")},domProps:{value:e.linkText},on:{input:function(t){t.target.composing||(e.linkText=t.target.value)}}})])]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.linkMenuIsActive&&!e.abbrMenuIsActive,expression:"!linkMenuIsActive && !abbrMenuIsActive"}],staticClass:"bubble-menu__buttons"},[e._l(e.allMenuItems,(function(t){return n("button",{key:t.type,staticClass:"button-icon bubble-menu__button",class:{"bubble-menu__button_active button-icon_active":i[t.type]()},attrs:{id:t.type,title:t.text},on:{click:function(n){return e.execCommand(t.type,o)}}},[n("icon",{attrs:{name:t.icon}})],1)})),e.dotsMenuItems.length?n("button",{staticClass:"button-icon bubble-menu__button",class:{"bubble-menu__button_active":e.menuState},on:{click:e.toggleMenuState}},[n("icon",{attrs:{name:"dots"}})],1):e._e(),e.dotsMenuItems.length?n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuState,expression:"menuState"}],ref:"context",staticClass:"context-menu bubble-menu__context"},e._l(e.dotsMenuItems,(function(t){return n("button",{key:t.type,staticClass:"button-icon bubble-menu__button",class:{"bubble-menu__button_active":i[t.type]()},on:{click:function(n){return e.execCommand(t.type,o)}}},[e._v(" "+e._s(t.text)+" ")])})),0):e._e()],2)])]}}],null,!1,1505502204)}):e._e()},Ka=[],Ja=(n("498a"),n("b680"),["Bold","Italic","Code","Link","Abbr"]),Za=["Underline","Strike","Sub","Sup"],Xa={name:"BubbleMenu",components:{EditorMenuBubble:vt,Icon:On},props:{editor:Object,extensions:Array,lang:String,match:Boolean},data:function(){return{menuState:!1,linkUrl:null,linkText:null,abbrText:null,linkMenuIsActive:!1,abbrTitle:null,abbrMenuIsActive:!1,allMenuItems:Da(Ja,this.extensions,this.i18n),dotsMenuItems:Da(Za,this.extensions,this.i18n)}},mounted:function(){var e=this;document.addEventListener("keydown",(function(t){if(75===t.keyCode&&(t.ctrlKey||t.metaKey)&&e.match&&e.menuAllowed){var n=document.querySelector("button#link");n&&!e.linkMenuIsActive&&n.click()}}))},computed:{menuAllowed:function(){var e=this.editor,t=e.view,n=e.state,r=t.domAtPos(n.selection.anchor),i="#text"===r.node.nodeName,o=lr(this.editor.state,this.editor.view,"p"),s="P"===r.node.nodeName;return(i&&o||s)&&!n.selection.node},editorReady:function(){return 0!==this.editor.view.lastClick.time},coordinates:function(){if(!this.editor)return{};var e=this.editor,t=e.state,n=e.view,r=this.$parent.$el,i=r.getBoundingClientRect(),o=t.selection,s=o.to,a=o.from,l=n.domAtPos(t.selection.anchor),c=l.node.textContent;if(s!==a&&c.trim().length){var u=((s+a)/2).toFixed(0),d=lr(this.editor.state,this.editor.view,"table"),f=d?65:0,h=n.coordsAtPos(u),p=h.left-i.left;i.width-p<122&&(p=i.width-122),p<90&&(p=90);var m=this.linkMenuIsActive||this.abbrMenuIsActive?26:0,g=h.top-i.top-38+f-m;return{x:p,y:g}}return{}}},methods:{i18n:function(e){var t=this.lang||"ru";return Rn[t][e]||e},hideMenu:function(){this.menuState=!1},toggleMenuState:function(){this.menuState=!this.menuState},execCommand:function(e,t){var n=this;this.$nextTick((function(){return n.hideMenu()})),"link"!==e?"abbr"!==e?(this.editor.commands[e](),this.$nextTick((function(){return n.hideMenu()}))):this.showAbbrMenu(t("abbr")):this.showLinkMenu(t("link"))},showLinkMenu:function(e){var t=this;this.linkUrl=e&&e.href;var n=this.editor,r=n.selection,i=n.view,o=i.state.doc.cut(r.from,r.to),s=o.textContent;this.linkText=s,this.linkMenuIsActive=!0,this.$nextTick((function(){t.$refs.linkInput.focus()}))},showAbbrMenu:function(e){var t=this;this.abbrTitle=e&&e.title;var n=this.editor,r=n.selection,i=n.view,o=i.state.doc.cut(r.from,r.to),s=o.textContent;this.abbrText=s,this.abbrMenuIsActive=!0,this.$nextTick((function(){t.$refs.abbrInput.focus()}))},hideLinkMenu:function(){this.linkUrl=null,this.linkText=null,this.linkMenuIsActive=!1},hideAbbrMenu:function(){this.abbrTitle=null,this.abbrText=null,this.abbrMenuIsActive=!1},setLinkUrl:function(e,t){var n=this.editor,r=n.view,i=n.schema,o=n.selection,s=r.state.tr,a=this.editor.schema.marks.link.create({href:t}),l=r.state.selection.$anchor.nodeAfter?r.state.selection.$anchor.nodeAfter.marks:[],c=i.text(this.linkText,m(l));s.replaceSelectionWith(c),t?s.addMark(o.from,o.from+c.nodeSize,a):s.removeMark(o.from,o.from+c.nodeSize,a),r.dispatch(s),this.hideLinkMenu()},setAbbrTitle:function(e,t){var n=this.editor,r=n.view,i=n.schema,o=n.selection,s=r.state.tr,a=this.editor.schema.marks.abbr.create({title:t}),l=i.text(this.abbrText,m(r.state.selection.$anchor.nodeAfter.marks));s.replaceSelectionWith(l),t?s.addMark(o.from,o.from+l.nodeSize,a):s.removeMark(o.from,o.from+l.nodeSize,a),r.dispatch(s),this.hideAbbrMenu()}},directives:{ClickOutside:Cn.a}},Ya=Xa,Qa=(n("d5c3"),An(Ya,Ga,Ka,!1,null,null,null)),el=Qa.exports,tl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-menu",class:{"table-menu_active":null!==e.getPosition,"table-menu_nested":null!==e.getPosition&&e.isNested},style:"top: "+(e.getPosition?e.getPosition:0)+"px;"},[n("editor-menu-bubble",{attrs:{editor:e.editor,"keep-in-bounds":!0},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.commands;return[n("div",{staticClass:"bubble-menu",class:{"bubble-menu_active":null!==e.getPosition},style:"top: 0px; left: 50%;"},[n("button",{staticClass:"button-icon bubble-menu__button",attrs:{title:e.i18n("ADD_COLUMN_BEFORE")},on:{click:r.addColumnBefore}},[n("icon",{attrs:{name:"add_col_before"}})],1),n("button",{staticClass:"button-icon bubble-menu__button",attrs:{title:e.i18n("ADD_COLUMN_AFTER")},on:{click:r.addColumnAfter}},[n("icon",{attrs:{name:"add_col_after"}})],1),n("button",{staticClass:"button-icon bubble-menu__button",attrs:{title:e.i18n("DELETE_COLUMN")},on:{click:r.deleteColumn}},[n("icon",{attrs:{name:"delete_col"}})],1),n("div",{staticClass:"bubble-menu__separator"}),n("button",{staticClass:"button-icon bubble-menu__button",attrs:{title:e.i18n("ADD_ROW_BEFORE")},on:{click:r.addRowBefore}},[n("icon",{attrs:{name:"add_row_before"}})],1),n("button",{staticClass:"button-icon bubble-menu__button",attrs:{title:e.i18n("ADD_ROW_AFTER")},on:{click:r.addRowAfter}},[n("icon",{attrs:{name:"add_row_after"}})],1),n("button",{staticClass:"button-icon bubble-menu__button",attrs:{title:e.i18n("DELETE_ROW")},on:{click:r.deleteRow}},[n("icon",{attrs:{name:"delete_row"}})],1),n("div",{staticClass:"bubble-menu__separator"}),n("button",{staticClass:"button-icon bubble-menu__button",attrs:{title:e.i18n("MERGE_CELLS")},on:{click:r.toggleCellMerge}},[n("icon",{attrs:{name:"combine_cells"}})],1),n("div",{staticClass:"bubble-menu__separator"}),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}]},[n("button",{staticClass:"button-icon bubble-menu__button",class:{"bubble-menu__button_active":e.menuState},on:{click:e.toggleMenu}},[n("icon",{attrs:{name:"dots"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuState,expression:"menuState"}],ref:"context",staticClass:"context-menu bubble-menu__context"},[n("button",{staticClass:"context-menu__item bubble-menu__item",class:{"bubble-menu__button_active":"left"===e.align},on:{click:function(t){return e.execCommand("setParagraphAlign")}}},[e._v(" "+e._s(e.i18n("ALIGN_LEFT"))+" ")]),n("button",{staticClass:"context-menu__item bubble-menu__item",class:{"bubble-menu__button_active":"right"===e.align},on:{click:function(t){return e.execCommand("setParagraphAlign",{align:"right"})}}},[e._v(" "+e._s(e.i18n("ALIGN_RIGHT"))+" ")]),n("button",{staticClass:"context-menu__item bubble-menu__item",class:{"bubble-menu__button_active":"center"===e.align},on:{click:function(t){return e.execCommand("setParagraphAlign",{align:"center"})}}},[e._v(" "+e._s(e.i18n("ALIGN_CENTER"))+" ")])])])])]}}])})],1)},nl=[],rl={name:"BubbleMenu",components:{EditorMenuBubble:vt,Icon:On},props:{editor:Object,lang:String},data:function(){return{menuState:!1}},computed:{editorReady:function(){return 0!==this.editor.view.lastClick.time},currentDomNode:function(){var e=this.editor,t=e.view,n=e.state;if(this.editorReady){var r=t.domAtPos(n.selection.anchor);return"#text"===r.node.nodeName?r.node.parentNode:r.node}return{}},getPosition:function(){if(!this.editor)return null;if(!this.editorReady)return null;var e=lr(this.editor.state,this.editor.view,"table");if(e){var t=this.$parent.$el,n=t.getBoundingClientRect(),r=e.getBoundingClientRect().top-n.top-40;return r}return null},isNested:function(){return this.editor?this.currentDomNode.closest('div[class="spoiler__text"]'):0},align:function(){if(!this.editor&&null===this.getPosition)return null;var e=this.currentDomNode;return e.align||"left"}},methods:{i18n:function(e){var t=this.lang||"ru";return Rn[t][e]||e},hideMenu:function(){this.menuState&&(this.menuState=!1)},showMenu:function(){this.menuState=!0},toggleMenu:function(){this.menuState=!this.menuState},execCommand:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.editor.commands[e](t),this.hideMenu()}},directives:{ClickOutside:Cn.a}},il=rl,ol=An(il,tl,nl,!1,null,null,null),sl=ol.exports,al=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.parentParagraph?n("EditorMenuBar",{ref:"bottombar",style:{transform:"translate3d(0, "+e.offsetY+"px, 0)"},attrs:{editor:e.editor,id:"bottombar"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.commands,i=t.isActive,o=t.getMarkAttrs;return[e.abbrMenuIsActive?n("div",[n("form",{staticClass:"mobile-mark-menu",attrs:{id:"abbrForm"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.hideAbbrMenu.apply(null,arguments))}}},[n("div",{staticClass:"mobile-mark-menu__input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.abbrTitle,expression:"abbrTitle"}],ref:"abbrInput",staticClass:"input mobile-mark-menu__input",attrs:{form:"abbrForm",type:"text",placeholder:e.i18n("ABBR_PLACEHOLDER")},domProps:{value:e.abbrTitle},on:{input:function(t){t.target.composing||(e.abbrTitle=t.target.value)}}}),n("button",{staticClass:"button-icon mobile-mark-menu__input-button",attrs:{type:"button",title:e.i18n("REMOVE_LINK")},on:{click:function(t){return e.setAbbrText(r.abbr,null)}}},[n("icon",{attrs:{name:"remove"}})],1)]),n("div",{staticClass:"mobile-mark-menu__input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.abbrText,expression:"abbrText"}],ref:"abbrTextInput",staticClass:"input mobile-mark-menu__input",attrs:{form:"abbrForm",type:"text",placeholder:e.i18n("TEXT_PLACEHOLDER")},domProps:{value:e.abbrText},on:{input:function(t){t.target.composing||(e.abbrText=t.target.value)}}})]),n("div",{staticClass:"mobile-mark-menu__buttons"},[n("button",{staticClass:"mobile-mark-menu__button mobile-mark-menu__button_transparent",attrs:{type:"button"},on:{click:e.hideAbbrMenu}},[e._v(" "+e._s(e.i18n("CANCEL"))+" ")]),n("button",{staticClass:"mobile-mark-menu__button",attrs:{type:"button"},on:{click:function(t){return e.setAbbrText(r.abbr,e.abbrTitle)}}},[e._v(" "+e._s(e.i18n("SAVE"))+" ")])])])]):e.linkMenuIsActive?n("div",[n("form",{staticClass:"mobile-mark-menu",attrs:{id:"linkForm"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.hideLinkMenu.apply(null,arguments))}}},[n("div",{staticClass:"mobile-mark-menu__input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.linkUrl,expression:"linkUrl"}],ref:"linkInput",staticClass:"input mobile-mark-menu__input",attrs:{form:"linkForm",type:"text",placeholder:"https://"},domProps:{value:e.linkUrl},on:{input:function(t){t.target.composing||(e.linkUrl=t.target.value)}}}),n("button",{staticClass:"button-icon mobile-mark-menu__input-button",attrs:{type:"button",title:e.i18n("REMOVE_LINK")},on:{click:function(t){return e.setLinkUrl(r.link,null)}}},[n("icon",{attrs:{name:"remove"}})],1)]),n("div",{staticClass:"mobile-mark-menu__input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.linkText,expression:"linkText"}],ref:"linkTextInput",staticClass:"input mobile-mark-menu__input",attrs:{form:"linkForm",type:"text",placeholder:e.i18n("TEXT_PLACEHOLDER")},domProps:{value:e.linkText},on:{input:function(t){t.target.composing||(e.linkText=t.target.value)}}})]),n("div",{staticClass:"mobile-mark-menu__buttons"},[n("button",{staticClass:"mobile-mark-menu__button mobile-mark-menu__button_transparent",attrs:{type:"button"},on:{click:e.hideLinkMenu}},[e._v(" "+e._s(e.i18n("CANCEL"))+" ")]),n("button",{staticClass:"mobile-mark-menu__button",attrs:{type:"button"},on:{click:function(t){return e.setLinkUrl(r.link,e.linkUrl)}}},[e._v(" "+e._s(e.i18n("SAVE"))+" ")])])])]):e.bubbleMenuMatch?n("div",{staticClass:"mobile-menu"},e._l(e.marksMenuItems,(function(t,r){return n("button",{key:t.type,staticClass:"mobile-menu__item",class:{"mobile-menu__item_active":i[t.type]()},attrs:{id:t.type},on:{click:function(t){return e.execCommand(r,e.marksMenuItems,o)}}},[n("icon",{attrs:{name:t.icon}})],1)})),0):e.showBlockMenu?n("div",{staticClass:"mobile-menu"},e._l(e.allMenuItems,(function(t,r){return n("button",{key:r,staticClass:"mobile-menu__item",on:{click:function(t){return e.execCommand(r,e.allMenuItems,o)}}},[n("icon",{attrs:{name:t.icon}})],1)})),0):n("div",{staticClass:"mobile-menu"},e._l(e.inlineMenuItems,(function(t,r){return n("button",{key:r,staticClass:"mobile-menu__item",on:{click:function(t){return e.execCommand(r,e.inlineMenuItems,o)}}},[n("icon",{attrs:{name:t.icon}})],1)})),0)]}}],null,!1,3715638644)}):e._e()},ll=[],cl=["Heading","Blockquote","List","Embed","Image","Hr","Table","CodeBlock","Formula","Spoiler","Epigraph","Anchor","Persona"],ul=["Link","Abbr","Bold","Italic","Code","Underline","Strike","Sub","Sup"],dl=["InlineImage","InlineFormula","Link","Abbr"],fl=48,hl={name:"MobileMenu",components:{Icon:On,EditorMenuBar:dt},props:{editor:Object,blockMenuMatch:[Object,Boolean],bubbleMenuMatch:Boolean,extensions:Array,lang:String,json:Array},data:function(){return{offsetY:0,allMenuItems:Da(cl,this.extensions,this.i18n),marksMenuItems:Da(ul,this.extensions,this.i18n),inlineMenuItems:Da(dl,this.extensions,this.i18n),linkUrl:null,linkText:null,linkMenuIsActive:!1,abbrTitle:null,abbrText:null,abbrMenuIsActive:!1}},computed:{parentParagraph:function(){if(!this.editor)return!1;var e=this.editor.state,t=-1!==["paragraph"].indexOf(e.selection.$from.parent.type.name);return t},showBlockMenu:function(){if(!this.editor)return!1;var e=this.editor,t=e.state,n=e.view;if(null===t.selection.anchor)return!1;var r=1===t.selection.$from.depth,i=2===t.selection.$from.depth,o=n.domAtPos(t.selection.anchor),s="#text"===o.node.nodeName,a=o.node.textContent,l=!s&&o.node.closest('div[class="spoiler__text"]'),c=0===a.length;return(r||l&&i)&&this.parentParagraph&&c}},mounted:function(){var e=this;window.visualViewport&&(window.visualViewport.addEventListener("resize",(function(){e.updateBar()})),window.visualViewport.addEventListener("scroll",this.updateBar)),window.addEventListener("scroll",this.updateBar),window.addEventListener("touchmove",this.updateBar,{passive:!1}),setTimeout((function(){e.updateBar()}),0)},methods:{i18n:function(e){var t=this.lang||"ru";return Rn[t][e]||e},execCommand:function(e,t,n){var r=t[e];"link"!==r.type?"abbr"!==r.type?this.editor.commands[r.type](r.attrs):this.showAbbrMenu(n("abbr")):this.showLinkMenu(n("link"))},showAbbrMenu:function(e){var t=this;this.abbrTitle=e&&e.title;var n=this.editor,r=n.selection,i=n.view,o=i.state.doc.cut(r.from,r.to),s=o.textContent;this.abbrText=s,this.abbrMenuIsActive=!0,this.$nextTick((function(){t.$refs.abbrInput.focus({preventScroll:!0})}))},hideAbbrMenu:function(){this.abbrText=null,this.abbrTitle=null,this.abbrMenuIsActive=!1,this.editor.view.focus({preventScroll:!0})},setAbbrText:function(e,t){var n=this,r=this.editor,i=r.view,o=r.schema,s=r.selection,a=i.state.tr,l=this.editor.schema.marks.abbr.create({title:t}),c=i.state.selection.$anchor.nodeAfter?i.state.selection.$anchor.nodeAfter.marks:[],u=o.text(this.abbrText,m(c));a.replaceSelectionWith(u),t?a.addMark(s.from,s.from+u.nodeSize,l):a.removeMark(s.from,s.from+u.nodeSize,l),i.dispatch(a),this.hideAbbrMenu(),this.$nextTick((function(){n.scroll()}))},showLinkMenu:function(e){var t=this;this.linkUrl=e&&e.href;var n=this.editor,r=n.selection,i=n.view,o=i.state.doc.cut(r.from,r.to),s=o.textContent;this.linkText=s,this.linkMenuIsActive=!0,this.$nextTick((function(){t.$refs.linkInput.focus({preventScroll:!0})}))},hideLinkMenu:function(){this.linkUrl=null,this.linkText=null,this.linkMenuIsActive=!1,this.editor.view.focus({preventScroll:!0})},setLinkUrl:function(e,t){var n=this,r=this.editor,i=r.view,o=r.schema,s=r.selection,a=i.state.tr,l=this.editor.schema.marks.link.create({href:t}),c=i.state.selection.$anchor.nodeAfter?i.state.selection.$anchor.nodeAfter.marks:[],u=o.text(this.linkText,m(c));a.replaceSelectionWith(u),t?a.addMark(s.from,s.from+u.nodeSize,l):a.removeMark(s.from,s.from+u.nodeSize,l),i.dispatch(a),this.hideLinkMenu(),this.$nextTick((function(){n.scroll()}))},updateBar:function(){var e=window.visualViewport,t=e.height,n=this.$parent.$el.getBoundingClientRect(),r=n.y+n.height,i=n.y+window.scrollY;if(t>r)this.offsetY=n.height-fl;else{var o=window.scrollY+t-fl-i;o>0&&(this.offsetY=o)}},scroll:function(){var e=this.editor,t=e.state,n=e.view,r=window.visualViewport,i=r.pageTop,o=r.height;if(this.editor.focused&&null!==t.selection.anchor){var s=n.domAtPos(t.selection.anchor),a="#text"===s.node.nodeName,l=a?s.node.parentElement.getBoundingClientRect():s.node.getBoundingClientRect(),c=l.y+20,u=0,d=window.getSelection();if(d&&d.rangeCount>0){var f=d.getRangeAt(0),h=f.getClientRects()[0];h&&(u=h.y+h.height-4)}var p=o-fl;if(Math.max(c,u)>p){var m=Math.max(c,u)-p;document.scrollingElement.scrollTop=i+m+12}}}},watch:{json:function(){var e=this;this.$nextTick((function(){e.scroll(),e.updateBar()}))},"editor.isActive":function(e){!e.link()&&this.linkMenuIsActive&&this.hideLinkMenu()}}},pl=hl,ml=(n("164e"),An(pl,al,ll,!1,null,null,null)),gl=ml.exports,vl=function(e){var t=e.char,n=e.allowSpaces,r=e.startOfLine;return function(e){if(e.depth<=0)return!1;var i,o="\\".concat(t),s=new RegExp("\\s".concat(o,"$")),a=r?"^":"",l=n?new RegExp("".concat(a).concat(o,".*?(?=\\s").concat(o,"|$)"),"gm"):new RegExp("".concat(a,"(?:^)?").concat(o,"[^\\s").concat(o,"]*"),"gm"),c=e.before(),u=e.end(),d=e.doc.textBetween(c,u,"\0","\0"),f=l.exec(d);if(f&&f[0]===d||!r)while(null!==f){var h=f.input.slice(Math.max(0,f.index-1),f.index);if(/^[\s\0]?$/.test(h)){var p=f.index+e.start(),m=p+f[0].length;n&&s.test(d.slice(m-1,m+1))&&(f[0]+=" ",m+=1),p<e.pos&&m>=e.pos&&(i={range:{from:p,to:m},query:f[0].slice(t.length),text:f[0]})}f=l.exec(d)}return i}},yl=n("c0c4"),bl=n.n(yl),wl=function(e){return 0===e.openStart&&0===e.openEnd&&1===e.content.childCount?e.content.firstChild:null},xl=function(e){return 1===e.children.length&&"SPAN"===e.firstChild.tagName},kl=function e(t){return xl(t)&&(t.innerHTML=t.firstChild.innerHTML),xl(t)&&e(t),t},Cl=function(e){var t=document.createElement("div"),n=/(\s*<meta [^>]*>)*/.exec(e);n&&(e=e.slice(n[0].length));var r=e.replace(/<br[^<]*><br/g,"<p").replace(/<\/p><br[^<]*><p/g,"</p><p").replace(/<span[^<]*><br[^<]*><\/span>/g,"").replace(/<img([^>]*)/g,(function(e){return-1!==e.indexOf("formula inline")?e:"</p>".concat(e)}));return t.innerHTML=r,t=kl(t),t.querySelectorAll("br").forEach((function(e){"P"!==e.parentNode.tagName&&"SPAN"!==e.parentNode.tagName&&e.remove()})),t.querySelectorAll("span:empty").forEach((function(e){e.remove()})),t.querySelectorAll("span:empty").forEach((function(e){e.remove()})),t.querySelectorAll("p:empty").forEach((function(e){e.remove()})),t.innerHTML},Sl=function(e){var t=e.clipboardData,n=t&&t.getData("text/html"),r=t&&t.getData("text/plain");return bl.a.sanitize(n||r)},_l=/<p>(.*)?\n?\$\$([^\s].*[^$$][^\s])\$\$(\s+|<\/p>)/g,Ml=/<p>(.*)\$([^\s$]?[^\s$]+)\$(\s+|\W\s|<\/p>)/g,Dl=function e(t,n){var r=n?Ml:_l,i=t.replace(r,(function(e,t,r,i){var o=r.replace(n?"$":"$$",""),s=t||"",a=i||"",l=n?"formula inline":"formula";return"<p>".concat(s,'<img class="').concat(l,'" source="').concat(o,'" />').concat(a)}));return i.match(_l)?e(i):i.match(Ml)?e(i,!0):i};n("a48e");var Al=window.__EDITOR_STATE__,El={name:"Editor",components:{EditorContent:lt,BlockMenu:Na,BubbleMenu:el,BubbleTableMenu:sl,InlineMenu:ja,MentionMenu:qa,MobileMenu:gl},props:{propsConfig:null,name:null,lang:{default:"ru"},label:null,value:null,validation:null,description:null,isMobile:{default:!1},useTestIds:{default:!1}},data:function(){return{editor:null,config:v(v({extensions:null,initialJSON:null,JSONTextareaName:null,HTMLTextareaName:null,formName:"wysiwyg",heading:String,autoFocus:!0},Al),this.propsConfig),blockMenuMatch:null,inlineMenuMatch:null,mentionMenuMatch:null,bubbleMenuMatch:null,error:!1,json:[],html:String,editorReady:!1}},computed:{showMentionMenu:function(){return _a("Mention",this.config.extensions)},showInlineMenu:function(){return _a("InlineFormula",this.config.enabledExtensions)||_a("InlineImage",this.config.enabledExtensions)},showTableMenu:function(){return _a("Table",this.config.extensions)}},methods:{i18n:function(e){var t=this.lang||"ru";return Rn[t][e]||e},setBlockMenuMatch:function(e){this.blockMenuMatch=e},setMentionMenuMatch:function(e){this.mentionMenuMatch=e},setInlineMenuMatch:function(e){this.inlineMenuMatch=e},json2html:function(){var e=Object.assign({},this.json);"title"===e.content[0].type&&e.content.shift(),b.a.post("/json2html",{json:e}).then((function(e){var t=e.data;alert(t)}))},resizeIframe:function(e){document.getElementById(e.id).height=e.height}},beforeMount:function(){(this.config.embedHost||this.config.imagesHost||this.config.mentionHost)&&xr(this.config)},mounted:function(){var e=this,t=this.config.extensions,n={lang:this.lang||"ru"};this.editor=new at({useBuiltInExtensions:this.isMobile,dropCursor:{color:"#D3DDE0",width:4,class:"editor__droparea"},editorProps:{handlePaste:function(t,n,r){var i=Sl(n);if(!i)return Array.from(n.clipboardData.files).filter((function(e){return e.type.startsWith("image")})).forEach((function(e){var n=t.state.schema.nodes.image.create({src:e,title:null,customClass:"",border:!1,float:!1,fullWidth:!0,inserted:!0}),r=t.state.tr.replaceSelectionWith(n);t.dispatch(r.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))})),!1;var o=document.createElement("div");if(t.shiftKey&&45!==t.lastKeyCode){var s=t.state.tr.insertText(i);t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}else{var a=nn()(i),l=Dl(a);o.innerHTML=l,o.innerHTML=Cl(o.innerHTML);var c=k["DOMParser"].fromSchema(e.editor.schema);r=c.parseSlice(o,{preserveWhitespace:!0});var u=wl(r),d=t.state.selection;if(0===d.from&&0===d.to){var f=w["TextSelection"].near(t.state.doc.resolve(1));t.dispatch(t.state.tr.setSelection(f))}var h=u?t.state.tr.replaceSelectionWith(u,t.shiftKey):t.state.tr.replaceSelection(r);t.dispatch(h.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}return!0}},extensions:[new ot(n)].concat(m(this.isMobile?[]:[new pi(v(v({},n),{},{isMobile:this.isMobile}))]),[new Jt(n),new Qt(v(v({},n),{},{emptyNodeClass:"is-empty",showOnlyWhenEditable:!1,showOnlyCurrent:!1,emptyNodeText:function(t){return"title"===t.type.name?e.i18n("TITLE"):e.i18n("NEW_LINE_INLINE")}})),new en(v(v({},n),{},{node:"paragraph",notAfter:["paragraph"]})),new gn(n)],m(this.useTestIds?[new vn(n)]:[]),m(_a("Title",t)?[new ns(n)]:[new rt(n)]),m(_a("Title",t)?[new ts(n)]:[]),m(_a("Heading",t)?[new Vn(n)]:[]),m(_a("Embed",t)?[new Or(n)]:[]),m(_a("Formula",t)?[new bo(n)]:[]),m(_a("InlineFormula",t)?[new Eo(n)]:[]),m(_a("InlineImage",t)?[new Wi(n)]:[]),m(_a("Spoiler",t)?[new Bo(n)]:[]),m(_a("CodeBlock",t)?[new oo(v(v({},n),{},{isMobile:this.isMobile}))]:[]),m(_a("Mention",t)?[new Go(n)]:[]),m(_a("Blockquote",t)?[new Yn(n)]:[]),m(_a("List",t)?[new dr(n),new mr(n)]:[]),m(_a("Link",t)?[new oa(n)]:[]),m(_a("Abbr",t)?[new pa(n)]:[]),m(_a("Bold",t)?[new ma(n)]:[]),m(_a("Code",t)?[new va(n)]:[]),m(_a("Italic",t)?[new ga(n)]:[]),m(_a("Strike",t)?[new ya(n)]:[]),m(_a("Sup",t)?[new Zs(n)]:[]),m(_a("Sub",t)?[new Gs(n)]:[]),m(_a("Underline",t)?[new ba(n)]:[]),m(_a("Hr",t)?[new oi(n)]:[]),m(_a("Epigraph",t)?[new Mi(n)]:[]),m(_a("Image",t)?[new Zr(n)]:[]),m(_a("Anchor",t)?[new Ri(n)]:[]),m(_a("Persona",t)?[new Ms(n),new Rs(n),new Ws(n)]:[]),m(_a("Table",t)?[new ls(v(v({},n),{},{resizable:!0})),new vi(n),new vs(n),new Xt(n),new is(n),new Yt(n)]:[])),autoFocus:this.config.autoFocus,onBlur:function(){var t=e.editor.view.state.doc.textContent;e.validation&&e.validation.required&&!t&&(e.error="ru"===e.lang?"Поле обязательно для заполнения":"This field is required",e.name&&e.$emit("update:error",c({},e.name,e.error)))},onFocus:function(){e.error=!1,e.name&&e.$emit("update:error",c({},e.name,e.error))},onUpdate:function(t){var n=t.getJSON,r=t.getHTML;e.json=n(),e.config.HTMLTextareaName&&(e.html=r()),e.$nextTick((function(){e.$emit("update",{json:e.json,html:e.html,textContent:e.editor.view.state.doc.textContent})})),e.name&&e.$nextTick((function(){e.$emit("update:data",c({},e.name,{json:e.json,html:e.html,textContent:e.editor.view.state.doc.textContent}))}))},onTransaction:function(t){var n=t.transaction,r=n.selection,i=-1!==["paragraph","table_paragraph"].indexOf(r.$from.parent.type.name),o=1===r.$from.depth,s=e.editor.view.domAtPos(r.anchor),a="#text"===s.node.nodeName,l=!a&&s.node.closest('div[class="spoiler__text"]'),c=s.node.textContent,u=0===c.length;e.setBlockMenuMatch(null),e.setInlineMenuMatch(null),e.setMentionMenuMatch(null);var d=r.$from,f={char:"/",allowSpaces:!1,startOfLine:!0},h={char:"@",allowSpaces:!1,startOfLine:!1};if(r.from!==r.to&&i?e.bubbleMenuMatch=!0:e.bubbleMenuMatch=!1,r.from===r.to&&i){var p=vl(f)(d),m=vl(v(v({},f),{},{startOfLine:!1}))(d),g=vl(h)(d);if((p||u)&&(o||l))return void e.setBlockMenuMatch(p);if(m)return void e.setInlineMenuMatch(m);g&&e.setMentionMenuMatch(g)}},content:""});var r,i=this.editor.getJSON();this.value&&"string"===typeof this.value.json?r=JSON.parse(this.value.json):this.value&&"object"===l(this.value.json)?r=this.value.json:this.config.initialJSON?r=JSON.parse(this.config.initialJSON):this.propsConfig&&this.propsConfig.initialJSON&&(r=JSON.parse(this.propsConfig.initialJSON));var o=24;if(r){if(i.content=r.content,r.content[0]&&"title"===r.content[0].type){var s=i.content.shift(),a=v(v({},i),{},{content:[s]});this.editor.setContent(a)}var u=this.editor.view;i.content.forEach((function(e){o+=10,setTimeout((function(){var t=u.state.schema.nodeFromJSON(e);if("paragraph"!==t.type.name||t.content&&0!==t.content.size){var n,r=u.state.doc.content.size-u.state.doc.lastChild.nodeSize,i=new w["TextSelection"](u.state.doc.resolve(r));n=i.empty?u.state.tr.setSelection(i).replaceSelectionWith(t,!1).setMeta("preventUpdate",!0):u.state.tr.insert(u.state.tr.doc.content.size,t).setMeta("preventUpdate",!0),u.dispatch(n)}}),o)}))}this.json=i,setTimeout((function(){e.config.HTMLTextareaName&&(e.html=e.editor.getHTML()),e.$emit("update",{json:e.editor.getJSON(),html:e.html,textContent:e.editor.view.state.doc.textContent}),e.name&&e.$emit("update:data",c({},e.name,{json:e.json,html:e.html,textContent:e.editor.view.state.doc.textContent}))}),o+=24),window.addEventListener("message",(function(t){t.data&&t.data.type&&"embed-size"===t.data.type&&e.resizeIframe(t.data)})),window.addEventListener("wysiwyg-block-submit",(function(t){e.nodeLoading=t.detail,e.$emit("loading",t.detail)}),!1),document.execCommand("enableObjectResizing",!1,!1),this.editorReady=!0},beforeDestroy:function(){this.editor.destroy()}},Ol=El,Tl=(n("05aa"),An(Ol,s,a,!1,null,null,null)),Nl=Tl.exports;t["default"]=Nl},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("861d"),o=n("e8b5"),s=n("23cb"),a=n("50c4"),l=n("fc6a"),c=n("8418"),u=n("b622"),d=n("1dde"),f=d("slice"),h=u("species"),p=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,r,u,d=l(this),f=a(d.length),g=s(e,f),v=s(void 0===t?f:t,f);if(o(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(d,g,v);for(r=new(void 0===n?Array:n)(m(v-g,0)),u=0;g<v;g++,u++)g in d&&c(r,u,d[g]);return r.length=u,r}})},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe86:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".inline-menu{display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;z-index:26;visibility:hidden;opacity:0;margin-left:-34px;margin-top:-4px;-webkit-transition:opacity .2s,visibility .2s;transition:opacity .2s,visibility .2s}.inline-menu_active{opacity:1;visibility:visible}.inline-menu_mention .context-menu{width:200px}.inline-menu .mention-menu__item{padding:16px 12px}.mention-menu__info{margin-left:8px;font-size:13px;text-align:left}.mention-menu__info,.mention-menu__info>div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mention-menu__alias{color:#909090}.mention-menu__avatar{width:32px;height:32px;border-radius:4px}",""]),e.exports=t},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise},ffe7:function(e,t,n){
/*!
 * Fuse.js v3.6.1 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
!function(t,n){e.exports=n()}(0,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(1),s=n(7),a=s.get,l=(s.deepValue,s.isArray),c=function(){function e(t,n){var r=n.location,i=void 0===r?0:r,o=n.distance,s=void 0===o?100:o,l=n.threshold,c=void 0===l?.6:l,u=n.maxPatternLength,d=void 0===u?32:u,f=n.caseSensitive,h=void 0!==f&&f,p=n.tokenSeparator,m=void 0===p?/ +/g:p,g=n.findAllMatches,v=void 0!==g&&g,y=n.minMatchCharLength,b=void 0===y?1:y,w=n.id,x=void 0===w?null:w,k=n.keys,C=void 0===k?[]:k,S=n.shouldSort,_=void 0===S||S,M=n.getFn,D=void 0===M?a:M,A=n.sortFn,E=void 0===A?function(e,t){return e.score-t.score}:A,O=n.tokenize,T=void 0!==O&&O,N=n.matchAllTokens,L=void 0!==N&&N,I=n.includeMatches,R=void 0!==I&&I,F=n.includeScore,P=void 0!==F&&F,B=n.verbose,j=void 0!==B&&B;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:s,threshold:c,maxPatternLength:d,isCaseSensitive:h,tokenSeparator:m,findAllMatches:v,minMatchCharLength:b,id:x,keys:C,includeMatches:R,includeScore:P,shouldSort:_,getFn:D,sortFn:E,verbose:j,tokenize:T,matchAllTokens:L},this.setCollection(t),this._processKeys(C)}var t,n,s;return t=e,(n=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"_processKeys",value:function(e){if(this._keyWeights={},this._keyNames=[],e.length&&"string"==typeof e[0])for(var t=0,n=e.length;t<n;t+=1){var r=e[t];this._keyWeights[r]=1,this._keyNames.push(r)}else{for(var i=null,o=null,s=0,a=0,l=e.length;a<l;a+=1){var c=e[a];if(!c.hasOwnProperty("name"))throw new Error('Missing "name" property in key object');var u=c.name;if(this._keyNames.push(u),!c.hasOwnProperty("weight"))throw new Error('Missing "weight" property in key object');var d=c.weight;if(d<0||d>1)throw new Error('"weight" property in key must bein the range of [0, 1)');o=null==o?d:Math.max(o,d),i=null==i?d:Math.min(i,d),this._keyWeights[u]=d,s+=d}if(s>1)throw new Error("Total of weights cannot exceed 1")}}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),r=n.tokenSearchers,i=n.fullSearcher,o=this._search(r,i);return this._computeScore(o),this.options.shouldSort&&this._sort(o),t.limit&&"number"==typeof t.limit&&(o=o.slice(0,t.limit)),this._format(o)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,i=n.length;r<i;r+=1)t.push(new o(n[r],this.options));return{tokenSearchers:t,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,r={},i=[];if("string"==typeof n[0]){for(var o=0,s=n.length;o<s;o+=1)this._analyze({key:"",value:n[o],record:o,index:o},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t});return i}for(var a=0,l=n.length;a<l;a+=1)for(var c=n[a],u=0,d=this._keyNames.length;u<d;u+=1){var f=this._keyNames[u];this._analyze({key:f,value:this.options.getFn(c,f),record:c,index:a},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t})}return i}},{key:"_analyze",value:function(e,t){var n=this,r=e.key,i=e.arrayIndex,o=void 0===i?-1:i,s=e.value,a=e.record,c=e.index,u=t.tokenSearchers,d=void 0===u?[]:u,f=t.fullSearcher,h=t.resultMap,p=void 0===h?{}:h,m=t.results,g=void 0===m?[]:m;!function e(t,i,o,s){if(null!=i)if("string"==typeof i){var a=!1,c=-1,u=0;n._log("\nKey: ".concat(""===r?"--":r));var h=f.search(i);if(n._log('Full text: "'.concat(i,'", score: ').concat(h.score)),n.options.tokenize){for(var m=i.split(n.options.tokenSeparator),v=m.length,y=[],b=0,w=d.length;b<w;b+=1){var x=d[b];n._log('\nPattern: "'.concat(x.pattern,'"'));for(var k=!1,C=0;C<v;C+=1){var S=m[C],_=x.search(S),M={};_.isMatch?(M[S]=_.score,a=!0,k=!0,y.push(_.score)):(M[S]=1,n.options.matchAllTokens||y.push(1)),n._log('Token: "'.concat(S,'", score: ').concat(M[S]))}k&&(u+=1)}c=y[0];for(var D=y.length,A=1;A<D;A+=1)c+=y[A];c/=D,n._log("Token score average:",c)}var E=h.score;c>-1&&(E=(E+c)/2),n._log("Score average:",E);var O=!n.options.tokenize||!n.options.matchAllTokens||u>=d.length;if(n._log("\nCheck Matches: ".concat(O)),(a||h.isMatch)&&O){var T={key:r,arrayIndex:t,value:i,score:E};n.options.includeMatches&&(T.matchedIndices=h.matchedIndices);var N=p[s];N?N.output.push(T):(p[s]={item:o,output:[T]},g.push(p[s]))}}else if(l(i))for(var L=0,I=i.length;L<I;L+=1)e(L,i[L],o,s)}(o,s,a,c)}},{key:"_computeScore",value:function(e){this._log("\n\nComputing score:\n");for(var t=this._keyWeights,n=!!Object.keys(t).length,r=0,i=e.length;r<i;r+=1){for(var o=e[r],s=o.output,a=s.length,l=1,c=0;c<a;c+=1){var u=s[c],d=u.key,f=n?t[d]:1,h=0===u.score&&t&&t[d]>0?Number.EPSILON:u.score;l*=Math.pow(h,f)}o.score=l,this._log(o)}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===r(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t}),2)),n=null}var i=[];this.options.includeMatches&&i.push((function(e,t){var n=e.output;t.matches=[];for(var r=0,i=n.length;r<i;r+=1){var o=n[r];if(0!==o.matchedIndices.length){var s={indices:o.matchedIndices,value:o.value};o.key&&(s.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(s.arrayIndex=o.arrayIndex),t.matches.push(s)}}})),this.options.includeScore&&i.push((function(e,t){t.score=e.score}));for(var o=0,s=e.length;o<s;o+=1){var a=e[o];if(this.options.id&&(a.item=this.options.getFn(a.item,this.options.id)[0]),i.length){for(var l={item:a.item},c=0,u=i.length;c<u;c+=1)i[c](a,l);t.push(l)}else t.push(a.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&i(t.prototype,n),s&&i(t,s),e}();e.exports=c},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(2),o=n(3),s=n(6),a=function(){function e(t,n){var r=n.location,i=void 0===r?0:r,o=n.distance,a=void 0===o?100:o,l=n.threshold,c=void 0===l?.6:l,u=n.maxPatternLength,d=void 0===u?32:u,f=n.isCaseSensitive,h=void 0!==f&&f,p=n.tokenSeparator,m=void 0===p?/ +/g:p,g=n.findAllMatches,v=void 0!==g&&g,y=n.minMatchCharLength,b=void 0===y?1:y,w=n.includeMatches,x=void 0!==w&&w;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:a,threshold:c,maxPatternLength:d,isCaseSensitive:h,tokenSeparator:m,findAllMatches:v,includeMatches:x,minMatchCharLength:b},this.pattern=h?t:t.toLowerCase(),this.pattern.length<=d&&(this.patternAlphabet=s(this.pattern))}var t,n,a;return t=e,(n=[{key:"search",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var s={isMatch:!0,score:0};return r&&(s.matchedIndices=[[0,e.length-1]]),s}var a=this.options,l=a.maxPatternLength,c=a.tokenSeparator;if(this.pattern.length>l)return i(e,this.pattern,c);var u=this.options,d=u.location,f=u.distance,h=u.threshold,p=u.findAllMatches,m=u.minMatchCharLength;return o(e,this.pattern,this.patternAlphabet,{location:d,distance:f,threshold:h,findAllMatches:p,minMatchCharLength:m,includeMatches:r})}}])&&r(t.prototype,n),a&&r(t,a),e}();e.exports=a},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(t.replace(n,"\\$&").replace(r,"|")),o=e.match(i),s=!!o,a=[];if(s)for(var l=0,c=o.length;l<c;l+=1){var u=o[l];a.push([e.indexOf(u),u.length-1])}return{score:s?.5:1,isMatch:s,matchedIndices:a}}},function(e,t,n){var r=n(4),i=n(5);e.exports=function(e,t,n,o){for(var s=o.location,a=void 0===s?0:s,l=o.distance,c=void 0===l?100:l,u=o.threshold,d=void 0===u?.6:u,f=o.findAllMatches,h=void 0!==f&&f,p=o.minMatchCharLength,m=void 0===p?1:p,g=o.includeMatches,v=void 0!==g&&g,y=a,b=e.length,w=d,x=e.indexOf(t,y),k=t.length,C=[],S=0;S<b;S+=1)C[S]=0;if(-1!==x){var _=r(t,{errors:0,currentLocation:x,expectedLocation:y,distance:c});if(w=Math.min(_,w),-1!==(x=e.lastIndexOf(t,y+k))){var M=r(t,{errors:0,currentLocation:x,expectedLocation:y,distance:c});w=Math.min(M,w)}}x=-1;for(var D=[],A=1,E=k+b,O=1<<(k<=31?k-1:30),T=0;T<k;T+=1){for(var N=0,L=E;N<L;)r(t,{errors:T,currentLocation:y+L,expectedLocation:y,distance:c})<=w?N=L:E=L,L=Math.floor((E-N)/2+N);E=L;var I=Math.max(1,y-L+1),R=h?b:Math.min(y+L,b)+k,F=Array(R+2);F[R+1]=(1<<T)-1;for(var P=R;P>=I;P-=1){var B=P-1,j=n[e.charAt(B)];if(j&&(C[B]=1),F[P]=(F[P+1]<<1|1)&j,0!==T&&(F[P]|=(D[P+1]|D[P])<<1|1|D[P+1]),F[P]&O&&(A=r(t,{errors:T,currentLocation:B,expectedLocation:y,distance:c}))<=w){if(w=A,(x=B)<=y)break;I=Math.max(1,2*y-x)}}if(r(t,{errors:T+1,currentLocation:y,expectedLocation:y,distance:c})>w)break;D=F}var z={isMatch:x>=0,score:0===A?.001:A};return v&&(z.matchedIndices=i(C,m)),z}},function(e,t){e.exports=function(e,t){var n=t.errors,r=void 0===n?0:n,i=t.currentLocation,o=void 0===i?0:i,s=t.expectedLocation,a=void 0===s?0:s,l=t.distance,c=void 0===l?100:l,u=r/e.length,d=Math.abs(a-o);return c?u+d/c:d?1:u}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=-1,o=0,s=e.length;o<s;o+=1){var a=e[o];a&&-1===r?r=o:a||-1===r||((i=o-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var i=0;i<n;i+=1)t[e.charAt(i)]|=1<<n-i-1;return t}},function(e,t){var n=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},r=function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)},i=function(e){return"string"==typeof e},o=function(e){return"number"==typeof e};e.exports={get:function(e,t){var s=[];return function e(t,a){if(a){var l=a.indexOf("."),c=a,u=null;-1!==l&&(c=a.slice(0,l),u=a.slice(l+1));var d=t[c];if(null!=d)if(u||!i(d)&&!o(d))if(n(d))for(var f=0,h=d.length;f<h;f+=1)e(d[f],u);else u&&e(d,u);else s.push(r(d))}else s.push(t)}(e,t),s},isArray:n,isString:i,isNum:o,toString:r}}])}))}})["default"]}))}}]);
//# sourceMappingURL=chunk-2d0e907e.06c2430f.js.map