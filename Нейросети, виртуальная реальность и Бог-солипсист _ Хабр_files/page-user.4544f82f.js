"use strict";(self["webpackChunkhabr_web"]=self["webpackChunkhabr_web"]||[]).push([[734],{35569:(t,e,s)=>{s.d(e,{Z:()=>_});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-badges"},[e("ul",{staticClass:"tm-badges__list"},t._l(t.badges,(function(s,a){return e("li",{key:a,staticClass:"tm-badges__item"},[e(s.url?"a":"div",{tag:"component",staticClass:"tm-badges__badge",attrs:{href:s.url,title:s.description}},[e("span",[t._v(t._s(s.title))]),t._v(" "),s.url?e("TMSvgImg",{staticClass:"tm-badges__icon",attrs:{id:"arrow-link",size:"11"}}):t._e()],1)],1)})),0)])},r=[],i=s(31490);const o={name:"TMBadges",components:{TMSvgImg:i.Z},props:{badges:{type:Array,default:()=>[]}}},n=o;var l=s(1001),u=(0,l.Z)(n,a,r,!1,null,null,null);const _=u.exports},89519:(t,e,s)=>{s.d(e,{Z:()=>_});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-base-table"},[e("div",{staticClass:"tm-base-table__body"},t._l(t.rows,(function(s,a){return e("div",{key:a,class:t.bem("tm-base-table__row",{"skip-top-line":t.skipTopLine})},[t._t("default",null,{row:s})],2)})),0)])},r=[],i=s(65873);const o={name:"TMBaseTable",props:{rows:{type:Array,required:!0},skipTopLine:{type:Boolean,default:!1}},methods:{bem:i.P}},n=o;var l=s(1001),u=(0,l.Z)(n,a,r,!1,null,null,null);const _=u.exports},63190:(t,e,s)=>{s.d(e,{Z:()=>b});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-hub-card",class:t.bem("tm-hub-card",{variant:t.variant})},[e("div",{staticClass:"tm-hub-card__header",class:t.bem("tm-hub-card__header",{variant:t.variant})},[e("div",{staticClass:"tm-hub-card__data"},[e("div",{staticClass:"tm-hub-card__avatar"},[e("TMEntityImage",{attrs:{alias:t.hub.alias,image:t.hub.imageUrl,type:"hub"}})],1),t._v(" "),e("TMRating",{attrs:{score:t.hub.statistics&&t.hub.statistics.rating}})],1),t._v(" "),"header"===t.subscribeBtnPosition?e("TMButtonFollow",{staticClass:"tm-hub-card__follow",attrs:{"can-subscribe":t.isLoggedIn,subscribed:t.isSubscribed},on:{onToggle:function(e){return t.toggleStatusAndUpdate(e,t.hub.alias)}}}):e("div")],1),t._v(" "),e("h1",{staticClass:"tm-hub-card__name",class:t.bem("tm-hub-card__name",{variant:t.variant})},[e("span",{domProps:{innerHTML:t._s(t.hub.titleHtml)}}),t._v(" "),t.hub.isProfiled?e("span",{staticClass:"tm-hub-card__profiled",attrs:{title:t.msg("PROFILED_HUB")}},[t._v(" *")]):t._e()]),t._v(" "),e("p",{staticClass:"tm-hub-card__description",class:t.bem("tm-hub-card__description",{variant:t.variant}),domProps:{innerHTML:t._s(t.hub.descriptionHtml)}}),t._v(" "),"afterDescription"===t.subscribeBtnPosition?e("TMButtonFollow",{staticClass:"tm-hub-card__follow tm-hub-card__follow_after-description",attrs:{"can-subscribe":t.isLoggedIn,subscribed:t.isSubscribed},on:{onToggle:function(e){return t.toggleStatusAndUpdate(e,t.hub.alias)}}}):e("div"),t._v(" "),t.hubCurator&&t.showCurator?e("div",{staticClass:"tm-hub-card__curator"},[e("router-link",{staticClass:"tm-hub-card__curator-userpic",attrs:{to:t.userProfileRoute(t.hubCurator.alias)}},[e("TMEntityImage",{attrs:{alias:t.hubCurator.alias,image:t.hubCurator.avatarUrl,type:"user"}})],1),t._v(" "),e("div",{staticClass:"tm-hub-card__curator-info"},[e("div",{staticClass:"tm-hub-card__curator-title"},[e("router-link",{staticClass:"tm-hub-card__curator-name",attrs:{to:t.userProfileRoute(t.hubCurator.alias)}},[t.hubCurator.fullname?[t._v("\n            "+t._s(t.hubCurator.fullname)+"\n          ")]:[t._v("\n            "+t._s(t.hubCurator.alias)+"\n          ")]],2),t._v(" "),e("TMCuratorIcon",{attrs:{title:t.msg("PROFILE_HUB_CURATOR")}}),t._v(" "),e("span",{staticClass:"tm-hub-card__curator-label"},[t._v("\n          "+t._s(t.msg("PROFILE_HUB_CURATOR"))+"\n        ")])],1),t._v(" "),e("p",{staticClass:"tm-hub-card__short-info",domProps:{innerHTML:t._s(t.hubCurator.speciality)}})])],1):t._e(),t._v(" "),t.showStat?e("div",{staticClass:"tm-hub-card__stat"},[e("p",{staticClass:"tm-hub-card__stat-item"},[t._v("\n      "+t._s(t.msg("NAV_ARTICLES_USER"))+": "),e("b",[t._v(t._s(t.postsCountFormatted))])]),t._v(" "),e("p",{staticClass:"tm-hub-card__stat-item"},[t._v("\n      "+t._s(t.msg("NAV_FOLLOWERS"))+": "),e("b",[t._v(t._s(t.subscribersCountFormatted))])])]):t._e(),t._v(" "),t.isHintVisible?e("RestrictionHint",t._b({on:{close:function(e){t.isHintVisible=!1}}},"RestrictionHint",t.hintProps,!1)):t._e()],1)},r=[],i=s(20629),o=s(410),n=s(51153),l=s(70874),u=s(96781),_=s(65873),c=s(13836),p=s(8065);const h=()=>s.e(2208).then(s.bind(s,42208)),m={name:"TMHubCard",components:{TMButtonFollow:o.Z,TMEntityImage:n.Z,TMRating:l.Z,TMCuratorIcon:h,RestrictionHint:u.Z},props:{hub:{type:Object,required:!0},showCurator:{type:Boolean,default:!0},showStat:{type:Boolean,default:!1},subscribeBtnPosition:{type:String,required:!0,validator(t){return["header","afterDescription"].includes(t)}},variant:{type:String,default:"base"}},data(){return{isHintVisible:!1,hintProps:null}},computed:{...(0,i.Se)("me",["isLoggedIn"]),...(0,i.Se)("global",["isMobile"]),...(0,i.Se)("hubs",["getHubByAlias"]),isSubscribed(){const t=this.getHubByAlias(this.hub.alias),e=t||this.hub;return e.relatedData&&e.relatedData.isSubscribed},hubCurator(){return this.hub.sponsorship&&this.hub.sponsorship.curator},postsCountFormatted(){return this.hub.statistics&&(0,c.O)(this.hub.statistics.postsCount)},subscribersCountFormatted(){return this.hub.statistics&&(0,c.O)(this.hub.statistics.subscribersCount)}},methods:{...(0,i.nv)("hubs",["toggleSubscribeStatus"]),toggleStatusAndUpdate(t,e){this.isLoggedIn?this.toggleSubscribeStatus(e).then((()=>{this.$emit("toggleSubscribe")})):this.toggleSubscribeHint(t)},toggleSubscribeHint(t){this.hintProps={target:t.target,messageKey:"SUBSCRIPTION_HUB_HINT",eventLabel:" hint_reg_hub_go",placement:"bottom-start",offset:this.isMobile?[0,8]:[-34,8]},this.isHintVisible=!this.isHintVisible,this.isHintVisible&&(0,p.IZ)("hint_reg_hub_open")},bem:_.P,userProfileRoute(t){return{name:"USER_PROFILE",params:{login:t}}}}},d=m;var T=s(1001),g=(0,T.Z)(d,a,r,!1,null,null,null);const b=g.exports},57338:(t,e,s)=>{s.d(e,{Z:()=>m});var a=function(){var t=this,e=t._self._c;return t.blockHubsContribution&&t.blockHubsContribution.length?e("TMBlock",{attrs:{title:t.msg("NAV_HUBS_CONTRIBUTION")}},[e("TMContributionList",{attrs:{contributions:t.contributions},scopedSlots:t._u([{key:"aside",fn:function({item:t}){return[e("TMHubLink",{attrs:{hub:t.hub}},[e("TMEntityImage",{attrs:{alias:t.hub.alias,image:t.hub.imageUrl,size:32,type:"hub"}})],1)]}},{key:"header",fn:function({item:s}){return[e("TMHubLink",{staticClass:"tm-hub-block__hub-name",attrs:{hub:s.hub}},[e("span",{domProps:{textContent:t._s(s.hub.titleHtml)}})])]}}],null,!1,3225048570)})],1):t._e()},r=[],i=s(20629),o=s(17907),n=s(13423),l=s(51153),u=s(92686);const _={name:"TMHubsContributionBlock",components:{TMContributionList:n.Z,TMBlock:o.Z,TMEntityImage:l.Z,TMHubLink:u.Z},props:{userAlias:{type:String,default:null},companyAlias:{type:String,default:null}},computed:{...(0,i.Se)("userHubsContribution",{getUserContribution:"getHubsContributionsByAlias"}),...(0,i.Se)("companyHubsContribution",{getCompanyContribution:"getHubsContributionsByAlias"}),blockHubsContribution(){return this.companyAlias?this.getCompanyContribution(this.companyAlias):this.getUserContribution(this.userAlias)},contributions(){return this.blockHubsContribution.map((t=>{const{invest:e}=t;return{id:t.alias,hub:t,relative:this.getWidth(e),absolute:e.toFixed(1)}}))}},methods:{getWidth(t){const e=this.blockHubsContribution[0].invest;return 100*t/e}}},c=_;var p=s(1001),h=(0,p.Z)(c,a,r,!1,null,null,null);const m=h.exports},10096:(t,e,s)=>{s.d(e,{Z:()=>p});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-user-basic-info"},["undefined"!==typeof t.userInfo.ratingPos?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_RATING"),variant:t.variant}},[t._v("\n    "+t._s(t.msg(t.ratingPositionPluralKey,{position:t.userInfo.ratingPos||0}))+"\n  ")]):t._e(),t._v(" "),t.geoString.length?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_LOCATION"),variant:t.variant}},[t._v("\n    "+t._s(t.geoString)+"\n  ")]):t._e(),t._v(" "),t.userInfo.workplace&&t.userInfo.workplace.length?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_WORKS_IN"),variant:t.variant}},t._l(t.userInfo.workplace,(function(s){return e("div",{key:`workplace-${s.alias}`},[e("router-link",{staticClass:"tm-user-basic-info__link",attrs:{to:{name:"COMPANY_PROFILE",params:{name:s.alias}}}},[t._v("\n        "+t._s(s.title)+"\n      ")])],1)})),0):t._e(),t._v(" "),t.userInfo.birthday?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_BIRTHDAY"),variant:t.variant}},[e("TMDatetime",{attrs:{date:t.birthdayDate}})],1):t._e(),t._v(" "),t.userInfo.registerDateTime?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_REGISTERED",{gender:t.userInfo.gender}),variant:t.variant}},[e("TMDatetime",{attrs:{date:new Date(t.userInfo.registerDateTime)}})],1):t._e(),t._v(" "),t.userInfo.lastActivityDateTime?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_ACTIVITY"),variant:t.variant}},[e("TMDatetime",{attrs:{date:new Date(t.userInfo.lastActivityDateTime),"show-full-date-time":!0}})],1):t._e()],1)},r=[],i=s(20629),o=s(72202),n=s(6454);const l={name:"TMUserBasicInfo",components:{TMDescriptionList:n.Z,TMDatetime:o.Z},props:{userInfo:{type:Object,default:null},variant:{type:String,default:"base"}},computed:{...(0,i.Se)("i18n",["msg"]),geoString(){const{location:t}=this.userInfo;return t?Object.values(t).filter((t=>!!t)).map((t=>t.title)).join(", "):""},ratingPositionPluralKey(){return this.userInfo.gender>1?"PROFILE_RATING_POSITION_FEMALE":"PROFILE_RATING_POSITION_MALE"},birthdayDate(){const[t,e,s]=this.userInfo.birthday.split("-");return new Date(t,e-1,s)}}},u=l;var _=s(1001),c=(0,_.Z)(u,a,r,!1,null,null,null);const p=c.exports},48530:(t,e,s)=>{s.d(e,{Z:()=>p});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-user-item"},[e("router-link",{staticClass:"tm-user-item__userpic-link",class:t.bem("tm-user-item__userpic-link",{slim:t.slim}),attrs:{to:t.userRoute}},[e("TMEntityImage",{attrs:{alias:t.user.alias,image:t.user.avatarUrl,size:t.avatarSize,type:"user"}})],1),t._v(" "),e("div",{staticClass:"tm-user-item__info"},[t.user.fullname?e("div",{staticClass:"tm-user-item__name"},[t._v("\n      "+t._s(t.user.fullname)+"\n    ")]):t._e(),t._v(" "),e("router-link",{staticClass:"tm-user-item__username",attrs:{to:t.userRoute}},[t._v("\n      @"+t._s(t.user.alias)+"\n    ")])],1)],1)},r=[],i=s(51153),o=s(23159),n=s(65873);const l={name:"TMUserItem",components:{TMEntityImage:i.Z},props:{user:o.Z,avatarSize:{type:Number,default:36},slim:Boolean},computed:{userRoute(){return{name:"USER_PROFILE",params:{login:this.user.alias}}}},methods:{bem:n.P}},u=l;var _=s(1001),c=(0,_.Z)(u,a,r,!1,null,null,null);const p=c.exports},46935:(t,e,s)=>{s.d(e,{Z:()=>p});var a=function(){var t=this,e=t._self._c;return t.showSpecialization?e("div",{staticClass:"tm-user-specialization"},[e(t.block?"TMBlock":"TMDescriptionList",{tag:"component",attrs:{"body-variant":"stucked",spacing:"bottom",title:t.msg("NAV_SPECIALIZATION")},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"tm-user-specialization__title"},[e("strong",[t._v(t._s(t.title))])]),t._v(" "),t.specializationInfo.qualification?e("div",{staticClass:"tm-user-specialization__qualification"},[t._v("\n        "+t._s(t.specializationInfo.qualification.title)+"\n      ")]):t._e(),t._v(" "),t.specializationInfo.salary?e("div",{staticClass:"tm-user-specialization__salary"},[t._v("\n        "+t._s(t.msg("VACANCY_SALARY_FROM",{from:t.specializationInfo.salary,currency:t.specializationInfo.currency.sign}))+"\n      ")]):t._e(),t._v(" "),t.specializationInfo.skills&&t.specializationInfo.skills.length?e("div",{staticClass:"tm-user-specialization__skills"},t._l(t.specializationInfo.skills,(function(s){return e("div",{key:s.alias,staticClass:"tm-user-specialization__skill",domProps:{textContent:t._s(s.name)}})})),0):t._e()]},proxy:!0}],null,!1,3412968487)})],1):t._e()},r=[],i=s(20629),o=s(17907),n=s(6454);const l={name:"TMUserSpecialization",components:{TMBlock:o.Z,TMDescriptionList:n.Z},props:{block:Boolean},asyncData({store:t,route:e}){return t.dispatch("users/loadUserSpecialization",{alias:e.params.login})},computed:{...(0,i.Se)("users",["getUserSpecialization"]),specializationInfo(){return this.getUserSpecialization(this.$route.params.login)},showSpecialization(){const{specializationInfo:t}=this;return t&&(t.qualification||t.salary||t.skills.length||t.specializations.length)},title(){const{specializations:t}=this.specializationInfo;return t.map((t=>t.textFieldData||t.title)).join(", ")||this.msg("USER_SPECIALIST")}}},u=l;var _=s(1001),c=(0,_.Z)(u,a,r,!1,null,null,null);const p=c.exports},17565:(t,e,s)=>{s.d(e,{Z:()=>b});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-votes-table__row"},[e("div",{staticClass:"tm-vote-header"},[e("div",{staticClass:"tm-vote-header__row"},[e("div",{staticClass:"tm-votes-table__col tm-votes-table__col_date"},[e("TMDatetime",{staticClass:"tm-user-karma-votes__date",attrs:{date:t.vote.timeCreated,"short-month":"","show-full-date-time":""}})],1),t._v(" "),t.vote.profile?t._e():e("div",{staticClass:"tm-votes-table__col tm-votes-table__col_vote",attrs:{type:"vote"}},[e("TMUserVoteValue",{attrs:{vote:t.vote.value}})],1)]),t._v(" "),t.vote.profile?e("div",{staticClass:"tm-vote-header__row"},[e("div",{staticClass:"tm-votes-table__col tm-votes-table__col_user"},[e("TMUserItem",{attrs:{"avatar-size":24,slim:"",user:t.voteUser(t.vote.profile)}})],1),t._v(" "),e("div",{staticClass:"tm-votes-table__col tm-votes-table__col_vote"},[e("TMUserVoteValue",{attrs:{vote:t.vote.value}})],1)]):t._e()]),t._v(" "),t.voteReasons(t.vote.reasons)?e("div",{staticClass:"tm-votes-table__col tm-votes-table__col_reasons"},[t._v("\n    "+t._s(t.voteReasons(t.vote.reasons))+"\n  ")]):t._e()])},r=[],i=s(72202),o=s(48530),n=function(){var t=this,e=t._self._c;return e("span",{staticClass:"user-vote-value",class:t.bem("user-vote-value",{variant:t.variant})},[t._v("\n  "+t._s(t.formattedValue)+"\n")])},l=[],u=s(65873);const _={name:"TMUserVoteValue",props:{vote:{type:Number,required:!0}},computed:{variant(){return this.vote>0?"positive":"negative"},formattedValue(){return this.vote>0?`+${this.vote}`:this.vote.toString()}},methods:{bem:u.P}},c=_;var p=s(1001),h=(0,p.Z)(c,n,l,!1,null,null,null);const m=h.exports,d={name:"TMVoteTableRow",components:{TMUserItem:o.Z,TMUserVoteValue:m,TMDatetime:i.Z},props:{vote:{type:Object,required:!0}},methods:{voteReasons(t){return t&&t.join(". ")},voteUser(t){return{alias:t.alias,avatarUrl:t.avatarUrl}}}},T=d;var g=(0,p.Z)(T,a,r,!1,null,null,null);const b=g.exports},1081:(t,e,s)=>{s.d(e,{Z:()=>b});var a=function(){var t=this,e=t._self._c;return e("TMBaseTable",{staticClass:"votes-table-placeholder__table",attrs:{rows:t.placeholderRows,"skip-top-line":""}},[e("div",{staticClass:"votes-table-placeholder__row"},[e("div",{staticClass:"votes-table-placeholder__header"},[e("div",{staticClass:"votes-table-placeholder__header-row"},[e("TMPlaceholderLine",{staticClass:"votes-table-placeholder__ph votes-table-placeholder__ph_date"}),t._v(" "),t.withUser?t._e():e("TMPlaceholderLine",{staticClass:"votes-table-placeholder__ph votes-table-placeholder__ph_vote"})],1),t._v(" "),t.withUser?e("div",{staticClass:"votes-table-placeholder__header-row"},[e("TMUserItemPlaceholder",{staticClass:"votes-table-placeholder__ph votes-table-placeholder__ph_user"}),t._v(" "),e("TMPlaceholderLine",{staticClass:"votes-table-placeholder__ph votes-table-placeholder__ph_vote"})],1):t._e()]),t._v(" "),e("TMPlaceholderLine",{staticClass:"votes-table-placeholder__reasons"})],1)])},r=[],i=s(20629),o=s(89519),n=s(5806),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-user-item-placeholder"},[e("div",{staticClass:"tm-user-item-placeholder__avatar"}),t._v(" "),e("TMPlaceholderLine",{staticClass:"tm-user-item-placeholder__username"})],1)},u=[];const _={name:"TMUserItemPlaceholder",components:{TMPlaceholderLine:n.Z}},c=_;var p=s(1001),h=(0,p.Z)(c,l,u,!1,null,null,null);const m=h.exports,d={name:"TMVotesTablePlaceholder",components:{TMUserItemPlaceholder:m,TMPlaceholderLine:n.Z,TMBaseTable:o.Z},props:{withUser:Boolean},computed:{...(0,i.Se)("global",["isMobileOnly"]),placeholderRows(){return this.isMobileOnly?Array(4):Array(7)}}},T=d;var g=(0,p.Z)(T,a,r,!1,null,null,null);const b=g.exports},68726:(t,e,s)=>{s.d(e,{Z:()=>m});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-votes-types-nav"},t._l(t.$options.OPTIONS,(function(s){return e("TMButtonBase",{key:s.type,staticClass:"tm-votes-types-nav__button",class:t.bem("tm-votes-types-nav__button",{active:t.currentType===s.type}),attrs:{"style-type":t.getButtonStyle(s.type)},on:{click:function(e){return t.setQueryTo(s.type)}}},[t._v("\n    "+t._s(t.msg(s.translationKey))+"\n  ")])})),1)},r=[],i=s(17903),o=s(65873);const n=[{type:"all",translationKey:"PROFILE_VOTES_TYPE_ALL"},{type:"positive",translationKey:"PROFILE_VOTES_TYPE_POSITIVE"},{type:"negative",translationKey:"PROFILE_VOTES_TYPE_NEGATIVE"}],l=n.map((t=>t.type)),u=l[0],_={name:"TMVotesTypesNav",components:{TMButtonBase:i.Z},computed:{currentType(){const{type:t}=this.$route.query,e=l.includes(t);return e?t:u}},methods:{getButtonStyle(t){return t===this.currentType?"solid":"transparent"},setQueryTo(t){t!==this.currentType&&this.$router.push({query:{type:t},params:{pageNum:1}})},bem:o.P},OPTIONS:n},c=_;var p=s(1001),h=(0,p.Z)(c,a,r,!1,null,null,null);const m=h.exports},35302:(t,e,s)=>{s.r(e),s.d(e,{articlesSubPages:()=>H,bookmarksSubPages:()=>k,default:()=>W,draftsSubPages:()=>Z,plannedSubPages:()=>D,profileSubPages:()=>V});var a=function(){var t=this,e=t._self._c;return e("TMPage",{staticClass:"tm-user",scopedSlots:t._u([{key:"default",fn:function(){return[e("TMBlock",{scopedSlots:t._u([{key:"body",fn:function(){return[t.userInfo?[e("TMUserCard",{staticClass:"tm-user__user-card",attrs:{user:t.userInfo,variant:"profile"},on:{"change:isSubscribed":t.toggleFollowUser,payments:function(e){return t.$emit("payments")}}}),t._v(" "),e("TMTabs",{staticClass:"tm-user__tabs",attrs:{tabs:t.tabs,"tabs-count":4}}),t._v(" "),t.isSubpagesDropdownShown||t.hasRss?e("TMNavigationDropdown",{attrs:{"current-value":t.$route.name,options:t.subPagesOptions,variant:"user"},on:{change:t.goToPage}},[e("TMRssButton",{staticClass:"tm-user__rss"})],1):t._e(),t._v(" "),t.isSubpagesTabsShown?e("div",{staticClass:"tm-user__filter"},[e("TMNavigationFiltersTabs",{attrs:{"active-index":t.activeTabIndex,"apply-immidiate":!0,"content-visible":!0,options:t.tabsFilterOptions},on:{applyNavigationFilter:t.applyFilter}})],1):t._e(),t._v(" "),e("PortalTarget",{attrs:{name:"profileAdditionalNav"}})]:e("TMPlaceholder",{attrs:{type:"userProfileCard"}})]},proxy:!0}])}),t._v(" "),t.showWriteNote&&t.isMobile&&t.isProfilePage?e("div",{staticClass:"tm-user__write-note-wrapper"},[e("TMWriteNote",{attrs:{condensed:"",note:t.userInfo.note}})],1):t._e(),t._v(" "),e("router-view")]},proxy:!0},{key:"sidebar",fn:function(){return[t.isDesktop?e("TMLayoutSidebar",{attrs:{"show-adv":!1}},[e("TMUserBasicInfoBlock",{attrs:{"user-info":t.userInfo}}),t._v(" "),e("TMUserSpecialization",{attrs:{block:""}}),t._v(" "),t.showWriteNote?e("TMWriteNote",{attrs:{note:t.userInfo.note}}):t._e(),t._v(" "),e("TMHubsContributionBlock",{attrs:{"user-alias":t.$route.params.login}})],1):t._e()]},proxy:!0}])})},r=[],i=s(20629),o=s(17907),n=s(72202),l=s(6454),u=s(57338),_=s(42102),c=s(76881),p=s(98297),h=s(43222),m=s(40591),d=s(6628),T=s(36355),g=function(){var t=this,e=t._self._c;return t.userInfo?e("TMBlock",{attrs:{title:t.msg("PROFILE_BLOCK_TITLE")}},[e("TMUserBasicInfo",{attrs:{"user-info":t.userInfo,variant:"columns"}})],1):t._e()},b=[],v=s(10096);const S={name:"TMUserBasicInfoBlock",components:{TMUserBasicInfo:v.Z,TMBlock:o.Z},props:{userInfo:{type:Object,default:null}}},I=S;var f=s(1001),E=(0,f.Z)(I,g,b,!1,null,null,null);const L=E.exports;var M=s(69543),R=s(46935),P=function(){var t=this,e=t._self._c;return t.note?e("div",{staticClass:"tm-write-note"},[t.note.text||t.isEdit?e("TMBlock",{attrs:{title:t.msg("PROFILE_WRITE_NOTE_TITLE")}},[t.isEdit?e("textarea",{ref:"noteTextarea",staticClass:"tm-write-note__textarea",attrs:{placeholder:t.msg("PROFILE_WRITE_NOTE_PLACEHOLDER")},domProps:{innerHTML:t._s(t.note.text)}}):e("div",{staticClass:"tm-write-note__text-block",domProps:{innerHTML:t._s(t.note.text)}}),t._v(" "),t.isLoading?e("TMCircleLoader"):e("TMButtonBase",{staticClass:"tm-save-note__button",attrs:{"style-size":"small","style-type":"transparent",type:"button"},on:{click:function(e){return t.sendUserNote()}}},[t._v("\n      "+t._s(t.msg(t.buttonText))+"\n    ")])],1):e("TMBlock",{attrs:{"body-variant":t.condensed?"condensed":null}},[e("TMButtonBase",{staticClass:"tm-write-note__button",attrs:{"style-size":"large","style-type":"transparent",type:"button"},on:{click:function(e){t.isEdit=!0}}},[t._v("\n      "+t._s(t.msg("PROFILE_WRITE_NOTE"))+"\n    ")])],1)],1):t._e()},O=[],A=s(17903),C=s(2681);const y={name:"TMWriteNote",components:{TMBlock:o.Z,TMButtonBase:A.Z,TMCircleLoader:C.Z},props:{note:{type:Object,default:null},condensed:Boolean},data(){return{isEdit:!1,isLoading:!1}},computed:{buttonText(){return this.isEdit?"PROFILE_WRITE_NOTE_SAVE":"PROFILE_WRITE_NOTE_EDIT"}},methods:{...(0,i.nv)("users",["addUserNote"]),sendUserNote(){if(!1===this.isEdit)return void(this.isEdit=!0);const{login:t}=this.$route.params,{value:e}=this.$refs.noteTextarea;this.isLoading=!0,this.addUserNote({alias:t,note:{text:e}}).then((()=>{this.isEdit=!1,this.isLoading=!1})).catch((t=>{this.isLoading=!1,this.$toast.error(t.message)}))}}},N=y;var U=(0,f.Z)(N,P,O,!1,null,null,null);const B=U.exports;var w=s(8065),F=s(23217);const V=["USER_PROFILE","USER_INVITES","USER_NOTES","USER_NOTES_PAGES","USER_KARMA_RESET","USER_VOTES_KARMA","USER_VOTES_KARMA_PAGES","USER_VOTES_COMMENTS","USER_VOTES_COMMENTS_PAGES","USER_VOTES_POSTS","USER_VOTES_POSTS_PAGES","USER_VOTES_USERS","USER_VOTES_USERS_PAGES"],k=["ARTICLES_LIST_BOOKMARKED","COMMENTS_LIST_BOOKMARKED","POSTS_LIST_BOOKMARKED","NEWS_LIST_BOOKMARKED"],Z=["ARTICLES_DRAFTS_LIST_BY_USER","NEWS_DRAFTS_LIST_BY_USER","POSTS_DRAFTS_LIST_BY_USER"],D=["ARTICLES_PLANNED_LIST_BY_USER","NEWS_PLANNED_LIST_BY_USER","POSTS_PLANNED_LIST_BY_USER"],H=["ARTICLES_LIST_BY_USER","NEWS_LIST_BY_USER","POSTS_LIST_BY_USER","ARTICLES_DRAFTS_LIST_BY_USER","ARTICLES_PLANNED_LIST_BY_USER","ARTICLES_LIST_SANDBOX_BY_USER","ARTICLES_LIST_SANDBOX_BY_USER_PAGES","USER_STATISTICS"],x={name:"TMUserPage",components:{TMNavigationFiltersTabs:p.Z,TMDatetime:n.Z,TMLayoutSidebar:_.Z,TMNavigationDropdown:c.Z,TMHubsContributionBlock:u.Z,TMPage:h.Z,TMPlaceholder:m.Z,TMDescriptionList:l.Z,TMTabs:T.Z,TMUserBasicInfoBlock:L,TMUserCard:M.Z,TMWriteNote:B,TMRssButton:d.Z,TMBlock:o.Z,TMUserSpecialization:R.Z},asyncData({store:t,route:e}){return t.dispatch("users/loadUserInfo",{alias:e.params.login})},computed:{...(0,i.Se)("users",["getUserByAlias"]),...(0,i.Se)("global",["isDesktop","isMobile"]),...(0,i.Se)("me",["isLoggedIn","isSuperAdmin","userAlias"]),routeNameWithoutPages(){return this.$route.name.replace(/_PAGES$/,"")},userInfo(){return this.getUserByAlias(this.$route.params.login)},showWriteNote(){return!this.isItMe&&this.isLoggedIn&&this.userInfo},isProfilePage(){return"USER_PROFILE"===this.$route.name},profileSubPages(){return[{label:this.msg("NAV_PROFILE_WHOIS"),value:"USER_PROFILE"},{label:this.msg("NAV_PROFILE_INVITES"),value:"USER_INVITES"},{label:this.msg("NAV_PROFILE_NOTES"),value:"USER_NOTES"},{label:this.msg("KARMA_RESET"),value:"USER_KARMA_RESET"},{label:this.msg("VOTES_FOR_KARMA"),value:"USER_VOTES_KARMA"},{label:this.msg("PROFILE_VOTES_COMMENTS_TITLE"),value:"USER_VOTES_COMMENTS"},{label:this.msg("PROFILE_VOTES_POSTS_TITLE"),value:"USER_VOTES_POSTS"},{label:this.msg("VOTES_FOR_USERS_TITLE"),value:"USER_VOTES_USERS"}]},profileAdminSubPages(){return[{label:this.msg("NAV_PROFILE_WHOIS"),value:"USER_PROFILE"},{label:this.msg("VOTES_FOR_KARMA"),value:"USER_VOTES_KARMA"},{label:this.msg("PROFILE_VOTES_COMMENTS_TITLE"),value:"USER_VOTES_COMMENTS"},{label:this.msg("PROFILE_VOTES_POSTS_TITLE"),value:"USER_VOTES_POSTS"},{label:this.msg("VOTES_FOR_USERS_TITLE"),value:"USER_VOTES_USERS"}]},bookmarksFilterOptions(){return[{label:this.msg("NAV_BOOKMARKS_ARTICLES"),value:"ARTICLES_LIST_BOOKMARKED"},{label:this.msg("NAV_BOOKMARKS_POSTS"),value:"POSTS_LIST_BOOKMARKED"},{label:this.msg("NAV_NEWS"),value:"NEWS_LIST_BOOKMARKED"},{label:this.msg("NAV_BOOKMARKS_COMMENTS"),value:"COMMENTS_LIST_BOOKMARKED"}]},draftsFilterOptions(){return[{label:this.msg("NAV_ARTICLES"),value:"ARTICLES_DRAFTS_LIST_BY_USER"},{label:this.msg("NAV_NEWS"),value:"NEWS_DRAFTS_LIST_BY_USER"},{label:this.msg("NAV_POSTS"),value:"POSTS_DRAFTS_LIST_BY_USER"}]},plannedFilterOptions(){return[{label:this.msg("NAV_ARTICLES"),value:"ARTICLES_PLANNED_LIST_BY_USER"},{label:this.msg("NAV_NEWS"),value:"NEWS_PLANNED_LIST_BY_USER"},{label:this.msg("NAV_POSTS"),value:"POSTS_PLANNED_LIST_BY_USER"}]},articlesFilterOptions(){const t=[{label:this.msg("NAV_ARTICLES"),value:"ARTICLES_LIST_BY_USER"},{label:this.msg("NAV_POSTS"),value:"POSTS_LIST_BY_USER"},{label:this.msg("NAV_NEWS"),value:"NEWS_LIST_BY_USER"}];return(this.isItMe||this.isSuperAdmin)&&t.push({label:this.msg("NAV_ARTICLES_SANDBOX_USER"),value:"ARTICLES_LIST_SANDBOX_BY_USER"},{label:this.msg("NAV_DRAFTS"),value:"ARTICLES_DRAFTS_LIST_BY_USER"},{label:this.msg("NAV_PLANNED"),value:"ARTICLES_PLANNED_LIST_BY_USER"},{label:this.msg("NAV_USER_STATISTICS"),value:"USER_STATISTICS"}),t},subPagesOptions(){const t=this.isItMe||this.isSuperAdmin;return this.isItMe&&-1!==V.indexOf(this.routeNameWithoutPages)?this.profileSubPages:t&&-1!==V.indexOf(this.routeNameWithoutPages)?this.profileAdminSubPages:-1!==k.indexOf(this.routeNameWithoutPages)?this.bookmarksFilterOptions:-1!==Z.indexOf(this.routeNameWithoutPages)||-1!==D.indexOf(this.routeNameWithoutPages)||-1!==H.indexOf(this.routeNameWithoutPages)?this.articlesFilterOptions:[]},tabsFilterOptions(){return-1!==Z.indexOf(this.routeNameWithoutPages)?this.draftsFilterOptions:-1!==D.indexOf(this.routeNameWithoutPages)?this.plannedFilterOptions:[]},tabs(){var t,e;if(!this.userInfo)return[];const{isReadonly:s}=this.userInfo,a=[];a.push({title:this.msg("NAV_PROFILE"),route:{name:"USER_PROFILE",params:{login:this.userInfo.alias}},children:this.isItMe?(0,F.nz)(this.profileSubPages):[]});const r=this.isItMe||this.isSuperAdmin;return(r||!s||s&&(null===(t=this.userInfo.counterStats)||void 0===t?void 0:t.postCount)>0)&&a.push({title:this.msg("NAV_ARTICLES_USER"),count:this.userInfo.counterStats&&this.userInfo.counterStats.postCount||0,route:{name:"ARTICLES_LIST_BY_USER",params:{login:this.userInfo.alias}},children:(0,F.nz)([...this.articlesFilterOptions,...this.draftsFilterOptions,...this.plannedFilterOptions])}),(!s||s&&(null===(e=this.userInfo.counterStats)||void 0===e?void 0:e.commentCount)>0)&&a.push({title:this.msg("NAV_COMMENTS"),count:this.userInfo.counterStats&&this.userInfo.counterStats.commentCount||0,route:{name:"USER_COMMENTS_PUBLICATIONS",params:{login:this.userInfo.alias}}}),a.push({title:this.msg("NAV_BOOKMARKS"),count:this.userInfo.counterStats&&this.userInfo.counterStats.favoriteCount||0,route:{name:"USER_BOOKMARKED",params:{login:this.userInfo.alias}},children:(0,F.nz)(this.bookmarksFilterOptions)}),s||a.push({title:this.msg("NAV_FOLLOWERS"),count:this.userInfo.followStats&&this.userInfo.followStats.followersCount||0,route:{name:"USER_FOLLOWERS",params:{login:this.userInfo.alias}}},{title:this.msg("NAV_FOLLOWED"),count:this.userInfo.followStats&&this.userInfo.followStats.followCount||0,route:{name:"USER_FOLLOWED",params:{login:this.userInfo.alias}}}),a},isSubpagesDropdownShown(){return!0===this.$route.meta.showFilter&&this.subPagesOptions.length},isSubpagesTabsShown(){return!0===this.$route.meta.showTabs&&this.tabsFilterOptions.length},hasRss(){return Boolean(this.$route.meta.rssLink)},isItMe(){return this.isLoggedIn&&this.userAlias&&this.$route.params.login.toLowerCase()===this.userAlias.toLowerCase()},activeTabIndex(){return this.tabsFilterOptions.findIndex((t=>t.value===this.routeNameWithoutPages))}},mounted(){this.isDesktop&&this.loadUserHubsContributions(this.$route.params)},methods:{...(0,i.nv)("users",["loadUserInfo","updateFollowersCounter"]),...(0,i.nv)("userHubsContribution",["loadUserHubsContributions"]),...(0,i.rn)("global",["isPwa"]),toggleFollowUser(t){t&&(0,w.IZ)("subscribe_user"),this.updateFollowersCounter(this.userInfo.alias)},goToPage({value:t}){this.isPwa?this.$router.replace({name:t}):this.$router.push({name:t})},applyFilter(t){const e=this.tabsFilterOptions[t];this.goToPage({value:e.value})}}},K=x;var $=(0,f.Z)(K,a,r,!1,null,null,null);const W=$.exports},5785:(t,e,s)=>{s.r(e),s.d(e,{default:()=>m});var a=function(){var t=this,e=t._self._c;return e("TMSubPage",[e("TMArticlesList",{attrs:{"articles-list":t.currentArticlesList,"is-loading":t.isLoading,"pages-count":t.currentPagesCount,"publications-type":"posts"===t.publicationsType?"posts":"default"}})],1)},r=[],i=s(20629),o=s(64946),n=s(24635),l=s(28374),u=s(79206);const _={name:"TMUserBookmarksPublicationsPage",components:{TMArticlesList:o.Z,TMSubPage:n.Z},props:{publicationsType:{type:String,default:"articles",validator(t){return["articles","news","posts"].includes(t)}}},asyncData({store:t,route:e}){return t.dispatch("articlesList/loadArticlesList",{route:e,force:!0})},computed:{...(0,i.rn)("articlesList",["isLoading","pagesCount"]),...(0,i.Se)("users",["getUserByAlias"]),...(0,i.Se)("articlesList",["getArticlesList"]),routeKey(){return(0,l.Z)(this.$route)},currentArticlesList(){return this.getArticlesList(this.routeKey)},currentPagesCount(){return this.pagesCount[this.routeKey]},userInfo(){return this.getUserByAlias(this.$route.params.login)},pageTitlePart(){const t=this.userInfo;return t?this.msg("PROFILE_PAGE_TITLE_BOOKMARKS_ARTICLES",{type:(0,u.y7)(this.publicationsType,this.msg),username:t.alias}):null},totalPages(){return this.pagesCount[(0,l.Z)(this.$route)]}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"}]}}},c=_;var p=s(1001),h=(0,p.Z)(c,a,r,!1,null,null,null);const m=h.exports},73743:(t,e,s)=>{s.r(e),s.d(e,{default:()=>_});var a=function(){var t=this,e=t._self._c;return e("router-view")},r=[],i=s(20629);const o={computed:{...(0,i.Se)("users",["getUserByAlias"]),userInfo(){return this.getUserByAlias(this.$route.params.login)},pageTitlePart(){const t=this.userInfo;return t?this.msg("PROFILE_PAGE_TITLE_BOOKMARKS",{username:t.alias}):null}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"}]}}},n=o;var l=s(1001),u=(0,l.Z)(n,a,r,!1,null,null,null);const _=u.exports},95566:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var a=function(){var t=this,e=t._self._c;return e("TMUsersList",{attrs:{"author-refs":t.authorRefs,"current-author-list":t.currentAuthorList,"current-pages-count":t.currentPagesCount,"default-sort":"title","is-loading":t.authorFollowedLoading,"sorting-options":t.sortingOptions}})},r=[],i=s(20629),o=s(40245);const n={components:{TMUsersList:o.Z},asyncData({store:t,route:e}){return t.dispatch("users/loadUserFollowed",e)},computed:{...(0,i.rn)("users",["authorFollowed","authorFollowedLoading"]),...(0,i.Se)("users",["getUserByAlias"]),userAlias(){return this.$route.params.login.toLowerCase()},userInfo(){return this.getUserByAlias(this.userAlias)},userFollowed(){return this.authorFollowed[this.userAlias]},authorRefs(){return this.userFollowed?this.userFollowed.authorRefs:{}},currentAuthorList(){return this.userFollowed?this.userFollowed.authorIds:[]},currentPagesCount(){return this.userFollowed?this.userFollowed.pagesCount:0},sortingOptions(){return[{label:this.msg("NAV_SORTING_ABC_USER"),title:this.msg("NAV_SORTING_ABC_USER_TITLE"),id:"title",isSortable:!1},{label:this.msg("NAV_SORTING_RATING"),title:this.msg("NAV_SORTING_RATING_TITLE"),id:"rating",isSortable:!1},{label:this.msg("NAV_SORTING_KARMA_AUTHORS_PAGE_LABEL"),title:this.msg("NAV_SORTING_CONTRIBUTION_TITLE"),id:"karma",isSortable:!1}]},pageTitlePart(){const t=this.userInfo;return t?this.msg("PROFILE_PAGE_TITLE_FOLLOWED",{gender:t.gender,username:t.alias}):null}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"}]}}},l=n;var u=s(1001),_=(0,u.Z)(l,a,r,!1,null,null,null);const c=_.exports},72849:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var a=function(){var t=this,e=t._self._c;return e("TMUsersList",{attrs:{"author-refs":t.authorRefs,"current-author-list":t.currentAuthorList,"current-pages-count":t.currentPagesCount,"default-sort":"title","is-loading":t.authorFollowersLoading,"sorting-options":t.sortingOptions}})},r=[],i=s(20629),o=s(40245);const n={components:{TMUsersList:o.Z},asyncData({store:t,route:e}){return t.dispatch("users/loadUserFollowers",e)},computed:{...(0,i.rn)("users",["authorFollowers","authorFollowersLoading"]),...(0,i.Se)("users",["getUserByAlias"]),userAlias(){return this.$route.params.login.toLowerCase()},userInfo(){return this.getUserByAlias(this.userAlias)},userFollowers(){return this.authorFollowers[this.userAlias]},authorRefs(){return this.userFollowers?this.userFollowers.authorRefs:{}},currentAuthorList(){return this.userFollowers?this.userFollowers.authorIds:[]},currentPagesCount(){return this.userFollowers?this.userFollowers.pagesCount:0},sortingOptions(){return[{label:this.msg("NAV_SORTING_ABC_USER"),title:this.msg("NAV_SORTING_ABC_USER_TITLE"),id:"title",isSortable:!1},{label:this.msg("NAV_SORTING_RATING"),title:this.msg("NAV_SORTING_RATING_TITLE"),id:"rating",isSortable:!1},{label:this.msg("NAV_SORTING_KARMA_AUTHORS_PAGE_LABEL"),title:this.msg("NAV_SORTING_CONTRIBUTION_TITLE"),id:"karma",isSortable:!1}]},pageTitlePart(){const t=this.userInfo;return t?this.msg("PROFILE_PAGE_TITLE_FOLLOWERS",{gender:t.gender,username:t.alias}):null}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"}]}}},l=n;var u=s(1001),_=(0,u.Z)(l,a,r,!1,null,null,null);const c=_.exports},13528:(t,e,s)=>{s.r(e),s.d(e,{default:()=>v});var a=function(){var t=this,e=t._self._c;return e("TMSubPage",[e("TMBlock",{attrs:{"body-variant":"condensed"}},[e("Portal",{attrs:{to:"profileAdditionalNav"}},[e("TMVotesTypesNav")],1),t._v(" "),t.karmaVotesListLoading?e("TMVotesTablePlaceholder"):t.karmaVotesList&&0===t.karmaVotesList.length?e("TMEmptyPlaceholder",{attrs:{image:"/img/user-profile-placeholder.svg#placeholder",variant:"user-profile"}},[e("span",{domProps:{textContent:t._s(t.msg("KARMA_NO_ONE_VOTED"))}})]):t.karmaVotesList?e("TMBaseTable",{attrs:{rows:t.karmaVotesList,"skip-top-line":""},scopedSlots:t._u([{key:"default",fn:function({row:t}){return[e("TMVoteTableRow",{attrs:{vote:t}})]}}])}):t._e()],1),t._v(" "),t.karmaVotesPagesCount&&t.karmaVotesPagesCount>0?e("TMPagination",{attrs:{"route-name":t.paginationRouteName,"total-pages":t.karmaVotesPagesCount}}):t._e()],1)},r=[],i=s(20629),o=s(89519),n=s(17907),l=s(6251),u=s(28074),_=s(24635),c=s(17565),p=s(1081),h=s(68726),m=s(14325);const d={name:"TMUserKarmaVotes",components:{TMVotesTablePlaceholder:p.Z,TMVoteTableRow:c.Z,TMVotesTypesNav:h.Z,TMBaseTable:o.Z,TMPagination:u.Z,TMEmptyPlaceholder:l.Z,TMBlock:n.Z,TMSubPage:_.Z},asyncData({route:t,store:e}){const{login:s,pageNum:a}=t.params,r={page:a||1,perPage:20,value:(0,m.j)(t.query.type)};return e.dispatch("userVotes/loadKarmaVotes",{login:s,query:r})},computed:{...(0,i.Se)("global",["isMobileOnly"]),...(0,i.rn)("userVotes",["karmaVotesList","karmaVotesPagesCount","karmaVotesListLoading"]),placeholderRows(){return this.isMobileOnly?Array(4):Array(7)},paginationRouteName(){return-1!==this.$route.name.indexOf("_PAGES")?this.$route.name:`${this.$route.name}_PAGES`}}},T=d;var g=s(1001),b=(0,g.Z)(T,a,r,!1,null,null,null);const v=b.exports},6301:(t,e,s)=>{s.r(e),s.d(e,{default:()=>_t});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-profile__body"},[t.$fetchState.isLoading?e("TMPlaceholder",{attrs:{type:"profileInfo"}}):[t.isMobile?e("TMUserBasicInfo",{attrs:{"user-info":t.userInfo}}):t._e(),t._v(" "),t.hasUserProfileInfo?[t.profileInfo.badgets&&t.profileInfo.badgets.length?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_BADGES")}},[e("TMBadges",{attrs:{badges:t.profileInfo.badgets}})],1):t._e(),t._v(" "),t.profileInfo.invitedBy?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_INVITED",{gender:t.userInfo.gender})}},[e("TMDatetime",{attrs:{date:new Date(t.profileInfo.invitedBy.timeCreated)}}),t._v("\n        "+t._s(t.msg("PROFILE_TEXT_BY_INVITATION"))+"\n        "),t.profileInfo.invitedBy.issuerLogin?e("router-link",{staticClass:"tm-user-profile__nickname",attrs:{to:t.parentRoute}},[t._v("\n          @"+t._s(t.profileInfo.invitedBy.issuerLogin)+"\n        ")]):[t._v("\n          "+t._s(t.msg("PROFILE_TEXT_UFO"))+"\n        ")]],2):t._e(),t._v(" "),t.profileInfo.aboutHtml?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_ABOUT")}},[e("div",{staticClass:"tm-user-profile__content"},[e("span",{domProps:{innerHTML:t._s(t.profileInfo.aboutHtml)}})])]):t._e(),t._v(" "),t.isMobile?e("TMUserSpecialization"):t._e(),t._v(" "),t.profileInfo.contacts&&t.profileInfo.contacts.length?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_CONTACTS")}},[e("div",{staticClass:"tm-user-profile__content"},[e("TMUserLinks",{attrs:{links:t.profileInfo.contacts}})],1)]):t._e(),t._v(" "),t.userHubsList&&t.userHubsList.length?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_HUBS")}},[e("TMShowMoreHandler",{attrs:{"current-page":t.userHubs.currentPage,"is-loading":t.userHubsLoading,"pages-count":t.userHubs.pagesCount},on:{showMore:t.loadMoreUserHubs}},[e("TMUserHubs",{attrs:{hubs:t.userHubsList}})],1)],1):t._e(),t._v(" "),t.userInvitationsList&&t.userInvitationsList.length?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_INVITED_TO_SITE",{gender:t.userInfo.gender})}},[e("div",{staticClass:"tm-user-profile__content"},[e("TMShowMoreHandler",{attrs:{"current-page":t.userInvitations.currentPage,"is-loading":t.userInvitationsLoading,"pages-count":t.userInvitations.pagesCount},on:{showMore:t.loadMoreUserInvitations}},t._l(t.userInvitationsList,(function(t){return e("TMUserSnippet",{key:t.id,staticClass:"tm-user-profile__invitations-item",attrs:{user:t}})})),1)],1)]):t._e(),t._v(" "),t.followedCompanies&&t.followedCompanies.length?e("TMDescriptionList",{attrs:{title:t.msg("PROFILE_TITLE_COMPANIES",{gender:t.userInfo.gender})}},[e("div",{staticClass:"tm-user-profile__section tm-user-profile__section_folllowed-companies"},t._l(t.followedCompanies,(function(t){return e("TMCompanySnippet",{key:t.id,staticClass:"tm-user-profile__followed-company",attrs:{company:t}})})),1)]):t._e()]:e("TMEmptyPlaceholder",[e("span",[t._v(t._s(t.msg("PROFILE_NOT_COMPLETED_YET")))])])]],2)},r=[],i=s(20629),o=s(35569),n=s(2681),l=s(2483),u=s(72202),_=s(6454),c=s(6251),p=s(40591),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-show-more-handler"},[e("div",{staticClass:"tm-show-more-handler__content"},[t._t("default")],2),t._v(" "),t.isLoading?e("TMCircleLoader",{staticClass:"tm-show-more-handler__loader"}):t.showButton?e("button",{staticClass:"tm-show-more-handler__action",attrs:{type:"button"},on:{click:function(e){return t.$emit("showMore")}}},[t._v("\n    "+t._s(t.msg("SHOW_MORE"))+"\n  ")]):t._e()],1)},m=[];const d={name:"TMShowMoreHandler",components:{TMCircleLoader:n.Z},props:{currentPage:{type:Number,required:!0},isLoading:{type:Boolean,required:!0},pagesCount:{type:Number,required:!0}},computed:{showButton(){return this.currentPage<this.pagesCount}}},T=d;var g=s(1001),b=(0,g.Z)(T,h,m,!1,null,null,null);const v=b.exports;var S=s(10096),I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-user-hubs"},[e("div",t._l(t.hubs,(function(s){return e("div",{key:s.alias,staticClass:"tm-user-hubs__item"},[e("TMHubLinkPopup",{attrs:{hub:s}},[e("TMHubLink",{staticClass:"tm-user-hubs__hub",class:{"tm-user-hubs__hub_subscribed":t.hubIsSubscribed(s)},attrs:{hub:s}},[e("span",{domProps:{innerHTML:t._s(s.titleHtml)}})])],1)],1)})),0)])},f=[],E=s(92686),L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-hub-link-popup",on:{mouseleave:function(e){t.targetElement=null}}},[e("div",{staticClass:"tm-hub-link-popup__link",on:{mouseenter:function(e){t.targetElement=e.target}}},[t._t("default")],2),t._v(" "),t.targetElement?e("TMHubPopup",{attrs:{hub:t.hub,tabindex:"-1",target:t.targetElement},on:{close:function(e){t.targetElement=null}}}):t._e()],1)},M=[],R=function(){var t=this,e=t._self._c;return e("TMPopover",{attrs:{offset:[0,4],root:t.target,variant:"hub"}},[e("div",{staticClass:"tm-hub-popup"},[e("TMHubCard",{attrs:{hub:t.hub,"show-curator":!1,"show-stat":"","subscribe-btn-position":"afterDescription",variant:"popup"},on:{toggleSubscribe:t.updateHubData}})],1)])},P=[],O=s(63190),A=s(97220);const C={name:"TMHubPopup",components:{TMHubCard:O.Z,TMPopover:A.Z},props:{target:{type:"undefined"!==typeof HTMLElement?HTMLElement:Object,required:!0},hub:{type:Object,required:!0}},mounted(){this.loadHub({alias:this.hub.alias})},methods:{...(0,i.nv)("hubs",["loadHub"]),...(0,i.nv)("pullRefresh",["toggleRefresh"]),updateHubData(){this.toggleRefresh(!0)}}},y=C;var N=(0,g.Z)(y,R,P,!1,null,null,null);const U=N.exports,B={name:"TMHubLinkPopup",components:{TMHubPopup:U},props:{hub:{type:Object,required:!0}},data(){return{targetElement:null}}},w=B;var F=(0,g.Z)(w,L,M,!1,null,null,null);const V=F.exports;var k=s(72923),Z=s.n(k);const D=t=>t.every((t=>{const e=Z().map(t,{alias:Z().nonEmptyString,titleHtml:Z().nonEmptyString});return e})),H={required:!0,type:Array,validator:D},x={name:"TMUserHubs",components:{TMHubLink:E.Z,TMHubLinkPopup:V},props:{hubs:H},data(){return{isExpanded:!1}},computed:{...(0,i.Se)("i18n",["langOptions"]),...(0,i.Se)("hubs",["getHubByAlias"])},methods:{hubIsSubscribed(t){const e=this.getHubByAlias(t.alias),s=e||t;return s.relatedData&&s.relatedData.isSubscribed}}},K=x;var $=(0,g.Z)(K,I,f,!1,null,null,null);const W=$.exports;var G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tm-user-links"},t._l(t.links,(function(s,a){return e("a",{key:a,staticClass:"tm-user-links__link",attrs:{href:s.url,rel:"nofollow noopener",target:"_blank"}},[e("TMFallbackImg",{staticClass:"tm-user-links__favicon",attrs:{src:s.favicon,title:s.title}},[e("TMSvgIcon",{staticClass:"tm-user-links__icon",attrs:{id:"globe",title:s.title}})],1),t._v(" "),e("span",{staticClass:"tm-user-links__text"},[t._v("\n      "+t._s(s.siteTitle||s.url)+"\n    ")])],1)})),0)},z=[],Y=function(){var t=this,e=t._self._c;return t.showImg&&t.$attrs.src?e("img",t._b({on:{error:function(e){t.showImg=!1}}},"img",t.$attrs,!1)):e("div",[t._t("default")],2)},q=[];const j={name:"TMFallbackImg",inheritAttrs:!1,data(){return{showImg:!0}}},X=j;var Q=(0,g.Z)(X,Y,q,!1,null,null,null);const J=Q.exports;var tt=s(33936);const et={name:"TMUserLinks",components:{TMFallbackImg:J,TMSvgIcon:tt.Z},props:{links:{type:Array,default:()=>[]}}},st=et;var at=(0,g.Z)(st,G,z,!1,null,null,null);const rt=at.exports;var it=s(92138),ot=s(46935);const nt={components:{TMCircleLoader:n.Z,TMBadges:o.Z,TMDatetime:u.Z,TMPlaceholder:p.Z,TMDescriptionList:_.Z,TMUserBasicInfo:S.Z,TMCompanySnippet:l.Z,TMUserHubs:W,TMUserLinks:rt,TMUserSnippet:it.Z,TMShowMoreHandler:v,TMUserSpecialization:ot.Z,TMEmptyPlaceholder:c.Z},asyncData({store:t,route:e}){const s=e.params.login;return Promise.all([t.dispatch("users/loadProfileInfo",s),t.dispatch("users/loadUserInvitations",{alias:s}).catch((()=>null)),t.dispatch("users/loadUserHubs",{alias:s}).catch((()=>null))])},computed:{...(0,i.Se)("users",["getProfileInfo","getUserByAlias","getUserInvitations","getUserHubs"]),...(0,i.Se)("i18n",["langOptions"]),...(0,i.Se)("global",["isMobile"]),...(0,i.rn)("users",["userInvitationsLoading","userHubsLoading"]),hasUserProfileInfo(){if(!this.profileInfo)return!1;const t=["aboutHtml","badgets","invitedBy","contacts"],e=t.some((t=>{const e=this.profileInfo[t];return Array.isArray(e)?e.length:Boolean(e)})),s=this.userHubsList&&this.userHubsList.length,a=this.userInvitationsList&&this.userInvitationsList.length,r=this.followedCompanies&&this.followedCompanies.length;return e||s||a||r},userHubsList(){const{hubRefs:t}=this.userHubs;return t?Object.values(t):[]},userInvitationsList(){const{invitationsRefs:t}=this.userInvitations;return t?Object.values(t):[]},userInvitations(){return this.getUserInvitations(this.$route.params.login)||{}},userHubs(){return this.getUserHubs(this.$route.params.login)||{}},profileInfo(){return this.getProfileInfo(this.$route.params.login)},userInfo(){return this.getUserByAlias(this.$route.params.login)},followedCompanies(){const{companies:t}=this.profileInfo;return t&&t.companyIds&&t.companyIds.length?t.companyIds.map((e=>t.companyRefs[e])):[]},pageTitlePart(){const{userInfo:t}=this;return t?this.msg("USER_PROFILE_PAGE_META_TITLE",{userName:t.fullname||"EMPTY",userAlias:t.alias,companyName:t.companyName||"EMPTY",userInfo:t.speciality}):null},pageDescriptionStats(){const{userInfo:t}=this;if(!t||!t.counterStats)return null;const{counterStats:{commentCount:e,postCount:s}}=t;let a;return e&&s?a="USER_PROFILE_PAGE_META_DESCRIPTION_POSTS_AND_COMMENTS":e?a="USER_PROFILE_PAGE_META_DESCRIPTION_COMMENTS":s&&(a="USER_PROFILE_PAGE_META_DESCRIPTION_POSTS"),a?this.msg(a,{commentsCount:e,postsCount:s}):null},pageDescription(){const{userInfo:t}=this;if(!t)return null;let e=this.msg("USER_PROFILE_PAGE_META_DESCRIPTION",{userName:t.fullname||"EMPTY",userAlias:t.alias,companyName:t.companyName||"EMPTY"});return this.pageDescriptionStats&&(e+=` ${this.pageDescriptionStats}`),e},parentRoute(){return{name:"USER_PROFILE",params:{login:this.profileInfo.invitedBy.issuerLogin,hl:this.langOptions.hl}}}},methods:{...(0,i.nv)("users",["loadUserInvitations","loadUserHubs"]),loadMoreUserInvitations(){const t=this.$route.params.login;this.loadUserInvitations({alias:t,page:this.userInvitations.currentPage+1}).catch((t=>{this.$toast.error(t.message)}))},loadMoreUserHubs(){const t=this.$route.params.login;this.loadUserHubs({alias:t,page:this.userHubs.currentPage+1}).catch((t=>{this.$toast.error(t.message)}))}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"},{name:"description",content:this.pageDescription,vmid:"description"},{property:"og:description",content:this.pageDescription,vmid:"og:description"},{name:"keywords",content:this.userInfo?[this.userInfo.alias,this.userInfo.fullname].join(", "):""}]}}},lt=nt;var ut=(0,g.Z)(lt,a,r,!1,null,null,null);const _t=ut.exports},5718:(t,e,s)=>{s.r(e),s.d(e,{default:()=>m});var a=function(){var t=this,e=t._self._c;return e("TMSubPage",[e("TMArticlesList",{attrs:{"articles-list":t.currentArticlesList,"is-loading":t.isLoading,"pages-count":t.currentPagesCount,"publications-type":"posts"===t.publicationsType?"posts":"default"}})],1)},r=[],i=s(20629),o=s(64946),n=s(24635),l=s(28374),u=s(79206);const _={name:"TMUserPublicationsPage",components:{TMArticlesList:o.Z,TMSubPage:n.Z},props:{publicationsType:{type:String,default:"articles",validator(t){return["articles","news","posts"].includes(t)}}},asyncData({store:t,route:e}){return t.dispatch("articlesList/loadArticlesList",{route:e})},computed:{...(0,i.rn)("articlesList",["isLoading","pagesCount"]),...(0,i.Se)("articlesList",["getArticlesList"]),...(0,i.Se)("users",["getUserByAlias"]),routeKey(){return(0,l.Z)(this.$route)},currentArticlesList(){return this.getArticlesList(this.routeKey)},currentPagesCount(){return this.pagesCount[this.routeKey]},userInfo(){return this.getUserByAlias(this.$route.params.login)},pageTitlePart(){const t=this.userInfo;if(!t)return null;const e=(0,u.y7)(this.publicationsType,this.msg);return`${e} / ${this.msg("PROFILE_PAGE_TITLE_MAIN",{username:t.alias})}`}},metaInfo(){return{title:this.pageTitlePart,meta:[{property:"og:title",content:this.pageTitlePart,vmid:"og:title"}]}}},c=_;var p=s(1001),h=(0,p.Z)(c,a,r,!1,null,null,null);const m=h.exports},13131:(t,e,s)=>{s.r(e),s.d(e,{default:()=>v});var a=function(){var t=this,e=t._self._c;return e("TMSubPage",[e("TMBlock",{attrs:{"body-variant":"condensed"}},[e("Portal",{attrs:{to:"profileAdditionalNav"}},[e("TMVotesTypesNav")],1),t._v(" "),t.userVotesListLoading?e("TMVotesTablePlaceholder",{attrs:{"with-user":""}}):t.userVotesList&&0===t.userVotesList.length?e("TMEmptyPlaceholder",{attrs:{image:"/img/user-profile-placeholder.svg#placeholder",variant:"user-profile"}},[e("span",{domProps:{textContent:t._s(t.msg("VOTES_FOR_USERS_NO_VOTES"))}})]):e("TMBaseTable",{attrs:{rows:t.userVotesList,"skip-top-line":""},scopedSlots:t._u([{key:"default",fn:function({row:t}){return[e("TMVoteTableRow",{attrs:{vote:t}})]}}])})],1),t._v(" "),t.userVotesPagesCount&&t.userVotesPagesCount>0?e("TMPagination",{attrs:{"route-name":t.paginationRouteName,"total-pages":t.userVotesPagesCount}}):t._e()],1)},r=[],i=s(20629),o=s(89519),n=s(17907),l=s(6251),u=s(28074),_=s(24635),c=s(17565),p=s(1081),h=s(68726),m=s(14325);const d={name:"TMVotesPage",components:{TMVotesTablePlaceholder:p.Z,TMVoteTableRow:c.Z,TMVotesTypesNav:h.Z,TMBaseTable:o.Z,TMPagination:u.Z,TMEmptyPlaceholder:l.Z,TMBlock:n.Z,TMSubPage:_.Z},asyncData({route:t,store:e}){const{login:s,pageNum:a}=t.params,r={page:a||1,perPage:20,value:(0,m.j)(t.query.type)};return e.dispatch("userVotes/loadUserVotes",{login:s,query:r})},computed:{...(0,i.Se)("global",["isMobileOnly"]),...(0,i.rn)("userVotes",["userVotesList","userVotesPagesCount","userVotesListLoading"]),placeholderRows(){return this.isMobileOnly?Array(3):Array(7)},paginationRouteName(){return-1!==this.$route.name.indexOf("_PAGES")?this.$route.name:`${this.$route.name}_PAGES`}}},T=d;var g=s(1001),b=(0,g.Z)(T,a,r,!1,null,null,null);const v=b.exports},14325:(t,e,s)=>{function a(t){switch(t){case"positive":return"1";case"negative":return"-1";default:return""}}s.d(e,{j:()=>a})}}]);
//# sourceMappingURL=page-user.4544f82f.js.map