"use strict";(self["webpackChunkhabr_web"]=self["webpackChunkhabr_web"]||[]).push([[1231],{82952:(t,s,e)=>{e.d(s,{Z:()=>c});var a=function(){var t=this,s=t._self._c;return s("TMBlock",{attrs:{title:t.msg("TOP_COMPANIES_BLOCK_TITLE")},scopedSlots:t._u([{key:"default",fn:function(){return[s("div",{staticClass:"tm-companies-rating"},t._l(t.companies,(function(e,a){return s("router-link",{key:a,staticClass:"tm-companies-rating__item",attrs:{to:{name:"ARTICLES_LIST_BY_COMPANY",params:{name:e.alias,hl:t.$route.params.hl}}}},[s("TMEntityImage",{staticClass:"tm-companies-rating__avatar",attrs:{alias:e.alias,image:e.imageUrl,size:36,type:"company"}}),t._v(" "),s("span",{staticClass:"tm-companies-rating__name",domProps:{innerHTML:t._s(e.titleHtml)}}),t._v(" "),s("span",{staticClass:"tm-companies-rating__rating"},[t._v(t._s(e.statistics.rating))])],1)})),1)]},proxy:!0},{key:"footer",fn:function(){return[s("router-link",{staticClass:"tm-block-extralink",attrs:{to:{name:"COMPANIES"}}},[t._v("\n      "+t._s(t.msg("COMPANIES_ALL"))+"\n    ")])]},proxy:!0}])})},i=[],r=e(17907),n=e(51153);const o={name:"TMCompaniesRatingBlock",components:{TMBlock:r.Z,TMEntityImage:n.Z},props:{companies:{type:Array,default:null}}},l=o;var _=e(1001),u=(0,_.Z)(l,a,i,!1,null,null,null);const c=u.exports},34461:(t,s,e)=>{e.d(s,{Z:()=>_});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"tm-navigation-panel"},[t.title?s("div",{staticClass:"tm-navigation-panel__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]):t._e(),t._v(" "),t._t("default")],2)},i=[];const r={name:"TMNavigationPanel",props:{title:{type:String,default:null}}},n=r;var o=e(1001),l=(0,o.Z)(n,a,i,!1,null,null,null);const _=l.exports},1853:(t,s,e)=>{e.d(s,{Z:()=>m});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"tm-navigation-sorting"},[t.isDesktop?t._l(t.options,(function(e){return s("div",{key:e.id,staticClass:"tm-navigation-sorting__row-option",class:{"tm-navigation-sorting__row-option_active":t.currentSort===e.id,"tm-navigation-sorting__row-option_sortable":e.isSortable},style:{minWidth:e.width},on:{click:function(s){return t.setSorting(e,s)}}},[t._v("\n      "+t._s(e.label)+"\n\n      "),e.isSortable?s("TMSvgImg",{staticClass:"tm-navigation-sorting__arrow",class:{"tm-navigation-sorting__arrow_desc":t.currentSort===e.id&&"desc"===t.currentOrder,"tm-navigation-sorting__arrow_asc":t.currentSort===e.id&&"asc"===t.currentOrder},attrs:{id:"sorting-down"}}):t._e()],1)})):t._e(),t._v(" "),t.isMobile?[s("button",{directives:[{name:"hotkey",rawName:"v-hotkey",value:{esc:t.closeOptions},expression:"{ 'esc': closeOptions }"}],ref:"button",staticClass:"tm-navigation-sorting__button",on:{click:t.toggleOptions}},[s("span",{staticClass:"tm-navigation-sorting__title"},[t._v("\n        "+t._s(t.title)+"\n        "),s("TMSvgImg",{staticClass:"tm-navigation-sorting__arrow",class:{"tm-navigation-sorting__arrow_desc":"desc"===t.orderTitle,"tm-navigation-sorting__arrow_asc":"asc"===t.orderTitle},attrs:{id:"sorting-down"}})],1),t._v(" "),s("TMSvgImg",{staticClass:"icon_dropdown-arrow",class:{"icon_dropdown-arrow-rotated":t.optionsVisible},attrs:{id:"arrow-down"}})],1),t._v(" "),s("div",{ref:"options",staticClass:"tm-navigation-sorting__options",style:t.getStyles},[t.$slots["categoriesFilter"]?[s("div",{staticClass:"tm-navigation-sorting__list-label"},[t._v("\n          "+t._s(t.msg("NAV_SORTING_CATEGORIES"))+"\n        ")]),t._v(" "),t._t("categoriesFilter")]:t._e(),t._v(" "),s("div",{staticClass:"tm-navigation-sorting__list-label"},[t._v("\n        "+t._s(t.msg("NAV_SORTING_SORTBY"))+"\n      ")]),t._v(" "),s("ul",{staticClass:"tm-navigation-sorting__list"},t._l(t.options,(function(e){return s("li",{key:e.label,staticClass:"tm-navigation-sorting__option",class:{"tm-navigation-sorting__option_active":t.currentSort===e.id},on:{click:function(s){t.currentSort=e.id}}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),0),t._v(" "),s("div",{staticClass:"tm-navigation-sorting__list-label"},[t._v("\n        "+t._s(t.msg("NAV_SORTING_SHOW"))+"\n      ")]),t._v(" "),s("ul",{staticClass:"tm-navigation-sorting__list"},[s("li",{staticClass:"tm-navigation-sorting__option tm-navigation-sorting__option_icon",class:{"tm-navigation-sorting__option_active":"asc"===t.currentOrder},on:{click:function(s){t.currentOrder="asc"}}},[s("TMSvgImg",{staticClass:"tm-navigation-sorting__arrow tm-navigation-sorting__arrow_asc",attrs:{id:"sorting-down"}})],1),t._v(" "),s("li",{staticClass:"tm-navigation-sorting__option tm-navigation-sorting__option_icon",class:{"tm-navigation-sorting__option_active":"desc"===t.currentOrder},on:{click:function(s){t.currentOrder="desc"}}},[s("TMSvgImg",{staticClass:"tm-navigation-sorting__arrow tm-navigation-sorting__arrow_desc",attrs:{id:"sorting-down"}})],1)]),t._v(" "),s("TMButtonBase",{staticClass:"tm-navigation-sorting__apply",attrs:{"style-size":"small","style-type":"solid",type:"button"},on:{click:t.applySortingFilter}},[t._v("\n        "+t._s(t.msg("NAV_APPLY"))+"\n      ")])],2)]:t._e()],2)},i=[],r=e(20629),n=e(17903),o=e(31490);const l={name:"TMNavigationSorting",components:{TMSvgImg:o.Z,TMButtonBase:n.Z},props:{options:{type:Array,required:!0},sort:{type:String,default:null},order:{type:String,default:"desc"}},data(){return{optionsVisible:!1,currentSort:this.$route.query.sort||this.sort,currentOrder:this.$route.query.order||this.order}},computed:{...(0,r.Se)("global",["isMobile","isDesktop"]),title(){const t=this.options.findIndex((t=>t.id===this.currentSort));return this.options[t].title},orderTitle(){return this.$route.query.order},getStyles(){return this.optionsVisible&&this.maxHeightStyles},reversedOrder(){return"asc"===this.currentOrder?"desc":"asc"}},methods:{toggleOptions(){this.maxHeightStyles=`max-height: ${this.$refs.options.scrollHeight}px`,this.optionsVisible=!this.optionsVisible},closeOptions(){this.optionsVisible=!1},setSorting(t,s){return s&&!t.isSortable?s.preventDefault():this.$router.push({...this.$route,query:{sort:t.id,order:this.currentSort===t.id?this.reversedOrder:"desc"}})},applySortingFilter(){this.$router.push({...this.$route,query:{sort:this.currentSort,order:this.currentOrder}})}}},_=l;var u=e(1001),c=(0,u.Z)(_,a,i,!1,null,null,null);const m=c.exports},24635:(t,s,e)=>{e.d(s,{Z:()=>_});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"tm-sub-page"},[s("div",{staticClass:"tm-sub-page__main"},[t._t("default")],2),t._v(" "),t.hasSidebarSlot?s("div",{staticClass:"tm-sub-page__sidebar"},[t._t("sidebar")],2):t._e()])},i=[];const r={name:"TMSubPage",computed:{hasSidebarSlot(){return!!this.$slots.sidebar}}},n=r;var o=e(1001),l=(0,o.Z)(n,a,i,!1,null,null,null);const _=l.exports},92138:(t,s,e)=>{e.d(s,{Z:()=>g});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"tm-user-snippet",class:{"tm-user-snippet_nowrap":t.noWrap}},[s("router-link",{staticClass:"tm-user-snippet__userpic-link",attrs:{to:t.userProfileRoute}},[s("TMEntityImage",{attrs:{alias:t.user.alias,image:t.user.avatarUrl,type:"user"}})],1),t._v(" "),s("div",{staticClass:"tm-user-snippet__info"},[s("router-link",{staticClass:"tm-user-snippet__title",attrs:{to:t.userProfileRoute},domProps:{innerHTML:t._s(t.user.fullname)}}),t._v(" "),t.user.alias?s("router-link",{staticClass:"tm-user-snippet__nickname",attrs:{to:t.userProfileRoute}},[t._v("\n      @"+t._s(t.user.alias)+"\n    ")]):t._e(),t._v(" "),s("div",{staticClass:"tm-user-snippet__description"},[t._v("\n      "+t._s(t.user.speciality||t.msg("USER"))+"\n    ")]),t._v(" "),t.isDesktop&&t.showLastPost&&t.user.lastPost?s("div",{staticClass:"tm-user-snippet__last-post"},[s("router-link",{staticClass:"tm-user-snippet__last-post-link",attrs:{to:t.lastPostRoute},domProps:{innerHTML:t._s(t.user.lastPost.titleHtml)}}),t._v(" "),s("TMDatetime",{staticClass:"tm-user-snippet__last-post-datetime",attrs:{date:new Date(t.user.lastPost.timePublished),"show-full-date-time":""}})],1):t._e()],1)],1)},i=[],r=e(20629),n=e(76068),o=e(51153),l=e(23159),_=e(23217);const u={name:"TMUserSnippet",components:{TMDatetime:n.Z,TMEntityImage:o.Z},props:{user:l.Z,showLastPost:Boolean,noWrap:Boolean},computed:{...(0,r.Se)("global",["isDesktop"]),userProfileRoute(){return{name:"USER_PROFILE",params:{login:this.user.alias,hl:this.$route.params.hl}}},lastPostRoute(){return(0,_.uT)(this.user.lastPost,this.$route.params.hl)}}},c=u;var m=e(1001),p=(0,m.Z)(c,a,i,!1,null,null,null);const g=p.exports},40245:(t,s,e)=>{e.d(s,{Z:()=>v});var a=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"tm-users-list__sorting-panel"},[t.isDesktop&&t.sortingOptions.length&&t.currentAuthorList.length?s("TMNavigationSorting",{attrs:{options:t.sortingOptions,sort:t.defaultSort}}):t._e()],1),t._v(" "),t.isLoading?s("TMPlaceholder",{staticClass:"tm-users-list__placeholder",attrs:{times:7,type:"categories"}}):[t.showEmptyPlaceholder?s("TMEmptyPlaceholder",[t._t("empty",(function(){return[s("span",{domProps:{textContent:t._s(t.msg("USERS_EMPTY"))}})]}))],2):t._e(),t._v(" "),t.showEmptyPlaceholder?t._e():[s("div",{staticClass:"tm-users-list"},t._l(t.currentAuthorList,(function(e){return s("div",{key:e,staticClass:"tm-users-list__item"},[s("div",{staticClass:"tm-users-list__user-wrapper"},[s("TMUserSnippet",{attrs:{"show-last-post":"",user:t.currentAuthor(e)}})],1),t._v(" "),s("div",{staticClass:"tm-users-list__score-counters"},[t.contributionTable?t._e():s("span",{staticClass:"tm-users-list__score-counter tm-users-list__score-counter_rating"},[t.isMobile?s("TMSvgImg",{staticClass:"tm-users-list__icon tm-users-list__icon_rating",attrs:{id:"rating"}}):t._e(),t._v("\n              "+t._s(t.currentAuthor(e).rating)+"\n            ")],1),t._v(" "),t.contributionTable?t._e():s("span",{staticClass:"tm-users-list__score-counter tm-users-list__score-counter_karma",class:t.karmaClass(t.currentAuthor(e).scoreStats.score)},[t.isMobile?s("TMSvgImg",{staticClass:"tm-users-list__icon tm-users-list__icon_karma",attrs:{id:"karma"}}):t._e(),t._v("\n              "+t._s(t.currentAuthor(e).scoreStats.score)+"\n            ")],1),t._v(" "),t.contributionTable?s("span",{staticClass:"tm-users-list__score-counter tm-users-list__score-counter_contribution"},[t.isMobile?s("TMSvgImg",{staticClass:"tm-users-list__icon tm-users-list__icon_contribution",attrs:{id:"contribution"}}):t._e(),t._v("\n              "+t._s(t.abbreviateNumber(t.currentAuthor(e).invest))+"\n            ")],1):t._e()])])})),0),t._v(" "),t.currentPagesCount&&t.currentPagesCount>0?s("TMPagination",{attrs:{"route-name":t.paginationRouteName,"total-pages":t.currentPagesCount}}):t._e()]]],2)},i=[],r=e(20629),n=e(6251),o=e(51153),l=e(1853),_=e(28074),u=e(40591),c=e(31490),m=e(92138),p=e(13836);const g={name:"TMUsersList",components:{TMEntityImage:o.Z,TMEmptyPlaceholder:n.Z,TMNavigationSorting:l.Z,TMPagination:_.Z,TMPlaceholder:u.Z,TMSvgImg:c.Z,TMUserSnippet:m.Z},props:{currentAuthorList:{type:Array,default:()=>[]},authorRefs:{type:Object,default:()=>{}},currentPagesCount:{type:Number,default:0},sortingOptions:{type:Array,default:()=>[]},defaultSort:{type:String,default:"rating"},contributionTable:Boolean,isLoading:Boolean},data(){return{categoryType:"user"}},computed:{...(0,r.Se)("i18n",["msg"]),...(0,r.Se)("global",["isMobile","isDesktop"]),paginationRouteName(){const t=-1!==this.$route.name.indexOf("_PAGES");return t?this.$route.name:`${this.$route.name}_PAGES`},showEmptyPlaceholder(){return this.currentAuthorList&&!this.currentAuthorList.length||!this.currentAuthorList}},methods:{currentAuthor(t){return this.authorRefs[t]},abbreviateNumber(t){return(0,p.O)(t)},karmaClass(t){return t>0?"tm-users-list__score-counter_karma-positive":t<0?"tm-users-list__score-counter_karma-negative":"tm-users-list__score-counter_karma-neutral"}}},h=g;var S=e(1001),d=(0,S.Z)(h,a,i,!1,null,null,null);const v=d.exports},21526:(t,s,e)=>{e.r(s),e.d(s,{default:()=>L});var a=function(){var t=this,s=t._self._c;return s("TMPage",{scopedSlots:t._u([{key:"default",fn:function(){return[t.userShowAdv?s("TMAdfoxBanner",{attrs:{"adfox-id":"169815559787254866","div-id":"articleCentralBanner",params:{pp:"g",ps:"fnps",p2:"iqny"},variant:"narrow"}}):t._e(),t._v(" "),s("div",{staticClass:"tm-page__top"},[s("TMSectionName",{attrs:{name:t.msg("NAV_FLOWS_ALL")}},[t.showSuggestCompanyButton?s("a",{staticClass:"tm-suggest-button",attrs:{href:"https://tmtm.ru/services/corpblog/"}},[t._v("\n          "+t._s(t.msg("SUGGEST_COMPANY"))+"\n        ")]):t._e(),t._v(" "),t.showSuggestHubButton?s("router-link",{staticClass:"tm-suggest-button",attrs:{to:t.suggestHubRoute}},[t._v("\n          "+t._s(t.msg("SUGGEST_HUB"))+"\n        ")]):t._e()],1),t._v(" "),s("TMTabs",{staticClass:"tm-tabs_page-header",attrs:{tabs:t.tabs}}),t._v(" "),t.isArticleFilterShown?s("div",{staticClass:"tm-navigation-filter"},[s("TMNavigationFilters",{attrs:{"extra-options":t.filterExtraOptions,options:t.filterOptions},on:{applyFilter:t.saveFlowFilter}},[s("TMRssButton")],1)],1):!t.isArticleFilterShown&&t.hasRss?s("TMNavigationPanel",{attrs:{title:t.msg("NAV_TITLE_LATEST")}},[s("TMRssButton")],1):t._e(),t._v(" "),t.showNavigationSearch?s("TMNavigationSearch"):t._e()],1),t._v(" "),s("router-view")]},proxy:!0},{key:"sidebar",fn:function(){return[s("router-view",{attrs:{name:"sidebar"}})]},proxy:!0}])})},i=[],r=e(20629),n=e(52322),o=e(2790),l=e(12463),_=e(34461),u=e(9795),c=e(43222),m=e(6628),p=e(51858),g=e(36355),h=e(69325),S=e(23217),d=e(13278),v=e(76721);const T={components:{TMAdfoxBanner:o.Z,TMNavigationFilters:l.Z,TMNavigationPanel:_.Z,TMNavigationSearch:u.Z,TMPage:c.Z,TMSectionName:p.Z,TMTabs:g.Z,TMRssButton:m.Z},computed:{...(0,r.Se)("global",["isDesktop"]),...(0,r.rn)("flows",["updates"]),...(0,r.rn)("me",["user"]),...(0,r.Se)("me",["userShowAdv"]),...(0,r.Se)("i18n",["langOptions"]),isFlEnglish(){return"en"===this.langOptions.fl},showSuggestCompanyButton(){return-1!==["COMPANIES","COMPANIES_PAGES"].indexOf(this.$route.name)},showSuggestHubButton(){return-1!==["HUBS","HUBS_PAGES"].indexOf(this.$route.name)},suggestHubRoute(){return{name:"FEEDBACK",query:{type:8,subj:"suggest_hub"}}},hasRss(){return Boolean(this.$route.meta.rssLink)},isNewsRoute(){return this.$route.matched.some((t=>t.name&&t.name.startsWith("NEWS")))},isPostsRoute(){return this.$route.matched.some((t=>t.name&&t.name.startsWith("POSTS")))},isShowCountNewArticles(){if(!this.user)return"ARTICLES_LIST_TOP_PERIOD"!==this.$route.name&&"ARTICLES_LIST_ALL_SCORE"!==this.$route.name;if(!(0,n.h2)())return!1;const t=(0,v.buildCookieName)({flowName:"all"});return!(0,n.ej)(t)||"/articles/"===(0,n.ej)(t)},isShowCountNewNews(){if(!this.user)return"NEWS_LIST_TOP_PERIOD"!==this.$route.name&&"NEWS_LIST_ALL_SCORE"!==this.$route.name;if(!(0,n.h2)())return!1;const t=(0,v.buildCookieName)({flowName:"all",isNews:!0});return!(0,n.ej)(t)||"/news/"===(0,n.ej)(t)},isShowCountNewPosts(){return!0},filterOptions(){return this.isPostsRoute?this.postsFilterOptions:this.isNewsRoute?this.newsFilterOptions:this.articlesFilterOptions},addExtraOptions(){return!this.isNewsRoute&&!this.isPostsRoute},filterExtraOptions(){return this.addExtraOptions?(0,h.r)(this.msg):[]},articlesFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"ARTICLES_LIST_ALL",params:{}},{label:"≥0",value:"ARTICLES_LIST_ALL_SCORE",params:{score:"0"}},{label:"≥10",value:"ARTICLES_LIST_ALL_SCORE",params:{score:"10"}},{label:"≥25",value:"ARTICLES_LIST_ALL_SCORE",params:{score:"25"}},{label:"≥50",value:"ARTICLES_LIST_ALL_SCORE",params:{score:"50"}},{label:"≥100",value:"ARTICLES_LIST_ALL_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"ARTICLES_LIST_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"ARTICLES_LIST_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"ARTICLES_LIST_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"ARTICLES_LIST_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"ARTICLES_LIST_TOP_PERIOD",params:{period:"alltime"}}]}]},newsFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"NEWS_LIST_ALL",params:{}},{label:"≥0",value:"NEWS_LIST_ALL_SCORE",params:{score:"0"}},{label:"≥10",value:"NEWS_LIST_ALL_SCORE",params:{score:"10"}},{label:"≥25",value:"NEWS_LIST_ALL_SCORE",params:{score:"25"}},{label:"≥50",value:"NEWS_LIST_ALL_SCORE",params:{score:"50"}},{label:"≥100",value:"NEWS_LIST_ALL_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"NEWS_LIST_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"NEWS_LIST_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"NEWS_LIST_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"NEWS_LIST_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"NEWS_LIST_TOP_PERIOD",params:{period:"alltime"}}]}]},postsFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"POSTS_ALL",params:{}},{label:"≥0",value:"POSTS_ALL_SCORE",params:{score:"0"}},{label:"≥10",value:"POSTS_ALL_SCORE",params:{score:"10"}},{label:"≥25",value:"POSTS_ALL_SCORE",params:{score:"25"}},{label:"≥50",value:"POSTS_ALL_SCORE",params:{score:"50"}},{label:"≥100",value:"POSTS_ALL_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"POSTS_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"POSTS_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"POSTS_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"POSTS_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"POSTS_TOP_PERIOD",params:{period:"alltime"}}]}]},showNavigationSearch(){return this.$route.meta.hasSearch},tabs(){const t="ru"!==this.$route.params.hl||this.isFlEnglish?[]:[{title:this.msg("NAV_COMPANIES"),route:{name:"COMPANIES"}}];return[{title:this.msg("NAV_ARTICLES"),route:{name:"ALL_FLOWS"},children:(0,S.nz)(this.articlesFilterOptions),countNew:this.isShowCountNewArticles?this.updates.countPosts:0},{title:this.msg("NAV_POSTS"),route:{name:"POSTS_ALL"},children:(0,S.nz)(this.postsFilterOptions),countNew:this.isShowCountNewPosts?this.updates.countThreads:0},{title:this.msg("NAV_NEWS"),route:{name:"NEWS_LIST_ALL"},children:(0,S.nz)(this.newsFilterOptions),countNew:this.isShowCountNewNews?this.updates.countNews:0},{title:this.msg("NAV_HUBS"),route:{name:"HUBS"}},{title:this.msg("NAV_AUTHORS"),route:{name:"USERS"}},...t]},isArticleFilterShown(){return!0===this.$route.meta.showFilter},needSaveHomePage(){return["ARTICLES_LIST","NEWS_LIST","POSTS"].some((t=>this.$route.name.startsWith(t)))&&!this.$route.name.endsWith("_PAGES")}},mounted(){this.saveHomePage(),Object.keys(this.updates).length||this.loadUpdates()},methods:{...(0,r.nv)("flows",["loadUpdates"]),saveHomePage(){this.needSaveHomePage&&(0,d.qV)(this.$route)},saveFlowFilter(t){(0,d.YL)({route:this.$router.resolve(t),flowName:"all",isNews:this.isNewsRoute,isPosts:this.isPostsRoute})}}},C=T;var A=e(1001),b=(0,A.Z)(C,a,i,!1,null,null,null);const L=b.exports},39440:(t,s,e)=>{e.r(s),e.d(s,{default:()=>p});var a=function(){var t=this,s=t._self._c;return t.isDesktop?s("TMLayoutSidebar",{attrs:{"show-adv":!0}},["ru"===t.$route.params.hl&&!t.isFlEnglish&&t.companiesTopRating&&t.companiesTopRating.length?s("TMCompaniesRatingBlock",{attrs:{companies:t.companiesTopRating}}):t._e(),t._v(" "),s("TMMostReadingBlock",{attrs:{"ga-type":"feed",layout:"sidebar"}})],1):t._e()},i=[],r=e(20629),n=e(82952),o=e(42102),l=e(41985);const _={components:{TMMostReadingBlock:l.Z,TMCompaniesRatingBlock:n.Z,TMLayoutSidebar:o.Z},asyncData({store:t}){const s=t.getters["global/isDesktop"];return s?Promise.all([t.dispatch("companies/loadTopCompanies")]):Promise.resolve(!0)},computed:{...(0,r.Se)("companies",["companiesTopRating"]),...(0,r.Se)("global",["isDesktop"]),...(0,r.Se)("i18n",["langOptions"]),isFlEnglish(){return"en"===this.langOptions.fl},isArticles(){return"ARTICLES_LIST_ALL"===this.$route.name}}},u=_;var c=e(1001),m=(0,c.Z)(u,a,i,!1,null,null,null);const p=m.exports},74101:(t,s,e)=>{e.r(s),e.d(s,{default:()=>T});var a=function(){var t=this,s=t._self._c;return t.isDesktop?s("TMLayoutSidebar",{attrs:{"show-adv":!1}},[t.statistics?s("TMBlock",{attrs:{title:t.msg("STATISTICS_BLOCK_TITLE")}},t._l(t.items,(function(e){return s("TMDescriptionList",{key:e.title,attrs:{title:e.title,variant:"columns-numbers"}},[s("span",{domProps:{textContent:t._s(e.value)}})])})),1):t._e(),t._v(" "),t.karmaStats&&t.karmaStats.length?s("TMKarmagraph",{attrs:{"karma-stats":t.karmaStats}}):t._e()],1):t._e()},i=[],r=e(20629),n=e(17907),o=e(6454),l=function(){var t=this,s=t._self._c;return s("TMBlock",{attrs:{title:t.msg("TITLE_BLOCK_KARMAGRAPH")}},[s("svg",{staticClass:"karmagraph",style:{height:t.graphHeight+28+"px"},attrs:{xmlns:"http://www.w3.org/2000/svg"}},[s("g",{staticClass:"karmagraph__grid karmagraph__grid_x",attrs:{id:"xGrid"}},t._l(t.stepsY,(function(e,a){return s("line",{key:`line-x-${e}`,attrs:{x1:"23",x2:"260",y1:t.stepYHeight*a+5,y2:t.stepYHeight*a+5}})})),0),t._v(" "),s("g",{staticClass:"karmagraph__labels karmagraph__labels_y"},t._l(t.stepsY,(function(e,a){return s("text",{key:`step${e}`,attrs:{x:"10",y:t.stepYHeight*a+10}},[t._v("\n        "+t._s(e)+"\n      ")])})),0),t._v(" "),s("g",{staticClass:"karmagraph__grid karmagraph__grid_y",attrs:{id:"yGrid"}},t._l(t.stepsX,(function(e,a){return s("line",{key:`line-y-${e}`,attrs:{x1:t.stepXWidth*a+t.xPadding,x2:t.stepXWidth*a+t.xPadding,y1:"5",y2:t.graphHeight+5}})})),0),t._v(" "),s("g",{staticClass:"karmagraph__labels karmagraph__labels_x"},t._l(t.stepsX,(function(e,a){return s("text",{key:`step${e}`,attrs:{x:t.stepXWidth*a+t.xPadding,y:t.graphHeight+20}},[t._v("\n        "+t._s(e)+"\n      ")])})),0),t._v(" "),s("g",{staticClass:"karmagraph__bars"},t._l(t.karmaStats,(function(e,a){return s("rect",{key:`bar-${e.d}-${e.count}`,class:`karmagraph__bars_${e.type}`,attrs:{height:t.getBarHeight(e),width:t.barWidth,x:t.barWidth*a+t.xPadding,y:"plus"===e.type?t.zeroPos-t.getBarHeight(e):t.zeroPos}})})),0)]),t._v(" "),s("div",{staticClass:"karmagraph__description",domProps:{innerHTML:t._s(t.msg("KARMAGRAPH_BLOCK_DESCRIPTION"))}})])},_=[];const u={components:{TMBlock:n.Z},props:{karmaStats:{type:Array,required:!0}},data(){return{height:268,width:255,periodsCountPerDay:24.5,xPadding:30}},computed:{maxValue(){let t=0;return this.karmaStats.forEach((s=>{s.count>t&&(t=s.count)})),t},minValue(){let t=0;return this.karmaStats.forEach((s=>{s.count<t&&(t=s.count)})),t},stepsCountY(){return Math.ceil((this.maxValue-this.minValue)/10)+2},stepYHeight(){return Math.ceil(this.height/this.stepsCountY)},stepXWidth(){return 2*this.barWidth*this.periodsCountPerDay},zeroPos(){return this.stepsY.findIndex((t=>0===t))*this.stepYHeight+5},stepsY(){let t=10*Math.ceil(this.maxValue/10);const s=[];for(let e=0;e<this.stepsCountY;e+=1)s.push(t),t-=10;return s},stepsX(){const t=[...new Set(this.karmaStats.map((t=>t.date)))];return t},barWidth(){return(this.width-this.xPadding)/this.karmaStats.length},graphHeight(){return this.stepYHeight*(this.stepsCountY-1)+5}},methods:{getBarHeight(t){const s=Math.abs(this.stepsY[0])+Math.abs(this.stepsY[this.stepsY.length-1]);return Math.abs(t.count)*this.graphHeight/s}}},c=u;var m=e(1001),p=(0,m.Z)(c,l,_,!1,null,null,null);const g=p.exports;var h=e(42102);const S={components:{TMDescriptionList:o.Z,TMBlock:n.Z,TMKarmagraph:g,TMLayoutSidebar:h.Z},asyncData({store:t}){const s=t.getters["global/isDesktop"];return s?Promise.all([t.dispatch("users/loadUsersStatistics"),t.dispatch("users/loadKarmaStats")]).catch((()=>Promise.resolve())):Promise.resolve(!0)},computed:{...(0,r.rn)("users",["statistics","karmaStats"]),...(0,r.Se)("global",["isDesktop"]),...(0,r.Se)("i18n",["langOptions"]),items(){const t=new Intl.NumberFormat(this.langOptions.hl),s=s=>t.format(s),{msg:e}=this,{total:a,male:i,female:r,other:n}=this.statistics;return[{title:e("STATISTICS_TOTAL"),value:s(a)},{title:e("STATISTICS_MALE"),value:s(i)},{title:e("STATISTICS_FEMALE"),value:s(r)},{title:e("STATISTICS_NOT_SPECIFIED"),value:s(n)}]}}},d=S;var v=(0,m.Z)(d,a,i,!1,null,null,null);const T=v.exports},67763:(t,s,e)=>{e.r(s),e.d(s,{default:()=>v});var a=function(){var t=this,s=t._self._c;return t.isDesktop?s("TMLayoutSidebar",{attrs:{"show-adv":!1}},[t.companiesCategories&&t.companiesCategories.length?s("TMCompaniesFilter",{attrs:{categories:t.companiesCategories,"total-count":t.companiesCategoriesTotalCount}}):t._e()],1):t._e()},i=[],r=e(20629),n=function(){var t=this,s=t._self._c;return s("TMBlock",{attrs:{title:t.msg("FILTERS")}},[s("div",{staticClass:"tm-companies-filter"},[s("router-link",{staticClass:"tm-companies-filter__item",attrs:{"exact-active-class":"tm-companies-filter__item_active",to:{name:"COMPANIES"}}},[s("span",{staticClass:"tm-companies-filter__label"},[t._v(t._s(t.msg("ALL")))]),t._v(" "),s("span",{staticClass:"tm-companies-filter__counter"},[t._v(t._s(t.totalCount))])]),t._v(" "),t._l(t.categories,(function(e){return s("router-link",{key:e.alias,staticClass:"tm-companies-filter__item",attrs:{"active-class":"tm-companies-filter__item_active",to:{name:"COMPANIES_CATEGORIES",params:{categoryAlias:e.alias}}}},[s("span",{staticClass:"tm-companies-filter__label"},[t._v(t._s(e.title))]),t._v(" "),s("span",{staticClass:"tm-companies-filter__counter"},[t._v(t._s(e.stats.companiesCount))])])}))],2)])},o=[],l=e(17907);const _={name:"TMCompaniesFilter",components:{TMBlock:l.Z},props:{categories:{type:Array,default:null},totalCount:{type:Number,default:0}}},u=_;var c=e(1001),m=(0,c.Z)(u,n,o,!1,null,null,null);const p=m.exports;var g=e(42102);const h={components:{TMLayoutSidebar:g.Z,TMCompaniesFilter:p},asyncData({store:t}){return t.dispatch("companies/loadCompaniesCategories").catch((t=>this.$toast.error(t.message)))},computed:{...(0,r.rn)("companies",["companiesCategories","companiesCategoriesTotalCount"]),...(0,r.Se)("global",["isDesktop"])}},S=h;var d=(0,c.Z)(S,a,i,!1,null,null,null);const v=d.exports}}]);
//# sourceMappingURL=page-flows.98b8d15a.js.map