(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-241338a2"],{"0c29":function(t,s,e){"use strict";e("7362")},"2f14":function(t,s,e){},"319a":function(t,s,e){"use strict";e("2f14")},"3a02":function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tm-user-menu",on:{click:t.handleMenuClicks}},[e("div",{staticClass:"tm-user-menu__header"},[t.isLoggedIn?e("TMUserItem",{attrs:{user:t.user}}):e("div",{staticClass:"tm-user-menu__auth-buttons"},[e("TMLoginLink",{staticClass:"tm-user-menu__auth-button"},[t._v("\n        "+t._s(t.msg("NAV_LOGIN"))+"\n      ")]),t._v(" "),e("a",{staticClass:"tm-user-menu__auth-button tm-user-menu__auth-button_primary",attrs:{href:t.registerUrl,rel:"nofollow"}},[t._v("\n        "+t._s(t.msg("NAV_REGISTER"))+"\n      ")])],1)],1),t._v(" "),t.isLoggedIn?e("TMUserCharge",{attrs:{charge:t.user.settings.chargeSettings,"karma-score":t.user.scoreStats&&t.user.scoreStats.score}}):t._e(),t._v(" "),t.isLoggedIn?e("div",{staticClass:"tm-user-menu__menu_top"},[e("router-link",{staticClass:"tm-user-menu__menu-link",attrs:{to:t.routes.blog}},[t._v("\n      "+t._s(t.msg("NAV_ARTICLES"))+"\n    ")]),t._v(" "),e("router-link",{staticClass:"tm-user-menu__menu-link",attrs:{to:t.routes.comments}},[t._v("\n      "+t._s(t.msg("NAV_COMMENTS"))+"\n    ")]),t._v(" "),e("router-link",{staticClass:"tm-user-menu__menu-link",attrs:{to:t.routes.conversations}},[t._v("\n      "+t._s(t.msg("NAV_CONVERSATIONS"))+"\n      "),t.unreadCount>0?e("span",{staticClass:"tm-user-menu__item-badge"},[t._v(t._s(t.unreadCount))]):t._e()]),t._v(" "),e("router-link",{staticClass:"tm-user-menu__menu-link",attrs:{to:t.routes.bookmarks}},[t._v("\n      "+t._s(t.msg("NAV_BOOKMARKS"))+"\n    ")]),t._v(" "),e("router-link",{staticClass:"tm-user-menu__menu-link",attrs:{to:t.ppaRoute}},[t._v("\n      "+t._s(t.msg("NAV_PPA"))+"\n    ")]),t._v(" "),e("router-link",{staticClass:"tm-user-menu__menu-link",attrs:{to:{name:"BETA_TEST"}}},[t._v("\n      "+t._s(t.msg("BETA_TESTING_TITLE"))+"\n    ")])],1):t._e(),t._v(" "),e("div",{class:t.isLoggedIn?"tm-user-menu__menu_bottom":"tm-user-menu__menu_top"},[e("router-link",{staticClass:"tm-user-menu__menu-link",attrs:{to:{name:"MOST_IMPORTANT_SANBOX_INFO"}}},[t._v("\n      "+t._s(t.msg("NAV_BECOME_AUTHOR"))+"\n    ")]),t._v(" "),e("router-link",{staticClass:"tm-user-menu__menu-link",attrs:{to:{name:"DOCS_ARTICLE",params:{alias:"help",articleAlias:"rules"}}}},[t._v("\n      "+t._s(t.msg("NAV_RULES"))+"\n    ")])],1),t._v(" "),t.isMobile&&t.companiesAdmin&&0!==t.companiesAdmin.length?e("div",{staticClass:"tm-user-menu__menu_bottom"},[e("TMCompaniesAdminList",{attrs:{companies:t.companiesAdmin}})],1):t._e(),t._v(" "),e("div",{staticClass:"tm-user-menu__menu_bottom"},[t.isLoggedIn?e("router-link",{staticClass:"tm-user-menu__menu-link tm-user-menu__menu-link_grey",attrs:{to:{name:"USER_SETTINGS_PROFILE"}}},[e("TMSvgImg",{staticClass:"tm-user-menu__item-icon tm-user-menu__item-icon_settings",attrs:{id:"settings",size:"24"}}),t._v(" "),e("span",{staticClass:"tm-user-menu__menu-link-text"},[t._v("\n        "+t._s(t.msg("SETTINGS_PROFILE"))+"\n      ")])],1):t._e(),t._v(" "),e("button",{staticClass:"tm-user-menu__menu-link tm-user-menu__menu-link_grey",on:{click:function(s){return t.$emit("openPageSettings")}}},[e("TMSvgImg",{staticClass:"tm-user-menu__item-icon",attrs:{id:"page-settings",size:"24"}}),t._v(" "),e("span",{staticClass:"tm-user-menu__menu-link-text"},[t._v("\n        "+t._s(t.msg("NAV_PAGE_SETTINGS"))+"\n      ")])],1),t._v(" "),t.isLoggedIn?e("a",{staticClass:"tm-user-menu__menu-link tm-user-menu__menu-link_grey",attrs:{href:t.logoutUrl,rel:"nofollow"}},[e("TMSvgImg",{staticClass:"tm-user-menu__item-icon tm-user-menu__item-icon_logout",attrs:{id:"logout"}}),t._v(" "),e("span",{staticClass:"tm-user-menu__menu-link-text"},[t._v("\n        "+t._s(t.msg("NAV_LOGOUT"))+"\n      ")])],1):t._e()],1)],1)},a=[],r=e("2f62"),u=e("564a"),m=e("1d55"),i=e("b7d0"),_=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tm-user-charge"},[t.hasNoChargeMessage?e("div",{staticClass:"tm-user-charge__message"},[e("span",{staticClass:"tm-user-charge__text"},[t._v("\n      "+t._s(t.msg(t.hasNoChargeMessage))+"\n    ")]),t._v(" "),"CHARGE_KARMA_NOT_ENOUGH"===t.hasNoChargeMessage?e("router-link",{staticClass:"tm-user-charge__charge-link",attrs:{to:t.karmaInfoRoute}},[t._v("\n      "+t._s(t.msg("CHARGE_KARMA_HOW_TO_INCREASE"))+"\n    ")]):t._e()],1):e("div",{staticClass:"tm-user-charge__message"},[e("span",{staticClass:"tm-user-charge__text",domProps:{innerHTML:t._s(t.chargeMessage)}})])])},o=[],l={name:"TMUserCharge",props:{karmaScore:{type:Number,default:null},charge:{type:Object,default:()=>{}}},computed:{...Object(r["c"])("i18n",["langOptions"]),karmaInfoRoute(){return{name:"DOCS",params:{alias:"help",articleAlias:"karma"}}},commentVoteCount(){return this.charge.commentVoteCount},postVoteCount(){return this.charge.postVoteCount},hasNoChargeMessage(){const{karmaScore:t}=this;if(t<=0)return"CHARGE_KARMA_NOT_ENOUGH";const s=this.commentVoteCount>0||this.postVoteCount>0;return s?null:"CHARGE_EMPTY_FOR_TODAY"},chargeMessage(){return this.chargeKarmaMessage+this.chargeCommentsMessage},chargeKarmaMessage(){return this.postVoteCount&&this.postVoteCount>0?this.msg("CHARGE_KARMA_VOTE_USERS_POSTS",{count:this.postVoteCount}):""},chargeCommentsMessage(){const t={count:this.commentVoteCount};return this.commentVoteCount?this.chargeKarmaMessage?this.msg("CHARGE_KARMA_VOTE_AND_COMMENTS",t):this.msg("CHARGE_KARMA_VOTE_COMMENTS",t):""}}},c=l,g=(e("c32a"),e("2877")),h=Object(g["a"])(c,_,o,!1,null,null,null),C=h.exports,p=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tm-user-item"},[e("router-link",{staticClass:"tm-user-item__userpic-link",attrs:{to:t.userRoute}},[e("TMEntityImage",{attrs:{alias:t.user.alias,image:t.user.avatarUrl,type:"user"}})],1),t._v(" "),e("div",{staticClass:"tm-user-item__info"},[t.user.fullname?e("div",{staticClass:"tm-user-item__name"},[t._v("\n      "+t._s(t.user.fullname)+"\n    ")]):t._e(),t._v(" "),e("router-link",{staticClass:"tm-user-item__username",attrs:{to:t.userRoute}},[t._v("\n      @"+t._s(t.user.alias)+"\n    ")])],1)],1)},v=[],A=e("2e8a"),T=e("d7b7"),k={name:"TMUserItem",components:{TMEntityImage:A["a"]},props:{user:T["a"]},computed:{userRoute(){return{name:"USER_PROFILE",params:{login:this.user.alias}}}}},E=k,M=(e("0c29"),Object(g["a"])(E,p,v,!1,null,null,null)),O=M.exports,d={name:"TMUserMenu",components:{TMLoginLink:m["a"],TMCompaniesAdminList:u["a"],TMSvgImg:i["a"],TMUserCharge:C,TMUserItem:O},computed:{...Object(r["e"])("me",["user"]),...Object(r["c"])("me",["isLoggedIn","ppaBalance","companiesAdmin"]),...Object(r["e"])("conversations",["unreadCount"]),...Object(r["c"])("i18n",["msg"]),...Object(r["c"])("global",["isMobile"]),routeParams(){return{login:this.user&&this.user.alias}},routes(){return{blog:{name:"ARTICLES_LIST_BY_USER",params:this.routeParams},comments:{name:"USER_COMMENTS",params:this.routeParams},conversations:{name:"CONVERSATIONS",params:this.routeParams},bookmarks:{name:"ARTICLES_LIST_BOOKMARKED",params:this.routeParams}}},ppaRoute(){return this.ppaBalance?{name:"PPA_BALANCE"}:{name:"PPA_ABOUT"}},logoutUrl(){const t=this.$route.path;return"https://habr.com/kek/v1/auth/logout2/?back="+t},registerUrl(){const t=this.$route.path;return`https://habr.com/kek/v1/auth/habrahabr-register/?back=${t}&hl=${this.langOptions.hl}`}},methods:{handleMenuClicks(t){t.target.closest("a")&&this.$emit("close")}}},S=d,R=(e("319a"),Object(g["a"])(S,n,a,!1,null,null,null));s["default"]=R.exports},7362:function(t,s,e){},c32a:function(t,s,e){"use strict";e("c701")},c701:function(t,s,e){}}]);
//# sourceMappingURL=chunk-241338a2.9c32373d.js.map